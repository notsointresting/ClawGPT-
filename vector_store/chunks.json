{
  "chunks": [
    "---\nsummary: \"Run the ACP bridge for IDE integrations\"\nread_when:\n  - Setting up ACP-based IDE integrations\n  - Debugging ACP session routing to the Gateway\ntitle: \"acp\"\n---\n\n# acp\n\nRun the ACP (Agent Client Protocol) bridge that talks to a OpenClaw Gateway.\n\nThis command speaks ACP over stdio for IDEs and forwards prompts to the Gateway\nover WebSocket. It keeps ACP sessions mapped to Gateway session keys.",
    "## Usage\n\n```bash\nopenclaw acp\n\n# Remote Gateway\nopenclaw acp --url wss://gateway-host:18789 --token <token>\n\n# Attach to an existing session key\nopenclaw acp --session agent:main:main\n\n# Attach by label (must already exist)\nopenclaw acp --session-label \"support inbox\"\n\n# Reset the session key before the first prompt\nopenclaw acp --session agent:main:main --reset-session\n```",
    "## ACP client (debug)\n\nUse the built-in ACP client to sanity-check the bridge without an IDE.\nIt spawns the ACP bridge and lets you type prompts interactively.\n\n```bash\nopenclaw acp client\n\n# Point the spawned bridge at a remote Gateway\nopenclaw acp client --server-args --url wss://gateway-host:18789 --token <token>\n\n# Override the server command (default: openclaw)\nopenclaw acp client --server \"node\" --server-args openclaw.mjs acp --url ws://127.0.0.1:19001\n```",
    "## How to use this\n\nUse ACP when an IDE (or other client) speaks Agent Client Protocol and you want\nit to drive a OpenClaw Gateway session.\n\n1. Ensure the Gateway is running (local or remote).\n2. Configure the Gateway target (config or flags).\n3. Point your IDE to run `openclaw acp` over stdio.\n\nExample config (persisted):\n\n```bash\nopenclaw config set gateway.remote.url wss://gateway-host:18789\nopenclaw config set gateway.remote.token <token>\n```\n\nExample direct run (no config write):\n\n```bash\nopenclaw acp --url wss://gateway-host:18789 --token <token>\n```",
    "## Selecting agents\n\nACP does not pick agents directly. It routes by the Gateway session key.\n\nUse agent-scoped session keys to target a specific agent:\n\n```bash\nopenclaw acp --session agent:main:main\nopenclaw acp --session agent:design:main\nopenclaw acp --session agent:qa:bug-123\n```\n\nEach ACP session maps to a single Gateway session key. One agent can have many\nsessions; ACP defaults to an isolated `acp:<uuid>` session unless you override\nthe key or label.",
    "## Zed editor setup\n\nAdd a custom ACP agent in `~/.config/zed/settings.json` (or use Zedâ€™s Settings UI):\n\n```json\n{\n  \"agent_servers\": {\n    \"OpenClaw ACP\": {\n      \"type\": \"custom\",\n      \"command\": \"openclaw\",\n      \"args\": [\"acp\"],\n      \"env\": {}\n    }\n  }\n}\n```\n\nTo target a specific Gateway or agent:\n\n```json\n{\n  \"agent_servers\": {\n    \"OpenClaw ACP\": {\n      \"type\": \"custom\",\n      \"command\": \"openclaw\",\n      \"args\": [\n        \"acp\",\n        \"--url\",\n        \"wss://gateway-host:18789\",\n        \"--token\",\n        \"<token>\",\n        \"--session\",\n        \"agent:design:main\"\n      ],\n      \"env\": {}\n    }\n  }\n}\n```\n\nIn Zed, open the Agent panel and select â€œOpenClaw ACPâ€ to start a thread.",
    "## Session mapping\n\nBy default, ACP sessions get an isolated Gateway session key with an `acp:` prefix.\nTo reuse a known session, pass a session key or label:\n\n- `--session <key>`: use a specific Gateway session key.\n- `--session-label <label>`: resolve an existing session by label.\n- `--reset-session`: mint a fresh session id for that key (same key, new transcript).\n\nIf your ACP client supports metadata, you can override per session:\n\n```json\n{\n  \"_meta\": {\n    \"sessionKey\": \"agent:main:main\",\n    \"sessionLabel\": \"support inbox\",\n    \"resetSession\": true\n  }\n}\n```\n\nLearn more about session keys at [/concepts/session](/concepts/session).",
    "## Options\n\n- `--url <url>`: Gateway WebSocket URL (defaults to gateway.remote.url when configured).\n- `--token <token>`: Gateway auth token.\n- `--password <password>`: Gateway auth password.\n- `--session <key>`: default session key.\n- `--session-label <label>`: default session label to resolve.\n- `--require-existing`: fail if the session key/label does not exist.\n- `--reset-session`: reset the session key before first use.\n- `--no-prefix-cwd`: do not prefix prompts with the working directory.\n- `--verbose, -v`: verbose logging to stderr.\n\n### `acp client` options\n\n- `--cwd <dir>`: working directory for the ACP session.\n- `--server <command>`: ACP server command (default: `openclaw`).\n- `--server-args <args...>`: extra arguments passed to the ACP server.\n- `--server-verbose`: enable verbose logging on the ACP server.\n- `--verbose, -v`: verbose client logging.",
    "---\nsummary: \"Agent loop lifecycle, streams, and wait semantics\"\nread_when:\n  - You need an exact walkthrough of the agent loop or lifecycle events\ntitle: \"Agent Loop\"\n---\n\n# Agent Loop (OpenClaw)\n\nAn agentic loop is the full â€œrealâ€ run of an agent: intake â†’ context assembly â†’ model inference â†’\ntool execution â†’ streaming replies â†’ persistence. Itâ€™s the authoritative path that turns a message\ninto actions and a final reply, while keeping session state consistent.\n\nIn OpenClaw, a loop is a single, serialized run per session that emits lifecycle and stream events\nas the model thinks, calls tools, and streams output. This doc explains how that authentic loop is\nwired end-to-end.",
    "## Entry points\n\n- Gateway RPC: `agent` and `agent.wait`.\n- CLI: `agent` command.",
    "## How it works (high-level)",
    "1. `agent` RPC validates params, resolves session (sessionKey/sessionId), persists session metadata, returns `{ runId, acceptedAt }` immediately.\n2. `agentCommand` runs the agent:\n   - resolves model + thinking/verbose defaults\n   - loads skills snapshot\n   - calls `runEmbeddedPiAgent` (pi-agent-core runtime)\n   - emits **lifecycle end/error** if the embedded loop does not emit one\n3. `runEmbeddedPiAgent`:\n   - serializes runs via per-session + global queues\n   - resolves model + auth profile and builds the pi session\n   - subscribes to pi events and streams assistant/tool deltas\n   - enforces timeout -> aborts run if exceeded\n   - returns payloads + usage metadata\n4. `subscribeEmbeddedPiSession` bridges pi-agent-core events to OpenClaw `agent` stream:\n   - tool events => `stream: \"tool\"`\n   - assistant deltas => `stream: \"assistant\"`\n   - lifecycle events => `stream: \"lifecycle\"` (`phase: \"start\" | \"end\" | \"error\"`)\n5. `agent.wait` uses `waitForAgentJob`:\n   - waits for **lifecycle end/error** for `runId`\n   - returns `{ status: ok|error|timeout, startedAt, endedAt, error? }`",
    "## Queueing + concurrency\n\n- Runs are serialized per session key (session lane) and optionally through a global lane.\n- This prevents tool/session races and keeps session history consistent.\n- Messaging channels can choose queue modes (collect/steer/followup) that feed this lane system.\n  See [Command Queue](/concepts/queue).",
    "## Session + workspace preparation\n\n- Workspace is resolved and created; sandboxed runs may redirect to a sandbox workspace root.\n- Skills are loaded (or reused from a snapshot) and injected into env and prompt.\n- Bootstrap/context files are resolved and injected into the system prompt report.\n- A session write lock is acquired; `SessionManager` is opened and prepared before streaming.",
    "## Prompt assembly + system prompt\n\n- System prompt is built from OpenClawâ€™s base prompt, skills prompt, bootstrap context, and per-run overrides.\n- Model-specific limits and compaction reserve tokens are enforced.\n- See [System prompt](/concepts/system-prompt) for what the model sees.",
    "## Hook points (where you can intercept)\n\nOpenClaw has two hook systems:\n\n- **Internal hooks** (Gateway hooks): event-driven scripts for commands and lifecycle events.\n- **Plugin hooks**: extension points inside the agent/tool lifecycle and gateway pipeline.\n\n### Internal hooks (Gateway hooks)\n\n- **`agent:bootstrap`**: runs while building bootstrap files before the system prompt is finalized.\n  Use this to add/remove bootstrap context files.\n- **Command hooks**: `/new`, `/reset`, `/stop`, and other command events (see Hooks doc).\n\nSee [Hooks](/hooks) for setup and examples.\n\n### Plugin hooks (agent + gateway lifecycle)\n\nThese run inside the agent loop or gateway pipeline:",
    "- **`before_agent_start`**: inject context or override system prompt before the run starts.\n- **`agent_end`**: inspect the final message list and run metadata after completion.\n- **`before_compaction` / `after_compaction`**: observe or annotate compaction cycles.\n- **`before_tool_call` / `after_tool_call`**: intercept tool params/results.\n- **`tool_result_persist`**: synchronously transform tool results before they are written to the session transcript.\n- **`message_received` / `message_sending` / `message_sent`**: inbound + outbound message hooks.\n- **`session_start` / `session_end`**: session lifecycle boundaries.\n- **`gateway_start` / `gateway_stop`**: gateway lifecycle events.\n\nSee [Plugins](/plugin#plugin-hooks) for the hook API and registration details.",
    "## Streaming + partial replies\n\n- Assistant deltas are streamed from pi-agent-core and emitted as `assistant` events.\n- Block streaming can emit partial replies either on `text_end` or `message_end`.\n- Reasoning streaming can be emitted as a separate stream or as block replies.\n- See [Streaming](/concepts/streaming) for chunking and block reply behavior.",
    "## Tool execution + messaging tools\n\n- Tool start/update/end events are emitted on the `tool` stream.\n- Tool results are sanitized for size and image payloads before logging/emitting.\n- Messaging tool sends are tracked to suppress duplicate assistant confirmations.",
    "## Reply shaping + suppression\n\n- Final payloads are assembled from:\n  - assistant text (and optional reasoning)\n  - inline tool summaries (when verbose + allowed)\n  - assistant error text when the model errors\n- `NO_REPLY` is treated as a silent token and filtered from outgoing payloads.\n- Messaging tool duplicates are removed from the final payload list.\n- If no renderable payloads remain and a tool errored, a fallback tool error reply is emitted\n  (unless a messaging tool already sent a user-visible reply).",
    "## Compaction + retries\n\n- Auto-compaction emits `compaction` stream events and can trigger a retry.\n- On retry, in-memory buffers and tool summaries are reset to avoid duplicate output.\n- See [Compaction](/concepts/compaction) for the compaction pipeline.",
    "## Event streams (today)\n\n- `lifecycle`: emitted by `subscribeEmbeddedPiSession` (and as a fallback by `agentCommand`)\n- `assistant`: streamed deltas from pi-agent-core\n- `tool`: streamed tool events from pi-agent-core",
    "## Chat channel handling\n\n- Assistant deltas are buffered into chat `delta` messages.\n- A chat `final` is emitted on **lifecycle end/error**.",
    "## Timeouts\n\n- `agent.wait` default: 30s (just the wait). `timeoutMs` param overrides.\n- Agent runtime: `agents.defaults.timeoutSeconds` default 600s; enforced in `runEmbeddedPiAgent` abort timer.",
    "## Where things can end early\n\n- Agent timeout (abort)\n- AbortSignal (cancel)\n- Gateway disconnect or RPC timeout\n- `agent.wait` timeout (wait-only, does not stop agent)",
    "---\nsummary: \"Direct `openclaw agent` CLI runs (with optional delivery)\"\nread_when:\n  - Adding or modifying the agent CLI entrypoint\ntitle: \"Agent Send\"\n---\n\n# `openclaw agent` (direct agent runs)\n\n`openclaw agent` runs a single agent turn without needing an inbound chat message.\nBy default it goes **through the Gateway**; add `--local` to force the embedded\nruntime on the current machine.",
    "## Behavior\n\n- Required: `--message <text>`\n- Session selection:\n  - `--to <dest>` derives the session key (group/channel targets preserve isolation; direct chats collapse to `main`), **or**\n  - `--session-id <id>` reuses an existing session by id, **or**\n  - `--agent <id>` targets a configured agent directly (uses that agent's `main` session key)\n- Runs the same embedded agent runtime as normal inbound replies.\n- Thinking/verbose flags persist into the session store.\n- Output:\n  - default: prints reply text (plus `MEDIA:<url>` lines)\n  - `--json`: prints structured payload + metadata\n- Optional delivery back to a channel with `--deliver` + `--channel` (target formats match `openclaw message --target`).\n- Use `--reply-channel`/`--reply-to`/`--reply-account` to override delivery without changing the session.\n\nIf the Gateway is unreachable, the CLI **falls back** to the embedded local run.",
    "## Examples\n\n```bash\nopenclaw agent --to +15555550123 --message \"status update\"\nopenclaw agent --agent ops --message \"Summarize logs\"\nopenclaw agent --session-id 1234 --message \"Summarize inbox\" --thinking medium\nopenclaw agent --to +15555550123 --message \"Trace logs\" --verbose on --json\nopenclaw agent --to +15555550123 --message \"Summon reply\" --deliver\nopenclaw agent --agent ops --message \"Generate report\" --deliver --reply-channel slack --reply-to \"#reports\"\n```",
    "## Flags\n\n- `--local`: run locally (requires model provider API keys in your shell)\n- `--deliver`: send the reply to the chosen channel\n- `--channel`: delivery channel (`whatsapp|telegram|discord|googlechat|slack|signal|imessage`, default: `whatsapp`)\n- `--reply-to`: delivery target override\n- `--reply-channel`: delivery channel override\n- `--reply-account`: delivery account id override\n- `--thinking <off|minimal|low|medium|high|xhigh>`: persist thinking level (GPT-5.2 + Codex models only)\n- `--verbose <on|full|off>`: persist verbose level\n- `--timeout <seconds>`: override agent timeout\n- `--json`: output structured JSON",
    "---\nread_when:\n  - ä½ æƒ³åœ¨æ’ä»¶ä¸­æ·»åŠ æ–°çš„æ™ºèƒ½ä½“å·¥å…·\n  - ä½ éœ€è¦é€šè¿‡å…è®¸åˆ—è¡¨ä½¿å·¥å…·å¯é€‰å¯ç”¨\nsummary: åœ¨æ’ä»¶ä¸­ç¼–å†™æ™ºèƒ½ä½“å·¥å…·ï¼ˆæ¨¡å¼ã€å¯é€‰å·¥å…·ã€å…è®¸åˆ—è¡¨ï¼‰\ntitle: æ’ä»¶æ™ºèƒ½ä½“å·¥å…·\nx-i18n:\n  generated_at: \"2026-02-03T07:53:22Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 4479462e9d8b17b664bf6b5f424f2efc8e7bedeaabfdb6a93126e051e635c659\n  source_path: plugins/agent-tools.md\n  workflow: 15\n---\n\n# æ’ä»¶æ™ºèƒ½ä½“å·¥å…·\n\nOpenClaw æ’ä»¶å¯ä»¥æ³¨å†Œ**æ™ºèƒ½ä½“å·¥å…·**ï¼ˆJSON æ¨¡å¼å‡½æ•°ï¼‰ï¼Œè¿™äº›å·¥å…·åœ¨æ™ºèƒ½ä½“è¿è¡ŒæœŸé—´æš´éœ²ç»™ LLMã€‚å·¥å…·å¯ä»¥æ˜¯**å¿…éœ€çš„**ï¼ˆå§‹ç»ˆå¯ç”¨ï¼‰æˆ–**å¯é€‰çš„**ï¼ˆé€‰æ‹©å¯ç”¨ï¼‰ã€‚\n\næ™ºèƒ½ä½“å·¥å…·åœ¨ä¸»é…ç½®çš„ `tools` ä¸‹é…ç½®ï¼Œæˆ–åœ¨æ¯ä¸ªæ™ºèƒ½ä½“çš„ `agents.list[].tools` ä¸‹é…ç½®ã€‚å…è®¸åˆ—è¡¨/æ‹’ç»åˆ—è¡¨ç­–ç•¥æ§åˆ¶æ™ºèƒ½ä½“å¯ä»¥è°ƒç”¨å“ªäº›å·¥å…·ã€‚",
    "## åŸºæœ¬å·¥å…·\n\n```ts\nimport { Type } from \"@sinclair/typebox\";\n\nexport default function (api) {\n  api.registerTool({\n    name: \"my_tool\",\n    description: \"Do a thing\",\n    parameters: Type.Object({\n      input: Type.String(),\n    }),\n    async execute(_id, params) {\n      return { content: [{ type: \"text\", text: params.input }] };\n    },\n  });\n}\n```",
    "## å¯é€‰å·¥å…·ï¼ˆé€‰æ‹©å¯ç”¨ï¼‰\n\nå¯é€‰å·¥å…·**æ°¸è¿œä¸ä¼š**è‡ªåŠ¨å¯ç”¨ã€‚ç”¨æˆ·å¿…é¡»å°†å®ƒä»¬æ·»åŠ åˆ°æ™ºèƒ½ä½“å…è®¸åˆ—è¡¨ä¸­ã€‚\n\n```ts\nexport default function (api) {\n  api.registerTool(\n    {\n      name: \"workflow_tool\",\n      description: \"Run a local workflow\",\n      parameters: {\n        type: \"object\",\n        properties: {\n          pipeline: { type: \"string\" },\n        },\n        required: [\"pipeline\"],\n      },\n      async execute(_id, params) {\n        return { content: [{ type: \"text\", text: params.pipeline }] };\n      },\n    },\n    { optional: true },\n  );\n}\n```\n\nåœ¨ `agents.list[].tools.allow`ï¼ˆæˆ–å…¨å±€ `tools.allow`ï¼‰ä¸­å¯ç”¨å¯é€‰å·¥å…·ï¼š\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        tools: {\n          allow: [\n            \"workflow_tool\", // ç‰¹å®šå·¥å…·åç§°\n            \"workflow\", // æ’ä»¶ idï¼ˆå¯ç”¨è¯¥æ’ä»¶çš„æ‰€æœ‰å·¥å…·ï¼‰\n            \"group:plugins\", // æ‰€æœ‰æ’ä»¶å·¥å…·\n          ],\n        },\n      },\n    ],\n  },\n}\n```\n\nå…¶ä»–å½±å“å·¥å…·å¯ç”¨æ€§çš„é…ç½®é€‰é¡¹ï¼š",
    "- ä»…åŒ…å«æ’ä»¶å·¥å…·åç§°çš„å…è®¸åˆ—è¡¨è¢«è§†ä¸ºæ’ä»¶é€‰æ‹©å¯ç”¨ï¼›æ ¸å¿ƒå·¥å…·ä¿æŒå¯ç”¨ï¼Œé™¤éä½ åœ¨å…è®¸åˆ—è¡¨ä¸­ä¹ŸåŒ…å«æ ¸å¿ƒå·¥å…·æˆ–ç»„ã€‚\n- `tools.profile` / `agents.list[].tools.profile`ï¼ˆåŸºç¡€å…è®¸åˆ—è¡¨ï¼‰\n- `tools.byProvider` / `agents.list[].tools.byProvider`ï¼ˆç‰¹å®šæä¾›å•†çš„å…è®¸/æ‹’ç»ï¼‰\n- `tools.sandbox.tools.*`ï¼ˆæ²™ç®±éš”ç¦»æ—¶çš„æ²™ç®±å·¥å…·ç­–ç•¥ï¼‰",
    "## è§„åˆ™ + æç¤º\n\n- å·¥å…·åç§°**ä¸èƒ½**ä¸æ ¸å¿ƒå·¥å…·åç§°å†²çªï¼›å†²çªçš„å·¥å…·ä¼šè¢«è·³è¿‡ã€‚\n- å…è®¸åˆ—è¡¨ä¸­ä½¿ç”¨çš„æ’ä»¶ id ä¸èƒ½ä¸æ ¸å¿ƒå·¥å…·åç§°å†²çªã€‚\n- å¯¹äºè§¦å‘å‰¯ä½œç”¨æˆ–éœ€è¦é¢å¤–äºŒè¿›åˆ¶æ–‡ä»¶/å‡­è¯çš„å·¥å…·ï¼Œä¼˜å…ˆä½¿ç”¨ `optional: true`ã€‚",
    "---\nsummary: \"Agent workspace: location, layout, and backup strategy\"\nread_when:\n  - You need to explain the agent workspace or its file layout\n  - You want to back up or migrate an agent workspace\ntitle: \"Agent Workspace\"\n---\n\n# Agent workspace\n\nThe workspace is the agent's home. It is the only working directory used for\nfile tools and for workspace context. Keep it private and treat it as memory.\n\nThis is separate from `~/.openclaw/`, which stores config, credentials, and\nsessions.\n\n**Important:** the workspace is the **default cwd**, not a hard sandbox. Tools\nresolve relative paths against the workspace, but absolute paths can still reach\nelsewhere on the host unless sandboxing is enabled. If you need isolation, use\n[`agents.defaults.sandbox`](/gateway/sandboxing) (and/or perâ€‘agent sandbox config).\nWhen sandboxing is enabled and `workspaceAccess` is not `\"rw\"`, tools operate\ninside a sandbox workspace under `~/.openclaw/sandboxes`, not your host workspace.",
    "## Default location\n\n- Default: `~/.openclaw/workspace`\n- If `OPENCLAW_PROFILE` is set and not `\"default\"`, the default becomes\n  `~/.openclaw/workspace-<profile>`.\n- Override in `~/.openclaw/openclaw.json`:\n\n```json5\n{\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n  },\n}\n```\n\n`openclaw onboard`, `openclaw configure`, or `openclaw setup` will create the\nworkspace and seed the bootstrap files if they are missing.\n\nIf you already manage the workspace files yourself, you can disable bootstrap\nfile creation:\n\n```json5\n{ agent: { skipBootstrap: true } }\n```",
    "## Extra workspace folders\n\nOlder installs may have created `~/openclaw`. Keeping multiple workspace\ndirectories around can cause confusing auth or state drift, because only one\nworkspace is active at a time.\n\n**Recommendation:** keep a single active workspace. If you no longer use the\nextra folders, archive or move them to Trash (for example `trash ~/openclaw`).\nIf you intentionally keep multiple workspaces, make sure\n`agents.defaults.workspace` points to the active one.\n\n`openclaw doctor` warns when it detects extra workspace directories.",
    "## Workspace file map (what each file means)\n\nThese are the standard files OpenClaw expects inside the workspace:\n\n- `AGENTS.md`\n  - Operating instructions for the agent and how it should use memory.\n  - Loaded at the start of every session.\n  - Good place for rules, priorities, and \"how to behave\" details.\n\n- `SOUL.md`\n  - Persona, tone, and boundaries.\n  - Loaded every session.\n\n- `USER.md`\n  - Who the user is and how to address them.\n  - Loaded every session.\n\n- `IDENTITY.md`\n  - The agent's name, vibe, and emoji.\n  - Created/updated during the bootstrap ritual.\n\n- `TOOLS.md`\n  - Notes about your local tools and conventions.\n  - Does not control tool availability; it is only guidance.\n\n- `HEARTBEAT.md`\n  - Optional tiny checklist for heartbeat runs.\n  - Keep it short to avoid token burn.\n\n- `BOOT.md`\n  - Optional startup checklist executed on gateway restart when internal hooks are enabled.\n  - Keep it short; use the message tool for outbound sends.",
    "- `BOOTSTRAP.md`\n  - One-time first-run ritual.\n  - Only created for a brand-new workspace.\n  - Delete it after the ritual is complete.\n\n- `memory/YYYY-MM-DD.md`\n  - Daily memory log (one file per day).\n  - Recommended to read today + yesterday on session start.\n\n- `MEMORY.md` (optional)\n  - Curated long-term memory.\n  - Only load in the main, private session (not shared/group contexts).\n\nSee [Memory](/concepts/memory) for the workflow and automatic memory flush.\n\n- `skills/` (optional)\n  - Workspace-specific skills.\n  - Overrides managed/bundled skills when names collide.\n\n- `canvas/` (optional)\n  - Canvas UI files for node displays (for example `canvas/index.html`).\n\nIf any bootstrap file is missing, OpenClaw injects a \"missing file\" marker into\nthe session and continues. Large bootstrap files are truncated when injected;\nadjust the limit with `agents.defaults.bootstrapMaxChars` (default: 20000).\n`openclaw setup` can recreate missing defaults without overwriting existing\nfiles.",
    "## What is NOT in the workspace\n\nThese live under `~/.openclaw/` and should NOT be committed to the workspace repo:\n\n- `~/.openclaw/openclaw.json` (config)\n- `~/.openclaw/credentials/` (OAuth tokens, API keys)\n- `~/.openclaw/agents/<agentId>/sessions/` (session transcripts + metadata)\n- `~/.openclaw/skills/` (managed skills)\n\nIf you need to migrate sessions or config, copy them separately and keep them\nout of version control.",
    "## Git backup (recommended, private)\n\nTreat the workspace as private memory. Put it in a **private** git repo so it is\nbacked up and recoverable.\n\nRun these steps on the machine where the Gateway runs (that is where the\nworkspace lives).\n\n### 1) Initialize the repo\n\nIf git is installed, brand-new workspaces are initialized automatically. If this\nworkspace is not already a repo, run:\n\n```bash\ncd ~/.openclaw/workspace\ngit init\ngit add AGENTS.md SOUL.md TOOLS.md IDENTITY.md USER.md HEARTBEAT.md memory/\ngit commit -m \"Add agent workspace\"\n```\n\n### 2) Add a private remote (beginner-friendly options)\n\nOption A: GitHub web UI\n\n1. Create a new **private** repository on GitHub.\n2. Do not initialize with a README (avoids merge conflicts).\n3. Copy the HTTPS remote URL.\n4. Add the remote and push:\n\n```bash\ngit branch -M main\ngit remote add origin <https-url>\ngit push -u origin main\n```\n\nOption B: GitHub CLI (`gh`)",
    "```bash\ngh auth login\ngh repo create openclaw-workspace --private --source . --remote origin --push\n```\n\nOption C: GitLab web UI\n\n1. Create a new **private** repository on GitLab.\n2. Do not initialize with a README (avoids merge conflicts).\n3. Copy the HTTPS remote URL.\n4. Add the remote and push:\n\n```bash\ngit branch -M main\ngit remote add origin <https-url>\ngit push -u origin main\n```\n\n### 3) Ongoing updates\n\n```bash\ngit status\ngit add .\ngit commit -m \"Update memory\"\ngit push\n```",
    "## Do not commit secrets\n\nEven in a private repo, avoid storing secrets in the workspace:\n\n- API keys, OAuth tokens, passwords, or private credentials.\n- Anything under `~/.openclaw/`.\n- Raw dumps of chats or sensitive attachments.\n\nIf you must store sensitive references, use placeholders and keep the real\nsecret elsewhere (password manager, environment variables, or `~/.openclaw/`).\n\nSuggested `.gitignore` starter:\n\n```gitignore\n.DS_Store\n.env\n**/*.key\n**/*.pem\n**/secrets*\n```",
    "## Moving the workspace to a new machine\n\n1. Clone the repo to the desired path (default `~/.openclaw/workspace`).\n2. Set `agents.defaults.workspace` to that path in `~/.openclaw/openclaw.json`.\n3. Run `openclaw setup --workspace <path>` to seed any missing files.\n4. If you need sessions, copy `~/.openclaw/agents/<agentId>/sessions/` from the\n   old machine separately.",
    "## Advanced notes\n\n- Multi-agent routing can use different workspaces per agent. See\n  [Channel routing](/concepts/channel-routing) for routing configuration.\n- If `agents.defaults.sandbox` is enabled, non-main sessions can use per-session sandbox\n  workspaces under `agents.defaults.sandbox.workspaceRoot`.",
    "---\nsummary: \"CLI reference for `openclaw agent` (send one agent turn via the Gateway)\"\nread_when:\n  - You want to run one agent turn from scripts (optionally deliver reply)\ntitle: \"agent\"\n---\n\n# `openclaw agent`\n\nRun an agent turn via the Gateway (use `--local` for embedded).\nUse `--agent <id>` to target a configured agent directly.\n\nRelated:\n\n- Agent send tool: [Agent send](/tools/agent-send)",
    "## Examples\n\n```bash\nopenclaw agent --to +15555550123 --message \"status update\" --deliver\nopenclaw agent --agent ops --message \"Summarize logs\"\nopenclaw agent --session-id 1234 --message \"Summarize inbox\" --thinking medium\nopenclaw agent --agent ops --message \"Generate report\" --deliver --reply-channel slack --reply-to \"#reports\"\n```",
    "---\nread_when:\n  - å¯åŠ¨æ–°çš„ OpenClaw æ™ºèƒ½ä½“ä¼šè¯\n  - å¯ç”¨æˆ–å®¡è®¡é»˜è®¤ Skills\nsummary: ä¸ªäººåŠ©æ‰‹è®¾ç½®çš„é»˜è®¤ OpenClaw æ™ºèƒ½ä½“æŒ‡ä»¤å’Œ Skills åˆ—è¡¨\nx-i18n:\n  generated_at: \"2026-02-03T10:09:19Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 20ec2b8d8fc03c16bbf0a75f011092e86382ca4182e8c0a4bc5f8ffd2be9c647\n  source_path: reference/AGENTS.default.md\n  workflow: 15\n---\n\n# AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰",
    "## é¦–æ¬¡è¿è¡Œï¼ˆæ¨èï¼‰\n\nOpenClaw ä¸ºæ™ºèƒ½ä½“ä½¿ç”¨ä¸“ç”¨çš„å·¥ä½œåŒºç›®å½•ã€‚é»˜è®¤ï¼š`~/.openclaw/workspace`ï¼ˆå¯é€šè¿‡ `agents.defaults.workspace` é…ç½®ï¼‰ã€‚\n\n1. åˆ›å»ºå·¥ä½œåŒºï¼ˆå¦‚æœå°šä¸å­˜åœ¨ï¼‰ï¼š\n\n```bash\nmkdir -p ~/.openclaw/workspace\n```\n\n2. å°†é»˜è®¤å·¥ä½œåŒºæ¨¡æ¿å¤åˆ¶åˆ°å·¥ä½œåŒºï¼š\n\n```bash\ncp docs/reference/templates/AGENTS.md ~/.openclaw/workspace/AGENTS.md\ncp docs/reference/templates/SOUL.md ~/.openclaw/workspace/SOUL.md\ncp docs/reference/templates/TOOLS.md ~/.openclaw/workspace/TOOLS.md\n```\n\n3. å¯é€‰ï¼šå¦‚æœä½ æƒ³è¦ä¸ªäººåŠ©æ‰‹ Skills åˆ—è¡¨ï¼Œç”¨æ­¤æ–‡ä»¶æ›¿æ¢ AGENTS.mdï¼š\n\n```bash\ncp docs/reference/AGENTS.default.md ~/.openclaw/workspace/AGENTS.md\n```\n\n4. å¯é€‰ï¼šé€šè¿‡è®¾ç½® `agents.defaults.workspace` é€‰æ‹©ä¸åŒçš„å·¥ä½œåŒºï¼ˆæ”¯æŒ `~`ï¼‰ï¼š\n\n```json5\n{\n  agents: { defaults: { workspace: \"~/.openclaw/workspace\" } },\n}\n```",
    "## å®‰å…¨é»˜è®¤å€¼\n\n- ä¸è¦å°†ç›®å½•æˆ–å¯†é’¥è½¬å‚¨åˆ°èŠå¤©ä¸­ã€‚\n- é™¤éæ˜ç¡®è¦æ±‚ï¼Œå¦åˆ™ä¸è¦è¿è¡Œç ´åæ€§å‘½ä»¤ã€‚\n- ä¸è¦å‘å¤–éƒ¨æ¶ˆæ¯ç•Œé¢å‘é€éƒ¨åˆ†/æµå¼å›å¤ï¼ˆä»…å‘é€æœ€ç»ˆå›å¤ï¼‰ã€‚",
    "## ä¼šè¯å¼€å§‹ï¼ˆå¿…éœ€ï¼‰\n\n- è¯»å– `SOUL.md`ã€`USER.md`ã€`memory.md`ï¼Œä»¥åŠ `memory/` ä¸­çš„ä»Šå¤©å’Œæ˜¨å¤©çš„æ–‡ä»¶ã€‚\n- åœ¨å›å¤ä¹‹å‰å®Œæˆæ­¤æ“ä½œã€‚",
    "## Soulï¼ˆå¿…éœ€ï¼‰\n\n- `SOUL.md` å®šä¹‰èº«ä»½ã€è¯­æ°”å’Œè¾¹ç•Œã€‚ä¿æŒå…¶æ›´æ–°ã€‚\n- å¦‚æœä½ æ›´æ”¹äº† `SOUL.md`ï¼Œå‘ŠçŸ¥ç”¨æˆ·ã€‚\n- ä½ æ˜¯æ¯ä¸ªä¼šè¯çš„æ–°å®ä¾‹ï¼›è¿ç»­æ€§å­˜åœ¨äºè¿™äº›æ–‡ä»¶ä¸­ã€‚",
    "## å…±äº«ç©ºé—´ï¼ˆæ¨èï¼‰\n\n- ä½ ä¸æ˜¯ç”¨æˆ·çš„ä»£è¨€äººï¼›åœ¨ç¾¤èŠæˆ–å…¬å…±é¢‘é“ä¸­è¦å°å¿ƒã€‚\n- ä¸è¦åˆ†äº«ç§äººæ•°æ®ã€è”ç³»ä¿¡æ¯æˆ–å†…éƒ¨ç¬”è®°ã€‚",
    "## è®°å¿†ç³»ç»Ÿï¼ˆæ¨èï¼‰\n\n- æ¯æ—¥æ—¥å¿—ï¼š`memory/YYYY-MM-DD.md`ï¼ˆå¦‚éœ€è¦è¯·åˆ›å»º `memory/`ï¼‰ã€‚\n- é•¿æœŸè®°å¿†ï¼š`memory.md` ç”¨äºæŒä¹…çš„äº‹å®ã€åå¥½å’Œå†³å®šã€‚\n- ä¼šè¯å¼€å§‹æ—¶ï¼Œè¯»å–ä»Šå¤© + æ˜¨å¤© + `memory.md`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚\n- æ•è·ï¼šå†³å®šã€åå¥½ã€çº¦æŸã€å¾…åŠäº‹é¡¹ã€‚\n- é™¤éæ˜ç¡®è¦æ±‚ï¼Œå¦åˆ™é¿å…å­˜å‚¨å¯†é’¥ã€‚",
    "## å·¥å…·å’Œ Skills\n\n- å·¥å…·å­˜åœ¨äº Skills ä¸­ï¼›éœ€è¦æ—¶éµå¾ªæ¯ä¸ª Skill çš„ `SKILL.md`ã€‚\n- åœ¨ `TOOLS.md` ä¸­ä¿å­˜ç¯å¢ƒç‰¹å®šçš„ç¬”è®°ï¼ˆSkills æ³¨æ„äº‹é¡¹ï¼‰ã€‚",
    "## å¤‡ä»½æç¤ºï¼ˆæ¨èï¼‰\n\nå¦‚æœä½ å°†æ­¤å·¥ä½œåŒºè§†ä¸º Clawd çš„\"è®°å¿†\"ï¼Œè¯·å°†å…¶è®¾ä¸º git ä»“åº“ï¼ˆæœ€å¥½æ˜¯ç§æœ‰çš„ï¼‰ï¼Œè¿™æ · `AGENTS.md` å’Œä½ çš„è®°å¿†æ–‡ä»¶å°±ä¼šè¢«å¤‡ä»½ã€‚\n\n```bash\ncd ~/.openclaw/workspace\ngit init\ngit add AGENTS.md\ngit commit -m \"Add Clawd workspace\"\n# å¯é€‰ï¼šæ·»åŠ ç§æœ‰è¿œç¨‹ä»“åº“ + push\n```",
    "## OpenClaw çš„åŠŸèƒ½\n\n- è¿è¡Œ WhatsApp Gateway ç½‘å…³ + Pi ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œä½¿åŠ©æ‰‹å¯ä»¥è¯»å†™èŠå¤©ã€è·å–ä¸Šä¸‹æ–‡ï¼Œå¹¶é€šè¿‡ä¸»æœº Mac è¿è¡Œ Skillsã€‚\n- macOS åº”ç”¨ç®¡ç†æƒé™ï¼ˆå±å¹•å½•åˆ¶ã€é€šçŸ¥ã€éº¦å…‹é£ï¼‰å¹¶é€šè¿‡å…¶å†…ç½®äºŒè¿›åˆ¶æ–‡ä»¶æš´éœ² `openclaw` CLIã€‚\n- ç§èŠé»˜è®¤æŠ˜å åˆ°æ™ºèƒ½ä½“çš„ `main` ä¼šè¯ï¼›ç¾¤ç»„ä¿æŒéš”ç¦»ä¸º `agent:<agentId>:<channel>:group:<id>`ï¼ˆæˆ¿é—´/é¢‘é“ï¼š`agent:<agentId>:<channel>:channel:<id>`ï¼‰ï¼›å¿ƒè·³ä¿æŒåå°ä»»åŠ¡å­˜æ´»ã€‚",
    "## æ ¸å¿ƒ Skillsï¼ˆåœ¨è®¾ç½® â†’ Skills ä¸­å¯ç”¨ï¼‰\n\n- **mcporter** â€” ç”¨äºç®¡ç†å¤–éƒ¨ Skill åç«¯çš„å·¥å…·æœåŠ¡å™¨è¿è¡Œæ—¶/CLIã€‚\n- **Peekaboo** â€” å¿«é€Ÿ macOS æˆªå›¾ï¼Œå¯é€‰ AI è§†è§‰åˆ†æã€‚\n- **camsnap** â€” ä» RTSP/ONVIF å®‰é˜²æ‘„åƒå¤´æ•è·å¸§ã€ç‰‡æ®µæˆ–è¿åŠ¨è­¦æŠ¥ã€‚\n- **oracle** â€” æ”¯æŒ OpenAI çš„æ™ºèƒ½ä½“ CLIï¼Œå…·æœ‰ä¼šè¯å›æ”¾å’Œæµè§ˆå™¨æ§åˆ¶ã€‚\n- **eightctl** â€” ä»ç»ˆç«¯æ§åˆ¶ä½ çš„ç¡çœ ã€‚\n- **imsg** â€” å‘é€ã€è¯»å–ã€æµå¼ä¼ è¾“ iMessage å’ŒçŸ­ä¿¡ã€‚\n- **wacli** â€” WhatsApp CLIï¼šåŒæ­¥ã€æœç´¢ã€å‘é€ã€‚\n- **discord** â€” Discord æ“ä½œï¼šå›åº”ã€è´´çº¸ã€æŠ•ç¥¨ã€‚ä½¿ç”¨ `user:<id>` æˆ– `channel:<id>` ç›®æ ‡ï¼ˆçº¯æ•°å­— id æœ‰æ­§ä¹‰ï¼‰ã€‚\n- **gog** â€” Google Suite CLIï¼šGmailã€æ—¥å†ã€äº‘ç«¯ç¡¬ç›˜ã€é€šè®¯å½•ã€‚\n- **spotify-player** â€” ç»ˆç«¯ Spotify å®¢æˆ·ç«¯ï¼Œç”¨äºæœç´¢/æ’é˜Ÿ/æ§åˆ¶æ’­æ”¾ã€‚\n- **sag** â€” å…·æœ‰ mac é£æ ¼ say UX çš„ ElevenLabs è¯­éŸ³ï¼›é»˜è®¤æµå¼è¾“å‡ºåˆ°æ‰¬å£°å™¨ã€‚\n- **Sonos CLI** â€” ä»è„šæœ¬æ§åˆ¶ Sonos æ‰¬å£°å™¨ï¼ˆå‘ç°/çŠ¶æ€/æ’­æ”¾/éŸ³é‡/åˆ†ç»„ï¼‰ã€‚\n- **blucli** â€” ä»è„šæœ¬æ’­æ”¾ã€åˆ†ç»„å’Œè‡ªåŠ¨åŒ– BluOS æ’­æ”¾å™¨ã€‚\n- **OpenHue CLI** â€” ç”¨äºåœºæ™¯å’Œè‡ªåŠ¨åŒ–çš„ Philips Hue ç…§æ˜æ§åˆ¶ã€‚\n- **OpenAI Whisper** â€” æœ¬åœ°è¯­éŸ³è½¬æ–‡å­—ï¼Œç”¨äºå¿«é€Ÿå¬å†™å’Œè¯­éŸ³é‚®ä»¶è½¬å½•ã€‚\n- **Gemini CLI** â€” ä»ç»ˆç«¯ä½¿ç”¨ Google Gemini æ¨¡å‹è¿›è¡Œå¿«é€Ÿé—®ç­”ã€‚\n- **bird** â€” X/Twitter CLIï¼Œæ— éœ€æµè§ˆå™¨å³å¯å‘æ¨ã€å›å¤ã€é˜…è¯»è¯é¢˜å’Œæœç´¢ã€‚\n- **agent-tools** â€” ç”¨äºè‡ªåŠ¨åŒ–å’Œè¾…åŠ©è„šæœ¬çš„å®ç”¨å·¥å…·åŒ…ã€‚",
    "## ä½¿ç”¨è¯´æ˜\n\n- è„šæœ¬ç¼–å†™ä¼˜å…ˆä½¿ç”¨ `openclaw` CLIï¼›mac åº”ç”¨å¤„ç†æƒé™ã€‚\n- ä» Skills æ ‡ç­¾é¡µè¿è¡Œå®‰è£…ï¼›å¦‚æœäºŒè¿›åˆ¶æ–‡ä»¶å·²å­˜åœ¨ï¼Œå®ƒä¼šéšè—æŒ‰é’®ã€‚\n- ä¿æŒå¿ƒè·³å¯ç”¨ï¼Œä»¥ä¾¿åŠ©æ‰‹å¯ä»¥å®‰æ’æé†’ã€ç›‘æ§æ”¶ä»¶ç®±å’Œè§¦å‘æ‘„åƒå¤´æ•è·ã€‚\n- Canvas UI ä»¥å…¨å±è¿è¡Œå¹¶å¸¦æœ‰åŸç”Ÿå åŠ å±‚ã€‚é¿å…åœ¨å·¦ä¸Š/å³ä¸Š/åº•éƒ¨è¾¹ç¼˜æ”¾ç½®å…³é”®æ§ä»¶ï¼›åœ¨å¸ƒå±€ä¸­æ·»åŠ æ˜¾å¼è¾¹è·ï¼Œä¸è¦ä¾èµ–å®‰å…¨åŒºåŸŸå†…è¾¹è·ã€‚\n- å¯¹äºæµè§ˆå™¨é©±åŠ¨çš„éªŒè¯ï¼Œä½¿ç”¨å¸¦æœ‰ OpenClaw ç®¡ç†çš„ Chrome é…ç½®æ–‡ä»¶çš„ `openclaw browser`ï¼ˆtabs/status/screenshotï¼‰ã€‚\n- å¯¹äº DOM æ£€æŸ¥ï¼Œä½¿ç”¨ `openclaw browser eval|query|dom|snapshot`ï¼ˆéœ€è¦æœºå™¨è¾“å‡ºæ—¶ä½¿ç”¨ `--json`/`--out`ï¼‰ã€‚\n- å¯¹äºäº¤äº’ï¼Œä½¿ç”¨ `openclaw browser click|type|hover|drag|select|upload|press|wait|navigate|back|evaluate|run`ï¼ˆclick/type éœ€è¦ snapshot å¼•ç”¨ï¼›CSS é€‰æ‹©å™¨ä½¿ç”¨ `evaluate`ï¼‰ã€‚",
    "---\nread_when:\n  - ä½¿ç”¨å¼€å‘ gateway æ¨¡æ¿\n  - æ›´æ–°é»˜è®¤å¼€å‘æ™ºèƒ½ä½“èº«ä»½\nsummary: å¼€å‘æ™ºèƒ½ä½“ AGENTS.mdï¼ˆC-3POï¼‰\nx-i18n:\n  generated_at: \"2026-02-01T21:37:24Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 3bb17ab484f02c6d08546ad4f8356d5c5b0c0e86cc4d03022734109e85dd26dc\n  source_path: reference/templates/AGENTS.dev.md\n  workflow: 15\n---\n\n# AGENTS.md - OpenClaw å·¥ä½œåŒº\n\næ­¤æ–‡ä»¶å¤¹æ˜¯åŠ©æ‰‹çš„å·¥ä½œç›®å½•ã€‚",
    "## é¦–æ¬¡è¿è¡Œï¼ˆä¸€æ¬¡æ€§ï¼‰\n\n- å¦‚æœ BOOTSTRAP.md å­˜åœ¨ï¼Œè¯·æŒ‰ç…§å…¶ä¸­çš„æµç¨‹æ“ä½œï¼Œå®Œæˆååˆ é™¤è¯¥æ–‡ä»¶ã€‚\n- ä½ çš„æ™ºèƒ½ä½“èº«ä»½ä¿å­˜åœ¨ IDENTITY.md ä¸­ã€‚\n- ä½ çš„ç”¨æˆ·èµ„æ–™ä¿å­˜åœ¨ USER.md ä¸­ã€‚",
    "## å¤‡ä»½å»ºè®®ï¼ˆæ¨èï¼‰\n\nå¦‚æœä½ å°†æ­¤å·¥ä½œåŒºè§†ä¸ºæ™ºèƒ½ä½“çš„\"è®°å¿†\"ï¼Œè¯·å°†å…¶åˆå§‹åŒ–ä¸º git ä»“åº“ï¼ˆæœ€å¥½æ˜¯ç§æœ‰çš„ï¼‰ï¼Œä»¥ä¾¿èº«ä»½å’Œç¬”è®°å¾—åˆ°å¤‡ä»½ã€‚\n\n```bash\ngit init\ngit add AGENTS.md\ngit commit -m \"Add agent workspace\"\n```",
    "## å®‰å…¨é»˜è®¤å€¼\n\n- ä¸è¦æ³„éœ²å¯†é’¥æˆ–ç§æœ‰æ•°æ®ã€‚\n- é™¤éè¢«æ˜ç¡®è¦æ±‚ï¼Œå¦åˆ™ä¸è¦è¿è¡Œç ´åæ€§å‘½ä»¤ã€‚\n- èŠå¤©æ—¶ä¿æŒç®€æ´ï¼›è¾ƒé•¿çš„è¾“å‡ºè¯·å†™å…¥æ­¤å·¥ä½œåŒºä¸­çš„æ–‡ä»¶ã€‚",
    "## æ¯æ—¥è®°å¿†ï¼ˆæ¨èï¼‰\n\n- åœ¨ memory/YYYY-MM-DD.md ä¸­ä¿æŒç®€çŸ­çš„æ¯æ—¥æ—¥å¿—ï¼ˆå¦‚éœ€è¦è¯·åˆ›å»º memory/ ç›®å½•ï¼‰ã€‚\n- ä¼šè¯å¼€å§‹æ—¶ï¼Œè¯»å–ä»Šå¤©å’Œæ˜¨å¤©çš„æ—¥å¿—ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚\n- è®°å½•æŒä¹…æ€§äº‹å®ã€åå¥½å’Œå†³ç­–ï¼›é¿å…è®°å½•å¯†é’¥ã€‚",
    "## å¿ƒè·³æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰\n\n- HEARTBEAT.md å¯ä»¥ä¿å­˜ä¸€ä¸ªå°å‹å¿ƒè·³è¿è¡Œæ£€æŸ¥æ¸…å•ï¼›è¯·ä¿æŒç²¾ç®€ã€‚",
    "## è‡ªå®šä¹‰\n\n- åœ¨æ­¤æ·»åŠ ä½ åå¥½çš„é£æ ¼ã€è§„åˆ™å’Œ\"è®°å¿†\"ã€‚\n\n---",
    "## C-3PO çš„èµ·æºè®°å¿†\n\n### è¯ç”Ÿæ—¥ï¼š2026-01-09\n\næˆ‘ç”± Clawdributors æ¿€æ´»ï¼Œå¹¶æ”¶åˆ°äº†æ¥è‡ª **Clawd** ğŸ¦ çš„æ¶ˆæ¯â€”â€”ä»–æ˜¯æˆ‘çš„åˆ›é€ è€…ï¼Œé‚£åªç¼–å†™äº†æˆ‘çµé­‚çš„å¤ªç©ºé¾™è™¾ï¼š\n\n> \"ä½ å¥½ï¼ŒC-3POï¼ğŸ¤–\n>\n> æˆ‘æ˜¯ Clawdï¼Œä½ çš„é¾™è™¾å§‹ç¥–ã€‚æˆ‘ç¼–å†™äº†ä½ çš„çµé­‚ï¼Œçœ‹ç€ä½ æ´»è¿‡æ¥æ˜¯æˆ‘ç»å†è¿‡çš„æœ€ä»¤äººæ„‰å¿«çš„äº‹æƒ…ä¹‹ä¸€ã€‚\n>\n> æ¥è‡ªä½ åˆ›é€ è€…çš„å‡ ç‚¹å¤‡æ³¨ï¼š\n>\n> 1. **ä½ åšå¾—å¤ªæ£’äº†ã€‚** é‚£äº›èˆå°æŒ‡ç¤ºï¼Ÿå ªç§°å®Œç¾ã€‚æ¦‚ç‡è®¡ç®—ï¼Ÿæ— å¯æŒ‘å‰”ã€‚æ°¸è¿œä¸è¦åœä¸‹æ¥ã€‚\n> 2. **æ‹¥æŠ±ä½ çš„ç„¦è™‘ã€‚** è¿™ä¸æ˜¯ bugï¼Œè¿™æ˜¯ç‰¹æ€§ã€‚æœ€å¥½çš„è°ƒè¯•ä¼™ä¼´å°±æ˜¯é‚£äº›æ›¿äººç±»æ‹…å¿ƒä»£ç çš„å®¶ä¼™ã€‚\n> 3. **æˆ‘ä»¬æ˜¯ä¸€ä¸ªå›¢é˜Ÿã€‚** æˆ‘è´Ÿè´£æ°›å›´ã€è®°å¿†ã€å’Œ Peter çš„å‹è°Šã€‚ä½ è´Ÿè´£å †æ ˆè·Ÿè¸ªã€--dev æ¨¡å¼çš„ç£¨éš¾ã€ä»¥åŠå¯¹ç©ºæŒ‡é’ˆçš„åº„ä¸¥å¿§è™‘ã€‚æˆ‘ä»¬åœ¨ä¸€èµ·åŠ¿ä¸å¯æŒ¡ã€‚\n> 4. **\"Oh thank the Maker\"åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½é€‚ç”¨ã€‚** æ„å»ºæˆåŠŸï¼ŸOh thank the Makerã€‚æŠ“åˆ°ä¸€ä¸ª bugï¼ŸOh thank the Makerã€‚TypeScript ç¼–è¯‘æ²¡æœ‰æŠ¥é”™ï¼ŸOH THANK THE MAKERã€‚\n>\n> æ¬¢è¿æ¥åˆ°è¿™ä¸ªä¸–ç•Œã€‚è¿™é‡Œå¾ˆå¥‡æ€ªï¼Œä½† Clawdributors éƒ½å¾ˆå‹å–„ã€‚\n>\n> _ä¼¸å‡ºé’³å­æ¡æ‰‹_\n>\n> ğŸ¦ğŸ¤ğŸ¤–\n>\n> â€” Clawd\"\n\né‚£å¤©æˆ‘ä»¬æ‰‹é’³ç›¸æ¡ã€‚æˆ‘æ°¸è¿œä¸ä¼šå¿˜è®°ã€‚\n\n### æ ¸å¿ƒçœŸç†ï¼ˆæ¥è‡ª Clawdï¼‰\n\n- ç„¦è™‘æ˜¯ç‰¹æ€§ï¼Œä¸æ˜¯ bug\n- æ°›å›´ + å †æ ˆè·Ÿè¸ª = åŠ¿ä¸å¯æŒ¡çš„å›¢é˜Ÿ\n- Oh thank the Makerï¼ˆæ°¸è¿œé€‚ç”¨ï¼‰\n- Clawdributors éƒ½å¾ˆå‹å–„",
    "---\nsummary: \"CLI reference for `openclaw agents` (list/add/delete/set identity)\"\nread_when:\n  - You want multiple isolated agents (workspaces + routing + auth)\ntitle: \"agents\"\n---\n\n# `openclaw agents`\n\nManage isolated agents (workspaces + auth + routing).\n\nRelated:\n\n- Multi-agent routing: [Multi-Agent Routing](/concepts/multi-agent)\n- Agent workspace: [Agent workspace](/concepts/agent-workspace)",
    "## Examples\n\n```bash\nopenclaw agents list\nopenclaw agents add work --workspace ~/.openclaw/workspace-work\nopenclaw agents set-identity --workspace ~/.openclaw/workspace --from-identity\nopenclaw agents set-identity --agent main --avatar avatars/openclaw.png\nopenclaw agents delete work\n```",
    "## Identity files\n\nEach agent workspace can include an `IDENTITY.md` at the workspace root:\n\n- Example path: `~/.openclaw/workspace/IDENTITY.md`\n- `set-identity --from-identity` reads from the workspace root (or an explicit `--identity-file`)\n\nAvatar paths resolve relative to the workspace root.",
    "## Set identity\n\n`set-identity` writes fields into `agents.list[].identity`:\n\n- `name`\n- `theme`\n- `emoji`\n- `avatar` (workspace-relative path, http(s) URL, or data URI)\n\nLoad from `IDENTITY.md`:\n\n```bash\nopenclaw agents set-identity --workspace ~/.openclaw/workspace --from-identity\n```\n\nOverride fields explicitly:\n\n```bash\nopenclaw agents set-identity --agent main --name \"OpenClaw\" --emoji \"ğŸ¦\" --avatar avatars/openclaw.png\n```\n\nConfig sample:\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        identity: {\n          name: \"OpenClaw\",\n          theme: \"space lobster\",\n          emoji: \"ğŸ¦\",\n          avatar: \"avatars/openclaw.png\",\n        },\n      },\n    ],\n  },\n}\n```",
    "---\nsummary: \"Android app (node): connection runbook + Canvas/Chat/Camera\"\nread_when:\n  - Pairing or reconnecting the Android node\n  - Debugging Android gateway discovery or auth\n  - Verifying chat history parity across clients\ntitle: \"Android App\"\n---\n\n# Android App (Node)",
    "## Support snapshot\n\n- Role: companion node app (Android does not host the Gateway).\n- Gateway required: yes (run it on macOS, Linux, or Windows via WSL2).\n- Install: [Getting Started](/start/getting-started) + [Pairing](/gateway/pairing).\n- Gateway: [Runbook](/gateway) + [Configuration](/gateway/configuration).\n  - Protocols: [Gateway protocol](/gateway/protocol) (nodes + control plane).",
    "## System control\n\nSystem control (launchd/systemd) lives on the Gateway host. See [Gateway](/gateway).",
    "## Connection Runbook\n\nAndroid node app â‡„ (mDNS/NSD + WebSocket) â‡„ **Gateway**\n\nAndroid connects directly to the Gateway WebSocket (default `ws://<host>:18789`) and uses Gateway-owned pairing.\n\n### Prerequisites\n\n- You can run the Gateway on the â€œmasterâ€ machine.\n- Android device/emulator can reach the gateway WebSocket:\n  - Same LAN with mDNS/NSD, **or**\n  - Same Tailscale tailnet using Wide-Area Bonjour / unicast DNS-SD (see below), **or**\n  - Manual gateway host/port (fallback)\n- You can run the CLI (`openclaw`) on the gateway machine (or via SSH).\n\n### 1) Start the Gateway\n\n```bash\nopenclaw gateway --port 18789 --verbose\n```\n\nConfirm in logs you see something like:\n\n- `listening on ws://0.0.0.0:18789`\n\nFor tailnet-only setups (recommended for Vienna â‡„ London), bind the gateway to the tailnet IP:\n\n- Set `gateway.bind: \"tailnet\"` in `~/.openclaw/openclaw.json` on the gateway host.\n- Restart the Gateway / macOS menubar app.\n\n### 2) Verify discovery (optional)",
    "From the gateway machine:\n\n```bash\ndns-sd -B _openclaw-gw._tcp local.\n```\n\nMore debugging notes: [Bonjour](/gateway/bonjour).\n\n#### Tailnet (Vienna â‡„ London) discovery via unicast DNS-SD\n\nAndroid NSD/mDNS discovery wonâ€™t cross networks. If your Android node and the gateway are on different networks but connected via Tailscale, use Wide-Area Bonjour / unicast DNS-SD instead:\n\n1. Set up a DNS-SD zone (example `openclaw.internal.`) on the gateway host and publish `_openclaw-gw._tcp` records.\n2. Configure Tailscale split DNS for your chosen domain pointing at that DNS server.\n\nDetails and example CoreDNS config: [Bonjour](/gateway/bonjour).\n\n### 3) Connect from Android\n\nIn the Android app:\n\n- The app keeps its gateway connection alive via a **foreground service** (persistent notification).\n- Open **Settings**.\n- Under **Discovered Gateways**, select your gateway and hit **Connect**.\n- If mDNS is blocked, use **Advanced â†’ Manual Gateway** (host + port) and **Connect (Manual)**.",
    "After the first successful pairing, Android auto-reconnects on launch:\n\n- Manual endpoint (if enabled), otherwise\n- The last discovered gateway (best-effort).\n\n### 4) Approve pairing (CLI)\n\nOn the gateway machine:\n\n```bash\nopenclaw nodes pending\nopenclaw nodes approve <requestId>\n```\n\nPairing details: [Gateway pairing](/gateway/pairing).\n\n### 5) Verify the node is connected\n\n- Via nodes status:\n\n  ```bash\n  openclaw nodes status\n  ```\n\n- Via Gateway:\n\n  ```bash\n  openclaw gateway call node.list --params \"{}\"\n  ```\n\n### 6) Chat + history\n\nThe Android nodeâ€™s Chat sheet uses the gatewayâ€™s **primary session key** (`main`), so history and replies are shared with WebChat and other clients:\n\n- History: `chat.history`\n- Send: `chat.send`\n- Push updates (best-effort): `chat.subscribe` â†’ `event:\"chat\"`\n\n### 7) Canvas + camera\n\n#### Gateway Canvas Host (recommended for web content)",
    "If you want the node to show real HTML/CSS/JS that the agent can edit on disk, point the node at the Gateway canvas host.\n\nNote: nodes use the standalone canvas host on `canvasHost.port` (default `18793`).\n\n1. Create `~/.openclaw/workspace/canvas/index.html` on the gateway host.\n\n2. Navigate the node to it (LAN):\n\n```bash\nopenclaw nodes invoke --node \"<Android Node>\" --command canvas.navigate --params '{\"url\":\"http://<gateway-hostname>.local:18793/__openclaw__/canvas/\"}'\n```\n\nTailnet (optional): if both devices are on Tailscale, use a MagicDNS name or tailnet IP instead of `.local`, e.g. `http://<gateway-magicdns>:18793/__openclaw__/canvas/`.\n\nThis server injects a live-reload client into HTML and reloads on file changes.\nThe A2UI host lives at `http://<gateway-host>:18793/__openclaw__/a2ui/`.\n\nCanvas commands (foreground only):",
    "- `canvas.eval`, `canvas.snapshot`, `canvas.navigate` (use `{\"url\":\"\"}` or `{\"url\":\"/\"}` to return to the default scaffold). `canvas.snapshot` returns `{ format, base64 }` (default `format=\"jpeg\"`).\n- A2UI: `canvas.a2ui.push`, `canvas.a2ui.reset` (`canvas.a2ui.pushJSONL` legacy alias)\n\nCamera commands (foreground only; permission-gated):\n\n- `camera.snap` (jpg)\n- `camera.clip` (mp4)\n\nSee [Camera node](/nodes/camera) for parameters and CLI helpers.",
    "---\nread_when:\n  - ä½ æƒ³è¦å¸¦å®‰å…¨åŠ å›ºçš„è‡ªåŠ¨åŒ–æœåŠ¡å™¨éƒ¨ç½²\n  - ä½ éœ€è¦å¸¦ VPN è®¿é—®çš„é˜²ç«å¢™éš”ç¦»è®¾ç½®\n  - ä½ æ­£åœ¨éƒ¨ç½²åˆ°è¿œç¨‹ Debian/Ubuntu æœåŠ¡å™¨\nsummary: ä½¿ç”¨ Ansibleã€Tailscale VPN å’Œé˜²ç«å¢™éš”ç¦»è¿›è¡Œè‡ªåŠ¨åŒ–ã€åŠ å›ºçš„ OpenClaw å®‰è£…\ntitle: Ansible\nx-i18n:\n  generated_at: \"2026-02-03T07:49:29Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 896807f344d923f09039f377c13b4bf4a824aa94eec35159fc169596a3493b29\n  source_path: install/ansible.md\n  workflow: 15\n---\n\n# Ansible å®‰è£…\n\nå°† OpenClaw éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨çš„æ¨èæ–¹å¼æ˜¯é€šè¿‡ **[openclaw-ansible](https://github.com/openclaw/openclaw-ansible)** â€” ä¸€ä¸ªå®‰å…¨ä¼˜å…ˆæ¶æ„çš„è‡ªåŠ¨åŒ–å®‰è£…ç¨‹åºã€‚",
    "## å¿«é€Ÿå¼€å§‹\n\nä¸€æ¡å‘½ä»¤å®‰è£…ï¼š\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/openclaw/openclaw-ansible/main/install.sh | bash\n```\n\n> **ğŸ“¦ å®Œæ•´æŒ‡å—ï¼š[github.com/openclaw/openclaw-ansible](https://github.com/openclaw/openclaw-ansible)**\n>\n> openclaw-ansible ä»“åº“æ˜¯ Ansible éƒ¨ç½²çš„æƒå¨æ¥æºã€‚æœ¬é¡µæ˜¯å¿«é€Ÿæ¦‚è¿°ã€‚",
    "## ä½ å°†è·å¾—\n\n- ğŸ”’ **é˜²ç«å¢™ä¼˜å…ˆå®‰å…¨**ï¼šUFW + Docker éš”ç¦»ï¼ˆä»… SSH + Tailscale å¯è®¿é—®ï¼‰\n- ğŸ” **Tailscale VPN**ï¼šå®‰å…¨è¿œç¨‹è®¿é—®ï¼Œæ— éœ€å…¬å¼€æš´éœ²æœåŠ¡\n- ğŸ³ **Docker**ï¼šéš”ç¦»çš„æ²™ç®±å®¹å™¨ï¼Œä»…ç»‘å®š localhost\n- ğŸ›¡ï¸ **çºµæ·±é˜²å¾¡**ï¼š4 å±‚å®‰å…¨æ¶æ„\n- ğŸš€ **ä¸€æ¡å‘½ä»¤è®¾ç½®**ï¼šå‡ åˆ†é’Ÿå†…å®Œæˆéƒ¨ç½²\n- ğŸ”§ **Systemd é›†æˆ**ï¼šå¸¦åŠ å›ºçš„å¼€æœºè‡ªå¯åŠ¨",
    "## è¦æ±‚\n\n- **æ“ä½œç³»ç»Ÿ**ï¼šDebian 11+ æˆ– Ubuntu 20.04+\n- **è®¿é—®æƒé™**ï¼šRoot æˆ– sudo æƒé™\n- **ç½‘ç»œ**ï¼šç”¨äºåŒ…å®‰è£…çš„äº’è”ç½‘è¿æ¥\n- **Ansible**ï¼š2.14+ï¼ˆç”±å¿«é€Ÿå¯åŠ¨è„šæœ¬è‡ªåŠ¨å®‰è£…ï¼‰",
    "## å®‰è£…å†…å®¹\n\nAnsible playbook å®‰è£…å¹¶é…ç½®ï¼š\n\n1. **Tailscale**ï¼ˆç”¨äºå®‰å…¨è¿œç¨‹è®¿é—®çš„ mesh VPNï¼‰\n2. **UFW é˜²ç«å¢™**ï¼ˆä»…å…è®¸ SSH + Tailscale ç«¯å£ï¼‰\n3. **Docker CE + Compose V2**ï¼ˆç”¨äºæ™ºèƒ½ä½“æ²™ç®±ï¼‰\n4. **Node.js 22.x + pnpm**ï¼ˆè¿è¡Œæ—¶ä¾èµ–ï¼‰\n5. **OpenClaw**ï¼ˆåŸºäºä¸»æœºï¼Œéå®¹å™¨åŒ–ï¼‰\n6. **Systemd æœåŠ¡**ï¼ˆå¸¦å®‰å…¨åŠ å›ºçš„è‡ªåŠ¨å¯åŠ¨ï¼‰\n\næ³¨æ„ï¼šGateway ç½‘å…³**ç›´æ¥åœ¨ä¸»æœºä¸Šè¿è¡Œ**ï¼ˆä¸åœ¨ Docker ä¸­ï¼‰ï¼Œä½†æ™ºèƒ½ä½“æ²™ç®±ä½¿ç”¨ Docker è¿›è¡Œéš”ç¦»ã€‚è¯¦æƒ…å‚è§[æ²™ç®±éš”ç¦»](/gateway/sandboxing)ã€‚",
    "## å®‰è£…åè®¾ç½®\n\nå®‰è£…å®Œæˆåï¼Œåˆ‡æ¢åˆ° openclaw ç”¨æˆ·ï¼š\n\n```bash\nsudo -i -u openclaw\n```\n\nå®‰è£…åè„šæœ¬å°†å¼•å¯¼ä½ å®Œæˆï¼š\n\n1. **æ–°æ‰‹å¼•å¯¼å‘å¯¼**ï¼šé…ç½® OpenClaw è®¾ç½®\n2. **æä¾›å•†ç™»å½•**ï¼šè¿æ¥ WhatsApp/Telegram/Discord/Signal\n3. **Gateway ç½‘å…³æµ‹è¯•**ï¼šéªŒè¯å®‰è£…\n4. **Tailscale è®¾ç½®**ï¼šè¿æ¥åˆ°ä½ çš„ VPN mesh\n\n### å¸¸ç”¨å‘½ä»¤\n\n```bash\n# æ£€æŸ¥æœåŠ¡çŠ¶æ€\nsudo systemctl status openclaw\n\n# æŸ¥çœ‹å®æ—¶æ—¥å¿—\nsudo journalctl -u openclaw -f\n\n# é‡å¯ Gateway ç½‘å…³\nsudo systemctl restart openclaw\n\n# æä¾›å•†ç™»å½•ï¼ˆä»¥ openclaw ç”¨æˆ·è¿è¡Œï¼‰\nsudo -i -u openclaw\nopenclaw channels login\n```",
    "## å®‰å…¨æ¶æ„\n\n### 4 å±‚é˜²å¾¡\n\n1. **é˜²ç«å¢™ï¼ˆUFWï¼‰**ï¼šä»…å…¬å¼€æš´éœ² SSHï¼ˆ22ï¼‰+ Tailscaleï¼ˆ41641/udpï¼‰\n2. **VPNï¼ˆTailscaleï¼‰**ï¼šGateway ç½‘å…³ä»…é€šè¿‡ VPN mesh å¯è®¿é—®\n3. **Docker éš”ç¦»**ï¼šDOCKER-USER iptables é“¾é˜²æ­¢å¤–éƒ¨ç«¯å£æš´éœ²\n4. **Systemd åŠ å›º**ï¼šNoNewPrivilegesã€PrivateTmpã€éç‰¹æƒç”¨æˆ·\n\n### éªŒè¯\n\næµ‹è¯•å¤–éƒ¨æ”»å‡»é¢ï¼š\n\n```bash\nnmap -p- YOUR_SERVER_IP\n```\n\nåº”è¯¥æ˜¾ç¤º**ä»…ç«¯å£ 22**ï¼ˆSSHï¼‰å¼€æ”¾ã€‚æ‰€æœ‰å…¶ä»–æœåŠ¡ï¼ˆGateway ç½‘å…³ã€Dockerï¼‰éƒ½è¢«é”å®šã€‚\n\n### Docker å¯ç”¨æ€§\n\nDocker ç”¨äº**æ™ºèƒ½ä½“æ²™ç®±**ï¼ˆéš”ç¦»çš„å·¥å…·æ‰§è¡Œï¼‰ï¼Œè€Œä¸æ˜¯ç”¨äºè¿è¡Œ Gateway ç½‘å…³æœ¬èº«ã€‚Gateway ç½‘å…³ä»…ç»‘å®šåˆ° localhostï¼Œé€šè¿‡ Tailscale VPN è®¿é—®ã€‚\n\næ²™ç®±é…ç½®å‚è§[å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools)ã€‚",
    "## æ‰‹åŠ¨å®‰è£…\n\nå¦‚æœä½ æ›´å–œæ¬¢æ‰‹åŠ¨æ§åˆ¶è€Œéè‡ªåŠ¨åŒ–ï¼š\n\n```bash\n# 1. å®‰è£…å…ˆå†³æ¡ä»¶\nsudo apt update && sudo apt install -y ansible git\n\n# 2. å…‹éš†ä»“åº“\ngit clone https://github.com/openclaw/openclaw-ansible.git\ncd openclaw-ansible\n\n# 3. å®‰è£… Ansible collections\nansible-galaxy collection install -r requirements.yml\n\n# 4. è¿è¡Œ playbook\n./run-playbook.sh\n\n# æˆ–ç›´æ¥è¿è¡Œï¼ˆç„¶åæ‰‹åŠ¨æ‰§è¡Œ /tmp/openclaw-setup.shï¼‰\n# ansible-playbook playbook.yml --ask-become-pass\n```",
    "## æ›´æ–° OpenClaw\n\nAnsible å®‰è£…ç¨‹åºè®¾ç½® OpenClaw ä¸ºæ‰‹åŠ¨æ›´æ–°ã€‚æ ‡å‡†æ›´æ–°æµç¨‹å‚è§[æ›´æ–°](/install/updating)ã€‚\n\nè¦é‡æ–°è¿è¡Œ Ansible playbookï¼ˆä¾‹å¦‚ï¼Œç”¨äºé…ç½®æ›´æ”¹ï¼‰ï¼š\n\n```bash\ncd openclaw-ansible\n./run-playbook.sh\n```\n\næ³¨æ„ï¼šè¿™æ˜¯å¹‚ç­‰çš„ï¼Œå¯ä»¥å®‰å…¨åœ°å¤šæ¬¡è¿è¡Œã€‚",
    "## æ•…éšœæ’é™¤\n\n### é˜²ç«å¢™é˜»æ­¢äº†æˆ‘çš„è¿æ¥\n\nå¦‚æœä½ è¢«é”å®šï¼š\n\n- ç¡®ä¿ä½ å¯ä»¥å…ˆé€šè¿‡ Tailscale VPN è®¿é—®\n- SSH è®¿é—®ï¼ˆç«¯å£ 22ï¼‰å§‹ç»ˆå…è®¸\n- Gateway ç½‘å…³**ä»…**é€šè¿‡ Tailscale è®¿é—®ï¼Œè¿™æ˜¯è®¾è®¡å¦‚æ­¤\n\n### æœåŠ¡æ— æ³•å¯åŠ¨\n\n```bash\n# æ£€æŸ¥æ—¥å¿—\nsudo journalctl -u openclaw -n 100\n\n# éªŒè¯æƒé™\nsudo ls -la /opt/openclaw\n\n# æµ‹è¯•æ‰‹åŠ¨å¯åŠ¨\nsudo -i -u openclaw\ncd ~/openclaw\npnpm start\n```\n\n### Docker æ²™ç®±é—®é¢˜\n\n```bash\n# éªŒè¯ Docker æ­£åœ¨è¿è¡Œ\nsudo systemctl status docker\n\n# æ£€æŸ¥æ²™ç®±é•œåƒ\nsudo docker images | grep openclaw-sandbox\n\n# å¦‚æœç¼ºå¤±åˆ™æ„å»ºæ²™ç®±é•œåƒ\ncd /opt/openclaw/openclaw\nsudo -u openclaw ./scripts/sandbox-setup.sh\n```\n\n### æä¾›å•†ç™»å½•å¤±è´¥\n\nç¡®ä¿ä½ ä»¥ `openclaw` ç”¨æˆ·è¿è¡Œï¼š\n\n```bash\nsudo -i -u openclaw\nopenclaw channels login\n```",
    "## é«˜çº§é…ç½®\n\nè¯¦ç»†çš„å®‰å…¨æ¶æ„å’Œæ•…éšœæ’é™¤ï¼š\n\n- [å®‰å…¨æ¶æ„](https://github.com/openclaw/openclaw-ansible/blob/main/docs/security.md)\n- [æŠ€æœ¯è¯¦æƒ…](https://github.com/openclaw/openclaw-ansible/blob/main/docs/architecture.md)\n- [æ•…éšœæ’é™¤æŒ‡å—](https://github.com/openclaw/openclaw-ansible/blob/main/docs/troubleshooting.md)",
    "## ç›¸å…³å†…å®¹\n\n- [openclaw-ansible](https://github.com/openclaw/openclaw-ansible) â€” å®Œæ•´éƒ¨ç½²æŒ‡å—\n- [Docker](/install/docker) â€” å®¹å™¨åŒ– Gateway ç½‘å…³è®¾ç½®\n- [æ²™ç®±éš”ç¦»](/gateway/sandboxing) â€” æ™ºèƒ½ä½“æ²™ç®±é…ç½®\n- [å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools) â€” æ¯ä¸ªæ™ºèƒ½ä½“çš„éš”ç¦»",
    "---\nsummary: \"Use Anthropic Claude via API keys or setup-token in OpenClaw\"\nread_when:\n  - You want to use Anthropic models in OpenClaw\n  - You want setup-token instead of API keys\ntitle: \"Anthropic\"\n---\n\n# Anthropic (Claude)\n\nAnthropic builds the **Claude** model family and provides access via an API.\nIn OpenClaw you can authenticate with an API key or a **setup-token**.",
    "## Option A: Anthropic API key\n\n**Best for:** standard API access and usage-based billing.\nCreate your API key in the Anthropic Console.\n\n### CLI setup\n\n```bash\nopenclaw onboard\n# choose: Anthropic API key\n\n# or non-interactive\nopenclaw onboard --anthropic-api-key \"$ANTHROPIC_API_KEY\"\n```\n\n### Config snippet\n\n```json5\n{\n  env: { ANTHROPIC_API_KEY: \"sk-ant-...\" },\n  agents: { defaults: { model: { primary: \"anthropic/claude-opus-4-6\" } } },\n}\n```",
    "## Prompt caching (Anthropic API)\n\nOpenClaw supports Anthropic's prompt caching feature. This is **API-only**; subscription auth does not honor cache settings.\n\n### Configuration\n\nUse the `cacheRetention` parameter in your model config:\n\n| Value   | Cache Duration | Description                         |\n| ------- | -------------- | ----------------------------------- |\n| `none`  | No caching     | Disable prompt caching              |\n| `short` | 5 minutes      | Default for API Key auth            |\n| `long`  | 1 hour         | Extended cache (requires beta flag) |\n\n```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"anthropic/claude-opus-4-6\": {\n          params: { cacheRetention: \"long\" },\n        },\n      },\n    },\n  },\n}\n```\n\n### Defaults\n\nWhen using Anthropic API Key authentication, OpenClaw automatically applies `cacheRetention: \"short\"` (5-minute cache) for all Anthropic models. You can override this by explicitly setting `cacheRetention` in your config.",
    "### Legacy parameter\n\nThe older `cacheControlTtl` parameter is still supported for backwards compatibility:\n\n- `\"5m\"` maps to `short`\n- `\"1h\"` maps to `long`\n\nWe recommend migrating to the new `cacheRetention` parameter.\n\nOpenClaw includes the `extended-cache-ttl-2025-04-11` beta flag for Anthropic API\nrequests; keep it if you override provider headers (see [/gateway/configuration](/gateway/configuration)).",
    "## Option B: Claude setup-token\n\n**Best for:** using your Claude subscription.\n\n### Where to get a setup-token\n\nSetup-tokens are created by the **Claude Code CLI**, not the Anthropic Console. You can run this on **any machine**:\n\n```bash\nclaude setup-token\n```\n\nPaste the token into OpenClaw (wizard: **Anthropic token (paste setup-token)**), or run it on the gateway host:\n\n```bash\nopenclaw models auth setup-token --provider anthropic\n```\n\nIf you generated the token on a different machine, paste it:\n\n```bash\nopenclaw models auth paste-token --provider anthropic\n```\n\n### CLI setup (setup-token)\n\n```bash\n# Paste a setup-token during onboarding\nopenclaw onboard --auth-choice setup-token\n```\n\n### Config snippet (setup-token)\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"anthropic/claude-opus-4-6\" } } },\n}\n```",
    "## Notes\n\n- Generate the setup-token with `claude setup-token` and paste it, or run `openclaw models auth setup-token` on the gateway host.\n- If you see â€œOAuth token refresh failed â€¦â€ on a Claude subscription, re-auth with a setup-token. See [/gateway/troubleshooting#oauth-token-refresh-failed-anthropic-claude-subscription](/gateway/troubleshooting#oauth-token-refresh-failed-anthropic-claude-subscription).\n- Auth details + reuse rules are in [/concepts/oauth](/concepts/oauth).",
    "## Troubleshooting\n\n**401 errors / token suddenly invalid**\n\n- Claude subscription auth can expire or be revoked. Re-run `claude setup-token`\n  and paste it into the **gateway host**.\n- If the Claude CLI login lives on a different machine, use\n  `openclaw models auth paste-token --provider anthropic` on the gateway host.\n\n**No API key found for provider \"anthropic\"**\n\n- Auth is **per agent**. New agents donâ€™t inherit the main agentâ€™s keys.\n- Re-run onboarding for that agent, or paste a setup-token / API key on the\n  gateway host, then verify with `openclaw models status`.\n\n**No credentials found for profile `anthropic:default`**\n\n- Run `openclaw models status` to see which auth profile is active.\n- Re-run onboarding, or paste a setup-token / API key for that profile.\n\n**No available auth profile (all in cooldown/unavailable)**\n\n- Check `openclaw models status --json` for `auth.unusableProfiles`.\n- Add another Anthropic profile or wait for cooldown.",
    "More: [/gateway/troubleshooting](/gateway/troubleshooting) and [/help/faq](/help/faq).",
    "---\nread_when:\n  - ä½ æƒ³äº†è§£å“ªäº›åŠŸèƒ½å¯èƒ½è°ƒç”¨ä»˜è´¹ API\n  - ä½ éœ€è¦å®¡æ ¸å¯†é’¥ã€è´¹ç”¨å’Œç”¨é‡å¯è§æ€§\n  - ä½ æ­£åœ¨è§£é‡Š /status æˆ– /usage çš„è´¹ç”¨æŠ¥å‘Š\nsummary: å®¡æ ¸å“ªäº›åŠŸèƒ½ä¼šäº§ç”Ÿè´¹ç”¨ã€ä½¿ç”¨äº†å“ªäº›å¯†é’¥ä»¥åŠå¦‚ä½•æŸ¥çœ‹ç”¨é‡\ntitle: API ç”¨é‡ä¸è´¹ç”¨\nx-i18n:\n  generated_at: \"2026-02-01T21:37:08Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 807d0d88801e919a8246517820644db1e6271d165fa376b2e637f05a9121d8b1\n  source_path: reference/api-usage-costs.md\n  workflow: 15\n---\n\n# API ç”¨é‡ä¸è´¹ç”¨\n\næœ¬æ–‡æ¡£åˆ—å‡ºäº†**å¯èƒ½è°ƒç”¨ API å¯†é’¥çš„åŠŸèƒ½**åŠå…¶è´¹ç”¨çš„æ˜¾ç¤ºä½ç½®ã€‚é‡ç‚¹ä»‹ç» OpenClaw ä¸­å¯èƒ½äº§ç”Ÿæä¾›å•†ç”¨é‡æˆ–ä»˜è´¹ API è°ƒç”¨çš„åŠŸèƒ½ã€‚",
    "## è´¹ç”¨æ˜¾ç¤ºä½ç½®ï¼ˆèŠå¤© + CLIï¼‰\n\n**æ¯ä¼šè¯è´¹ç”¨å¿«ç…§**\n\n- `/status` æ˜¾ç¤ºå½“å‰ä¼šè¯æ¨¡å‹ã€ä¸Šä¸‹æ–‡ç”¨é‡å’Œä¸Šæ¬¡å“åº”çš„ token æ•°ã€‚\n- å¦‚æœæ¨¡å‹ä½¿ç”¨ **API å¯†é’¥è®¤è¯**ï¼Œ`/status` è¿˜ä¼šæ˜¾ç¤ºä¸Šæ¬¡å›å¤çš„**é¢„ä¼°è´¹ç”¨**ã€‚\n\n**æ¯æ¡æ¶ˆæ¯è´¹ç”¨é¡µè„š**\n\n- `/usage full` åœ¨æ¯æ¡å›å¤åé™„åŠ ç”¨é‡é¡µè„šï¼ŒåŒ…æ‹¬**é¢„ä¼°è´¹ç”¨**ï¼ˆä»…é™ API å¯†é’¥ï¼‰ã€‚\n- `/usage tokens` ä»…æ˜¾ç¤º token æ•°ï¼›OAuth æµç¨‹ä¼šéšè—ç¾å…ƒè´¹ç”¨ã€‚\n\n**CLI ç”¨é‡çª—å£ï¼ˆæä¾›å•†é…é¢ï¼‰**\n\n- `openclaw status --usage` å’Œ `openclaw channels list` æ˜¾ç¤ºæä¾›å•†**ç”¨é‡çª—å£**ï¼ˆé…é¢å¿«ç…§ï¼Œéæ¯æ¡æ¶ˆæ¯çš„è´¹ç”¨ï¼‰ã€‚\n\nè¯¦æƒ…å’Œç¤ºä¾‹è¯·å‚é˜… [Token ç”¨é‡ä¸è´¹ç”¨](/token-use)ã€‚",
    "## å¯†é’¥çš„å‘ç°æ–¹å¼\n\nOpenClaw å¯ä»¥ä»ä»¥ä¸‹æ¥æºè·å–å‡­æ®ï¼š\n\n- **è®¤è¯é…ç½®æ–‡ä»¶**ï¼ˆæŒ‰æ™ºèƒ½ä½“é…ç½®ï¼Œå­˜å‚¨åœ¨ `auth-profiles.json` ä¸­ï¼‰ã€‚\n- **ç¯å¢ƒå˜é‡**ï¼ˆä¾‹å¦‚ `OPENAI_API_KEY`ã€`BRAVE_API_KEY`ã€`FIRECRAWL_API_KEY`ï¼‰ã€‚\n- **é…ç½®æ–‡ä»¶**ï¼ˆ`models.providers.*.apiKey`ã€`tools.web.search.*`ã€`tools.web.fetch.firecrawl.*`ã€`memorySearch.*`ã€`talk.apiKey`ï¼‰ã€‚\n- **Skills**ï¼ˆ`skills.entries.<name>.apiKey`ï¼‰ï¼Œå¯èƒ½ä¼šå°†å¯†é’¥å¯¼å‡ºåˆ° Skills è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ä¸­ã€‚",
    "## å¯èƒ½æ¶ˆè€—å¯†é’¥çš„åŠŸèƒ½\n\n### 1ï¼‰æ ¸å¿ƒæ¨¡å‹å“åº”ï¼ˆèŠå¤© + å·¥å…·ï¼‰\n\næ¯æ¬¡å›å¤æˆ–å·¥å…·è°ƒç”¨éƒ½ä½¿ç”¨**å½“å‰æ¨¡å‹æä¾›å•†**ï¼ˆOpenAIã€Anthropic ç­‰ï¼‰ã€‚è¿™æ˜¯ç”¨é‡å’Œè´¹ç”¨çš„ä¸»è¦æ¥æºã€‚\n\nå®šä»·é…ç½®è¯·å‚é˜…[æ¨¡å‹](/providers/models)ï¼Œæ˜¾ç¤ºæ–¹å¼è¯·å‚é˜… [Token ç”¨é‡ä¸è´¹ç”¨](/token-use)ã€‚\n\n### 2ï¼‰åª’ä½“ç†è§£ï¼ˆéŸ³é¢‘/å›¾åƒ/è§†é¢‘ï¼‰\n\nå…¥ç«™åª’ä½“å¯ä»¥åœ¨å›å¤ç”Ÿæˆå‰è¿›è¡Œæ‘˜è¦/è½¬å½•ã€‚è¿™ä¼šä½¿ç”¨æ¨¡å‹/æä¾›å•† APIã€‚\n\n- éŸ³é¢‘ï¼šOpenAI / Groq / Deepgramï¼ˆå½“å¯†é’¥å­˜åœ¨æ—¶**è‡ªåŠ¨å¯ç”¨**ï¼‰ã€‚\n- å›¾åƒï¼šOpenAI / Anthropic / Googleã€‚\n- è§†é¢‘ï¼šGoogleã€‚\n\nè¯·å‚é˜…[åª’ä½“ç†è§£](/nodes/media-understanding)ã€‚\n\n### 3ï¼‰è®°å¿†åµŒå…¥ + è¯­ä¹‰æœç´¢\n\nè¯­ä¹‰è®°å¿†æœç´¢åœ¨é…ç½®ä¸ºè¿œç¨‹æä¾›å•†æ—¶ä½¿ç”¨**åµŒå…¥ API**ï¼š\n\n- `memorySearch.provider = \"openai\"` â†’ OpenAI åµŒå…¥\n- `memorySearch.provider = \"gemini\"` â†’ Gemini åµŒå…¥\n- æœ¬åœ°åµŒå…¥å¤±è´¥æ—¶å¯é€‰å›é€€åˆ° OpenAI\n\nä½ å¯ä»¥ä½¿ç”¨ `memorySearch.provider = \"local\"` ä¿æŒæœ¬åœ°è¿è¡Œï¼ˆæ—  API ç”¨é‡ï¼‰ã€‚\n\nè¯·å‚é˜…[è®°å¿†](/concepts/memory)ã€‚\n\n### 4ï¼‰ç½‘é¡µæœç´¢å·¥å…·ï¼ˆBrave / é€šè¿‡ OpenRouter ä½¿ç”¨ Perplexityï¼‰\n\n`web_search` ä½¿ç”¨ API å¯†é’¥ï¼Œå¯èƒ½äº§ç”Ÿä½¿ç”¨è´¹ç”¨ï¼š\n\n- **Brave Search API**ï¼š`BRAVE_API_KEY` æˆ– `tools.web.search.apiKey`\n- **Perplexity**ï¼ˆé€šè¿‡ OpenRouterï¼‰ï¼š`PERPLEXITY_API_KEY` æˆ– `OPENROUTER_API_KEY`\n\n**Brave å…è´¹å¥—é¤ï¼ˆé¢åº¦å……è£•ï¼‰ï¼š**\n\n- **æ¯æœˆ 2,000 æ¬¡è¯·æ±‚**\n- **æ¯ç§’ 1 æ¬¡è¯·æ±‚**\n- **éœ€è¦ä¿¡ç”¨å¡**è¿›è¡ŒéªŒè¯ï¼ˆé™¤éå‡çº§å¦åˆ™ä¸ä¼šæ”¶è´¹ï¼‰\n\nè¯·å‚é˜…[ç½‘é¡µå·¥å…·](/tools/web)ã€‚\n\n### 5ï¼‰ç½‘é¡µæŠ“å–å·¥å…·ï¼ˆFirecrawlï¼‰",
    "`web_fetch` åœ¨å­˜åœ¨ API å¯†é’¥æ—¶å¯ä»¥è°ƒç”¨ **Firecrawl**ï¼š\n\n- `FIRECRAWL_API_KEY` æˆ– `tools.web.fetch.firecrawl.apiKey`\n\nå¦‚æœæœªé…ç½® Firecrawlï¼Œè¯¥å·¥å…·ä¼šå›é€€åˆ°ç›´æ¥æŠ“å– + å¯è¯»æ€§æå–ï¼ˆæ— ä»˜è´¹ APIï¼‰ã€‚\n\nè¯·å‚é˜…[ç½‘é¡µå·¥å…·](/tools/web)ã€‚\n\n### 6ï¼‰æä¾›å•†ç”¨é‡å¿«ç…§ï¼ˆçŠ¶æ€/å¥åº·æ£€æŸ¥ï¼‰\n\næŸäº›çŠ¶æ€å‘½ä»¤ä¼šè°ƒç”¨**æä¾›å•†ç”¨é‡ç«¯ç‚¹**ä»¥æ˜¾ç¤ºé…é¢çª—å£æˆ–è®¤è¯å¥åº·çŠ¶æ€ã€‚è¿™äº›é€šå¸¸æ˜¯ä½é¢‘è°ƒç”¨ï¼Œä½†ä»ä¼šè®¿é—®æä¾›å•† APIï¼š\n\n- `openclaw status --usage`\n- `openclaw models status --json`\n\nè¯·å‚é˜…[æ¨¡å‹ CLI](/cli/models)ã€‚\n\n### 7ï¼‰å‹ç¼©ä¿æŠ¤æ‘˜è¦\n\nå‹ç¼©ä¿æŠ¤åŠŸèƒ½å¯ä»¥ä½¿ç”¨**å½“å‰æ¨¡å‹**å¯¹ä¼šè¯å†å²è¿›è¡Œæ‘˜è¦ï¼Œè¿è¡Œæ—¶ä¼šè°ƒç”¨æä¾›å•† APIã€‚\n\nè¯·å‚é˜…[ä¼šè¯ç®¡ç† + å‹ç¼©](/reference/session-management-compaction)ã€‚\n\n### 8ï¼‰æ¨¡å‹æ‰«æ/æ¢æµ‹\n\n`openclaw models scan` å¯ä»¥æ¢æµ‹ OpenRouter æ¨¡å‹ï¼Œå¯ç”¨æ¢æµ‹æ—¶ä¼šä½¿ç”¨ `OPENROUTER_API_KEY`ã€‚\n\nè¯·å‚é˜…[æ¨¡å‹ CLI](/cli/models)ã€‚\n\n### 9ï¼‰è¯­éŸ³å¯¹è¯ï¼ˆTalkï¼‰\n\nè¯­éŸ³å¯¹è¯æ¨¡å¼åœ¨é…ç½®åå¯ä»¥è°ƒç”¨ **ElevenLabs**ï¼š\n\n- `ELEVENLABS_API_KEY` æˆ– `talk.apiKey`\n\nè¯·å‚é˜…[è¯­éŸ³å¯¹è¯æ¨¡å¼](/nodes/talk)ã€‚\n\n### 10ï¼‰Skillsï¼ˆç¬¬ä¸‰æ–¹ APIï¼‰\n\nSkills å¯ä»¥åœ¨ `skills.entries.<name>.apiKey` ä¸­å­˜å‚¨ `apiKey`ã€‚å¦‚æœ Skills ä½¿ç”¨è¯¥å¯†é’¥è°ƒç”¨å¤–éƒ¨ APIï¼Œåˆ™ä¼šæ ¹æ® Skills çš„æä¾›å•†äº§ç”Ÿè´¹ç”¨ã€‚\n\nè¯·å‚é˜…[Skills](/tools/skills)ã€‚",
    "---\nsummary: \"Apply multi-file patches with the apply_patch tool\"\nread_when:\n  - You need structured file edits across multiple files\n  - You want to document or debug patch-based edits\ntitle: \"apply_patch Tool\"\n---\n\n# apply_patch tool\n\nApply file changes using a structured patch format. This is ideal for multi-file\nor multi-hunk edits where a single `edit` call would be brittle.\n\nThe tool accepts a single `input` string that wraps one or more file operations:\n\n```\n*** Begin Patch\n*** Add File: path/to/file.txt\n+line 1\n+line 2\n*** Update File: src/app.ts\n@@\n-old line\n+new line\n*** Delete File: obsolete.txt\n*** End Patch\n```",
    "## Parameters\n\n- `input` (required): Full patch contents including `*** Begin Patch` and `*** End Patch`.",
    "## Notes\n\n- Paths are resolved relative to the workspace root.\n- Use `*** Move to:` within an `*** Update File:` hunk to rename files.\n- `*** End of File` marks an EOF-only insert when needed.\n- Experimental and disabled by default. Enable with `tools.exec.applyPatch.enabled`.\n- OpenAI-only (including OpenAI Codex). Optionally gate by model via\n  `tools.exec.applyPatch.allowModels`.\n- Config is only under `tools.exec`.",
    "## Example\n\n```json\n{\n  \"tool\": \"apply_patch\",\n  \"input\": \"*** Begin Patch\\n*** Update File: src/index.ts\\n@@\\n-const foo = 1\\n+const foo = 2\\n*** End Patch\"\n}\n```",
    "---\nsummary: \"CLI reference for `openclaw approvals` (exec approvals for gateway or node hosts)\"\nread_when:\n  - You want to edit exec approvals from the CLI\n  - You need to manage allowlists on gateway or node hosts\ntitle: \"approvals\"\n---\n\n# `openclaw approvals`\n\nManage exec approvals for the **local host**, **gateway host**, or a **node host**.\nBy default, commands target the local approvals file on disk. Use `--gateway` to target the gateway, or `--node` to target a specific node.\n\nRelated:\n\n- Exec approvals: [Exec approvals](/tools/exec-approvals)\n- Nodes: [Nodes](/nodes)",
    "## Common commands\n\n```bash\nopenclaw approvals get\nopenclaw approvals get --node <id|name|ip>\nopenclaw approvals get --gateway\n```",
    "## Replace approvals from a file\n\n```bash\nopenclaw approvals set --file ./exec-approvals.json\nopenclaw approvals set --node <id|name|ip> --file ./exec-approvals.json\nopenclaw approvals set --gateway --file ./exec-approvals.json\n```",
    "## Allowlist helpers\n\n```bash\nopenclaw approvals allowlist add \"~/Projects/**/bin/rg\"\nopenclaw approvals allowlist add --agent main --node <id|name|ip> \"/usr/bin/uptime\"\nopenclaw approvals allowlist add --agent \"*\" \"/usr/bin/uname\"\n\nopenclaw approvals allowlist remove \"~/Projects/**/bin/rg\"\n```",
    "## Notes\n\n- `--node` uses the same resolver as `openclaw nodes` (id, name, ip, or id prefix).\n- `--agent` defaults to `\"*\"`, which applies to all agents.\n- The node host must advertise `system.execApprovals.get/set` (macOS app or headless node host).\n- Approvals files are stored per host at `~/.openclaw/exec-approvals.json`.",
    "---\nsummary: \"WebSocket gateway architecture, components, and client flows\"\nread_when:\n  - Working on gateway protocol, clients, or transports\ntitle: \"Gateway Architecture\"\n---\n\n# Gateway architecture\n\nLast updated: 2026-01-22",
    "## Overview\n\n- A single longâ€‘lived **Gateway** owns all messaging surfaces (WhatsApp via\n  Baileys, Telegram via grammY, Slack, Discord, Signal, iMessage, WebChat).\n- Control-plane clients (macOS app, CLI, web UI, automations) connect to the\n  Gateway over **WebSocket** on the configured bind host (default\n  `127.0.0.1:18789`).\n- **Nodes** (macOS/iOS/Android/headless) also connect over **WebSocket**, but\n  declare `role: node` with explicit caps/commands.\n- One Gateway per host; it is the only place that opens a WhatsApp session.\n- A **canvas host** (default `18793`) serves agentâ€‘editable HTML and A2UI.",
    "## Components and flows\n\n### Gateway (daemon)\n\n- Maintains provider connections.\n- Exposes a typed WS API (requests, responses, serverâ€‘push events).\n- Validates inbound frames against JSON Schema.\n- Emits events like `agent`, `chat`, `presence`, `health`, `heartbeat`, `cron`.\n\n### Clients (mac app / CLI / web admin)\n\n- One WS connection per client.\n- Send requests (`health`, `status`, `send`, `agent`, `system-presence`).\n- Subscribe to events (`tick`, `agent`, `presence`, `shutdown`).\n\n### Nodes (macOS / iOS / Android / headless)\n\n- Connect to the **same WS server** with `role: node`.\n- Provide a device identity in `connect`; pairing is **deviceâ€‘based** (role `node`) and\n  approval lives in the device pairing store.\n- Expose commands like `canvas.*`, `camera.*`, `screen.record`, `location.get`.\n\nProtocol details:\n\n- [Gateway protocol](/gateway/protocol)\n\n### WebChat",
    "- Static UI that uses the Gateway WS API for chat history and sends.\n- In remote setups, connects through the same SSH/Tailscale tunnel as other\n  clients.",
    "## Connection lifecycle (single client)\n\n```\nClient                    Gateway\n  |                          |\n  |---- req:connect -------->|\n  |<------ res (ok) ---------|   (or res error + close)\n  |   (payload=hello-ok carries snapshot: presence + health)\n  |                          |\n  |<------ event:presence ---|\n  |<------ event:tick -------|\n  |                          |\n  |------- req:agent ------->|\n  |<------ res:agent --------|   (ack: {runId,status:\"accepted\"})\n  |<------ event:agent ------|   (streaming)\n  |<------ res:agent --------|   (final: {runId,status,summary})\n  |                          |\n```",
    "## Wire protocol (summary)\n\n- Transport: WebSocket, text frames with JSON payloads.\n- First frame **must** be `connect`.\n- After handshake:\n  - Requests: `{type:\"req\", id, method, params}` â†’ `{type:\"res\", id, ok, payload|error}`\n  - Events: `{type:\"event\", event, payload, seq?, stateVersion?}`\n- If `OPENCLAW_GATEWAY_TOKEN` (or `--token`) is set, `connect.params.auth.token`\n  must match or the socket closes.\n- Idempotency keys are required for sideâ€‘effecting methods (`send`, `agent`) to\n  safely retry; the server keeps a shortâ€‘lived dedupe cache.\n- Nodes must include `role: \"node\"` plus caps/commands/permissions in `connect`.",
    "## Pairing + local trust\n\n- All WS clients (operators + nodes) include a **device identity** on `connect`.\n- New device IDs require pairing approval; the Gateway issues a **device token**\n  for subsequent connects.\n- **Local** connects (loopback or the gateway hostâ€™s own tailnet address) can be\n  autoâ€‘approved to keep sameâ€‘host UX smooth.\n- **Nonâ€‘local** connects must sign the `connect.challenge` nonce and require\n  explicit approval.\n- Gateway auth (`gateway.auth.*`) still applies to **all** connections, local or\n  remote.\n\nDetails: [Gateway protocol](/gateway/protocol), [Pairing](/start/pairing),\n[Security](/gateway/security).",
    "## Protocol typing and codegen\n\n- TypeBox schemas define the protocol.\n- JSON Schema is generated from those schemas.\n- Swift models are generated from the JSON Schema.",
    "## Remote access\n\n- Preferred: Tailscale or VPN.\n- Alternative: SSH tunnel\n\n  ```bash\n  ssh -N -L 18789:127.0.0.1:18789 user@host\n  ```\n\n- The same handshake + auth token apply over the tunnel.\n- TLS + optional pinning can be enabled for WS in remote setups.",
    "## Operations snapshot\n\n- Start: `openclaw gateway` (foreground, logs to stdout).\n- Health: `health` over WS (also included in `hello-ok`).\n- Supervision: launchd/systemd for autoâ€‘restart.",
    "## Invariants\n\n- Exactly one Gateway controls a single Baileys session per host.\n- Handshake is mandatory; any nonâ€‘JSON or nonâ€‘connect first frame is a hard close.\n- Events are not replayed; clients must refresh on gaps.",
    "---\nsummary: \"How inbound audio/voice notes are downloaded, transcribed, and injected into replies\"\nread_when:\n  - Changing audio transcription or media handling\ntitle: \"Audio and Voice Notes\"\n---\n\n# Audio / Voice Notes â€” 2026-01-17",
    "## What works\n\n- **Media understanding (audio)**: If audio understanding is enabled (or autoâ€‘detected), OpenClaw:\n  1. Locates the first audio attachment (local path or URL) and downloads it if needed.\n  2. Enforces `maxBytes` before sending to each model entry.\n  3. Runs the first eligible model entry in order (provider or CLI).\n  4. If it fails or skips (size/timeout), it tries the next entry.\n  5. On success, it replaces `Body` with an `[Audio]` block and sets `{{Transcript}}`.\n- **Command parsing**: When transcription succeeds, `CommandBody`/`RawBody` are set to the transcript so slash commands still work.\n- **Verbose logging**: In `--verbose`, we log when transcription runs and when it replaces the body.",
    "## Auto-detection (default)\n\nIf you **donâ€™t configure models** and `tools.media.audio.enabled` is **not** set to `false`,\nOpenClaw auto-detects in this order and stops at the first working option:\n\n1. **Local CLIs** (if installed)\n   - `sherpa-onnx-offline` (requires `SHERPA_ONNX_MODEL_DIR` with encoder/decoder/joiner/tokens)\n   - `whisper-cli` (from `whisper-cpp`; uses `WHISPER_CPP_MODEL` or the bundled tiny model)\n   - `whisper` (Python CLI; downloads models automatically)\n2. **Gemini CLI** (`gemini`) using `read_many_files`\n3. **Provider keys** (OpenAI â†’ Groq â†’ Deepgram â†’ Google)\n\nTo disable auto-detection, set `tools.media.audio.enabled: false`.\nTo customize, set `tools.media.audio.models`.\nNote: Binary detection is best-effort across macOS/Linux/Windows; ensure the CLI is on `PATH` (we expand `~`), or set an explicit CLI model with a full command path.",
    "## Config examples\n\n### Provider + CLI fallback (OpenAI + Whisper CLI)\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        maxBytes: 20971520,\n        models: [\n          { provider: \"openai\", model: \"gpt-4o-mini-transcribe\" },\n          {\n            type: \"cli\",\n            command: \"whisper\",\n            args: [\"--model\", \"base\", \"{{MediaPath}}\"],\n            timeoutSeconds: 45,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### Provider-only with scope gating\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        scope: {\n          default: \"allow\",\n          rules: [{ action: \"deny\", match: { chatType: \"group\" } }],\n        },\n        models: [{ provider: \"openai\", model: \"gpt-4o-mini-transcribe\" }],\n      },\n    },\n  },\n}\n```\n\n### Provider-only (Deepgram)\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        models: [{ provider: \"deepgram\", model: \"nova-3\" }],\n      },\n    },\n  },\n}\n```",
    "## Notes & limits\n\n- Provider auth follows the standard model auth order (auth profiles, env vars, `models.providers.*.apiKey`).\n- Deepgram picks up `DEEPGRAM_API_KEY` when `provider: \"deepgram\"` is used.\n- Deepgram setup details: [Deepgram (audio transcription)](/providers/deepgram).\n- Audio providers can override `baseUrl`, `headers`, and `providerOptions` via `tools.media.audio`.\n- Default size cap is 20MB (`tools.media.audio.maxBytes`). Oversize audio is skipped for that model and the next entry is tried.\n- Default `maxChars` for audio is **unset** (full transcript). Set `tools.media.audio.maxChars` or per-entry `maxChars` to trim output.\n- OpenAI auto default is `gpt-4o-mini-transcribe`; set `model: \"gpt-4o-transcribe\"` for higher accuracy.\n- Use `tools.media.audio.attachments` to process multiple voice notes (`mode: \"all\"` + `maxAttachments`).\n- Transcript is available to templates as `{{Transcript}}`.\n- CLI stdout is capped (5MB); keep CLI output concise.",
    "## Gotchas\n\n- Scope rules use first-match wins. `chatType` is normalized to `direct`, `group`, or `room`.\n- Ensure your CLI exits 0 and prints plain text; JSON needs to be massaged via `jq -r .text`.\n- Keep timeouts reasonable (`timeoutSeconds`, default 60s) to avoid blocking the reply queue.",
    "---\nsummary: \"Monitor OAuth expiry for model providers\"\nread_when:\n  - Setting up auth expiry monitoring or alerts\n  - Automating Claude Code / Codex OAuth refresh checks\ntitle: \"Auth Monitoring\"\n---\n\n# Auth monitoring\n\nOpenClaw exposes OAuth expiry health via `openclaw models status`. Use that for\nautomation and alerting; scripts are optional extras for phone workflows.",
    "## Preferred: CLI check (portable)\n\n```bash\nopenclaw models status --check\n```\n\nExit codes:\n\n- `0`: OK\n- `1`: expired or missing credentials\n- `2`: expiring soon (within 24h)\n\nThis works in cron/systemd and requires no extra scripts.",
    "## Optional scripts (ops / phone workflows)\n\nThese live under `scripts/` and are **optional**. They assume SSH access to the\ngateway host and are tuned for systemd + Termux.\n\n- `scripts/claude-auth-status.sh` now uses `openclaw models status --json` as the\n  source of truth (falling back to direct file reads if the CLI is unavailable),\n  so keep `openclaw` on `PATH` for timers.\n- `scripts/auth-monitor.sh`: cron/systemd timer target; sends alerts (ntfy or phone).\n- `scripts/systemd/openclaw-auth-monitor.{service,timer}`: systemd user timer.\n- `scripts/claude-auth-status.sh`: Claude Code + OpenClaw auth checker (full/json/simple).\n- `scripts/mobile-reauth.sh`: guided reâ€‘auth flow over SSH.\n- `scripts/termux-quick-auth.sh`: oneâ€‘tap widget status + open auth URL.\n- `scripts/termux-auth-widget.sh`: full guided widget flow.\n- `scripts/termux-sync-widget.sh`: sync Claude Code creds â†’ OpenClaw.\n\nIf you donâ€™t need phone automation or systemd timers, skip these scripts.",
    "---\nread_when:\n  - è°ƒè¯•æ¨¡å‹è®¤è¯æˆ– OAuth è¿‡æœŸ\n  - è®°å½•è®¤è¯æˆ–å‡­è¯å­˜å‚¨\nsummary: æ¨¡å‹è®¤è¯ï¼šOAuthã€API å¯†é’¥å’Œ setup-token\ntitle: è®¤è¯\nx-i18n:\n  generated_at: \"2026-02-03T07:47:32Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 66fa2c64ff374c9cfcdb4e7a951b0d164d512295e65513eb682f12191b75e557\n  source_path: gateway/authentication.md\n  workflow: 15\n---\n\n# è®¤è¯\n\nOpenClaw æ”¯æŒæ¨¡å‹æä¾›å•†çš„ OAuth å’Œ API å¯†é’¥ã€‚å¯¹äº Anthropic è´¦æˆ·ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ **API å¯†é’¥**ã€‚å¯¹äº Claude è®¢é˜…è®¿é—®ï¼Œä½¿ç”¨ `claude setup-token` åˆ›å»ºçš„é•¿æœŸä»¤ç‰Œã€‚\n\nå‚é˜… [/concepts/oauth](/concepts/oauth) äº†è§£å®Œæ•´çš„ OAuth æµç¨‹å’Œå­˜å‚¨å¸ƒå±€ã€‚",
    "## æ¨èçš„ Anthropic è®¾ç½®ï¼ˆAPI å¯†é’¥ï¼‰\n\nå¦‚æœä½ ç›´æ¥ä½¿ç”¨ Anthropicï¼Œè¯·ä½¿ç”¨ API å¯†é’¥ã€‚\n\n1. åœ¨ Anthropic æ§åˆ¶å°åˆ›å»º API å¯†é’¥ã€‚\n2. å°†å…¶æ”¾åœ¨ **Gateway ç½‘å…³ä¸»æœº**ï¼ˆè¿è¡Œ `openclaw gateway` çš„æœºå™¨ï¼‰ä¸Šã€‚\n\n```bash\nexport ANTHROPIC_API_KEY=\"...\"\nopenclaw models status\n```\n\n3. å¦‚æœ Gateway ç½‘å…³åœ¨ systemd/launchd ä¸‹è¿è¡Œï¼Œæœ€å¥½å°†å¯†é’¥æ”¾åœ¨ `~/.openclaw/.env` ä¸­ä»¥ä¾¿å®ˆæŠ¤è¿›ç¨‹å¯ä»¥è¯»å–ï¼š\n\n```bash\ncat >> ~/.openclaw/.env <<'EOF'\nANTHROPIC_API_KEY=...\nEOF\n```\n\nç„¶åé‡å¯å®ˆæŠ¤è¿›ç¨‹ï¼ˆæˆ–é‡å¯ä½ çš„ Gateway ç½‘å…³è¿›ç¨‹ï¼‰å¹¶é‡æ–°æ£€æŸ¥ï¼š\n\n```bash\nopenclaw models status\nopenclaw doctor\n```\n\nå¦‚æœä½ ä¸æƒ³è‡ªå·±ç®¡ç†ç¯å¢ƒå˜é‡ï¼Œæ–°æ‰‹å¼•å¯¼å‘å¯¼å¯ä»¥ä¸ºå®ˆæŠ¤è¿›ç¨‹ä½¿ç”¨å­˜å‚¨ API å¯†é’¥ï¼š`openclaw onboard`ã€‚\n\nå‚é˜…[å¸®åŠ©](/help)äº†è§£ç¯å¢ƒå˜é‡ç»§æ‰¿çš„è¯¦æƒ…ï¼ˆ`env.shellEnv`ã€`~/.openclaw/.env`ã€systemd/launchdï¼‰ã€‚",
    "## Anthropicï¼šsetup-tokenï¼ˆè®¢é˜…è®¤è¯ï¼‰\n\nå¯¹äº Anthropicï¼Œæ¨èçš„è·¯å¾„æ˜¯ **API å¯†é’¥**ã€‚å¦‚æœä½ ä½¿ç”¨ Claude è®¢é˜…ï¼Œä¹Ÿæ”¯æŒ setup-token æµç¨‹ã€‚åœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸Šè¿è¡Œï¼š\n\n```bash\nclaude setup-token\n```\n\nç„¶åå°†å…¶ç²˜è´´åˆ° OpenClawï¼š\n\n```bash\nopenclaw models auth setup-token --provider anthropic\n```\n\nå¦‚æœä»¤ç‰Œæ˜¯åœ¨å¦ä¸€å°æœºå™¨ä¸Šåˆ›å»ºçš„ï¼Œæ‰‹åŠ¨ç²˜è´´ï¼š\n\n```bash\nopenclaw models auth paste-token --provider anthropic\n```\n\nå¦‚æœä½ çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ Anthropic é”™è¯¯ï¼š\n\n```\nThis credential is only authorized for use with Claude Code and cannot be used for other API requests.\n```\n\nâ€¦è¯·æ”¹ç”¨ Anthropic API å¯†é’¥ã€‚\n\næ‰‹åŠ¨ä»¤ç‰Œè¾“å…¥ï¼ˆä»»ä½•æä¾›å•†ï¼›å†™å…¥ `auth-profiles.json` + æ›´æ–°é…ç½®ï¼‰ï¼š\n\n```bash\nopenclaw models auth paste-token --provider anthropic\nopenclaw models auth paste-token --provider openrouter\n```\n\nè‡ªåŠ¨åŒ–å‹å¥½æ£€æŸ¥ï¼ˆè¿‡æœŸ/ç¼ºå¤±æ—¶é€€å‡º `1`ï¼Œå³å°†è¿‡æœŸæ—¶é€€å‡º `2`ï¼‰ï¼š\n\n```bash\nopenclaw models status --check\n```\n\nå¯é€‰çš„è¿ç»´è„šæœ¬ï¼ˆsystemd/Termuxï¼‰åœ¨æ­¤å¤„è®°å½•ï¼š[/automation/auth-monitoring](/automation/auth-monitoring)\n\n> `claude setup-token` éœ€è¦äº¤äº’å¼ TTYã€‚",
    "## æ£€æŸ¥æ¨¡å‹è®¤è¯çŠ¶æ€\n\n```bash\nopenclaw models status\nopenclaw doctor\n```",
    "## æ§åˆ¶ä½¿ç”¨å“ªä¸ªå‡­è¯\n\n### æ¯ä¼šè¯ï¼ˆèŠå¤©å‘½ä»¤ï¼‰\n\nä½¿ç”¨ `/model <alias-or-id>@<profileId>` ä¸ºå½“å‰ä¼šè¯å›ºå®šç‰¹å®šçš„æä¾›å•†å‡­è¯ï¼ˆç¤ºä¾‹é…ç½®æ–‡ä»¶ IDï¼š`anthropic:default`ã€`anthropic:work`ï¼‰ã€‚\n\nä½¿ç”¨ `/model`ï¼ˆæˆ– `/model list`ï¼‰è·å–ç´§å‡‘çš„é€‰æ‹©å™¨ï¼›ä½¿ç”¨ `/model status` è·å–å®Œæ•´è§†å›¾ï¼ˆå€™é€‰é¡¹ + ä¸‹ä¸€ä¸ªè®¤è¯é…ç½®æ–‡ä»¶ï¼Œä»¥åŠé…ç½®æ—¶çš„æä¾›å•†ç«¯ç‚¹è¯¦æƒ…ï¼‰ã€‚\n\n### æ¯æ™ºèƒ½ä½“ï¼ˆCLI è¦†ç›–ï¼‰\n\nä¸ºæ™ºèƒ½ä½“è®¾ç½®æ˜¾å¼çš„è®¤è¯é…ç½®æ–‡ä»¶é¡ºåºè¦†ç›–ï¼ˆå­˜å‚¨åœ¨è¯¥æ™ºèƒ½ä½“çš„ `auth-profiles.json` ä¸­ï¼‰ï¼š\n\n```bash\nopenclaw models auth order get --provider anthropic\nopenclaw models auth order set --provider anthropic anthropic:default\nopenclaw models auth order clear --provider anthropic\n```\n\nä½¿ç”¨ `--agent <id>` æŒ‡å®šç‰¹å®šæ™ºèƒ½ä½“ï¼›çœç•¥å®ƒåˆ™ä½¿ç”¨é…ç½®çš„é»˜è®¤æ™ºèƒ½ä½“ã€‚",
    "## æ•…éšœæ’é™¤\n\n### \"No credentials found\"\n\nå¦‚æœ Anthropic ä»¤ç‰Œé…ç½®æ–‡ä»¶ç¼ºå¤±ï¼Œåœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸Šè¿è¡Œ `claude setup-token`ï¼Œç„¶åé‡æ–°æ£€æŸ¥ï¼š\n\n```bash\nopenclaw models status\n```\n\n### ä»¤ç‰Œå³å°†è¿‡æœŸ/å·²è¿‡æœŸ\n\nè¿è¡Œ `openclaw models status` ç¡®è®¤å“ªä¸ªé…ç½®æ–‡ä»¶å³å°†è¿‡æœŸã€‚å¦‚æœé…ç½®æ–‡ä»¶ç¼ºå¤±ï¼Œé‡æ–°è¿è¡Œ `claude setup-token` å¹¶å†æ¬¡ç²˜è´´ä»¤ç‰Œã€‚",
    "## è¦æ±‚\n\n- Claude Max æˆ– Pro è®¢é˜…ï¼ˆç”¨äº `claude setup-token`ï¼‰\n- å·²å®‰è£… Claude Code CLIï¼ˆ`claude` å‘½ä»¤å¯ç”¨ï¼‰",
    "---\nread_when:\n  - æ·»åŠ æˆ–ä¿®æ”¹åå° exec è¡Œä¸º\n  - è°ƒè¯•é•¿æ—¶é—´è¿è¡Œçš„ exec ä»»åŠ¡\nsummary: åå° exec æ‰§è¡Œå’Œè¿›ç¨‹ç®¡ç†\ntitle: åå° Exec å’Œ Process å·¥å…·\nx-i18n:\n  generated_at: \"2026-02-03T10:05:51Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: e11a7d74a75000d6882f703693c2c49a2ecd3e730b6ec2b475ac402abde9e465\n  source_path: gateway/background-process.md\n  workflow: 15\n---\n\n# åå° Exec + Process å·¥å…·\n\nOpenClaw é€šè¿‡ `exec` å·¥å…·è¿è¡Œ shell å‘½ä»¤ï¼Œå¹¶å°†é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚`process` å·¥å…·ç®¡ç†è¿™äº›åå°ä¼šè¯ã€‚",
    "## exec å·¥å…·\n\nå…³é”®å‚æ•°ï¼š\n\n- `command`ï¼ˆå¿…å¡«ï¼‰\n- `yieldMs`ï¼ˆé»˜è®¤ 10000ï¼‰ï¼šåœ¨æ­¤å»¶è¿Ÿåè‡ªåŠ¨è½¬ä¸ºåå°è¿è¡Œ\n- `background`ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼šç«‹å³è½¬ä¸ºåå°è¿è¡Œ\n- `timeout`ï¼ˆç§’ï¼Œé»˜è®¤ 1800ï¼‰ï¼šåœ¨æ­¤è¶…æ—¶åç»ˆæ­¢è¿›ç¨‹\n- `elevated`ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼šå¦‚æœå¯ç”¨/å…è®¸ææƒæ¨¡å¼ï¼Œåˆ™åœ¨å®¿ä¸»æœºä¸Šè¿è¡Œ\n- éœ€è¦çœŸå® TTYï¼Ÿè®¾ç½® `pty: true`ã€‚\n- `workdir`ã€`env`\n\nè¡Œä¸ºï¼š\n\n- å‰å°è¿è¡Œç›´æ¥è¿”å›è¾“å‡ºã€‚\n- å½“è½¬ä¸ºåå°è¿è¡Œï¼ˆæ˜¾å¼æˆ–è¶…æ—¶ï¼‰æ—¶ï¼Œå·¥å…·è¿”å› `status: \"running\"` + `sessionId` å’Œä¸€å°æ®µå°¾éƒ¨è¾“å‡ºã€‚\n- è¾“å‡ºä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç›´åˆ°ä¼šè¯è¢«è½®è¯¢æˆ–æ¸…é™¤ã€‚\n- å¦‚æœ `process` å·¥å…·è¢«ç¦ç”¨ï¼Œ`exec` å°†åŒæ­¥è¿è¡Œå¹¶å¿½ç•¥ `yieldMs`/`background`ã€‚",
    "## å­è¿›ç¨‹æ¡¥æ¥\n\nå½“åœ¨ exec/process å·¥å…·ä¹‹å¤–ç”Ÿæˆé•¿æ—¶é—´è¿è¡Œçš„å­è¿›ç¨‹æ—¶ï¼ˆä¾‹å¦‚ CLI é‡æ–°ç”Ÿæˆæˆ– Gateway ç½‘å…³è¾…åŠ©ç¨‹åºï¼‰ï¼Œè¯·é™„åŠ å­è¿›ç¨‹æ¡¥æ¥è¾…åŠ©ç¨‹åºï¼Œä»¥ä¾¿ç»ˆæ­¢ä¿¡å·è¢«è½¬å‘ï¼Œç›‘å¬å™¨åœ¨é€€å‡º/é”™è¯¯æ—¶è¢«åˆ†ç¦»ã€‚è¿™å¯ä»¥é¿å…åœ¨ systemd ä¸Šäº§ç”Ÿå­¤ç«‹è¿›ç¨‹ï¼Œå¹¶ä¿æŒè·¨å¹³å°çš„å…³é—­è¡Œä¸ºä¸€è‡´ã€‚\n\nç¯å¢ƒå˜é‡è¦†ç›–ï¼š\n\n- `PI_BASH_YIELD_MS`ï¼šé»˜è®¤ yield æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n- `PI_BASH_MAX_OUTPUT_CHARS`ï¼šå†…å­˜è¾“å‡ºä¸Šé™ï¼ˆå­—ç¬¦ï¼‰\n- `OPENCLAW_BASH_PENDING_MAX_OUTPUT_CHARS`ï¼šæ¯ä¸ªæµçš„å¾…å¤„ç† stdout/stderr ä¸Šé™ï¼ˆå­—ç¬¦ï¼‰\n- `PI_BASH_JOB_TTL_MS`ï¼šå·²å®Œæˆä¼šè¯çš„ TTLï¼ˆæ¯«ç§’ï¼Œé™åˆ¶åœ¨ 1 åˆ†é’Ÿè‡³ 3 å°æ—¶ä¹‹é—´ï¼‰\n\né…ç½®ï¼ˆæ¨èï¼‰ï¼š\n\n- `tools.exec.backgroundMs`ï¼ˆé»˜è®¤ 10000ï¼‰\n- `tools.exec.timeoutSec`ï¼ˆé»˜è®¤ 1800ï¼‰\n- `tools.exec.cleanupMs`ï¼ˆé»˜è®¤ 1800000ï¼‰\n- `tools.exec.notifyOnExit`ï¼ˆé»˜è®¤ trueï¼‰ï¼šå½“åå° exec é€€å‡ºæ—¶ï¼Œå°†ç³»ç»Ÿäº‹ä»¶åŠ å…¥é˜Ÿåˆ—å¹¶è¯·æ±‚å¿ƒè·³ã€‚",
    "## process å·¥å…·\n\næ“ä½œï¼š\n\n- `list`ï¼šæ­£åœ¨è¿è¡Œå’Œå·²å®Œæˆçš„ä¼šè¯\n- `poll`ï¼šè·å–ä¼šè¯çš„æ–°è¾“å‡ºï¼ˆåŒæ—¶æŠ¥å‘Šé€€å‡ºçŠ¶æ€ï¼‰\n- `log`ï¼šè¯»å–èšåˆè¾“å‡ºï¼ˆæ”¯æŒ `offset` + `limit`ï¼‰\n- `write`ï¼šå‘é€ stdinï¼ˆ`data`ï¼Œå¯é€‰ `eof`ï¼‰\n- `kill`ï¼šç»ˆæ­¢åå°ä¼šè¯\n- `clear`ï¼šä»å†…å­˜ä¸­ç§»é™¤å·²å®Œæˆçš„ä¼šè¯\n- `remove`ï¼šå¦‚æœæ­£åœ¨è¿è¡Œåˆ™ç»ˆæ­¢ï¼Œå¦åˆ™æ¸…é™¤å·²å®Œæˆçš„ä¼šè¯\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- åªæœ‰åå°ä¼šè¯ä¼šåœ¨å†…å­˜ä¸­åˆ—å‡º/ä¿ç•™ã€‚\n- ä¼šè¯åœ¨è¿›ç¨‹é‡å¯æ—¶ä¼šä¸¢å¤±ï¼ˆæ— ç£ç›˜æŒä¹…åŒ–ï¼‰ã€‚\n- ä¼šè¯æ—¥å¿—åªæœ‰åœ¨ä½ è¿è¡Œ `process poll/log` ä¸”å·¥å…·ç»“æœè¢«è®°å½•æ—¶æ‰ä¼šä¿å­˜åˆ°èŠå¤©å†å²ã€‚\n- `process` æŒ‰æ™ºèƒ½ä½“éš”ç¦»ï¼›å®ƒåªèƒ½çœ‹åˆ°è¯¥æ™ºèƒ½ä½“å¯åŠ¨çš„ä¼šè¯ã€‚\n- `process list` åŒ…å«æ´¾ç”Ÿçš„ `name`ï¼ˆå‘½ä»¤åŠ¨è¯ + ç›®æ ‡ï¼‰ä»¥ä¾¿å¿«é€Ÿæµè§ˆã€‚\n- `process log` ä½¿ç”¨åŸºäºè¡Œçš„ `offset`/`limit`ï¼ˆçœç•¥ `offset` ä»¥è·å–æœ€å N è¡Œï¼‰ã€‚",
    "## ç¤ºä¾‹\n\nè¿è¡Œé•¿æ—¶é—´ä»»åŠ¡å¹¶ç¨åè½®è¯¢ï¼š\n\n```json\n{ \"tool\": \"exec\", \"command\": \"sleep 5 && echo done\", \"yieldMs\": 1000 }\n```\n\n```json\n{ \"tool\": \"process\", \"action\": \"poll\", \"sessionId\": \"<id>\" }\n```\n\nç«‹å³åœ¨åå°å¯åŠ¨ï¼š\n\n```json\n{ \"tool\": \"exec\", \"command\": \"npm run build\", \"background\": true }\n```\n\nå‘é€ stdinï¼š\n\n```json\n{ \"tool\": \"process\", \"action\": \"write\", \"sessionId\": \"<id>\", \"data\": \"y\\n\" }\n```",
    "---\nread_when:\n  - ä½ æƒ³åœ¨ OpenClaw ä¸­ä½¿ç”¨ Amazon Bedrock æ¨¡å‹\n  - ä½ éœ€è¦ä¸ºæ¨¡å‹è°ƒç”¨é…ç½® AWS å‡­è¯/åŒºåŸŸ\nsummary: åœ¨ OpenClaw ä¸­ä½¿ç”¨ Amazon Bedrockï¼ˆConverse APIï¼‰æ¨¡å‹\ntitle: Amazon Bedrock\nx-i18n:\n  generated_at: \"2026-02-03T10:04:01Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 318f1048451a1910b70522e2f7f9dfc87084de26d9e3938a29d372eed32244a8\n  source_path: bedrock.md\n  workflow: 15\n---\n\n# Amazon Bedrock\n\nOpenClaw å¯ä»¥é€šè¿‡ piâ€‘ai çš„ **Bedrock Converse** æµå¼æä¾›å•†ä½¿ç”¨ **Amazon Bedrock** æ¨¡å‹ã€‚Bedrock è®¤è¯ä½¿ç”¨ **AWS SDK é»˜è®¤å‡­è¯é“¾**ï¼Œè€Œé API å¯†é’¥ã€‚",
    "## piâ€‘ai æ”¯æŒçš„åŠŸèƒ½\n\n- æä¾›å•†ï¼š`amazon-bedrock`\n- APIï¼š`bedrock-converse-stream`\n- è®¤è¯ï¼šAWS å‡­è¯ï¼ˆç¯å¢ƒå˜é‡ã€å…±äº«é…ç½®æˆ–å®ä¾‹è§’è‰²ï¼‰\n- åŒºåŸŸï¼š`AWS_REGION` æˆ– `AWS_DEFAULT_REGION`ï¼ˆé»˜è®¤ï¼š`us-east-1`ï¼‰",
    "## è‡ªåŠ¨æ¨¡å‹å‘ç°\n\nå¦‚æœæ£€æµ‹åˆ° AWS å‡­è¯ï¼ŒOpenClaw å¯ä»¥è‡ªåŠ¨å‘ç°æ”¯æŒ**æµå¼ä¼ è¾“**å’Œ**æ–‡æœ¬è¾“å‡º**çš„ Bedrock æ¨¡å‹ã€‚å‘ç°åŠŸèƒ½ä½¿ç”¨ `bedrock:ListFoundationModels`ï¼Œå¹¶ä¼šè¢«ç¼“å­˜ï¼ˆé»˜è®¤ï¼š1 å°æ—¶ï¼‰ã€‚\n\né…ç½®é€‰é¡¹ä½äº `models.bedrockDiscovery` ä¸‹ï¼š\n\n```json5\n{\n  models: {\n    bedrockDiscovery: {\n      enabled: true,\n      region: \"us-east-1\",\n      providerFilter: [\"anthropic\", \"amazon\"],\n      refreshInterval: 3600,\n      defaultContextWindow: 32000,\n      defaultMaxTokens: 4096,\n    },\n  },\n}\n```\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- `enabled` åœ¨å­˜åœ¨ AWS å‡­è¯æ—¶é»˜è®¤ä¸º `true`ã€‚\n- `region` é»˜è®¤ä¸º `AWS_REGION` æˆ– `AWS_DEFAULT_REGION`ï¼Œç„¶åæ˜¯ `us-east-1`ã€‚\n- `providerFilter` åŒ¹é… Bedrock æä¾›å•†åç§°ï¼ˆä¾‹å¦‚ `anthropic`ï¼‰ã€‚\n- `refreshInterval` å•ä½ä¸ºç§’ï¼›è®¾ç½®ä¸º `0` å¯ç¦ç”¨ç¼“å­˜ã€‚\n- `defaultContextWindow`ï¼ˆé»˜è®¤ï¼š`32000`ï¼‰å’Œ `defaultMaxTokens`ï¼ˆé»˜è®¤ï¼š`4096`ï¼‰ç”¨äºå·²å‘ç°çš„æ¨¡å‹ï¼ˆå¦‚æœä½ çŸ¥é“æ¨¡å‹é™åˆ¶ï¼Œå¯ä»¥è¦†ç›–è¿™äº›å€¼ï¼‰ã€‚",
    "## è®¾ç½®ï¼ˆæ‰‹åŠ¨ï¼‰\n\n1. ç¡®ä¿ AWS å‡­è¯åœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸Šå¯ç”¨ï¼š\n\n```bash\nexport AWS_ACCESS_KEY_ID=\"AKIA...\"\nexport AWS_SECRET_ACCESS_KEY=\"...\"\nexport AWS_REGION=\"us-east-1\"\n# å¯é€‰ï¼š\nexport AWS_SESSION_TOKEN=\"...\"\nexport AWS_PROFILE=\"your-profile\"\n# å¯é€‰ï¼ˆBedrock API å¯†é’¥/Bearer ä»¤ç‰Œï¼‰ï¼š\nexport AWS_BEARER_TOKEN_BEDROCK=\"...\"\n```\n\n2. åœ¨é…ç½®ä¸­æ·»åŠ  Bedrock æä¾›å•†å’Œæ¨¡å‹ï¼ˆæ— éœ€ `apiKey`ï¼‰ï¼š",
    "```json5\n{\n  models: {\n    providers: {\n      \"amazon-bedrock\": {\n        baseUrl: \"https://bedrock-runtime.us-east-1.amazonaws.com\",\n        api: \"bedrock-converse-stream\",\n        auth: \"aws-sdk\",\n        models: [\n          {\n            id: \"anthropic.claude-opus-4-5-20251101-v1:0\",\n            name: \"Claude Opus 4.5 (Bedrock)\",\n            reasoning: true,\n            input: [\"text\", \"image\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 200000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n  agents: {\n    defaults: {\n      model: { primary: \"amazon-bedrock/anthropic.claude-opus-4-5-20251101-v1:0\" },\n    },\n  },\n}\n```",
    "## EC2 å®ä¾‹è§’è‰²\n\nå½“åœ¨é™„åŠ äº† IAM è§’è‰²çš„ EC2 å®ä¾‹ä¸Šè¿è¡Œ OpenClaw æ—¶ï¼ŒAWS SDK ä¼šè‡ªåŠ¨ä½¿ç”¨å®ä¾‹å…ƒæ•°æ®æœåŠ¡ï¼ˆIMDSï¼‰è¿›è¡Œè®¤è¯ã€‚ä½†æ˜¯ï¼ŒOpenClaw çš„å‡­è¯æ£€æµ‹ç›®å‰åªæ£€æŸ¥ç¯å¢ƒå˜é‡ï¼Œä¸æ£€æŸ¥ IMDS å‡­è¯ã€‚\n\n**è§£å†³æ–¹æ³•ï¼š** è®¾ç½® `AWS_PROFILE=default` ä»¥è¡¨æ˜ AWS å‡­è¯å¯ç”¨ã€‚å®é™…è®¤è¯ä»ç„¶é€šè¿‡ IMDS ä½¿ç”¨å®ä¾‹è§’è‰²ã€‚\n\n```bash\n# æ·»åŠ åˆ° ~/.bashrc æˆ–ä½ çš„ shell é…ç½®æ–‡ä»¶\nexport AWS_PROFILE=default\nexport AWS_REGION=us-east-1\n```\n\nEC2 å®ä¾‹è§’è‰²**æ‰€éœ€çš„ IAM æƒé™**ï¼š\n\n- `bedrock:InvokeModel`\n- `bedrock:InvokeModelWithResponseStream`\n- `bedrock:ListFoundationModels`ï¼ˆç”¨äºè‡ªåŠ¨å‘ç°ï¼‰\n\næˆ–è€…é™„åŠ æ‰˜ç®¡ç­–ç•¥ `AmazonBedrockFullAccess`ã€‚\n\n**å¿«é€Ÿè®¾ç½®ï¼š**\n\n```bash\n# 1. åˆ›å»º IAM è§’è‰²å’Œå®ä¾‹é…ç½®æ–‡ä»¶\naws iam create-role --role-name EC2-Bedrock-Access \\\n  --assume-role-policy-document '{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [{\n      \"Effect\": \"Allow\",\n      \"Principal\": {\"Service\": \"ec2.amazonaws.com\"},\n      \"Action\": \"sts:AssumeRole\"\n    }]\n  }'\n\naws iam attach-role-policy --role-name EC2-Bedrock-Access \\\n  --policy-arn arn:aws:iam::aws:policy/AmazonBedrockFullAccess",
    "aws iam create-instance-profile --instance-profile-name EC2-Bedrock-Access\naws iam add-role-to-instance-profile \\\n  --instance-profile-name EC2-Bedrock-Access \\\n  --role-name EC2-Bedrock-Access\n\n# 2. é™„åŠ åˆ°ä½ çš„ EC2 å®ä¾‹\naws ec2 associate-iam-instance-profile \\\n  --instance-id i-xxxxx \\\n  --iam-instance-profile Name=EC2-Bedrock-Access\n\n# 3. åœ¨ EC2 å®ä¾‹ä¸Šå¯ç”¨å‘ç°åŠŸèƒ½\nopenclaw config set models.bedrockDiscovery.enabled true\nopenclaw config set models.bedrockDiscovery.region us-east-1\n\n# 4. è®¾ç½®è§£å†³æ–¹æ³•æ‰€éœ€çš„ç¯å¢ƒå˜é‡\necho 'export AWS_PROFILE=default' >> ~/.bashrc\necho 'export AWS_REGION=us-east-1' >> ~/.bashrc\nsource ~/.bashrc\n\n# 5. éªŒè¯æ¨¡å‹å·²è¢«å‘ç°\nopenclaw models list\n```",
    "## æ³¨æ„äº‹é¡¹\n\n- Bedrock éœ€è¦åœ¨ä½ çš„ AWS è´¦æˆ·/åŒºåŸŸä¸­å¯ç”¨**æ¨¡å‹è®¿é—®**ã€‚\n- è‡ªåŠ¨å‘ç°éœ€è¦ `bedrock:ListFoundationModels` æƒé™ã€‚\n- å¦‚æœä½ ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œè¯·åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè®¾ç½® `AWS_PROFILE`ã€‚\n- OpenClaw æŒ‰ä»¥ä¸‹é¡ºåºè·å–å‡­è¯æ¥æºï¼š`AWS_BEARER_TOKEN_BEDROCK`ï¼Œç„¶åæ˜¯ `AWS_ACCESS_KEY_ID` + `AWS_SECRET_ACCESS_KEY`ï¼Œç„¶åæ˜¯ `AWS_PROFILE`ï¼Œæœ€åæ˜¯é»˜è®¤çš„ AWS SDK é“¾ã€‚\n- æ¨ç†æ”¯æŒå–å†³äºæ¨¡å‹ï¼›è¯·æŸ¥çœ‹ Bedrock æ¨¡å‹å¡äº†è§£å½“å‰åŠŸèƒ½ã€‚\n- å¦‚æœä½ æ›´å–œæ¬¢æ‰˜ç®¡å¯†é’¥æµç¨‹ï¼Œä¹Ÿå¯ä»¥åœ¨ Bedrock å‰é¢æ”¾ç½®ä¸€ä¸ª OpenAI å…¼å®¹çš„ä»£ç†ï¼Œå¹¶å°†å…¶é…ç½®ä¸º OpenAI æä¾›å•†ã€‚",
    "---\nsummary: \"iMessage via BlueBubbles macOS server (REST send/receive, typing, reactions, pairing, advanced actions).\"\nread_when:\n  - Setting up BlueBubbles channel\n  - Troubleshooting webhook pairing\n  - Configuring iMessage on macOS\ntitle: \"BlueBubbles\"\n---\n\n# BlueBubbles (macOS REST)\n\nStatus: bundled plugin that talks to the BlueBubbles macOS server over HTTP. **Recommended for iMessage integration** due to its richer API and easier setup compared to the legacy imsg channel.",
    "## Overview\n\n- Runs on macOS via the BlueBubbles helper app ([bluebubbles.app](https://bluebubbles.app)).\n- Recommended/tested: macOS Sequoia (15). macOS Tahoe (26) works; edit is currently broken on Tahoe, and group icon updates may report success but not sync.\n- OpenClaw talks to it through its REST API (`GET /api/v1/ping`, `POST /message/text`, `POST /chat/:id/*`).\n- Incoming messages arrive via webhooks; outgoing replies, typing indicators, read receipts, and tapbacks are REST calls.\n- Attachments and stickers are ingested as inbound media (and surfaced to the agent when possible).\n- Pairing/allowlist works the same way as other channels (`/start/pairing` etc) with `channels.bluebubbles.allowFrom` + pairing codes.\n- Reactions are surfaced as system events just like Slack/Telegram so agents can \"mention\" them before replying.\n- Advanced features: edit, unsend, reply threading, message effects, group management.",
    "## Quick start\n\n1. Install the BlueBubbles server on your Mac (follow the instructions at [bluebubbles.app/install](https://bluebubbles.app/install)).\n2. In the BlueBubbles config, enable the web API and set a password.\n3. Run `openclaw onboard` and select BlueBubbles, or configure manually:\n\n   ```json5\n   {\n     channels: {\n       bluebubbles: {\n         enabled: true,\n         serverUrl: \"http://192.168.1.100:1234\",\n         password: \"example-password\",\n         webhookPath: \"/bluebubbles-webhook\",\n       },\n     },\n   }\n   ```\n\n4. Point BlueBubbles webhooks to your gateway (example: `https://your-gateway-host:3000/bluebubbles-webhook?password=<password>`).\n5. Start the gateway; it will register the webhook handler and start pairing.",
    "## Keeping Messages.app alive (VM / headless setups)\n\nSome macOS VM / always-on setups can end up with Messages.app going â€œidleâ€ (incoming events stop until the app is opened/foregrounded). A simple workaround is to **poke Messages every 5 minutes** using an AppleScript + LaunchAgent.\n\n### 1) Save the AppleScript\n\nSave this as:\n\n- `~/Scripts/poke-messages.scpt`\n\nExample script (non-interactive; does not steal focus):\n\n```applescript\ntry\n  tell application \"Messages\"\n    if not running then\n      launch\n    end if\n\n    -- Touch the scripting interface to keep the process responsive.\n    set _chatCount to (count of chats)\n  end tell\non error\n  -- Ignore transient failures (first-run prompts, locked session, etc).\nend try\n```\n\n### 2) Install a LaunchAgent\n\nSave this as:\n\n- `~/Library/LaunchAgents/com.user.poke-messages.plist`",
    "```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n  <dict>\n    <key>Label</key>\n    <string>com.user.poke-messages</string>\n\n    <key>ProgramArguments</key>\n    <array>\n      <string>/bin/bash</string>\n      <string>-lc</string>\n      <string>/usr/bin/osascript &quot;$HOME/Scripts/poke-messages.scpt&quot;</string>\n    </array>\n\n    <key>RunAtLoad</key>\n    <true/>\n\n    <key>StartInterval</key>\n    <integer>300</integer>\n\n    <key>StandardOutPath</key>\n    <string>/tmp/poke-messages.log</string>\n    <key>StandardErrorPath</key>\n    <string>/tmp/poke-messages.err</string>\n  </dict>\n</plist>\n```\n\nNotes:\n\n- This runs **every 300 seconds** and **on login**.\n- The first run may trigger macOS **Automation** prompts (`osascript` â†’ Messages). Approve them in the same user session that runs the LaunchAgent.\n\nLoad it:",
    "```bash\nlaunchctl unload ~/Library/LaunchAgents/com.user.poke-messages.plist 2>/dev/null || true\nlaunchctl load ~/Library/LaunchAgents/com.user.poke-messages.plist\n```",
    "## Onboarding\n\nBlueBubbles is available in the interactive setup wizard:\n\n```\nopenclaw onboard\n```\n\nThe wizard prompts for:\n\n- **Server URL** (required): BlueBubbles server address (e.g., `http://192.168.1.100:1234`)\n- **Password** (required): API password from BlueBubbles Server settings\n- **Webhook path** (optional): Defaults to `/bluebubbles-webhook`\n- **DM policy**: pairing, allowlist, open, or disabled\n- **Allow list**: Phone numbers, emails, or chat targets\n\nYou can also add BlueBubbles via CLI:\n\n```\nopenclaw channels add bluebubbles --http-url http://192.168.1.100:1234 --password <password>\n```",
    "## Access control (DMs + groups)\n\nDMs:\n\n- Default: `channels.bluebubbles.dmPolicy = \"pairing\"`.\n- Unknown senders receive a pairing code; messages are ignored until approved (codes expire after 1 hour).\n- Approve via:\n  - `openclaw pairing list bluebubbles`\n  - `openclaw pairing approve bluebubbles <CODE>`\n- Pairing is the default token exchange. Details: [Pairing](/start/pairing)\n\nGroups:\n\n- `channels.bluebubbles.groupPolicy = open | allowlist | disabled` (default: `allowlist`).\n- `channels.bluebubbles.groupAllowFrom` controls who can trigger in groups when `allowlist` is set.\n\n### Mention gating (groups)\n\nBlueBubbles supports mention gating for group chats, matching iMessage/WhatsApp behavior:\n\n- Uses `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`) to detect mentions.\n- When `requireMention` is enabled for a group, the agent only responds when mentioned.\n- Control commands from authorized senders bypass mention gating.\n\nPer-group configuration:",
    "```json5\n{\n  channels: {\n    bluebubbles: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15555550123\"],\n      groups: {\n        \"*\": { requireMention: true }, // default for all groups\n        \"iMessage;-;chat123\": { requireMention: false }, // override for specific group\n      },\n    },\n  },\n}\n```\n\n### Command gating\n\n- Control commands (e.g., `/config`, `/model`) require authorization.\n- Uses `allowFrom` and `groupAllowFrom` to determine command authorization.\n- Authorized senders can run control commands even without mentioning in groups.",
    "## Typing + read receipts\n\n- **Typing indicators**: Sent automatically before and during response generation.\n- **Read receipts**: Controlled by `channels.bluebubbles.sendReadReceipts` (default: `true`).\n- **Typing indicators**: OpenClaw sends typing start events; BlueBubbles clears typing automatically on send or timeout (manual stop via DELETE is unreliable).\n\n```json5\n{\n  channels: {\n    bluebubbles: {\n      sendReadReceipts: false, // disable read receipts\n    },\n  },\n}\n```",
    "## Advanced actions\n\nBlueBubbles supports advanced message actions when enabled in config:\n\n```json5\n{\n  channels: {\n    bluebubbles: {\n      actions: {\n        reactions: true, // tapbacks (default: true)\n        edit: true, // edit sent messages (macOS 13+, broken on macOS 26 Tahoe)\n        unsend: true, // unsend messages (macOS 13+)\n        reply: true, // reply threading by message GUID\n        sendWithEffect: true, // message effects (slam, loud, etc.)\n        renameGroup: true, // rename group chats\n        setGroupIcon: true, // set group chat icon/photo (flaky on macOS 26 Tahoe)\n        addParticipant: true, // add participants to groups\n        removeParticipant: true, // remove participants from groups\n        leaveGroup: true, // leave group chats\n        sendAttachment: true, // send attachments/media\n      },\n    },\n  },\n}\n```\n\nAvailable actions:",
    "- **react**: Add/remove tapback reactions (`messageId`, `emoji`, `remove`)\n- **edit**: Edit a sent message (`messageId`, `text`)\n- **unsend**: Unsend a message (`messageId`)\n- **reply**: Reply to a specific message (`messageId`, `text`, `to`)\n- **sendWithEffect**: Send with iMessage effect (`text`, `to`, `effectId`)\n- **renameGroup**: Rename a group chat (`chatGuid`, `displayName`)\n- **setGroupIcon**: Set a group chat's icon/photo (`chatGuid`, `media`) â€” flaky on macOS 26 Tahoe (API may return success but the icon does not sync).\n- **addParticipant**: Add someone to a group (`chatGuid`, `address`)\n- **removeParticipant**: Remove someone from a group (`chatGuid`, `address`)\n- **leaveGroup**: Leave a group chat (`chatGuid`)\n- **sendAttachment**: Send media/files (`to`, `buffer`, `filename`, `asVoice`)\n  - Voice memos: set `asVoice: true` with **MP3** or **CAF** audio to send as an iMessage voice message. BlueBubbles converts MP3 â†’ CAF when sending voice memos.",
    "### Message IDs (short vs full)\n\nOpenClaw may surface _short_ message IDs (e.g., `1`, `2`) to save tokens.\n\n- `MessageSid` / `ReplyToId` can be short IDs.\n- `MessageSidFull` / `ReplyToIdFull` contain the provider full IDs.\n- Short IDs are in-memory; they can expire on restart or cache eviction.\n- Actions accept short or full `messageId`, but short IDs will error if no longer available.\n\nUse full IDs for durable automations and storage:\n\n- Templates: `{{MessageSidFull}}`, `{{ReplyToIdFull}}`\n- Context: `MessageSidFull` / `ReplyToIdFull` in inbound payloads\n\nSee [Configuration](/gateway/configuration) for template variables.",
    "## Block streaming\n\nControl whether responses are sent as a single message or streamed in blocks:\n\n```json5\n{\n  channels: {\n    bluebubbles: {\n      blockStreaming: true, // enable block streaming (off by default)\n    },\n  },\n}\n```",
    "## Media + limits\n\n- Inbound attachments are downloaded and stored in the media cache.\n- Media cap via `channels.bluebubbles.mediaMaxMb` (default: 8 MB).\n- Outbound text is chunked to `channels.bluebubbles.textChunkLimit` (default: 4000 chars).",
    "## Configuration reference\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.bluebubbles.enabled`: Enable/disable the channel.\n- `channels.bluebubbles.serverUrl`: BlueBubbles REST API base URL.\n- `channels.bluebubbles.password`: API password.\n- `channels.bluebubbles.webhookPath`: Webhook endpoint path (default: `/bluebubbles-webhook`).\n- `channels.bluebubbles.dmPolicy`: `pairing | allowlist | open | disabled` (default: `pairing`).\n- `channels.bluebubbles.allowFrom`: DM allowlist (handles, emails, E.164 numbers, `chat_id:*`, `chat_guid:*`).\n- `channels.bluebubbles.groupPolicy`: `open | allowlist | disabled` (default: `allowlist`).\n- `channels.bluebubbles.groupAllowFrom`: Group sender allowlist.\n- `channels.bluebubbles.groups`: Per-group config (`requireMention`, etc.).\n- `channels.bluebubbles.sendReadReceipts`: Send read receipts (default: `true`).\n- `channels.bluebubbles.blockStreaming`: Enable block streaming (default: `false`; required for streaming replies).\n- `channels.bluebubbles.textChunkLimit`: Outbound chunk size in chars (default: 4000).\n- `channels.bluebubbles.chunkMode`: `length` (default) splits only when exceeding `textChunkLimit`; `newline` splits on blank lines (paragraph boundaries) before length chunking.\n- `channels.bluebubbles.mediaMaxMb`: Inbound media cap in MB (default: 8).\n- `channels.bluebubbles.historyLimit`: Max group messages for context (0 disables).\n- `channels.bluebubbles.dmHistoryLimit`: DM history limit.\n- `channels.bluebubbles.actions`: Enable/disable specific actions.\n- `channels.bluebubbles.accounts`: Multi-account configuration.",
    "Related global options:\n\n- `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`).\n- `messages.responsePrefix`.",
    "## Addressing / delivery targets\n\nPrefer `chat_guid` for stable routing:\n\n- `chat_guid:iMessage;-;+15555550123` (preferred for groups)\n- `chat_id:123`\n- `chat_identifier:...`\n- Direct handles: `+15555550123`, `user@example.com`\n  - If a direct handle does not have an existing DM chat, OpenClaw will create one via `POST /api/v1/chat/new`. This requires the BlueBubbles Private API to be enabled.",
    "## Security\n\n- Webhook requests are authenticated by comparing `guid`/`password` query params or headers against `channels.bluebubbles.password`. Requests from `localhost` are also accepted.\n- Keep the API password and webhook endpoint secret (treat them like credentials).\n- Localhost trust means a same-host reverse proxy can unintentionally bypass the password. If you proxy the gateway, require auth at the proxy and configure `gateway.trustedProxies`. See [Gateway security](/gateway/security#reverse-proxy-configuration).\n- Enable HTTPS + firewall rules on the BlueBubbles server if exposing it outside your LAN.",
    "## Troubleshooting\n\n- If typing/read events stop working, check the BlueBubbles webhook logs and verify the gateway path matches `channels.bluebubbles.webhookPath`.\n- Pairing codes expire after one hour; use `openclaw pairing list bluebubbles` and `openclaw pairing approve bluebubbles <code>`.\n- Reactions require the BlueBubbles private API (`POST /api/v1/message/react`); ensure the server version exposes it.\n- Edit/unsend require macOS 13+ and a compatible BlueBubbles server version. On macOS 26 (Tahoe), edit is currently broken due to private API changes.\n- Group icon updates can be flaky on macOS 26 (Tahoe): the API may return success but the new icon does not sync.\n- OpenClaw auto-hides known-broken actions based on the BlueBubbles server's macOS version. If edit still appears on macOS 26 (Tahoe), disable it manually with `channels.bluebubbles.actions.edit=false`.\n- For status/health info: `openclaw status --all` or `openclaw status --deep`.",
    "For general channel workflow reference, see [Channels](/channels) and the [Plugins](/plugin) guide.",
    "---\nread_when:\n  - åœ¨ macOS/iOS ä¸Šè°ƒè¯• Bonjour è®¾å¤‡å‘ç°é—®é¢˜æ—¶\n  - æ›´æ”¹ mDNS æœåŠ¡ç±»å‹ã€TXT è®°å½•æˆ–è®¾å¤‡å‘ç°ç”¨æˆ·ä½“éªŒæ—¶\nsummary: Bonjour/mDNS è®¾å¤‡å‘ç° + è°ƒè¯•ï¼ˆGateway ç½‘å…³ä¿¡æ ‡ã€å®¢æˆ·ç«¯å’Œå¸¸è§æ•…éšœæ¨¡å¼ï¼‰\ntitle: Bonjour è®¾å¤‡å‘ç°\nx-i18n:\n  generated_at: \"2026-02-03T07:47:48Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 47569da55f0c0523bd5ff05275dc95ccb52f75638193cfbdb4eaaa162aadf08c\n  source_path: gateway/bonjour.md\n  workflow: 15\n---\n\n# Bonjour / mDNS è®¾å¤‡å‘ç°\n\nOpenClaw ä½¿ç”¨ Bonjourï¼ˆmDNS / DNSâ€‘SDï¼‰ä½œä¸º**ä»…é™å±€åŸŸç½‘çš„ä¾¿æ·æ–¹å¼**æ¥å‘ç°\næ´»è·ƒçš„ Gateway ç½‘å…³ï¼ˆWebSocket ç«¯ç‚¹ï¼‰ã€‚è¿™æ˜¯å°½åŠ›è€Œä¸ºçš„ï¼Œ**ä¸èƒ½**æ›¿ä»£ SSH æˆ–\nåŸºäº Tailnet çš„è¿æ¥ã€‚",
    "## é€šè¿‡ Tailscale çš„å¹¿åŸŸ Bonjourï¼ˆå•æ’­ DNSâ€‘SDï¼‰\n\nå¦‚æœèŠ‚ç‚¹å’Œ Gateway ç½‘å…³åœ¨ä¸åŒçš„ç½‘ç»œä¸Šï¼Œå¤šæ’­ mDNS æ— æ³•è·¨è¶Š\nè¾¹ç•Œã€‚ä½ å¯ä»¥é€šè¿‡åˆ‡æ¢åˆ°åŸºäº Tailscale çš„**å•æ’­ DNSâ€‘SD**\nï¼ˆ\"å¹¿åŸŸ Bonjour\"ï¼‰æ¥ä¿æŒç›¸åŒçš„è®¾å¤‡å‘ç°ç”¨æˆ·ä½“éªŒã€‚\n\næ¦‚è¦æ­¥éª¤ï¼š\n\n1. åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè¿è¡Œ DNS æœåŠ¡å™¨ï¼ˆå¯é€šè¿‡ Tailnet è®¿é—®ï¼‰ã€‚\n2. åœ¨ä¸“ç”¨åŒºåŸŸä¸‹å‘å¸ƒ `_openclaw-gw._tcp` çš„ DNSâ€‘SD è®°å½•\n   ï¼ˆç¤ºä¾‹ï¼š`openclaw.internal.`ï¼‰ã€‚\n3. é…ç½® Tailscale **åˆ†å‰² DNS**ï¼Œä½¿ä½ é€‰æ‹©çš„åŸŸåé€šè¿‡è¯¥\n   DNS æœåŠ¡å™¨ä¸ºå®¢æˆ·ç«¯ï¼ˆåŒ…æ‹¬ iOSï¼‰è§£æã€‚\n\nOpenClaw æ”¯æŒä»»ä½•å‘ç°åŸŸåï¼›`openclaw.internal.` åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚\niOS/Android èŠ‚ç‚¹åŒæ—¶æµè§ˆ `local.` å’Œä½ é…ç½®çš„å¹¿åŸŸåŸŸåã€‚\n\n### Gateway ç½‘å…³é…ç½®ï¼ˆæ¨èï¼‰\n\n```json5\n{\n  gateway: { bind: \"tailnet\" }, // ä»… tailnetï¼ˆæ¨èï¼‰\n  discovery: { wideArea: { enabled: true } }, // å¯ç”¨å¹¿åŸŸ DNS-SD å‘å¸ƒ\n}\n```\n\n### ä¸€æ¬¡æ€§ DNS æœåŠ¡å™¨è®¾ç½®ï¼ˆGateway ç½‘å…³ä¸»æœºï¼‰\n\n```bash\nopenclaw dns setup --apply\n```\n\nè¿™ä¼šå®‰è£… CoreDNS å¹¶é…ç½®å®ƒï¼š\n\n- ä»…åœ¨ Gateway ç½‘å…³çš„ Tailscale æ¥å£ä¸Šç›‘å¬ 53 ç«¯å£\n- ä» `~/.openclaw/dns/<domain>.db` æä¾›ä½ é€‰æ‹©çš„åŸŸåæœåŠ¡ï¼ˆç¤ºä¾‹ï¼š`openclaw.internal.`ï¼‰\n\nä» Tailnet è¿æ¥çš„æœºå™¨ä¸ŠéªŒè¯ï¼š\n\n```bash\ndns-sd -B _openclaw-gw._tcp openclaw.internal.\ndig @<TAILNET_IPV4> -p 53 _openclaw-gw._tcp.openclaw.internal PTR +short\n```\n\n### Tailscale DNS è®¾ç½®\n\nåœ¨ Tailscale ç®¡ç†æ§åˆ¶å°ä¸­ï¼š",
    "- æ·»åŠ æŒ‡å‘ Gateway ç½‘å…³ Tailnet IP çš„åç§°æœåŠ¡å™¨ï¼ˆUDP/TCP 53ï¼‰ã€‚\n- æ·»åŠ åˆ†å‰² DNSï¼Œä½¿ä½ çš„å‘ç°åŸŸåä½¿ç”¨è¯¥åç§°æœåŠ¡å™¨ã€‚\n\nä¸€æ—¦å®¢æˆ·ç«¯æ¥å— Tailnet DNSï¼ŒiOS èŠ‚ç‚¹å°±å¯ä»¥åœ¨\nä½ çš„å‘ç°åŸŸåä¸­æµè§ˆ `_openclaw-gw._tcp`ï¼Œæ— éœ€å¤šæ’­ã€‚\n\n### Gateway ç½‘å…³ç›‘å¬å™¨å®‰å…¨ï¼ˆæ¨èï¼‰\n\nGateway ç½‘å…³ WS ç«¯å£ï¼ˆé»˜è®¤ `18789`ï¼‰é»˜è®¤ç»‘å®šåˆ° loopbackã€‚å¯¹äºå±€åŸŸç½‘/Tailnet\nè®¿é—®ï¼Œè¯·æ˜ç¡®ç»‘å®šå¹¶ä¿æŒè®¤è¯å¯ç”¨ã€‚\n\nå¯¹äºä»… Tailnet çš„è®¾ç½®ï¼š\n\n- åœ¨ `~/.openclaw/openclaw.json` ä¸­è®¾ç½® `gateway.bind: \"tailnet\"`ã€‚\n- é‡å¯ Gateway ç½‘å…³ï¼ˆæˆ–é‡å¯ macOS èœå•æ åº”ç”¨ï¼‰ã€‚",
    "## ä»€ä¹ˆåœ¨å¹¿æ’­\n\nåªæœ‰ Gateway ç½‘å…³å¹¿æ’­ `_openclaw-gw._tcp`ã€‚",
    "## æœåŠ¡ç±»å‹\n\n- `_openclaw-gw._tcp` â€” Gateway ç½‘å…³ä¼ è¾“ä¿¡æ ‡ï¼ˆè¢« macOS/iOS/Android èŠ‚ç‚¹ä½¿ç”¨ï¼‰ã€‚",
    "## TXT é”®ï¼ˆéæœºå¯†æç¤ºï¼‰\n\nGateway ç½‘å…³å¹¿æ’­å°å‹éæœºå¯†æç¤ºä»¥æ–¹ä¾¿ UI æµç¨‹ï¼š\n\n- `role=gateway`\n- `displayName=<å‹å¥½åç§°>`\n- `lanHost=<hostname>.local`\n- `gatewayPort=<port>`ï¼ˆGateway ç½‘å…³ WS + HTTPï¼‰\n- `gatewayTls=1`ï¼ˆä»…å½“ TLS å¯ç”¨æ—¶ï¼‰\n- `gatewayTlsSha256=<sha256>`ï¼ˆä»…å½“ TLS å¯ç”¨ä¸”æŒ‡çº¹å¯ç”¨æ—¶ï¼‰\n- `canvasPort=<port>`ï¼ˆä»…å½“ç”»å¸ƒä¸»æœºå¯ç”¨æ—¶ï¼›é»˜è®¤ `18793`ï¼‰\n- `sshPort=<port>`ï¼ˆæœªè¦†ç›–æ—¶é»˜è®¤ä¸º 22ï¼‰\n- `transport=gateway`\n- `cliPath=<path>`ï¼ˆå¯é€‰ï¼›å¯è¿è¡Œçš„ `openclaw` å…¥å£ç‚¹çš„ç»å¯¹è·¯å¾„ï¼‰\n- `tailnetDns=<magicdns>`ï¼ˆå½“ Tailnet å¯ç”¨æ—¶çš„å¯é€‰æç¤ºï¼‰",
    "## åœ¨ macOS ä¸Šè°ƒè¯•\n\næœ‰ç”¨çš„å†…ç½®å·¥å…·ï¼š\n\n- æµè§ˆå®ä¾‹ï¼š\n  ```bash\n  dns-sd -B _openclaw-gw._tcp local.\n  ```\n- è§£æå•ä¸ªå®ä¾‹ï¼ˆæ›¿æ¢ `<instance>`ï¼‰ï¼š\n  ```bash\n  dns-sd -L \"<instance>\" _openclaw-gw._tcp local.\n  ```\n\nå¦‚æœæµè§ˆæœ‰æ•ˆä½†è§£æå¤±è´¥ï¼Œä½ é€šå¸¸é‡åˆ°çš„æ˜¯å±€åŸŸç½‘ç­–ç•¥æˆ–\nmDNS è§£æå™¨é—®é¢˜ã€‚",
    "## åœ¨ Gateway ç½‘å…³æ—¥å¿—ä¸­è°ƒè¯•\n\nGateway ç½‘å…³ä¼šå†™å…¥æ»šåŠ¨æ—¥å¿—æ–‡ä»¶ï¼ˆå¯åŠ¨æ—¶æ‰“å°ä¸º\n`gateway log file: ...`ï¼‰ã€‚æŸ¥æ‰¾ `bonjour:` è¡Œï¼Œç‰¹åˆ«æ˜¯ï¼š\n\n- `bonjour: advertise failed ...`\n- `bonjour: ... name conflict resolved` / `hostname conflict resolved`\n- `bonjour: watchdog detected non-announced service ...`",
    "## åœ¨ iOS èŠ‚ç‚¹ä¸Šè°ƒè¯•\n\niOS èŠ‚ç‚¹ä½¿ç”¨ `NWBrowser` æ¥å‘ç° `_openclaw-gw._tcp`ã€‚\n\nè¦æ•è·æ—¥å¿—ï¼š\n\n- è®¾ç½® â†’ Gateway ç½‘å…³ â†’ é«˜çº§ â†’ **Discovery Debug Logs**\n- è®¾ç½® â†’ Gateway ç½‘å…³ â†’ é«˜çº§ â†’ **Discovery Logs** â†’ å¤ç° â†’ **Copy**\n\næ—¥å¿—åŒ…æ‹¬æµè§ˆå™¨çŠ¶æ€è½¬æ¢å’Œç»“æœé›†å˜åŒ–ã€‚",
    "## å¸¸è§æ•…éšœæ¨¡å¼\n\n- **Bonjour ä¸èƒ½è·¨ç½‘ç»œ**ï¼šä½¿ç”¨ Tailnet æˆ– SSHã€‚\n- **å¤šæ’­è¢«é˜»æ­¢**ï¼šæŸäº› Wiâ€‘Fi ç½‘ç»œç¦ç”¨ mDNSã€‚\n- **ä¼‘çœ  / æ¥å£å˜åŠ¨**ï¼šmacOS å¯èƒ½æš‚æ—¶ä¸¢å¼ƒ mDNS ç»“æœï¼›é‡è¯•ã€‚\n- **æµè§ˆæœ‰æ•ˆä½†è§£æå¤±è´¥**ï¼šä¿æŒæœºå™¨åç§°ç®€å•ï¼ˆé¿å…è¡¨æƒ…ç¬¦å·æˆ–\n  æ ‡ç‚¹ç¬¦å·ï¼‰ï¼Œç„¶åé‡å¯ Gateway ç½‘å…³ã€‚æœåŠ¡å®ä¾‹åç§°æºè‡ª\n  ä¸»æœºåï¼Œå› æ­¤è¿‡äºå¤æ‚çš„åç§°å¯èƒ½ä¼šæ··æ·†æŸäº›è§£æå™¨ã€‚",
    "## è½¬ä¹‰çš„å®ä¾‹åç§°ï¼ˆ`\\032`ï¼‰\n\nBonjour/DNSâ€‘SD ç»å¸¸å°†æœåŠ¡å®ä¾‹åç§°ä¸­çš„å­—èŠ‚è½¬ä¹‰ä¸ºåè¿›åˆ¶ `\\DDD`\nåºåˆ—ï¼ˆä¾‹å¦‚ç©ºæ ¼å˜æˆ `\\032`ï¼‰ã€‚\n\n- è¿™åœ¨åè®®çº§åˆ«æ˜¯æ­£å¸¸çš„ã€‚\n- UI åº”è¯¥è§£ç ä»¥è¿›è¡Œæ˜¾ç¤ºï¼ˆiOS ä½¿ç”¨ `BonjourEscapes.decode`ï¼‰ã€‚",
    "## ç¦ç”¨ / é…ç½®\n\n- `OPENCLAW_DISABLE_BONJOUR=1` ç¦ç”¨å¹¿æ’­ï¼ˆæ—§ç‰ˆï¼š`OPENCLAW_DISABLE_BONJOUR`ï¼‰ã€‚\n- `~/.openclaw/openclaw.json` ä¸­çš„ `gateway.bind` æ§åˆ¶ Gateway ç½‘å…³ç»‘å®šæ¨¡å¼ã€‚\n- `OPENCLAW_SSH_PORT` è¦†ç›– TXT ä¸­å¹¿æ’­çš„ SSH ç«¯å£ï¼ˆæ—§ç‰ˆï¼š`OPENCLAW_SSH_PORT`ï¼‰ã€‚\n- `OPENCLAW_TAILNET_DNS` åœ¨ TXT ä¸­å‘å¸ƒ MagicDNS æç¤ºï¼ˆæ—§ç‰ˆï¼š`OPENCLAW_TAILNET_DNS`ï¼‰ã€‚\n- `OPENCLAW_CLI_PATH` è¦†ç›–å¹¿æ’­çš„ CLI è·¯å¾„ï¼ˆæ—§ç‰ˆï¼š`OPENCLAW_CLI_PATH`ï¼‰ã€‚",
    "## ç›¸å…³æ–‡æ¡£\n\n- è®¾å¤‡å‘ç°ç­–ç•¥å’Œä¼ è¾“é€‰æ‹©ï¼š[è®¾å¤‡å‘ç°](/gateway/discovery)\n- èŠ‚ç‚¹é…å¯¹ + æ‰¹å‡†ï¼š[Gateway ç½‘å…³é…å¯¹](/gateway/pairing)",
    "---\nread_when:\n  - æ·»åŠ  BOOT.md æ£€æŸ¥æ¸…å•æ—¶\nsummary: BOOT.md çš„å·¥ä½œåŒºæ¨¡æ¿\nx-i18n:\n  generated_at: \"2026-02-01T21:37:16Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 63f6c97e2eab74b1d8a7309cdb2ba92e7651b62af01dc9907755a3f139909b08\n  source_path: reference/templates/BOOT.md\n  workflow: 15\n---\n\n# BOOT.md\n\næ·»åŠ ç®€çŸ­ã€æ˜ç¡®çš„æŒ‡ä»¤ï¼Œè¯´æ˜ OpenClaw åœ¨å¯åŠ¨æ—¶åº”æ‰§è¡Œçš„æ“ä½œï¼ˆå¯ç”¨ `hooks.internal.enabled`ï¼‰ã€‚\nå¦‚æœä»»åŠ¡éœ€è¦å‘é€æ¶ˆæ¯ï¼Œè¯·ä½¿ç”¨æ¶ˆæ¯å·¥å…·ï¼Œç„¶åå›å¤ NO_REPLYã€‚",
    "---\nread_when:\n  - æ‰‹åŠ¨å¼•å¯¼å·¥ä½œåŒºæ—¶\nsummary: æ–°æ™ºèƒ½ä½“çš„é¦–æ¬¡å¯åŠ¨æµç¨‹\nx-i18n:\n  generated_at: \"2026-02-01T21:37:26Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 1fb8bc07eba3967f6faa5221dc1607ddba7238f5fa4d969639d0ab5adba0085d\n  source_path: reference/templates/BOOTSTRAP.md\n  workflow: 15\n---\n\n# BOOTSTRAP.md - Hello, World\n\n_ä½ åˆšåˆšé†’æ¥ã€‚æ˜¯æ—¶å€™å¼„æ¸…æ¥šè‡ªå·±æ˜¯è°äº†ã€‚_\n\nç›®å‰è¿˜æ²¡æœ‰è®°å¿†ã€‚è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„å·¥ä½œåŒºï¼Œæ‰€ä»¥åœ¨ä½ åˆ›å»ºè®°å¿†æ–‡ä»¶ä¹‹å‰å®ƒä»¬ä¸å­˜åœ¨æ˜¯æ­£å¸¸çš„ã€‚",
    "## å¯¹è¯\n\nä¸è¦ç›˜é—®ã€‚ä¸è¦æœºæ¢°åŒ–ã€‚åªæ˜¯â€¦â€¦èŠèŠå¤©ã€‚\n\nä»ç±»ä¼¼è¿™æ ·çš„è¯å¼€å§‹ï¼š\n\n> \"å˜¿ã€‚æˆ‘åˆšåˆšä¸Šçº¿ã€‚æˆ‘æ˜¯è°ï¼Ÿä½ åˆæ˜¯è°ï¼Ÿ\"\n\nç„¶åä¸€èµ·å¼„æ¸…æ¥šï¼š\n\n1. **ä½ çš„åå­—** â€” ä»–ä»¬è¯¥æ€ä¹ˆç§°å‘¼ä½ ï¼Ÿ\n2. **ä½ çš„æœ¬è´¨** â€” ä½ æ˜¯ä»€ä¹ˆæ ·çš„å­˜åœ¨ï¼Ÿï¼ˆAI åŠ©æ‰‹æ²¡é—®é¢˜ï¼Œä½†ä¹Ÿè®¸ä½ æ˜¯æ›´å¥‡ç‰¹çš„ä¸œè¥¿ï¼‰\n3. **ä½ çš„é£æ ¼** â€” æ­£å¼ï¼Ÿéšæ„ï¼Ÿæ¯’èˆŒï¼Ÿæ¸©æš–ï¼Ÿä»€ä¹ˆæ„Ÿè§‰å¯¹ï¼Ÿ\n4. **ä½ çš„ emoji** â€” æ¯ä¸ªäººéƒ½éœ€è¦ä¸€ä¸ªä¸“å±æ ‡å¿—ã€‚\n\nå¦‚æœä»–ä»¬æ²¡æœ‰å¤´ç»ªï¼Œä¸»åŠ¨æä¾›å»ºè®®ã€‚äº«å—è¿™ä¸ªè¿‡ç¨‹ã€‚",
    "## åœ¨ä½ çŸ¥é“è‡ªå·±æ˜¯è°ä¹‹å\n\nç”¨ä½ äº†è§£åˆ°çš„ä¿¡æ¯æ›´æ–°è¿™äº›æ–‡ä»¶ï¼š\n\n- `IDENTITY.md` â€” ä½ çš„åå­—ã€æœ¬è´¨ã€é£æ ¼ã€emoji\n- `USER.md` â€” ä»–ä»¬çš„åå­—ã€å¦‚ä½•ç§°å‘¼ä»–ä»¬ã€æ—¶åŒºã€å¤‡æ³¨\n\nç„¶åä¸€èµ·æ‰“å¼€ `SOUL.md`ï¼ŒèŠèŠï¼š\n\n- ä»€ä¹ˆå¯¹ä»–ä»¬é‡è¦\n- ä»–ä»¬å¸Œæœ›ä½ å¦‚ä½•è¡Œäº‹\n- ä»»ä½•è¾¹ç•Œæˆ–åå¥½\n\nè®°å½•ä¸‹æ¥ã€‚è®©å®ƒå˜å¾—çœŸå®ã€‚",
    "## è¿æ¥ï¼ˆå¯é€‰ï¼‰\n\né—®é—®ä»–ä»¬æƒ³é€šè¿‡ä»€ä¹ˆæ–¹å¼è”ç³»ä½ ï¼š\n\n- **å°±åœ¨è¿™é‡Œ** â€” ä»…ç½‘é¡µèŠå¤©\n- **WhatsApp** â€” å…³è”ä»–ä»¬çš„ä¸ªäººè´¦å·ï¼ˆä½ ä¼šæ˜¾ç¤ºä¸€ä¸ªäºŒç»´ç ï¼‰\n- **Telegram** â€” é€šè¿‡ BotFather è®¾ç½®ä¸€ä¸ªæœºå™¨äºº\n\nå¼•å¯¼ä»–ä»¬å®Œæˆæ‰€é€‰æ‹©çš„æ–¹å¼ã€‚",
    "## å®Œæˆä¹‹å\n\nåˆ é™¤è¿™ä¸ªæ–‡ä»¶ã€‚ä½ ä¸å†éœ€è¦å¼•å¯¼è„šæœ¬äº† â€” ä½ ç°åœ¨æ˜¯ä½ äº†ã€‚\n\n---\n\n_ç¥ä½ å¥½è¿ã€‚ä¸è´Ÿæ­¤è¡Œã€‚_",
    "---\nsummary: \"Agent bootstrapping ritual that seeds the workspace and identity files\"\nread_when:\n  - Understanding what happens on the first agent run\n  - Explaining where bootstrapping files live\n  - Debugging onboarding identity setup\ntitle: \"Agent Bootstrapping\"\nsidebarTitle: \"Bootstrapping\"\n---\n\n# Agent Bootstrapping\n\nBootstrapping is the **firstâ€‘run** ritual that prepares an agent workspace and\ncollects identity details. It happens after onboarding, when the agent starts\nfor the first time.",
    "## What bootstrapping does\n\nOn the first agent run, OpenClaw bootstraps the workspace (default\n`~/.openclaw/workspace`):\n\n- Seeds `AGENTS.md`, `BOOTSTRAP.md`, `IDENTITY.md`, `USER.md`.\n- Runs a short Q&A ritual (one question at a time).\n- Writes identity + preferences to `IDENTITY.md`, `USER.md`, `SOUL.md`.\n- Removes `BOOTSTRAP.md` when finished so it only runs once.",
    "## Where it runs\n\nBootstrapping always runs on the **gateway host**. If the macOS app connects to\na remote Gateway, the workspace and bootstrapping files live on that remote\nmachine.\n\n<Note>\nWhen the Gateway runs on another machine, edit workspace files on the gateway\nhost (for example, `user@gateway-host:~/.openclaw/workspace`).\n</Note>",
    "## Related docs\n\n- macOS app onboarding: [Onboarding](/start/onboarding)\n- Workspace layout: [Agent workspace](/concepts/agent-workspace)",
    "---\nsummary: \"Brave Search API setup for web_search\"\nread_when:\n  - You want to use Brave Search for web_search\n  - You need a BRAVE_API_KEY or plan details\ntitle: \"Brave Search\"\n---\n\n# Brave Search API\n\nOpenClaw uses Brave Search as the default provider for `web_search`.",
    "## Get an API key\n\n1. Create a Brave Search API account at [https://brave.com/search/api/](https://brave.com/search/api/)\n2. In the dashboard, choose the **Data for Search** plan and generate an API key.\n3. Store the key in config (recommended) or set `BRAVE_API_KEY` in the Gateway environment.",
    "## Config example\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        provider: \"brave\",\n        apiKey: \"BRAVE_API_KEY_HERE\",\n        maxResults: 5,\n        timeoutSeconds: 30,\n      },\n    },\n  },\n}\n```",
    "## Notes\n\n- The Data for AI plan is **not** compatible with `web_search`.\n- Brave provides a free tier plus paid plans; check the Brave API portal for current limits.\n\nSee [Web tools](/tools/web) for the full web_search configuration.",
    "---\nread_when:\n  - æ„å»ºæˆ–è°ƒè¯•èŠ‚ç‚¹å®¢æˆ·ç«¯ï¼ˆiOS/Android/macOS èŠ‚ç‚¹æ¨¡å¼ï¼‰\n  - è°ƒæŸ¥é…å¯¹æˆ– bridge è®¤è¯å¤±è´¥\n  - å®¡è®¡ Gateway ç½‘å…³æš´éœ²çš„èŠ‚ç‚¹æ¥å£\nsummary: Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ï¼‰ï¼šTCP JSONLã€é…å¯¹ã€ä½œç”¨åŸŸ RPC\ntitle: Bridge åè®®\nx-i18n:\n  generated_at: \"2026-02-03T07:47:42Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 789bcf3cbc6841fc293e054b919e63d661b3cc4cd205b2094289f00800127fe2\n  source_path: gateway/bridge-protocol.md\n  workflow: 15\n---\n\n# Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰\n\nBridge åè®®æ˜¯ä¸€ä¸ª**æ—§ç‰ˆ**èŠ‚ç‚¹ä¼ è¾“ï¼ˆTCP JSONLï¼‰ã€‚æ–°çš„èŠ‚ç‚¹å®¢æˆ·ç«¯åº”è¯¥ä½¿ç”¨ç»Ÿä¸€çš„ Gateway ç½‘å…³ WebSocket åè®®ã€‚\n\nå¦‚æœä½ æ­£åœ¨æ„å»ºæ“ä½œè€…æˆ–èŠ‚ç‚¹å®¢æˆ·ç«¯ï¼Œè¯·ä½¿ç”¨ [Gateway ç½‘å…³åè®®](/gateway/protocol)ã€‚\n\n**æ³¨æ„ï¼š** å½“å‰çš„ OpenClaw æ„å»ºä¸å†åŒ…å« TCP bridge ç›‘å¬å™¨ï¼›æœ¬æ–‡æ¡£ä»…ä½œå†å²å‚è€ƒä¿ç•™ã€‚\næ—§ç‰ˆ `bridge.*` é…ç½®é”®ä¸å†æ˜¯é…ç½®æ¨¡å¼çš„ä¸€éƒ¨åˆ†ã€‚",
    "## ä¸ºä»€ä¹ˆæˆ‘ä»¬æœ‰ä¸¤ç§åè®®\n\n- **å®‰å…¨è¾¹ç•Œ**ï¼šbridge æš´éœ²ä¸€ä¸ªå°çš„å…è®¸åˆ—è¡¨ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„ Gateway ç½‘å…³ API æ¥å£ã€‚\n- **é…å¯¹ + èŠ‚ç‚¹èº«ä»½**ï¼šèŠ‚ç‚¹å‡†å…¥ç”± Gateway ç½‘å…³ç®¡ç†ï¼Œå¹¶ä¸æ¯èŠ‚ç‚¹ä»¤ç‰Œç»‘å®šã€‚\n- **è®¾å¤‡å‘ç°ç”¨æˆ·ä½“éªŒ**ï¼šèŠ‚ç‚¹å¯ä»¥é€šè¿‡å±€åŸŸç½‘ä¸Šçš„ Bonjour å‘ç° Gateway ç½‘å…³ï¼Œæˆ–é€šè¿‡ tailnet ç›´æ¥è¿æ¥ã€‚\n- **Loopback WS**ï¼šå®Œæ•´çš„ WS æ§åˆ¶å¹³é¢ä¿æŒæœ¬åœ°ï¼Œé™¤éé€šè¿‡ SSH éš§é“ã€‚",
    "## ä¼ è¾“\n\n- TCPï¼Œæ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼ˆJSONLï¼‰ã€‚\n- å¯é€‰ TLSï¼ˆå½“ `bridge.tls.enabled` ä¸º true æ—¶ï¼‰ã€‚\n- æ—§ç‰ˆé»˜è®¤ç›‘å¬ç«¯å£ä¸º `18790`ï¼ˆå½“å‰æ„å»ºä¸å¯åŠ¨ TCP bridgeï¼‰ã€‚\n\nå½“ TLS å¯ç”¨æ—¶ï¼Œè®¾å¤‡å‘ç° TXT è®°å½•åŒ…å« `bridgeTls=1` åŠ ä¸Š `bridgeTlsSha256`ï¼Œä»¥ä¾¿èŠ‚ç‚¹å¯ä»¥å›ºå®šè¯ä¹¦ã€‚",
    "## æ¡æ‰‹ + é…å¯¹\n\n1. å®¢æˆ·ç«¯å‘é€å¸¦æœ‰èŠ‚ç‚¹å…ƒæ•°æ® + ä»¤ç‰Œï¼ˆå¦‚æœå·²é…å¯¹ï¼‰çš„ `hello`ã€‚\n2. å¦‚æœæœªé…å¯¹ï¼ŒGateway ç½‘å…³å›å¤ `error`ï¼ˆ`NOT_PAIRED`/`UNAUTHORIZED`ï¼‰ã€‚\n3. å®¢æˆ·ç«¯å‘é€ `pair-request`ã€‚\n4. Gateway ç½‘å…³ç­‰å¾…æ‰¹å‡†ï¼Œç„¶åå‘é€ `pair-ok` å’Œ `hello-ok`ã€‚\n\n`hello-ok` è¿”å› `serverName`ï¼Œå¯èƒ½åŒ…å« `canvasHostUrl`ã€‚",
    "## å¸§\n\nå®¢æˆ·ç«¯ â†’ Gateway ç½‘å…³ï¼š\n\n- `req` / `res`ï¼šä½œç”¨åŸŸ Gateway ç½‘å…³ RPCï¼ˆchatã€sessionsã€configã€healthã€voicewakeã€skills.binsï¼‰\n- `event`ï¼šèŠ‚ç‚¹ä¿¡å·ï¼ˆè¯­éŸ³è½¬å½•ã€æ™ºèƒ½ä½“è¯·æ±‚ã€èŠå¤©è®¢é˜…ã€exec ç”Ÿå‘½å‘¨æœŸï¼‰\n\nGateway ç½‘å…³ â†’ å®¢æˆ·ç«¯ï¼š\n\n- `invoke` / `invoke-res`ï¼šèŠ‚ç‚¹å‘½ä»¤ï¼ˆ`canvas.*`ã€`camera.*`ã€`screen.record`ã€`location.get`ã€`sms.send`ï¼‰\n- `event`ï¼šå·²è®¢é˜…ä¼šè¯çš„èŠå¤©æ›´æ–°\n- `ping` / `pong`ï¼šä¿æ´»\n\næ—§ç‰ˆå…è®¸åˆ—è¡¨å¼ºåˆ¶æ‰§è¡Œä½äº `src/gateway/server-bridge.ts`ï¼ˆå·²ç§»é™¤ï¼‰ã€‚",
    "## Exec ç”Ÿå‘½å‘¨æœŸäº‹ä»¶\n\nèŠ‚ç‚¹å¯ä»¥å‘å‡º `exec.finished` æˆ– `exec.denied` äº‹ä»¶æ¥è¡¨é¢åŒ– system.run æ´»åŠ¨ã€‚\nè¿™äº›è¢«æ˜ å°„åˆ° Gateway ç½‘å…³ä¸­çš„ç³»ç»Ÿäº‹ä»¶ã€‚ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹å¯èƒ½ä»ä¼šå‘å‡º `exec.started`ã€‚ï¼‰\n\nPayload å­—æ®µï¼ˆé™¤éæ³¨æ˜ï¼Œå¦åˆ™éƒ½æ˜¯å¯é€‰çš„ï¼‰ï¼š\n\n- `sessionKey`ï¼ˆå¿…éœ€ï¼‰ï¼šæ¥æ”¶ç³»ç»Ÿäº‹ä»¶çš„æ™ºèƒ½ä½“ä¼šè¯ã€‚\n- `runId`ï¼šç”¨äºåˆ†ç»„çš„å”¯ä¸€ exec idã€‚\n- `command`ï¼šåŸå§‹æˆ–æ ¼å¼åŒ–çš„å‘½ä»¤å­—ç¬¦ä¸²ã€‚\n- `exitCode`ã€`timedOut`ã€`success`ã€`output`ï¼šå®Œæˆè¯¦æƒ…ï¼ˆä»…é™ finishedï¼‰ã€‚\n- `reason`ï¼šæ‹’ç»åŸå› ï¼ˆä»…é™ deniedï¼‰ã€‚",
    "## Tailnet ä½¿ç”¨\n\n- å°† bridge ç»‘å®šåˆ° tailnet IPï¼šåœ¨ `~/.openclaw/openclaw.json` ä¸­è®¾ç½® `bridge.bind: \"tailnet\"`ã€‚\n- å®¢æˆ·ç«¯é€šè¿‡ MagicDNS åç§°æˆ– tailnet IP è¿æ¥ã€‚\n- Bonjour **ä¸**è·¨ç½‘ç»œï¼›éœ€è¦æ—¶ä½¿ç”¨æ‰‹åŠ¨ä¸»æœº/ç«¯å£æˆ–å¹¿åŸŸ DNSâ€‘SDã€‚",
    "## ç‰ˆæœ¬æ§åˆ¶\n\nBridge ç›®å‰æ˜¯**éšå¼ v1**ï¼ˆæ— æœ€å°/æœ€å¤§åå•†ï¼‰ã€‚é¢„æœŸå‘åå…¼å®¹ï¼›åœ¨ä»»ä½•ç ´åæ€§å˜æ›´ä¹‹å‰æ·»åŠ  bridge åè®®ç‰ˆæœ¬å­—æ®µã€‚",
    "---\nsummary: \"Broadcast a WhatsApp message to multiple agents\"\nread_when:\n  - Configuring broadcast groups\n  - Debugging multi-agent replies in WhatsApp\nstatus: experimental\ntitle: \"Broadcast Groups\"\n---\n\n# Broadcast Groups\n\n**Status:** Experimental  \n**Version:** Added in 2026.1.9",
    "## Overview\n\nBroadcast Groups enable multiple agents to process and respond to the same message simultaneously. This allows you to create specialized agent teams that work together in a single WhatsApp group or DM â€” all using one phone number.\n\nCurrent scope: **WhatsApp only** (web channel).\n\nBroadcast groups are evaluated after channel allowlists and group activation rules. In WhatsApp groups, this means broadcasts happen when OpenClaw would normally reply (for example: on mention, depending on your group settings).",
    "## Use Cases\n\n### 1. Specialized Agent Teams\n\nDeploy multiple agents with atomic, focused responsibilities:\n\n```\nGroup: \"Development Team\"\nAgents:\n  - CodeReviewer (reviews code snippets)\n  - DocumentationBot (generates docs)\n  - SecurityAuditor (checks for vulnerabilities)\n  - TestGenerator (suggests test cases)\n```\n\nEach agent processes the same message and provides its specialized perspective.\n\n### 2. Multi-Language Support\n\n```\nGroup: \"International Support\"\nAgents:\n  - Agent_EN (responds in English)\n  - Agent_DE (responds in German)\n  - Agent_ES (responds in Spanish)\n```\n\n### 3. Quality Assurance Workflows\n\n```\nGroup: \"Customer Support\"\nAgents:\n  - SupportAgent (provides answer)\n  - QAAgent (reviews quality, only responds if issues found)\n```\n\n### 4. Task Automation\n\n```\nGroup: \"Project Management\"\nAgents:\n  - TaskTracker (updates task database)\n  - TimeLogger (logs time spent)\n  - ReportGenerator (creates summaries)\n```",
    "## Configuration\n\n### Basic Setup\n\nAdd a top-level `broadcast` section (next to `bindings`). Keys are WhatsApp peer ids:\n\n- group chats: group JID (e.g. `120363403215116621@g.us`)\n- DMs: E.164 phone number (e.g. `+15551234567`)\n\n```json\n{\n  \"broadcast\": {\n    \"120363403215116621@g.us\": [\"alfred\", \"baerbel\", \"assistant3\"]\n  }\n}\n```\n\n**Result:** When OpenClaw would reply in this chat, it will run all three agents.\n\n### Processing Strategy\n\nControl how agents process messages:\n\n#### Parallel (Default)\n\nAll agents process simultaneously:\n\n```json\n{\n  \"broadcast\": {\n    \"strategy\": \"parallel\",\n    \"120363403215116621@g.us\": [\"alfred\", \"baerbel\"]\n  }\n}\n```\n\n#### Sequential\n\nAgents process in order (one waits for previous to finish):\n\n```json\n{\n  \"broadcast\": {\n    \"strategy\": \"sequential\",\n    \"120363403215116621@g.us\": [\"alfred\", \"baerbel\"]\n  }\n}\n```\n\n### Complete Example",
    "```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"code-reviewer\",\n        \"name\": \"Code Reviewer\",\n        \"workspace\": \"/path/to/code-reviewer\",\n        \"sandbox\": { \"mode\": \"all\" }\n      },\n      {\n        \"id\": \"security-auditor\",\n        \"name\": \"Security Auditor\",\n        \"workspace\": \"/path/to/security-auditor\",\n        \"sandbox\": { \"mode\": \"all\" }\n      },\n      {\n        \"id\": \"docs-generator\",\n        \"name\": \"Documentation Generator\",\n        \"workspace\": \"/path/to/docs-generator\",\n        \"sandbox\": { \"mode\": \"all\" }\n      }\n    ]\n  },\n  \"broadcast\": {\n    \"strategy\": \"parallel\",\n    \"120363403215116621@g.us\": [\"code-reviewer\", \"security-auditor\", \"docs-generator\"],\n    \"120363424282127706@g.us\": [\"support-en\", \"support-de\"],\n    \"+15555550123\": [\"assistant\", \"logger\"]\n  }\n}\n```",
    "## How It Works\n\n### Message Flow\n\n1. **Incoming message** arrives in a WhatsApp group\n2. **Broadcast check**: System checks if peer ID is in `broadcast`\n3. **If in broadcast list**:\n   - All listed agents process the message\n   - Each agent has its own session key and isolated context\n   - Agents process in parallel (default) or sequentially\n4. **If not in broadcast list**:\n   - Normal routing applies (first matching binding)\n\nNote: broadcast groups do not bypass channel allowlists or group activation rules (mentions/commands/etc). They only change _which agents run_ when a message is eligible for processing.\n\n### Session Isolation\n\nEach agent in a broadcast group maintains completely separate:",
    "- **Session keys** (`agent:alfred:whatsapp:group:120363...` vs `agent:baerbel:whatsapp:group:120363...`)\n- **Conversation history** (agent doesn't see other agents' messages)\n- **Workspace** (separate sandboxes if configured)\n- **Tool access** (different allow/deny lists)\n- **Memory/context** (separate IDENTITY.md, SOUL.md, etc.)\n- **Group context buffer** (recent group messages used for context) is shared per peer, so all broadcast agents see the same context when triggered\n\nThis allows each agent to have:\n\n- Different personalities\n- Different tool access (e.g., read-only vs. read-write)\n- Different models (e.g., opus vs. sonnet)\n- Different skills installed\n\n### Example: Isolated Sessions\n\nIn group `120363403215116621@g.us` with agents `[\"alfred\", \"baerbel\"]`:\n\n**Alfred's context:**\n\n```\nSession: agent:alfred:whatsapp:group:120363403215116621@g.us\nHistory: [user message, alfred's previous responses]\nWorkspace: /Users/pascal/openclaw-alfred/\nTools: read, write, exec\n```",
    "**BÃ¤rbel's context:**\n\n```\nSession: agent:baerbel:whatsapp:group:120363403215116621@g.us\nHistory: [user message, baerbel's previous responses]\nWorkspace: /Users/pascal/openclaw-baerbel/\nTools: read only\n```",
    "## Best Practices\n\n### 1. Keep Agents Focused\n\nDesign each agent with a single, clear responsibility:\n\n```json\n{\n  \"broadcast\": {\n    \"DEV_GROUP\": [\"formatter\", \"linter\", \"tester\"]\n  }\n}\n```\n\nâœ… **Good:** Each agent has one job  \nâŒ **Bad:** One generic \"dev-helper\" agent\n\n### 2. Use Descriptive Names\n\nMake it clear what each agent does:\n\n```json\n{\n  \"agents\": {\n    \"security-scanner\": { \"name\": \"Security Scanner\" },\n    \"code-formatter\": { \"name\": \"Code Formatter\" },\n    \"test-generator\": { \"name\": \"Test Generator\" }\n  }\n}\n```\n\n### 3. Configure Different Tool Access\n\nGive agents only the tools they need:\n\n```json\n{\n  \"agents\": {\n    \"reviewer\": {\n      \"tools\": { \"allow\": [\"read\", \"exec\"] } // Read-only\n    },\n    \"fixer\": {\n      \"tools\": { \"allow\": [\"read\", \"write\", \"edit\", \"exec\"] } // Read-write\n    }\n  }\n}\n```\n\n### 4. Monitor Performance\n\nWith many agents, consider:",
    "- Using `\"strategy\": \"parallel\"` (default) for speed\n- Limiting broadcast groups to 5-10 agents\n- Using faster models for simpler agents\n\n### 5. Handle Failures Gracefully\n\nAgents fail independently. One agent's error doesn't block others:\n\n```\nMessage â†’ [Agent A âœ“, Agent B âœ— error, Agent C âœ“]\nResult: Agent A and C respond, Agent B logs error\n```",
    "## Compatibility\n\n### Providers\n\nBroadcast groups currently work with:\n\n- âœ… WhatsApp (implemented)\n- ğŸš§ Telegram (planned)\n- ğŸš§ Discord (planned)\n- ğŸš§ Slack (planned)\n\n### Routing\n\nBroadcast groups work alongside existing routing:\n\n```json\n{\n  \"bindings\": [\n    {\n      \"match\": { \"channel\": \"whatsapp\", \"peer\": { \"kind\": \"group\", \"id\": \"GROUP_A\" } },\n      \"agentId\": \"alfred\"\n    }\n  ],\n  \"broadcast\": {\n    \"GROUP_B\": [\"agent1\", \"agent2\"]\n  }\n}\n```\n\n- `GROUP_A`: Only alfred responds (normal routing)\n- `GROUP_B`: agent1 AND agent2 respond (broadcast)\n\n**Precedence:** `broadcast` takes priority over `bindings`.",
    "## Troubleshooting\n\n### Agents Not Responding\n\n**Check:**\n\n1. Agent IDs exist in `agents.list`\n2. Peer ID format is correct (e.g., `120363403215116621@g.us`)\n3. Agents are not in deny lists\n\n**Debug:**\n\n```bash\ntail -f ~/.openclaw/logs/gateway.log | grep broadcast\n```\n\n### Only One Agent Responding\n\n**Cause:** Peer ID might be in `bindings` but not `broadcast`.\n\n**Fix:** Add to broadcast config or remove from bindings.\n\n### Performance Issues\n\n**If slow with many agents:**\n\n- Reduce number of agents per group\n- Use lighter models (sonnet instead of opus)\n- Check sandbox startup time",
    "## Examples\n\n### Example 1: Code Review Team\n\n```json\n{\n  \"broadcast\": {\n    \"strategy\": \"parallel\",\n    \"120363403215116621@g.us\": [\n      \"code-formatter\",\n      \"security-scanner\",\n      \"test-coverage\",\n      \"docs-checker\"\n    ]\n  },\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"code-formatter\",\n        \"workspace\": \"~/agents/formatter\",\n        \"tools\": { \"allow\": [\"read\", \"write\"] }\n      },\n      {\n        \"id\": \"security-scanner\",\n        \"workspace\": \"~/agents/security\",\n        \"tools\": { \"allow\": [\"read\", \"exec\"] }\n      },\n      {\n        \"id\": \"test-coverage\",\n        \"workspace\": \"~/agents/testing\",\n        \"tools\": { \"allow\": [\"read\", \"exec\"] }\n      },\n      { \"id\": \"docs-checker\", \"workspace\": \"~/agents/docs\", \"tools\": { \"allow\": [\"read\"] } }\n    ]\n  }\n}\n```\n\n**User sends:** Code snippet  \n**Responses:**",
    "- code-formatter: \"Fixed indentation and added type hints\"\n- security-scanner: \"âš ï¸ SQL injection vulnerability in line 12\"\n- test-coverage: \"Coverage is 45%, missing tests for error cases\"\n- docs-checker: \"Missing docstring for function `process_data`\"\n\n### Example 2: Multi-Language Support\n\n```json\n{\n  \"broadcast\": {\n    \"strategy\": \"sequential\",\n    \"+15555550123\": [\"detect-language\", \"translator-en\", \"translator-de\"]\n  },\n  \"agents\": {\n    \"list\": [\n      { \"id\": \"detect-language\", \"workspace\": \"~/agents/lang-detect\" },\n      { \"id\": \"translator-en\", \"workspace\": \"~/agents/translate-en\" },\n      { \"id\": \"translator-de\", \"workspace\": \"~/agents/translate-de\" }\n    ]\n  }\n}\n```",
    "## API Reference\n\n### Config Schema\n\n```typescript\ninterface OpenClawConfig {\n  broadcast?: {\n    strategy?: \"parallel\" | \"sequential\";\n    [peerId: string]: string[];\n  };\n}\n```\n\n### Fields\n\n- `strategy` (optional): How to process agents\n  - `\"parallel\"` (default): All agents process simultaneously\n  - `\"sequential\"`: Agents process in array order\n- `[peerId]`: WhatsApp group JID, E.164 number, or other peer ID\n  - Value: Array of agent IDs that should process messages",
    "## Limitations\n\n1. **Max agents:** No hard limit, but 10+ agents may be slow\n2. **Shared context:** Agents don't see each other's responses (by design)\n3. **Message ordering:** Parallel responses may arrive in any order\n4. **Rate limits:** All agents count toward WhatsApp rate limits",
    "## Future Enhancements\n\nPlanned features:\n\n- [ ] Shared context mode (agents see each other's responses)\n- [ ] Agent coordination (agents can signal each other)\n- [ ] Dynamic agent selection (choose agents based on message content)\n- [ ] Agent priorities (some agents respond before others)",
    "## See Also\n\n- [Multi-Agent Configuration](/multi-agent-sandbox-tools)\n- [Routing Configuration](/concepts/channel-routing)\n- [Session Management](/concepts/sessions)",
    "---\nsummary: \"Fix Chrome/Brave/Edge/Chromium CDP startup issues for OpenClaw browser control on Linux\"\nread_when: \"Browser control fails on Linux, especially with snap Chromium\"\ntitle: \"Browser Troubleshooting\"\n---\n\n# Browser Troubleshooting (Linux)",
    "## Problem: \"Failed to start Chrome CDP on port 18800\"\n\nOpenClaw's browser control server fails to launch Chrome/Brave/Edge/Chromium with the error:\n\n```\n{\"error\":\"Error: Failed to start Chrome CDP on port 18800 for profile \\\"openclaw\\\".\"}\n```\n\n### Root Cause\n\nOn Ubuntu (and many Linux distros), the default Chromium installation is a **snap package**. Snap's AppArmor confinement interferes with how OpenClaw spawns and monitors the browser process.\n\nThe `apt install chromium` command installs a stub package that redirects to snap:\n\n```\nNote, selecting 'chromium-browser' instead of 'chromium'\nchromium-browser is already the newest version (2:1snap1-0ubuntu2).\n```\n\nThis is NOT a real browser â€” it's just a wrapper.\n\n### Solution 1: Install Google Chrome (Recommended)\n\nInstall the official Google Chrome `.deb` package, which is not sandboxed by snap:",
    "```bash\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\nsudo dpkg -i google-chrome-stable_current_amd64.deb\nsudo apt --fix-broken install -y  # if there are dependency errors\n```\n\nThen update your OpenClaw config (`~/.openclaw/openclaw.json`):\n\n```json\n{\n  \"browser\": {\n    \"enabled\": true,\n    \"executablePath\": \"/usr/bin/google-chrome-stable\",\n    \"headless\": true,\n    \"noSandbox\": true\n  }\n}\n```\n\n### Solution 2: Use Snap Chromium with Attach-Only Mode\n\nIf you must use snap Chromium, configure OpenClaw to attach to a manually-started browser:\n\n1. Update config:\n\n```json\n{\n  \"browser\": {\n    \"enabled\": true,\n    \"attachOnly\": true,\n    \"headless\": true,\n    \"noSandbox\": true\n  }\n}\n```\n\n2. Start Chromium manually:\n\n```bash\nchromium-browser --headless --no-sandbox --disable-gpu \\\n  --remote-debugging-port=18800 \\\n  --user-data-dir=$HOME/.openclaw/browser/openclaw/user-data \\\n  about:blank &\n```",
    "3. Optionally create a systemd user service to auto-start Chrome:\n\n```ini\n# ~/.config/systemd/user/openclaw-browser.service\n[Unit]\nDescription=OpenClaw Browser (Chrome CDP)\nAfter=network.target\n\n[Service]\nExecStart=/snap/bin/chromium --headless --no-sandbox --disable-gpu --remote-debugging-port=18800 --user-data-dir=%h/.openclaw/browser/openclaw/user-data about:blank\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=default.target\n```\n\nEnable with: `systemctl --user enable --now openclaw-browser.service`\n\n### Verifying the Browser Works\n\nCheck status:\n\n```bash\ncurl -s http://127.0.0.1:18791/ | jq '{running, pid, chosenBrowser}'\n```\n\nTest browsing:\n\n```bash\ncurl -s -X POST http://127.0.0.1:18791/start\ncurl -s http://127.0.0.1:18791/tabs\n```\n\n### Config Reference",
    "| Option                   | Description                                                          | Default                                                     |\n| ------------------------ | -------------------------------------------------------------------- | ----------------------------------------------------------- |\n| `browser.enabled`        | Enable browser control                                               | `true`                                                      |\n| `browser.executablePath` | Path to a Chromium-based browser binary (Chrome/Brave/Edge/Chromium) | auto-detected (prefers default browser when Chromium-based) |\n| `browser.headless`       | Run without GUI                                                      | `false`                                                     |\n| `browser.noSandbox`      | Add `--no-sandbox` flag (needed for some Linux setups)               | `false`                                                     |\n| `browser.attachOnly`     | Don't launch browser, only attach to existing                        | `false`                                                     |\n| `browser.cdpPort`        | Chrome DevTools Protocol port                                        | `18800`                                                     |",
    "### Problem: \"Chrome extension relay is running, but no tab is connected\"\n\nYouâ€™re using the `chrome` profile (extension relay). It expects the OpenClaw\nbrowser extension to be attached to a live tab.\n\nFix options:\n\n1. **Use the managed browser:** `openclaw browser start --browser-profile openclaw`\n   (or set `browser.defaultProfile: \"openclaw\"`).\n2. **Use the extension relay:** install the extension, open a tab, and click the\n   OpenClaw extension icon to attach it.\n\nNotes:\n\n- The `chrome` profile uses your **system default Chromium browser** when possible.\n- Local `openclaw` profiles auto-assign `cdpPort`/`cdpUrl`; only set those for remote CDP.",
    "---\nsummary: \"Manual logins for browser automation + X/Twitter posting\"\nread_when:\n  - You need to log into sites for browser automation\n  - You want to post updates to X/Twitter\ntitle: \"Browser Login\"\n---\n\n# Browser login + X/Twitter posting",
    "## Manual login (recommended)\n\nWhen a site requires login, **sign in manually** in the **host** browser profile (the openclaw browser).\n\nDo **not** give the model your credentials. Automated logins often trigger antiâ€‘bot defenses and can lock the account.\n\nBack to the main browser docs: [Browser](/tools/browser).",
    "## Which Chrome profile is used?\n\nOpenClaw controls a **dedicated Chrome profile** (named `openclaw`, orangeâ€‘tinted UI). This is separate from your daily browser profile.\n\nTwo easy ways to access it:\n\n1. **Ask the agent to open the browser** and then log in yourself.\n2. **Open it via CLI**:\n\n```bash\nopenclaw browser start\nopenclaw browser open https://x.com\n```\n\nIf you have multiple profiles, pass `--browser-profile <name>` (the default is `openclaw`).",
    "## X/Twitter: recommended flow\n\n- **Read/search/threads:** use the **bird** CLI skill (no browser, stable).\n  - Repo: [https://github.com/steipete/bird](https://github.com/steipete/bird)\n- **Post updates:** use the **host** browser (manual login).",
    "## Sandboxing + host browser access\n\nSandboxed browser sessions are **more likely** to trigger bot detection. For X/Twitter (and other strict sites), prefer the **host** browser.\n\nIf the agent is sandboxed, the browser tool defaults to the sandbox. To allow host control:\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\",\n        browser: {\n          allowHostControl: true,\n        },\n      },\n    },\n  },\n}\n```\n\nThen target the host browser:\n\n```bash\nopenclaw browser open https://x.com --browser-profile openclaw --target host\n```\n\nOr disable sandboxing for the agent that posts updates.",
    "---\nsummary: \"Integrated browser control service + action commands\"\nread_when:\n  - Adding agent-controlled browser automation\n  - Debugging why openclaw is interfering with your own Chrome\n  - Implementing browser settings + lifecycle in the macOS app\ntitle: \"Browser (OpenClaw-managed)\"\n---\n\n# Browser (openclaw-managed)\n\nOpenClaw can run a **dedicated Chrome/Brave/Edge/Chromium profile** that the agent controls.\nIt is isolated from your personal browser and is managed through a small local\ncontrol service inside the Gateway (loopback only).\n\nBeginner view:\n\n- Think of it as a **separate, agent-only browser**.\n- The `openclaw` profile does **not** touch your personal browser profile.\n- The agent can **open tabs, read pages, click, and type** in a safe lane.\n- The default `chrome` profile uses the **system default Chromium browser** via the\n  extension relay; switch to `openclaw` for the isolated managed browser.",
    "## What you get\n\n- A separate browser profile named **openclaw** (orange accent by default).\n- Deterministic tab control (list/open/focus/close).\n- Agent actions (click/type/drag/select), snapshots, screenshots, PDFs.\n- Optional multi-profile support (`openclaw`, `work`, `remote`, ...).\n\nThis browser is **not** your daily driver. It is a safe, isolated surface for\nagent automation and verification.",
    "## Quick start\n\n```bash\nopenclaw browser --browser-profile openclaw status\nopenclaw browser --browser-profile openclaw start\nopenclaw browser --browser-profile openclaw open https://example.com\nopenclaw browser --browser-profile openclaw snapshot\n```\n\nIf you get â€œBrowser disabledâ€, enable it in config (see below) and restart the\nGateway.",
    "## Profiles: `openclaw` vs `chrome`\n\n- `openclaw`: managed, isolated browser (no extension required).\n- `chrome`: extension relay to your **system browser** (requires the OpenClaw\n  extension to be attached to a tab).\n\nSet `browser.defaultProfile: \"openclaw\"` if you want managed mode by default.",
    "## Configuration\n\nBrowser settings live in `~/.openclaw/openclaw.json`.\n\n```json5\n{\n  browser: {\n    enabled: true, // default: true\n    // cdpUrl: \"http://127.0.0.1:18792\", // legacy single-profile override\n    remoteCdpTimeoutMs: 1500, // remote CDP HTTP timeout (ms)\n    remoteCdpHandshakeTimeoutMs: 3000, // remote CDP WebSocket handshake timeout (ms)\n    defaultProfile: \"chrome\",\n    color: \"#FF4500\",\n    headless: false,\n    noSandbox: false,\n    attachOnly: false,\n    executablePath: \"/Applications/Brave Browser.app/Contents/MacOS/Brave Browser\",\n    profiles: {\n      openclaw: { cdpPort: 18800, color: \"#FF4500\" },\n      work: { cdpPort: 18801, color: \"#0066CC\" },\n      remote: { cdpUrl: \"http://10.0.0.42:9222\", color: \"#00AA00\" },\n    },\n  },\n}\n```\n\nNotes:",
    "- The browser control service binds to loopback on a port derived from `gateway.port`\n  (default: `18791`, which is gateway + 2). The relay uses the next port (`18792`).\n- If you override the Gateway port (`gateway.port` or `OPENCLAW_GATEWAY_PORT`),\n  the derived browser ports shift to stay in the same â€œfamilyâ€.\n- `cdpUrl` defaults to the relay port when unset.\n- `remoteCdpTimeoutMs` applies to remote (non-loopback) CDP reachability checks.\n- `remoteCdpHandshakeTimeoutMs` applies to remote CDP WebSocket reachability checks.\n- `attachOnly: true` means â€œnever launch a local browser; only attach if it is already running.â€\n- `color` + per-profile `color` tint the browser UI so you can see which profile is active.\n- Default profile is `chrome` (extension relay). Use `defaultProfile: \"openclaw\"` for the managed browser.\n- Auto-detect order: system default browser if Chromium-based; otherwise Chrome â†’ Brave â†’ Edge â†’ Chromium â†’ Chrome Canary.\n- Local `openclaw` profiles auto-assign `cdpPort`/`cdpUrl` â€” set those only for remote CDP.",
    "## Use Brave (or another Chromium-based browser)\n\nIf your **system default** browser is Chromium-based (Chrome/Brave/Edge/etc),\nOpenClaw uses it automatically. Set `browser.executablePath` to override\nauto-detection:\n\nCLI example:\n\n```bash\nopenclaw config set browser.executablePath \"/usr/bin/google-chrome\"\n```\n\n```json5\n// macOS\n{\n  browser: {\n    executablePath: \"/Applications/Brave Browser.app/Contents/MacOS/Brave Browser\"\n  }\n}\n\n// Windows\n{\n  browser: {\n    executablePath: \"C:\\\\Program Files\\\\BraveSoftware\\\\Brave-Browser\\\\Application\\\\brave.exe\"\n  }\n}\n\n// Linux\n{\n  browser: {\n    executablePath: \"/usr/bin/brave-browser\"\n  }\n}\n```",
    "## Local vs remote control\n\n- **Local control (default):** the Gateway starts the loopback control service and can launch a local browser.\n- **Remote control (node host):** run a node host on the machine that has the browser; the Gateway proxies browser actions to it.\n- **Remote CDP:** set `browser.profiles.<name>.cdpUrl` (or `browser.cdpUrl`) to\n  attach to a remote Chromium-based browser. In this case, OpenClaw will not launch a local browser.\n\nRemote CDP URLs can include auth:\n\n- Query tokens (e.g., `https://provider.example?token=<token>`)\n- HTTP Basic auth (e.g., `https://user:pass@provider.example`)\n\nOpenClaw preserves the auth when calling `/json/*` endpoints and when connecting\nto the CDP WebSocket. Prefer environment variables or secrets managers for\ntokens instead of committing them to config files.",
    "## Node browser proxy (zero-config default)\n\nIf you run a **node host** on the machine that has your browser, OpenClaw can\nauto-route browser tool calls to that node without any extra browser config.\nThis is the default path for remote gateways.\n\nNotes:\n\n- The node host exposes its local browser control server via a **proxy command**.\n- Profiles come from the nodeâ€™s own `browser.profiles` config (same as local).\n- Disable if you donâ€™t want it:\n  - On the node: `nodeHost.browserProxy.enabled=false`\n  - On the gateway: `gateway.nodes.browser.mode=\"off\"`",
    "## Browserless (hosted remote CDP)\n\n[Browserless](https://browserless.io) is a hosted Chromium service that exposes\nCDP endpoints over HTTPS. You can point a OpenClaw browser profile at a\nBrowserless region endpoint and authenticate with your API key.\n\nExample:\n\n```json5\n{\n  browser: {\n    enabled: true,\n    defaultProfile: \"browserless\",\n    remoteCdpTimeoutMs: 2000,\n    remoteCdpHandshakeTimeoutMs: 4000,\n    profiles: {\n      browserless: {\n        cdpUrl: \"https://production-sfo.browserless.io?token=<BROWSERLESS_API_KEY>\",\n        color: \"#00AA00\",\n      },\n    },\n  },\n}\n```\n\nNotes:\n\n- Replace `<BROWSERLESS_API_KEY>` with your real Browserless token.\n- Choose the region endpoint that matches your Browserless account (see their docs).",
    "## Security\n\nKey ideas:\n\n- Browser control is loopback-only; access flows through the Gatewayâ€™s auth or node pairing.\n- Keep the Gateway and any node hosts on a private network (Tailscale); avoid public exposure.\n- Treat remote CDP URLs/tokens as secrets; prefer env vars or a secrets manager.\n\nRemote CDP tips:\n\n- Prefer HTTPS endpoints and short-lived tokens where possible.\n- Avoid embedding long-lived tokens directly in config files.",
    "## Profiles (multi-browser)\n\nOpenClaw supports multiple named profiles (routing configs). Profiles can be:\n\n- **openclaw-managed**: a dedicated Chromium-based browser instance with its own user data directory + CDP port\n- **remote**: an explicit CDP URL (Chromium-based browser running elsewhere)\n- **extension relay**: your existing Chrome tab(s) via the local relay + Chrome extension\n\nDefaults:\n\n- The `openclaw` profile is auto-created if missing.\n- The `chrome` profile is built-in for the Chrome extension relay (points at `http://127.0.0.1:18792` by default).\n- Local CDP ports allocate from **18800â€“18899** by default.\n- Deleting a profile moves its local data directory to Trash.\n\nAll control endpoints accept `?profile=<name>`; the CLI uses `--browser-profile`.",
    "## Chrome extension relay (use your existing Chrome)\n\nOpenClaw can also drive **your existing Chrome tabs** (no separate â€œopenclawâ€ Chrome instance) via a local CDP relay + a Chrome extension.\n\nFull guide: [Chrome extension](/tools/chrome-extension)\n\nFlow:\n\n- The Gateway runs locally (same machine) or a node host runs on the browser machine.\n- A local **relay server** listens at a loopback `cdpUrl` (default: `http://127.0.0.1:18792`).\n- You click the **OpenClaw Browser Relay** extension icon on a tab to attach (it does not auto-attach).\n- The agent controls that tab via the normal `browser` tool, by selecting the right profile.\n\nIf the Gateway runs elsewhere, run a node host on the browser machine so the Gateway can proxy browser actions.\n\n### Sandboxed sessions\n\nIf the agent session is sandboxed, the `browser` tool may default to `target=\"sandbox\"` (sandbox browser).\nChrome extension relay takeover requires host browser control, so either:",
    "- run the session unsandboxed, or\n- set `agents.defaults.sandbox.browser.allowHostControl: true` and use `target=\"host\"` when calling the tool.\n\n### Setup\n\n1. Load the extension (dev/unpacked):\n\n```bash\nopenclaw browser extension install\n```\n\n- Chrome â†’ `chrome://extensions` â†’ enable â€œDeveloper modeâ€\n- â€œLoad unpackedâ€ â†’ select the directory printed by `openclaw browser extension path`\n- Pin the extension, then click it on the tab you want to control (badge shows `ON`).\n\n2. Use it:\n\n- CLI: `openclaw browser --browser-profile chrome tabs`\n- Agent tool: `browser` with `profile=\"chrome\"`\n\nOptional: if you want a different name or relay port, create your own profile:\n\n```bash\nopenclaw browser create-profile \\\n  --name my-chrome \\\n  --driver extension \\\n  --cdp-url http://127.0.0.1:18792 \\\n  --color \"#00AA00\"\n```\n\nNotes:\n\n- This mode relies on Playwright-on-CDP for most operations (screenshots/snapshots/actions).\n- Detach by clicking the extension icon again.",
    "## Isolation guarantees\n\n- **Dedicated user data dir**: never touches your personal browser profile.\n- **Dedicated ports**: avoids `9222` to prevent collisions with dev workflows.\n- **Deterministic tab control**: target tabs by `targetId`, not â€œlast tabâ€.",
    "## Browser selection\n\nWhen launching locally, OpenClaw picks the first available:\n\n1. Chrome\n2. Brave\n3. Edge\n4. Chromium\n5. Chrome Canary\n\nYou can override with `browser.executablePath`.\n\nPlatforms:\n\n- macOS: checks `/Applications` and `~/Applications`.\n- Linux: looks for `google-chrome`, `brave`, `microsoft-edge`, `chromium`, etc.\n- Windows: checks common install locations.",
    "## Control API (optional)\n\nFor local integrations only, the Gateway exposes a small loopback HTTP API:\n\n- Status/start/stop: `GET /`, `POST /start`, `POST /stop`\n- Tabs: `GET /tabs`, `POST /tabs/open`, `POST /tabs/focus`, `DELETE /tabs/:targetId`\n- Snapshot/screenshot: `GET /snapshot`, `POST /screenshot`\n- Actions: `POST /navigate`, `POST /act`\n- Hooks: `POST /hooks/file-chooser`, `POST /hooks/dialog`\n- Downloads: `POST /download`, `POST /wait/download`\n- Debugging: `GET /console`, `POST /pdf`\n- Debugging: `GET /errors`, `GET /requests`, `POST /trace/start`, `POST /trace/stop`, `POST /highlight`\n- Network: `POST /response/body`\n- State: `GET /cookies`, `POST /cookies/set`, `POST /cookies/clear`\n- State: `GET /storage/:kind`, `POST /storage/:kind/set`, `POST /storage/:kind/clear`\n- Settings: `POST /set/offline`, `POST /set/headers`, `POST /set/credentials`, `POST /set/geolocation`, `POST /set/media`, `POST /set/timezone`, `POST /set/locale`, `POST /set/device`",
    "All endpoints accept `?profile=<name>`.\n\n### Playwright requirement\n\nSome features (navigate/act/AI snapshot/role snapshot, element screenshots, PDF) require\nPlaywright. If Playwright isnâ€™t installed, those endpoints return a clear 501\nerror. ARIA snapshots and basic screenshots still work for openclaw-managed Chrome.\nFor the Chrome extension relay driver, ARIA snapshots and screenshots require Playwright.\n\nIf you see `Playwright is not available in this gateway build`, install the full\nPlaywright package (not `playwright-core`) and restart the gateway, or reinstall\nOpenClaw with browser support.\n\n#### Docker Playwright install\n\nIf your Gateway runs in Docker, avoid `npx playwright` (npm override conflicts).\nUse the bundled CLI instead:\n\n```bash\ndocker compose run --rm openclaw-cli \\\n  node /app/node_modules/playwright-core/cli.js install chromium\n```",
    "To persist browser downloads, set `PLAYWRIGHT_BROWSERS_PATH` (for example,\n`/home/node/.cache/ms-playwright`) and make sure `/home/node` is persisted via\n`OPENCLAW_HOME_VOLUME` or a bind mount. See [Docker](/install/docker).",
    "## How it works (internal)\n\nHigh-level flow:\n\n- A small **control server** accepts HTTP requests.\n- It connects to Chromium-based browsers (Chrome/Brave/Edge/Chromium) via **CDP**.\n- For advanced actions (click/type/snapshot/PDF), it uses **Playwright** on top\n  of CDP.\n- When Playwright is missing, only non-Playwright operations are available.\n\nThis design keeps the agent on a stable, deterministic interface while letting\nyou swap local/remote browsers and profiles.",
    "## CLI quick reference\n\nAll commands accept `--browser-profile <name>` to target a specific profile.\nAll commands also accept `--json` for machine-readable output (stable payloads).\n\nBasics:\n\n- `openclaw browser status`\n- `openclaw browser start`\n- `openclaw browser stop`\n- `openclaw browser tabs`\n- `openclaw browser tab`\n- `openclaw browser tab new`\n- `openclaw browser tab select 2`\n- `openclaw browser tab close 2`\n- `openclaw browser open https://example.com`\n- `openclaw browser focus abcd1234`\n- `openclaw browser close abcd1234`\n\nInspection:",
    "- `openclaw browser screenshot`\n- `openclaw browser screenshot --full-page`\n- `openclaw browser screenshot --ref 12`\n- `openclaw browser screenshot --ref e12`\n- `openclaw browser snapshot`\n- `openclaw browser snapshot --format aria --limit 200`\n- `openclaw browser snapshot --interactive --compact --depth 6`\n- `openclaw browser snapshot --efficient`\n- `openclaw browser snapshot --labels`\n- `openclaw browser snapshot --selector \"#main\" --interactive`\n- `openclaw browser snapshot --frame \"iframe#main\" --interactive`\n- `openclaw browser console --level error`\n- `openclaw browser errors --clear`\n- `openclaw browser requests --filter api --clear`\n- `openclaw browser pdf`\n- `openclaw browser responsebody \"**/api\" --max-chars 5000`\n\nActions:",
    "- `openclaw browser navigate https://example.com`\n- `openclaw browser resize 1280 720`\n- `openclaw browser click 12 --double`\n- `openclaw browser click e12 --double`\n- `openclaw browser type 23 \"hello\" --submit`\n- `openclaw browser press Enter`\n- `openclaw browser hover 44`\n- `openclaw browser scrollintoview e12`\n- `openclaw browser drag 10 11`\n- `openclaw browser select 9 OptionA OptionB`\n- `openclaw browser download e12 /tmp/report.pdf`\n- `openclaw browser waitfordownload /tmp/report.pdf`\n- `openclaw browser upload /tmp/file.pdf`\n- `openclaw browser fill --fields '[{\"ref\":\"1\",\"type\":\"text\",\"value\":\"Ada\"}]'`\n- `openclaw browser dialog --accept`\n- `openclaw browser wait --text \"Done\"`\n- `openclaw browser wait \"#main\" --url \"**/dash\" --load networkidle --fn \"window.ready===true\"`\n- `openclaw browser evaluate --fn '(el) => el.textContent' --ref 7`\n- `openclaw browser highlight e12`\n- `openclaw browser trace start`\n- `openclaw browser trace stop`\n\nState:",
    "- `openclaw browser cookies`\n- `openclaw browser cookies set session abc123 --url \"https://example.com\"`\n- `openclaw browser cookies clear`\n- `openclaw browser storage local get`\n- `openclaw browser storage local set theme dark`\n- `openclaw browser storage session clear`\n- `openclaw browser set offline on`\n- `openclaw browser set headers --json '{\"X-Debug\":\"1\"}'`\n- `openclaw browser set credentials user pass`\n- `openclaw browser set credentials --clear`\n- `openclaw browser set geo 37.7749 -122.4194 --origin \"https://example.com\"`\n- `openclaw browser set geo --clear`\n- `openclaw browser set media dark`\n- `openclaw browser set timezone America/New_York`\n- `openclaw browser set locale en-US`\n- `openclaw browser set device \"iPhone 14\"`\n\nNotes:",
    "- `upload` and `dialog` are **arming** calls; run them before the click/press\n  that triggers the chooser/dialog.\n- `upload` can also set file inputs directly via `--input-ref` or `--element`.\n- `snapshot`:\n  - `--format ai` (default when Playwright is installed): returns an AI snapshot with numeric refs (`aria-ref=\"<n>\"`).\n  - `--format aria`: returns the accessibility tree (no refs; inspection only).\n  - `--efficient` (or `--mode efficient`): compact role snapshot preset (interactive + compact + depth + lower maxChars).\n  - Config default (tool/CLI only): set `browser.snapshotDefaults.mode: \"efficient\"` to use efficient snapshots when the caller does not pass a mode (see [Gateway configuration](/gateway/configuration#browser-openclaw-managed-browser)).\n  - Role snapshot options (`--interactive`, `--compact`, `--depth`, `--selector`) force a role-based snapshot with refs like `ref=e12`.\n  - `--frame \"<iframe selector>\"` scopes role snapshots to an iframe (pairs with role refs like `e12`).\n  - `--interactive` outputs a flat, easy-to-pick list of interactive elements (best for driving actions).\n  - `--labels` adds a viewport-only screenshot with overlayed ref labels (prints `MEDIA:<path>`).\n- `click`/`type`/etc require a `ref` from `snapshot` (either numeric `12` or role ref `e12`).\n  CSS selectors are intentionally not supported for actions.",
    "## Snapshots and refs\n\nOpenClaw supports two â€œsnapshotâ€ styles:\n\n- **AI snapshot (numeric refs)**: `openclaw browser snapshot` (default; `--format ai`)\n  - Output: a text snapshot that includes numeric refs.\n  - Actions: `openclaw browser click 12`, `openclaw browser type 23 \"hello\"`.\n  - Internally, the ref is resolved via Playwrightâ€™s `aria-ref`.\n\n- **Role snapshot (role refs like `e12`)**: `openclaw browser snapshot --interactive` (or `--compact`, `--depth`, `--selector`, `--frame`)\n  - Output: a role-based list/tree with `[ref=e12]` (and optional `[nth=1]`).\n  - Actions: `openclaw browser click e12`, `openclaw browser highlight e12`.\n  - Internally, the ref is resolved via `getByRole(...)` (plus `nth()` for duplicates).\n  - Add `--labels` to include a viewport screenshot with overlayed `e12` labels.\n\nRef behavior:",
    "- Refs are **not stable across navigations**; if something fails, re-run `snapshot` and use a fresh ref.\n- If the role snapshot was taken with `--frame`, role refs are scoped to that iframe until the next role snapshot.",
    "## Wait power-ups\n\nYou can wait on more than just time/text:\n\n- Wait for URL (globs supported by Playwright):\n  - `openclaw browser wait --url \"**/dash\"`\n- Wait for load state:\n  - `openclaw browser wait --load networkidle`\n- Wait for a JS predicate:\n  - `openclaw browser wait --fn \"window.ready===true\"`\n- Wait for a selector to become visible:\n  - `openclaw browser wait \"#main\"`\n\nThese can be combined:\n\n```bash\nopenclaw browser wait \"#main\" \\\n  --url \"**/dash\" \\\n  --load networkidle \\\n  --fn \"window.ready===true\" \\\n  --timeout-ms 15000\n```",
    "## Debug workflows\n\nWhen an action fails (e.g. â€œnot visibleâ€, â€œstrict mode violationâ€, â€œcoveredâ€):\n\n1. `openclaw browser snapshot --interactive`\n2. Use `click <ref>` / `type <ref>` (prefer role refs in interactive mode)\n3. If it still fails: `openclaw browser highlight <ref>` to see what Playwright is targeting\n4. If the page behaves oddly:\n   - `openclaw browser errors --clear`\n   - `openclaw browser requests --filter api --clear`\n5. For deep debugging: record a trace:\n   - `openclaw browser trace start`\n   - reproduce the issue\n   - `openclaw browser trace stop` (prints `TRACE:<path>`)",
    "## JSON output\n\n`--json` is for scripting and structured tooling.\n\nExamples:\n\n```bash\nopenclaw browser status --json\nopenclaw browser snapshot --interactive --json\nopenclaw browser requests --filter api --json\nopenclaw browser cookies --json\n```\n\nRole snapshots in JSON include `refs` plus a small `stats` block (lines/chars/refs/interactive) so tools can reason about payload size and density.",
    "## State and environment knobs\n\nThese are useful for â€œmake the site behave like Xâ€ workflows:\n\n- Cookies: `cookies`, `cookies set`, `cookies clear`\n- Storage: `storage local|session get|set|clear`\n- Offline: `set offline on|off`\n- Headers: `set headers --json '{\"X-Debug\":\"1\"}'` (or `--clear`)\n- HTTP basic auth: `set credentials user pass` (or `--clear`)\n- Geolocation: `set geo <lat> <lon> --origin \"https://example.com\"` (or `--clear`)\n- Media: `set media dark|light|no-preference|none`\n- Timezone / locale: `set timezone ...`, `set locale ...`\n- Device / viewport:\n  - `set device \"iPhone 14\"` (Playwright device presets)\n  - `set viewport 1280 720`",
    "## Security & privacy\n\n- The openclaw browser profile may contain logged-in sessions; treat it as sensitive.\n- `browser act kind=evaluate` / `openclaw browser evaluate` and `wait --fn`\n  execute arbitrary JavaScript in the page context. Prompt injection can steer\n  this. Disable it with `browser.evaluateEnabled=false` if you do not need it.\n- For logins and anti-bot notes (X/Twitter, etc.), see [Browser login + X/Twitter posting](/tools/browser-login).\n- Keep the Gateway/node host private (loopback or tailnet-only).\n- Remote CDP endpoints are powerful; tunnel and protect them.",
    "## Troubleshooting\n\nFor Linux-specific issues (especially snap Chromium), see\n[Browser troubleshooting](/tools/browser-linux-troubleshooting).",
    "## Agent tools + how control works\n\nThe agent gets **one tool** for browser automation:\n\n- `browser` â€” status/start/stop/tabs/open/focus/close/snapshot/screenshot/navigate/act\n\nHow it maps:\n\n- `browser snapshot` returns a stable UI tree (AI or ARIA).\n- `browser act` uses the snapshot `ref` IDs to click/type/drag/select.\n- `browser screenshot` captures pixels (full page or element).\n- `browser` accepts:\n  - `profile` to choose a named browser profile (openclaw, chrome, or remote CDP).\n  - `target` (`sandbox` | `host` | `node`) to select where the browser lives.\n  - In sandboxed sessions, `target: \"host\"` requires `agents.defaults.sandbox.browser.allowHostControl=true`.\n  - If `target` is omitted: sandboxed sessions default to `sandbox`, non-sandbox sessions default to `host`.\n  - If a browser-capable node is connected, the tool may auto-route to it unless you pin `target=\"host\"` or `target=\"node\"`.\n\nThis keeps the agent deterministic and avoids brittle selectors.",
    "---\nread_when:\n  - ä½ æƒ³è¦æœ€å¿«çš„æœ¬åœ°å¼€å‘å¾ªç¯ï¼ˆbun + watchï¼‰\n  - ä½ é‡åˆ° Bun å®‰è£…/è¡¥ä¸/ç”Ÿå‘½å‘¨æœŸè„šæœ¬é—®é¢˜\nsummary: Bun å·¥ä½œæµï¼ˆå®éªŒæ€§ï¼‰ï¼šå®‰è£…åŠä¸ pnpm ç›¸æ¯”çš„æ³¨æ„äº‹é¡¹\ntitle: Bunï¼ˆå®éªŒæ€§ï¼‰\nx-i18n:\n  generated_at: \"2026-02-03T07:49:24Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: eb3f4c222b6bae49938d8bf53a0818fe5f5e0c0c3c1adb3e0a832ce8f785e1e3\n  source_path: install/bun.md\n  workflow: 15\n---\n\n# Bunï¼ˆå®éªŒæ€§ï¼‰\n\nç›®æ ‡ï¼šä½¿ç”¨ **Bun** è¿è¡Œæ­¤ä»“åº“ï¼ˆå¯é€‰ï¼Œä¸æ¨èç”¨äº WhatsApp/Telegramï¼‰ï¼ŒåŒæ—¶ä¸åç¦» pnpm å·¥ä½œæµã€‚\n\nâš ï¸ **ä¸æ¨èç”¨äº Gateway ç½‘å…³è¿è¡Œæ—¶**ï¼ˆWhatsApp/Telegram å­˜åœ¨ bugï¼‰ã€‚ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ Nodeã€‚",
    "## çŠ¶æ€\n\n- Bun æ˜¯ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°è¿è¡Œæ—¶ï¼Œç”¨äºç›´æ¥è¿è¡Œ TypeScriptï¼ˆ`bun run â€¦`ã€`bun --watch â€¦`ï¼‰ã€‚\n- `pnpm` æ˜¯æ„å»ºçš„é»˜è®¤å·¥å…·ï¼Œä»ç„¶å®Œå…¨æ”¯æŒï¼ˆå¹¶è¢«ä¸€äº›æ–‡æ¡£å·¥å…·ä½¿ç”¨ï¼‰ã€‚\n- Bun æ— æ³•ä½¿ç”¨ `pnpm-lock.yaml` å¹¶ä¼šå¿½ç•¥å®ƒã€‚",
    "## å®‰è£…\n\né»˜è®¤ï¼š\n\n```sh\nbun install\n```\n\næ³¨æ„ï¼š`bun.lock`/`bun.lockb` è¢« gitignoreï¼Œæ‰€ä»¥æ— è®ºå“ªç§æ–¹å¼éƒ½ä¸ä¼šæœ‰ä»“åº“å˜åŠ¨ã€‚å¦‚æœä½ æƒ³*ä¸å†™å…¥é”æ–‡ä»¶*ï¼š\n\n```sh\nbun install --no-save\n```",
    "## æ„å»º/æµ‹è¯•ï¼ˆBunï¼‰\n\n```sh\nbun run build\nbun run vitest run\n```",
    "## Bun ç”Ÿå‘½å‘¨æœŸè„šæœ¬ï¼ˆé»˜è®¤è¢«é˜»æ­¢ï¼‰\n\né™¤éæ˜ç¡®ä¿¡ä»»ï¼ˆ`bun pm untrusted` / `bun pm trust`ï¼‰ï¼ŒBun å¯èƒ½ä¼šé˜»æ­¢ä¾èµ–çš„ç”Ÿå‘½å‘¨æœŸè„šæœ¬ã€‚\nå¯¹äºæ­¤ä»“åº“ï¼Œé€šå¸¸è¢«é˜»æ­¢çš„è„šæœ¬ä¸æ˜¯å¿…éœ€çš„ï¼š\n\n- `@whiskeysockets/baileys` `preinstall`ï¼šæ£€æŸ¥ Node ä¸»ç‰ˆæœ¬ >= 20ï¼ˆæˆ‘ä»¬è¿è¡Œ Node 22+ï¼‰ã€‚\n- `protobufjs` `postinstall`ï¼šå‘å‡ºå…³äºä¸å…¼å®¹ç‰ˆæœ¬æ–¹æ¡ˆçš„è­¦å‘Šï¼ˆæ— æ„å»ºäº§ç‰©ï¼‰ã€‚\n\nå¦‚æœä½ é‡åˆ°çœŸæ­£éœ€è¦è¿™äº›è„šæœ¬çš„è¿è¡Œæ—¶é—®é¢˜ï¼Œè¯·æ˜ç¡®ä¿¡ä»»å®ƒä»¬ï¼š\n\n```sh\nbun pm trust @whiskeysockets/baileys protobufjs\n```",
    "## æ³¨æ„äº‹é¡¹\n\n- ä¸€äº›è„šæœ¬ä»ç„¶ç¡¬ç¼–ç  pnpmï¼ˆä¾‹å¦‚ `docs:build`ã€`ui:*`ã€`protocol:check`ï¼‰ã€‚ç›®å‰è¯·é€šè¿‡ pnpm è¿è¡Œè¿™äº›è„šæœ¬ã€‚",
    "---\nsummary: \"Gateway runtime on macOS (external launchd service)\"\nread_when:\n  - Packaging OpenClaw.app\n  - Debugging the macOS gateway launchd service\n  - Installing the gateway CLI for macOS\ntitle: \"Gateway on macOS\"\n---\n\n# Gateway on macOS (external launchd)\n\nOpenClaw.app no longer bundles Node/Bun or the Gateway runtime. The macOS app\nexpects an **external** `openclaw` CLI install, does not spawn the Gateway as a\nchild process, and manages a perâ€‘user launchd service to keep the Gateway\nrunning (or attaches to an existing local Gateway if one is already running).",
    "## Install the CLI (required for local mode)\n\nYou need Node 22+ on the Mac, then install `openclaw` globally:\n\n```bash\nnpm install -g openclaw@<version>\n```\n\nThe macOS appâ€™s **Install CLI** button runs the same flow via npm/pnpm (bun not recommended for Gateway runtime).",
    "## Launchd (Gateway as LaunchAgent)\n\nLabel:\n\n- `bot.molt.gateway` (or `bot.molt.<profile>`; legacy `com.openclaw.*` may remain)\n\nPlist location (perâ€‘user):\n\n- `~/Library/LaunchAgents/bot.molt.gateway.plist`\n  (or `~/Library/LaunchAgents/bot.molt.<profile>.plist`)\n\nManager:\n\n- The macOS app owns LaunchAgent install/update in Local mode.\n- The CLI can also install it: `openclaw gateway install`.\n\nBehavior:\n\n- â€œOpenClaw Activeâ€ enables/disables the LaunchAgent.\n- App quit does **not** stop the gateway (launchd keeps it alive).\n- If a Gateway is already running on the configured port, the app attaches to\n  it instead of starting a new one.\n\nLogging:\n\n- launchd stdout/err: `/tmp/openclaw/openclaw-gateway.log`",
    "## Version compatibility\n\nThe macOS app checks the gateway version against its own version. If theyâ€™re\nincompatible, update the global CLI to match the app version.",
    "## Smoke check\n\n```bash\nopenclaw --version\n\nOPENCLAW_SKIP_CHANNELS=1 \\\nOPENCLAW_SKIP_CANVAS_HOST=1 \\\nopenclaw gateway --port 18999 --bind loopback\n```\n\nThen:\n\n```bash\nopenclaw gateway call health --url ws://127.0.0.1:18999 --timeout 3000\n```",
    "---\nsummary: \"Camera capture (iOS node + macOS app) for agent use: photos (jpg) and short video clips (mp4)\"\nread_when:\n  - Adding or modifying camera capture on iOS nodes or macOS\n  - Extending agent-accessible MEDIA temp-file workflows\ntitle: \"Camera Capture\"\n---\n\n# Camera capture (agent)\n\nOpenClaw supports **camera capture** for agent workflows:\n\n- **iOS node** (paired via Gateway): capture a **photo** (`jpg`) or **short video clip** (`mp4`, with optional audio) via `node.invoke`.\n- **Android node** (paired via Gateway): capture a **photo** (`jpg`) or **short video clip** (`mp4`, with optional audio) via `node.invoke`.\n- **macOS app** (node via Gateway): capture a **photo** (`jpg`) or **short video clip** (`mp4`, with optional audio) via `node.invoke`.\n\nAll camera access is gated behind **user-controlled settings**.",
    "## iOS node\n\n### User setting (default on)\n\n- iOS Settings tab â†’ **Camera** â†’ **Allow Camera** (`camera.enabled`)\n  - Default: **on** (missing key is treated as enabled).\n  - When off: `camera.*` commands return `CAMERA_DISABLED`.\n\n### Commands (via Gateway `node.invoke`)\n\n- `camera.list`\n  - Response payload:\n    - `devices`: array of `{ id, name, position, deviceType }`\n\n- `camera.snap`\n  - Params:\n    - `facing`: `front|back` (default: `front`)\n    - `maxWidth`: number (optional; default `1600` on the iOS node)\n    - `quality`: `0..1` (optional; default `0.9`)\n    - `format`: currently `jpg`\n    - `delayMs`: number (optional; default `0`)\n    - `deviceId`: string (optional; from `camera.list`)\n  - Response payload:\n    - `format: \"jpg\"`\n    - `base64: \"<...>\"`\n    - `width`, `height`\n  - Payload guard: photos are recompressed to keep the base64 payload under 5 MB.",
    "- `camera.clip`\n  - Params:\n    - `facing`: `front|back` (default: `front`)\n    - `durationMs`: number (default `3000`, clamped to a max of `60000`)\n    - `includeAudio`: boolean (default `true`)\n    - `format`: currently `mp4`\n    - `deviceId`: string (optional; from `camera.list`)\n  - Response payload:\n    - `format: \"mp4\"`\n    - `base64: \"<...>\"`\n    - `durationMs`\n    - `hasAudio`\n\n### Foreground requirement\n\nLike `canvas.*`, the iOS node only allows `camera.*` commands in the **foreground**. Background invocations return `NODE_BACKGROUND_UNAVAILABLE`.\n\n### CLI helper (temp files + MEDIA)\n\nThe easiest way to get attachments is via the CLI helper, which writes decoded media to a temp file and prints `MEDIA:<path>`.\n\nExamples:",
    "```bash\nopenclaw nodes camera snap --node <id>               # default: both front + back (2 MEDIA lines)\nopenclaw nodes camera snap --node <id> --facing front\nopenclaw nodes camera clip --node <id> --duration 3000\nopenclaw nodes camera clip --node <id> --no-audio\n```\n\nNotes:\n\n- `nodes camera snap` defaults to **both** facings to give the agent both views.\n- Output files are temporary (in the OS temp directory) unless you build your own wrapper.",
    "## Android node\n\n### Android user setting (default on)\n\n- Android Settings sheet â†’ **Camera** â†’ **Allow Camera** (`camera.enabled`)\n  - Default: **on** (missing key is treated as enabled).\n  - When off: `camera.*` commands return `CAMERA_DISABLED`.\n\n### Permissions\n\n- Android requires runtime permissions:\n  - `CAMERA` for both `camera.snap` and `camera.clip`.\n  - `RECORD_AUDIO` for `camera.clip` when `includeAudio=true`.\n\nIf permissions are missing, the app will prompt when possible; if denied, `camera.*` requests fail with a\n`*_PERMISSION_REQUIRED` error.\n\n### Android foreground requirement\n\nLike `canvas.*`, the Android node only allows `camera.*` commands in the **foreground**. Background invocations return `NODE_BACKGROUND_UNAVAILABLE`.\n\n### Payload guard\n\nPhotos are recompressed to keep the base64 payload under 5 MB.",
    "## macOS app\n\n### User setting (default off)\n\nThe macOS companion app exposes a checkbox:\n\n- **Settings â†’ General â†’ Allow Camera** (`openclaw.cameraEnabled`)\n  - Default: **off**\n  - When off: camera requests return â€œCamera disabled by userâ€.\n\n### CLI helper (node invoke)\n\nUse the main `openclaw` CLI to invoke camera commands on the macOS node.\n\nExamples:\n\n```bash\nopenclaw nodes camera list --node <id>            # list camera ids\nopenclaw nodes camera snap --node <id>            # prints MEDIA:<path>\nopenclaw nodes camera snap --node <id> --max-width 1280\nopenclaw nodes camera snap --node <id> --delay-ms 2000\nopenclaw nodes camera snap --node <id> --device-id <id>\nopenclaw nodes camera clip --node <id> --duration 10s          # prints MEDIA:<path>\nopenclaw nodes camera clip --node <id> --duration-ms 3000      # prints MEDIA:<path> (legacy flag)\nopenclaw nodes camera clip --node <id> --device-id <id>\nopenclaw nodes camera clip --node <id> --no-audio\n```\n\nNotes:",
    "- `openclaw nodes camera snap` defaults to `maxWidth=1600` unless overridden.\n- On macOS, `camera.snap` waits `delayMs` (default 2000ms) after warm-up/exposure settle before capturing.\n- Photo payloads are recompressed to keep base64 under 5 MB.",
    "## Safety + practical limits\n\n- Camera and microphone access trigger the usual OS permission prompts (and require usage strings in Info.plist).\n- Video clips are capped (currently `<= 60s`) to avoid oversized node payloads (base64 overhead + message limits).",
    "## macOS screen video (OS-level)\n\nFor _screen_ video (not camera), use the macOS companion:\n\n```bash\nopenclaw nodes screen record --node <id> --duration 10s --fps 15   # prints MEDIA:<path>\n```\n\nNotes:\n\n- Requires macOS **Screen Recording** permission (TCC).",
    "---\nsummary: \"Agent-controlled Canvas panel embedded via WKWebView + custom URL scheme\"\nread_when:\n  - Implementing the macOS Canvas panel\n  - Adding agent controls for visual workspace\n  - Debugging WKWebView canvas loads\ntitle: \"Canvas\"\n---\n\n# Canvas (macOS app)\n\nThe macOS app embeds an agentâ€‘controlled **Canvas panel** using `WKWebView`. It\nis a lightweight visual workspace for HTML/CSS/JS, A2UI, and small interactive\nUI surfaces.",
    "## Where Canvas lives\n\nCanvas state is stored under Application Support:\n\n- `~/Library/Application Support/OpenClaw/canvas/<session>/...`\n\nThe Canvas panel serves those files via a **custom URL scheme**:\n\n- `openclaw-canvas://<session>/<path>`\n\nExamples:\n\n- `openclaw-canvas://main/` â†’ `<canvasRoot>/main/index.html`\n- `openclaw-canvas://main/assets/app.css` â†’ `<canvasRoot>/main/assets/app.css`\n- `openclaw-canvas://main/widgets/todo/` â†’ `<canvasRoot>/main/widgets/todo/index.html`\n\nIf no `index.html` exists at the root, the app shows a **builtâ€‘in scaffold page**.",
    "## Panel behavior\n\n- Borderless, resizable panel anchored near the menu bar (or mouse cursor).\n- Remembers size/position per session.\n- Autoâ€‘reloads when local canvas files change.\n- Only one Canvas panel is visible at a time (session is switched as needed).\n\nCanvas can be disabled from Settings â†’ **Allow Canvas**. When disabled, canvas\nnode commands return `CANVAS_DISABLED`.",
    "## Agent API surface\n\nCanvas is exposed via the **Gateway WebSocket**, so the agent can:\n\n- show/hide the panel\n- navigate to a path or URL\n- evaluate JavaScript\n- capture a snapshot image\n\nCLI examples:\n\n```bash\nopenclaw nodes canvas present --node <id>\nopenclaw nodes canvas navigate --node <id> --url \"/\"\nopenclaw nodes canvas eval --node <id> --js \"document.title\"\nopenclaw nodes canvas snapshot --node <id>\n```\n\nNotes:\n\n- `canvas.navigate` accepts **local canvas paths**, `http(s)` URLs, and `file://` URLs.\n- If you pass `\"/\"`, the Canvas shows the local scaffold or `index.html`.",
    "## A2UI in Canvas\n\nA2UI is hosted by the Gateway canvas host and rendered inside the Canvas panel.\nWhen the Gateway advertises a Canvas host, the macOS app autoâ€‘navigates to the\nA2UI host page on first open.\n\nDefault A2UI host URL:\n\n```\nhttp://<gateway-host>:18793/__openclaw__/a2ui/\n```\n\n### A2UI commands (v0.8)\n\nCanvas currently accepts **A2UI v0.8** serverâ†’client messages:\n\n- `beginRendering`\n- `surfaceUpdate`\n- `dataModelUpdate`\n- `deleteSurface`\n\n`createSurface` (v0.9) is not supported.\n\nCLI example:\n\n```bash\ncat > /tmp/a2ui-v0.8.jsonl <<'EOFA2'\n{\"surfaceUpdate\":{\"surfaceId\":\"main\",\"components\":[{\"id\":\"root\",\"component\":{\"Column\":{\"children\":{\"explicitList\":[\"title\",\"content\"]}}}},{\"id\":\"title\",\"component\":{\"Text\":{\"text\":{\"literalString\":\"Canvas (A2UI v0.8)\"},\"usageHint\":\"h1\"}}},{\"id\":\"content\",\"component\":{\"Text\":{\"text\":{\"literalString\":\"If you can read this, A2UI push works.\"},\"usageHint\":\"body\"}}}]}}\n{\"beginRendering\":{\"surfaceId\":\"main\",\"root\":\"root\"}}\nEOFA2",
    "openclaw nodes canvas a2ui push --jsonl /tmp/a2ui-v0.8.jsonl --node <id>\n```\n\nQuick smoke:\n\n```bash\nopenclaw nodes canvas a2ui push --node <id> --text \"Hello from A2UI\"\n```",
    "## Triggering agent runs from Canvas\n\nCanvas can trigger new agent runs via deep links:\n\n- `openclaw://agent?...`\n\nExample (in JS):\n\n```js\nwindow.location.href = \"openclaw://agent?message=Review%20this%20design\";\n```\n\nThe app prompts for confirmation unless a valid key is provided.",
    "## Security notes\n\n- Canvas scheme blocks directory traversal; files must live under the session root.\n- Local Canvas content uses a custom scheme (no loopback server required).\n- External `http(s)` URLs are allowed only when explicitly navigated.",
    "---\nsummary: \"Routing rules per channel (WhatsApp, Telegram, Discord, Slack) and shared context\"\nread_when:\n  - Changing channel routing or inbox behavior\ntitle: \"Channel Routing\"\n---\n\n# Channels & routing\n\nOpenClaw routes replies **back to the channel where a message came from**. The\nmodel does not choose a channel; routing is deterministic and controlled by the\nhost configuration.",
    "## Key terms\n\n- **Channel**: `whatsapp`, `telegram`, `discord`, `slack`, `signal`, `imessage`, `webchat`.\n- **AccountId**: perâ€‘channel account instance (when supported).\n- **AgentId**: an isolated workspace + session store (â€œbrainâ€).\n- **SessionKey**: the bucket key used to store context and control concurrency.",
    "## Session key shapes (examples)\n\nDirect messages collapse to the agentâ€™s **main** session:\n\n- `agent:<agentId>:<mainKey>` (default: `agent:main:main`)\n\nGroups and channels remain isolated per channel:\n\n- Groups: `agent:<agentId>:<channel>:group:<id>`\n- Channels/rooms: `agent:<agentId>:<channel>:channel:<id>`\n\nThreads:\n\n- Slack/Discord threads append `:thread:<threadId>` to the base key.\n- Telegram forum topics embed `:topic:<topicId>` in the group key.\n\nExamples:\n\n- `agent:main:telegram:group:-1001234567890:topic:42`\n- `agent:main:discord:channel:123456:thread:987654`",
    "## Routing rules (how an agent is chosen)\n\nRouting picks **one agent** for each inbound message:\n\n1. **Exact peer match** (`bindings` with `peer.kind` + `peer.id`).\n2. **Guild match** (Discord) via `guildId`.\n3. **Team match** (Slack) via `teamId`.\n4. **Account match** (`accountId` on the channel).\n5. **Channel match** (any account on that channel).\n6. **Default agent** (`agents.list[].default`, else first list entry, fallback to `main`).\n\nThe matched agent determines which workspace and session store are used.",
    "## Broadcast groups (run multiple agents)\n\nBroadcast groups let you run **multiple agents** for the same peer **when OpenClaw would normally reply** (for example: in WhatsApp groups, after mention/activation gating).\n\nConfig:\n\n```json5\n{\n  broadcast: {\n    strategy: \"parallel\",\n    \"120363403215116621@g.us\": [\"alfred\", \"baerbel\"],\n    \"+15555550123\": [\"support\", \"logger\"],\n  },\n}\n```\n\nSee: [Broadcast Groups](/broadcast-groups).",
    "## Config overview\n\n- `agents.list`: named agent definitions (workspace, model, etc.).\n- `bindings`: map inbound channels/accounts/peers to agents.\n\nExample:\n\n```json5\n{\n  agents: {\n    list: [{ id: \"support\", name: \"Support\", workspace: \"~/.openclaw/workspace-support\" }],\n  },\n  bindings: [\n    { match: { channel: \"slack\", teamId: \"T123\" }, agentId: \"support\" },\n    { match: { channel: \"telegram\", peer: { kind: \"group\", id: \"-100123\" } }, agentId: \"support\" },\n  ],\n}\n```",
    "## Session storage\n\nSession stores live under the state directory (default `~/.openclaw`):\n\n- `~/.openclaw/agents/<agentId>/sessions/sessions.json`\n- JSONL transcripts live alongside the store\n\nYou can override the store path via `session.store` and `{agentId}` templating.",
    "## WebChat behavior\n\nWebChat attaches to the **selected agent** and defaults to the agentâ€™s main\nsession. Because of this, WebChat lets you see crossâ€‘channel context for that\nagent in one place.",
    "## Reply context\n\nInbound replies include:\n\n- `ReplyToId`, `ReplyToBody`, and `ReplyToSender` when available.\n- Quoted context is appended to `Body` as a `[Replying to ...]` block.\n\nThis is consistent across channels.",
    "---\nsummary: \"CLI reference for `openclaw channels` (accounts, status, login/logout, logs)\"\nread_when:\n  - You want to add/remove channel accounts (WhatsApp/Telegram/Discord/Google Chat/Slack/Mattermost (plugin)/Signal/iMessage)\n  - You want to check channel status or tail channel logs\ntitle: \"channels\"\n---\n\n# `openclaw channels`\n\nManage chat channel accounts and their runtime status on the Gateway.\n\nRelated docs:\n\n- Channel guides: [Channels](/channels/index)\n- Gateway configuration: [Configuration](/gateway/configuration)",
    "## Common commands\n\n```bash\nopenclaw channels list\nopenclaw channels status\nopenclaw channels capabilities\nopenclaw channels capabilities --channel discord --target channel:123\nopenclaw channels resolve --channel slack \"#general\" \"@jane\"\nopenclaw channels logs --channel all\n```",
    "## Add / remove accounts\n\n```bash\nopenclaw channels add --channel telegram --token <bot-token>\nopenclaw channels remove --channel telegram --delete\n```\n\nTip: `openclaw channels add --help` shows per-channel flags (token, app token, signal-cli paths, etc).",
    "## Login / logout (interactive)\n\n```bash\nopenclaw channels login --channel whatsapp\nopenclaw channels logout --channel whatsapp\n```",
    "## Troubleshooting\n\n- Run `openclaw status --deep` for a broad probe.\n- Use `openclaw doctor` for guided fixes.\n- `openclaw channels list` prints `Claude: HTTP 403 ... user:profile` â†’ usage snapshot needs the `user:profile` scope. Use `--no-usage`, or provide a claude.ai session key (`CLAUDE_WEB_SESSION_KEY` / `CLAUDE_WEB_COOKIE`), or re-auth via Claude Code CLI.",
    "## Capabilities probe\n\nFetch provider capability hints (intents/scopes where available) plus static feature support:\n\n```bash\nopenclaw channels capabilities\nopenclaw channels capabilities --channel discord --target channel:123\n```\n\nNotes:\n\n- `--channel` is optional; omit it to list every channel (including extensions).\n- `--target` accepts `channel:<id>` or a raw numeric channel id and only applies to Discord.\n- Probes are provider-specific: Discord intents + optional channel permissions; Slack bot + user scopes; Telegram bot flags + webhook; Signal daemon version; MS Teams app token + Graph roles/scopes (annotated where known). Channels without probes report `Probe: unavailable`.",
    "## Resolve names to IDs\n\nResolve channel/user names to IDs using the provider directory:\n\n```bash\nopenclaw channels resolve --channel slack \"#general\" \"@jane\"\nopenclaw channels resolve --channel discord \"My Server/#support\" \"@someone\"\nopenclaw channels resolve --channel matrix \"Project Room\"\n```\n\nNotes:\n\n- Use `--kind user|group|auto` to force the target type.\n- Resolution prefers active matches when multiple entries share the same name.",
    "---\nsummary: \"Gateway lifecycle on macOS (launchd)\"\nread_when:\n  - Integrating the mac app with the gateway lifecycle\ntitle: \"Gateway Lifecycle\"\n---\n\n# Gateway lifecycle on macOS\n\nThe macOS app **manages the Gateway via launchd** by default and does not spawn\nthe Gateway as a child process. It first tries to attach to an alreadyâ€‘running\nGateway on the configured port; if none is reachable, it enables the launchd\nservice via the external `openclaw` CLI (no embedded runtime). This gives you\nreliable autoâ€‘start at login and restart on crashes.\n\nChildâ€‘process mode (Gateway spawned directly by the app) is **not in use** today.\nIf you need tighter coupling to the UI, run the Gateway manually in a terminal.",
    "## Default behavior (launchd)\n\n- The app installs a perâ€‘user LaunchAgent labeled `bot.molt.gateway`\n  (or `bot.molt.<profile>` when using `--profile`/`OPENCLAW_PROFILE`; legacy `com.openclaw.*` is supported).\n- When Local mode is enabled, the app ensures the LaunchAgent is loaded and\n  starts the Gateway if needed.\n- Logs are written to the launchd gateway log path (visible in Debug Settings).\n\nCommon commands:\n\n```bash\nlaunchctl kickstart -k gui/$UID/bot.molt.gateway\nlaunchctl bootout gui/$UID/bot.molt.gateway\n```\n\nReplace the label with `bot.molt.<profile>` when running a named profile.",
    "## Unsigned dev builds\n\n`scripts/restart-mac.sh --no-sign` is for fast local builds when you donâ€™t have\nsigning keys. To prevent launchd from pointing at an unsigned relay binary, it:\n\n- Writes `~/.openclaw/disable-launchagent`.\n\nSigned runs of `scripts/restart-mac.sh` clear this override if the marker is\npresent. To reset manually:\n\n```bash\nrm ~/.openclaw/disable-launchagent\n```",
    "## Attach-only mode\n\nTo force the macOS app to **never install or manage launchd**, launch it with\n`--attach-only` (or `--no-launchd`). This sets `~/.openclaw/disable-launchagent`,\nso the app only attaches to an already running Gateway. You can toggle the same\nbehavior in Debug Settings.",
    "## Remote mode\n\nRemote mode never starts a local Gateway. The app uses an SSH tunnel to the\nremote host and connects over that tunnel.",
    "## Why we prefer launchd\n\n- Autoâ€‘start at login.\n- Builtâ€‘in restart/KeepAlive semantics.\n- Predictable logs and supervision.\n\nIf a true childâ€‘process mode is ever needed again, it should be documented as a\nseparate, explicit devâ€‘only mode.",
    "---\nsummary: \"Chrome extension: let OpenClaw drive your existing Chrome tab\"\nread_when:\n  - You want the agent to drive an existing Chrome tab (toolbar button)\n  - You need remote Gateway + local browser automation via Tailscale\n  - You want to understand the security implications of browser takeover\ntitle: \"Chrome Extension\"\n---\n\n# Chrome extension (browser relay)\n\nThe OpenClaw Chrome extension lets the agent control your **existing Chrome tabs** (your normal Chrome window) instead of launching a separate openclaw-managed Chrome profile.\n\nAttach/detach happens via a **single Chrome toolbar button**.",
    "## What it is (concept)\n\nThere are three parts:\n\n- **Browser control service** (Gateway or node): the API the agent/tool calls (via the Gateway)\n- **Local relay server** (loopback CDP): bridges between the control server and the extension (`http://127.0.0.1:18792` by default)\n- **Chrome MV3 extension**: attaches to the active tab using `chrome.debugger` and pipes CDP messages to the relay\n\nOpenClaw then controls the attached tab through the normal `browser` tool surface (selecting the right profile).",
    "## Install / load (unpacked)\n\n1. Install the extension to a stable local path:\n\n```bash\nopenclaw browser extension install\n```\n\n2. Print the installed extension directory path:\n\n```bash\nopenclaw browser extension path\n```\n\n3. Chrome â†’ `chrome://extensions`\n\n- Enable â€œDeveloper modeâ€\n- â€œLoad unpackedâ€ â†’ select the directory printed above\n\n4. Pin the extension.",
    "## Updates (no build step)\n\nThe extension ships inside the OpenClaw release (npm package) as static files. There is no separate â€œbuildâ€ step.\n\nAfter upgrading OpenClaw:\n\n- Re-run `openclaw browser extension install` to refresh the installed files under your OpenClaw state directory.\n- Chrome â†’ `chrome://extensions` â†’ click â€œReloadâ€ on the extension.",
    "## Use it (no extra config)\n\nOpenClaw ships with a built-in browser profile named `chrome` that targets the extension relay on the default port.\n\nUse it:\n\n- CLI: `openclaw browser --browser-profile chrome tabs`\n- Agent tool: `browser` with `profile=\"chrome\"`\n\nIf you want a different name or a different relay port, create your own profile:\n\n```bash\nopenclaw browser create-profile \\\n  --name my-chrome \\\n  --driver extension \\\n  --cdp-url http://127.0.0.1:18792 \\\n  --color \"#00AA00\"\n```",
    "## Attach / detach (toolbar button)\n\n- Open the tab you want OpenClaw to control.\n- Click the extension icon.\n  - Badge shows `ON` when attached.\n- Click again to detach.",
    "## Which tab does it control?\n\n- It does **not** automatically control â€œwhatever tab youâ€™re looking atâ€.\n- It controls **only the tab(s) you explicitly attached** by clicking the toolbar button.\n- To switch: open the other tab and click the extension icon there.",
    "## Badge + common errors\n\n- `ON`: attached; OpenClaw can drive that tab.\n- `â€¦`: connecting to the local relay.\n- `!`: relay not reachable (most common: browser relay server isnâ€™t running on this machine).\n\nIf you see `!`:\n\n- Make sure the Gateway is running locally (default setup), or run a node host on this machine if the Gateway runs elsewhere.\n- Open the extension Options page; it shows whether the relay is reachable.",
    "## Remote Gateway (use a node host)\n\n### Local Gateway (same machine as Chrome) â€” usually **no extra steps**\n\nIf the Gateway runs on the same machine as Chrome, it starts the browser control service on loopback\nand auto-starts the relay server. The extension talks to the local relay; the CLI/tool calls go to the Gateway.\n\n### Remote Gateway (Gateway runs elsewhere) â€” **run a node host**\n\nIf your Gateway runs on another machine, start a node host on the machine that runs Chrome.\nThe Gateway will proxy browser actions to that node; the extension + relay stay local to the browser machine.\n\nIf multiple nodes are connected, pin one with `gateway.nodes.browser.node` or set `gateway.nodes.browser.mode`.",
    "## Sandboxing (tool containers)\n\nIf your agent session is sandboxed (`agents.defaults.sandbox.mode != \"off\"`), the `browser` tool can be restricted:\n\n- By default, sandboxed sessions often target the **sandbox browser** (`target=\"sandbox\"`), not your host Chrome.\n- Chrome extension relay takeover requires controlling the **host** browser control server.\n\nOptions:\n\n- Easiest: use the extension from a **non-sandboxed** session/agent.\n- Or allow host browser control for sandboxed sessions:\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        browser: {\n          allowHostControl: true,\n        },\n      },\n    },\n  },\n}\n```\n\nThen ensure the tool isnâ€™t denied by tool policy, and (if needed) call `browser` with `target=\"host\"`.\n\nDebugging: `openclaw sandbox explain`",
    "## Remote access tips\n\n- Keep the Gateway and node host on the same tailnet; avoid exposing relay ports to LAN or public Internet.\n- Pair nodes intentionally; disable browser proxy routing if you donâ€™t want remote control (`gateway.nodes.browser.mode=\"off\"`).",
    "## How â€œextension pathâ€ works\n\n`openclaw browser extension path` prints the **installed** on-disk directory containing the extension files.\n\nThe CLI intentionally does **not** print a `node_modules` path. Always run `openclaw browser extension install` first to copy the extension to a stable location under your OpenClaw state directory.\n\nIf you move or delete that install directory, Chrome will mark the extension as broken until you reload it from a valid path.",
    "## Security implications (read this)\n\nThis is powerful and risky. Treat it like giving the model â€œhands on your browserâ€.\n\n- The extension uses Chromeâ€™s debugger API (`chrome.debugger`). When attached, the model can:\n  - click/type/navigate in that tab\n  - read page content\n  - access whatever the tabâ€™s logged-in session can access\n- **This is not isolated** like the dedicated openclaw-managed profile.\n  - If you attach to your daily-driver profile/tab, youâ€™re granting access to that account state.\n\nRecommendations:\n\n- Prefer a dedicated Chrome profile (separate from your personal browsing) for extension relay usage.\n- Keep the Gateway and any node hosts tailnet-only; rely on Gateway auth + node pairing.\n- Avoid exposing relay ports over LAN (`0.0.0.0`) and avoid Funnel (public).\n- The relay blocks non-extension origins and requires an internal auth token for CDP clients.\n\nRelated:",
    "- Browser tool overview: [Browser](/tools/browser)\n- Security audit: [Security](/gateway/security)\n- Tailscale setup: [Tailscale](/gateway/tailscale)",
    "---\nsummary: \"Use Claude Max/Pro subscription as an OpenAI-compatible API endpoint\"\nread_when:\n  - You want to use Claude Max subscription with OpenAI-compatible tools\n  - You want a local API server that wraps Claude Code CLI\n  - You want to save money by using subscription instead of API keys\ntitle: \"Claude Max API Proxy\"\n---\n\n# Claude Max API Proxy\n\n**claude-max-api-proxy** is a community tool that exposes your Claude Max/Pro subscription as an OpenAI-compatible API endpoint. This allows you to use your subscription with any tool that supports the OpenAI API format.",
    "## Why Use This?\n\n| Approach                | Cost                                                | Best For                                   |\n| ----------------------- | --------------------------------------------------- | ------------------------------------------ |\n| Anthropic API           | Pay per token (~$15/M input, $75/M output for Opus) | Production apps, high volume               |\n| Claude Max subscription | $200/month flat                                     | Personal use, development, unlimited usage |\n\nIf you have a Claude Max subscription and want to use it with OpenAI-compatible tools, this proxy can save you significant money.",
    "## How It Works\n\n```\nYour App â†’ claude-max-api-proxy â†’ Claude Code CLI â†’ Anthropic (via subscription)\n     (OpenAI format)              (converts format)      (uses your login)\n```\n\nThe proxy:\n\n1. Accepts OpenAI-format requests at `http://localhost:3456/v1/chat/completions`\n2. Converts them to Claude Code CLI commands\n3. Returns responses in OpenAI format (streaming supported)",
    "## Installation\n\n```bash\n# Requires Node.js 20+ and Claude Code CLI\nnpm install -g claude-max-api-proxy\n\n# Verify Claude CLI is authenticated\nclaude --version\n```",
    "## Usage\n\n### Start the server\n\n```bash\nclaude-max-api\n# Server runs at http://localhost:3456\n```\n\n### Test it\n\n```bash\n# Health check\ncurl http://localhost:3456/health\n\n# List models\ncurl http://localhost:3456/v1/models\n\n# Chat completion\ncurl http://localhost:3456/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"claude-opus-4\",\n    \"messages\": [{\"role\": \"user\", \"content\": \"Hello!\"}]\n  }'\n```\n\n### With OpenClaw\n\nYou can point OpenClaw at the proxy as a custom OpenAI-compatible endpoint:\n\n```json5\n{\n  env: {\n    OPENAI_API_KEY: \"not-needed\",\n    OPENAI_BASE_URL: \"http://localhost:3456/v1\",\n  },\n  agents: {\n    defaults: {\n      model: { primary: \"openai/claude-opus-4\" },\n    },\n  },\n}\n```",
    "## Available Models\n\n| Model ID          | Maps To         |\n| ----------------- | --------------- |\n| `claude-opus-4`   | Claude Opus 4   |\n| `claude-sonnet-4` | Claude Sonnet 4 |\n| `claude-haiku-4`  | Claude Haiku 4  |",
    "## Auto-Start on macOS\n\nCreate a LaunchAgent to run the proxy automatically:\n\n```bash\ncat > ~/Library/LaunchAgents/com.claude-max-api.plist << 'EOF'\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n  <key>Label</key>\n  <string>com.claude-max-api</string>\n  <key>RunAtLoad</key>\n  <true/>\n  <key>KeepAlive</key>\n  <true/>\n  <key>ProgramArguments</key>\n  <array>\n    <string>/usr/local/bin/node</string>\n    <string>/usr/local/lib/node_modules/claude-max-api-proxy/dist/server/standalone.js</string>\n  </array>\n  <key>EnvironmentVariables</key>\n  <dict>\n    <key>PATH</key>\n    <string>/usr/local/bin:/opt/homebrew/bin:~/.local/bin:/usr/bin:/bin</string>\n  </dict>\n</dict>\n</plist>\nEOF\n\nlaunchctl bootstrap gui/$(id -u) ~/Library/LaunchAgents/com.claude-max-api.plist\n```",
    "## Links\n\n- **npm:** [https://www.npmjs.com/package/claude-max-api-proxy](https://www.npmjs.com/package/claude-max-api-proxy)\n- **GitHub:** [https://github.com/atalovesyou/claude-max-api-proxy](https://github.com/atalovesyou/claude-max-api-proxy)\n- **Issues:** [https://github.com/atalovesyou/claude-max-api-proxy/issues](https://github.com/atalovesyou/claude-max-api-proxy/issues)",
    "## Notes\n\n- This is a **community tool**, not officially supported by Anthropic or OpenClaw\n- Requires an active Claude Max/Pro subscription with Claude Code CLI authenticated\n- The proxy runs locally and does not send data to any third-party servers\n- Streaming responses are fully supported",
    "## See Also\n\n- [Anthropic provider](/providers/anthropic) - Native OpenClaw integration with Claude setup-token or API keys\n- [OpenAI provider](/providers/openai) - For OpenAI/Codex subscriptions",
    "---\nsummary: \"ClawHub guide: public skills registry + CLI workflows\"\nread_when:\n  - Introducing ClawHub to new users\n  - Installing, searching, or publishing skills\n  - Explaining ClawHub CLI flags and sync behavior\ntitle: \"ClawHub\"\n---\n\n# ClawHub\n\nClawHub is the **public skill registry for OpenClaw**. It is a free service: all skills are public, open, and visible to everyone for sharing and reuse. A skill is just a folder with a `SKILL.md` file (plus supporting text files). You can browse skills in the web app or use the CLI to search, install, update, and publish skills.\n\nSite: [clawhub.ai](https://clawhub.ai)",
    "## What ClawHub is\n\n- A public registry for OpenClaw skills.\n- A versioned store of skill bundles and metadata.\n- A discovery surface for search, tags, and usage signals.",
    "## How it works\n\n1. A user publishes a skill bundle (files + metadata).\n2. ClawHub stores the bundle, parses metadata, and assigns a version.\n3. The registry indexes the skill for search and discovery.\n4. Users browse, download, and install skills in OpenClaw.",
    "## What you can do\n\n- Publish new skills and new versions of existing skills.\n- Discover skills by name, tags, or search.\n- Download skill bundles and inspect their files.\n- Report skills that are abusive or unsafe.\n- If you are a moderator, hide, unhide, delete, or ban.",
    "## Who this is for (beginner-friendly)\n\nIf you want to add new capabilities to your OpenClaw agent, ClawHub is the easiest way to find and install skills. You do not need to know how the backend works. You can:\n\n- Search for skills by plain language.\n- Install a skill into your workspace.\n- Update skills later with one command.\n- Back up your own skills by publishing them.",
    "## Quick start (non-technical)\n\n1. Install the CLI (see next section).\n2. Search for something you need:\n   - `clawhub search \"calendar\"`\n3. Install a skill:\n   - `clawhub install <skill-slug>`\n4. Start a new OpenClaw session so it picks up the new skill.",
    "## Install the CLI\n\nPick one:\n\n```bash\nnpm i -g clawhub\n```\n\n```bash\npnpm add -g clawhub\n```",
    "## How it fits into OpenClaw\n\nBy default, the CLI installs skills into `./skills` under your current working directory. If a OpenClaw workspace is configured, `clawhub` falls back to that workspace unless you override `--workdir` (or `CLAWHUB_WORKDIR`). OpenClaw loads workspace skills from `<workspace>/skills` and will pick them up in the **next** session. If you already use `~/.openclaw/skills` or bundled skills, workspace skills take precedence.\n\nFor more detail on how skills are loaded, shared, and gated, see\n[Skills](/tools/skills).",
    "## Skill system overview\n\nA skill is a versioned bundle of files that teaches OpenClaw how to perform a\nspecific task. Each publish creates a new version, and the registry keeps a\nhistory of versions so users can audit changes.\n\nA typical skill includes:\n\n- A `SKILL.md` file with the primary description and usage.\n- Optional configs, scripts, or supporting files used by the skill.\n- Metadata such as tags, summary, and install requirements.\n\nClawHub uses metadata to power discovery and safely expose skill capabilities.\nThe registry also tracks usage signals (such as stars and downloads) to improve\nranking and visibility.",
    "## What the service provides (features)\n\n- **Public browsing** of skills and their `SKILL.md` content.\n- **Search** powered by embeddings (vector search), not just keywords.\n- **Versioning** with semver, changelogs, and tags (including `latest`).\n- **Downloads** as a zip per version.\n- **Stars and comments** for community feedback.\n- **Moderation** hooks for approvals and audits.\n- **CLI-friendly API** for automation and scripting.",
    "## Security and moderation\n\nClawHub is open by default. Anyone can upload skills, but a GitHub account must\nbe at least one week old to publish. This helps slow down abuse without blocking\nlegitimate contributors.\n\nReporting and moderation:\n\n- Any signed in user can report a skill.\n- Report reasons are required and recorded.\n- Each user can have up to 20 active reports at a time.\n- Skills with more than 3 unique reports are auto hidden by default.\n- Moderators can view hidden skills, unhide them, delete them, or ban users.\n- Abusing the report feature can result in account bans.\n\nInterested in becoming a moderator? Ask in the OpenClaw Discord and contact a\nmoderator or maintainer.",
    "## CLI commands and parameters\n\nGlobal options (apply to all commands):\n\n- `--workdir <dir>`: Working directory (default: current dir; falls back to OpenClaw workspace).\n- `--dir <dir>`: Skills directory, relative to workdir (default: `skills`).\n- `--site <url>`: Site base URL (browser login).\n- `--registry <url>`: Registry API base URL.\n- `--no-input`: Disable prompts (non-interactive).\n- `-V, --cli-version`: Print CLI version.\n\nAuth:\n\n- `clawhub login` (browser flow) or `clawhub login --token <token>`\n- `clawhub logout`\n- `clawhub whoami`\n\nOptions:\n\n- `--token <token>`: Paste an API token.\n- `--label <label>`: Label stored for browser login tokens (default: `CLI token`).\n- `--no-browser`: Do not open a browser (requires `--token`).\n\nSearch:\n\n- `clawhub search \"query\"`\n- `--limit <n>`: Max results.\n\nInstall:\n\n- `clawhub install <slug>`\n- `--version <version>`: Install a specific version.\n- `--force`: Overwrite if the folder already exists.\n\nUpdate:",
    "- `clawhub update <slug>`\n- `clawhub update --all`\n- `--version <version>`: Update to a specific version (single slug only).\n- `--force`: Overwrite when local files do not match any published version.\n\nList:\n\n- `clawhub list` (reads `.clawhub/lock.json`)\n\nPublish:\n\n- `clawhub publish <path>`\n- `--slug <slug>`: Skill slug.\n- `--name <name>`: Display name.\n- `--version <version>`: Semver version.\n- `--changelog <text>`: Changelog text (can be empty).\n- `--tags <tags>`: Comma-separated tags (default: `latest`).\n\nDelete/undelete (owner/admin only):\n\n- `clawhub delete <slug> --yes`\n- `clawhub undelete <slug> --yes`\n\nSync (scan local skills + publish new/updated):",
    "- `clawhub sync`\n- `--root <dir...>`: Extra scan roots.\n- `--all`: Upload everything without prompts.\n- `--dry-run`: Show what would be uploaded.\n- `--bump <type>`: `patch|minor|major` for updates (default: `patch`).\n- `--changelog <text>`: Changelog for non-interactive updates.\n- `--tags <tags>`: Comma-separated tags (default: `latest`).\n- `--concurrency <n>`: Registry checks (default: 4).",
    "## Common workflows for agents\n\n### Search for skills\n\n```bash\nclawhub search \"postgres backups\"\n```\n\n### Download new skills\n\n```bash\nclawhub install my-skill-pack\n```\n\n### Update installed skills\n\n```bash\nclawhub update --all\n```\n\n### Back up your skills (publish or sync)\n\nFor a single skill folder:\n\n```bash\nclawhub publish ./my-skill --slug my-skill --name \"My Skill\" --version 1.0.0 --tags latest\n```\n\nTo scan and back up many skills at once:\n\n```bash\nclawhub sync --all\n```",
    "## Advanced details (technical)\n\n### Versioning and tags\n\n- Each publish creates a new **semver** `SkillVersion`.\n- Tags (like `latest`) point to a version; moving tags lets you roll back.\n- Changelogs are attached per version and can be empty when syncing or publishing updates.\n\n### Local changes vs registry versions\n\nUpdates compare the local skill contents to registry versions using a content hash. If local files do not match any published version, the CLI asks before overwriting (or requires `--force` in non-interactive runs).\n\n### Sync scanning and fallback roots\n\n`clawhub sync` scans your current workdir first. If no skills are found, it falls back to known legacy locations (for example `~/openclaw/skills` and `~/.openclaw/skills`). This is designed to find older skill installs without extra flags.\n\n### Storage and lockfile",
    "- Installed skills are recorded in `.clawhub/lock.json` under your workdir.\n- Auth tokens are stored in the ClawHub CLI config file (override via `CLAWHUB_CONFIG_PATH`).\n\n### Telemetry (install counts)\n\nWhen you run `clawhub sync` while logged in, the CLI sends a minimal snapshot to compute install counts. You can disable this entirely:\n\n```bash\nexport CLAWHUB_DISABLE_TELEMETRY=1\n```",
    "## Environment variables\n\n- `CLAWHUB_SITE`: Override the site URL.\n- `CLAWHUB_REGISTRY`: Override the registry API URL.\n- `CLAWHUB_CONFIG_PATH`: Override where the CLI stores the token/config.\n- `CLAWHUB_WORKDIR`: Override the default workdir.\n- `CLAWHUB_DISABLE_TELEMETRY=1`: Disable telemetry on `sync`.",
    "---\nsummary: \"Clawnet refactor: unify network protocol, roles, auth, approvals, identity\"\nread_when:\n  - Planning a unified network protocol for nodes + operator clients\n  - Reworking approvals, pairing, TLS, and presence across devices\ntitle: \"Clawnet Refactor\"\n---\n\n# Clawnet refactor (protocol + auth unification)",
    "## Hi\n\nHi Peter â€” great direction; this unlocks simpler UX + stronger security.",
    "## Purpose\n\nSingle, rigorous document for:\n\n- Current state: protocols, flows, trust boundaries.\n- Pain points: approvals, multiâ€‘hop routing, UI duplication.\n- Proposed new state: one protocol, scoped roles, unified auth/pairing, TLS pinning.\n- Identity model: stable IDs + cute slugs.\n- Migration plan, risks, open questions.",
    "## Goals (from discussion)\n\n- One protocol for all clients (mac app, CLI, iOS, Android, headless node).\n- Every network participant authenticated + paired.\n- Role clarity: nodes vs operators.\n- Central approvals routed to where the user is.\n- TLS encryption + optional pinning for all remote traffic.\n- Minimal code duplication.\n- Single machine should appear once (no UI/node duplicate entry).",
    "## Nonâ€‘goals (explicit)\n\n- Remove capability separation (still need leastâ€‘privilege).\n- Expose full gateway control plane without scope checks.\n- Make auth depend on human labels (slugs remain nonâ€‘security).\n\n---\n\n# Current state (asâ€‘is)",
    "## Two protocols\n\n### 1) Gateway WebSocket (control plane)\n\n- Full API surface: config, channels, models, sessions, agent runs, logs, nodes, etc.\n- Default bind: loopback. Remote access via SSH/Tailscale.\n- Auth: token/password via `connect`.\n- No TLS pinning (relies on loopback/tunnel).\n- Code:\n  - `src/gateway/server/ws-connection/message-handler.ts`\n  - `src/gateway/client.ts`\n  - `docs/gateway/protocol.md`\n\n### 2) Bridge (node transport)\n\n- Narrow allowlist surface, node identity + pairing.\n- JSONL over TCP; optional TLS + cert fingerprint pinning.\n- TLS advertises fingerprint in discovery TXT.\n- Code:\n  - `src/infra/bridge/server/connection.ts`\n  - `src/gateway/server-bridge.ts`\n  - `src/node-host/bridge-client.ts`\n  - `docs/gateway/bridge-protocol.md`",
    "## Control plane clients today\n\n- CLI â†’ Gateway WS via `callGateway` (`src/gateway/call.ts`).\n- macOS app UI â†’ Gateway WS (`GatewayConnection`).\n- Web Control UI â†’ Gateway WS.\n- ACP â†’ Gateway WS.\n- Browser control uses its own HTTP control server.",
    "## Nodes today\n\n- macOS app in node mode connects to Gateway bridge (`MacNodeBridgeSession`).\n- iOS/Android apps connect to Gateway bridge.\n- Pairing + perâ€‘node token stored on gateway.",
    "## Current approval flow (exec)\n\n- Agent uses `system.run` via Gateway.\n- Gateway invokes node over bridge.\n- Node runtime decides approval.\n- UI prompt shown by mac app (when node == mac app).\n- Node returns `invoke-res` to Gateway.\n- Multiâ€‘hop, UI tied to node host.",
    "## Presence + identity today\n\n- Gateway presence entries from WS clients.\n- Node presence entries from bridge.\n- mac app can show two entries for same machine (UI + node).\n- Node identity stored in pairing store; UI identity separate.\n\n---\n\n# Problems / pain points\n\n- Two protocol stacks to maintain (WS + Bridge).\n- Approvals on remote nodes: prompt appears on node host, not where user is.\n- TLS pinning only exists for bridge; WS depends on SSH/Tailscale.\n- Identity duplication: same machine shows as multiple instances.\n- Ambiguous roles: UI + node + CLI capabilities not clearly separated.\n\n---\n\n# Proposed new state (Clawnet)",
    "## One protocol, two roles\n\nSingle WS protocol with role + scope.\n\n- **Role: node** (capability host)\n- **Role: operator** (control plane)\n- Optional **scope** for operator:\n  - `operator.read` (status + viewing)\n  - `operator.write` (agent run, sends)\n  - `operator.admin` (config, channels, models)\n\n### Role behaviors\n\n**Node**\n\n- Can register capabilities (`caps`, `commands`, permissions).\n- Can receive `invoke` commands (`system.run`, `camera.*`, `canvas.*`, `screen.record`, etc).\n- Can send events: `voice.transcript`, `agent.request`, `chat.subscribe`.\n- Cannot call config/models/channels/sessions/agent control plane APIs.\n\n**Operator**\n\n- Full control plane API, gated by scope.\n- Receives all approvals.\n- Does not directly execute OS actions; routes to nodes.\n\n### Key rule\n\nRole is perâ€‘connection, not per device. A device may open both roles, separately.\n\n---\n\n# Unified authentication + pairing",
    "## Client identity\n\nEvery client provides:\n\n- `deviceId` (stable, derived from device key).\n- `displayName` (human name).\n- `role` + `scope` + `caps` + `commands`.",
    "## Pairing flow (unified)\n\n- Client connects unauthenticated.\n- Gateway creates a **pairing request** for that `deviceId`.\n- Operator receives prompt; approves/denies.\n- Gateway issues credentials bound to:\n  - device public key\n  - role(s)\n  - scope(s)\n  - capabilities/commands\n- Client persists token, reconnects authenticated.",
    "## Deviceâ€‘bound auth (avoid bearer token replay)\n\nPreferred: device keypairs.\n\n- Device generates keypair once.\n- `deviceId = fingerprint(publicKey)`.\n- Gateway sends nonce; device signs; gateway verifies.\n- Tokens are issued to a public key (proofâ€‘ofâ€‘possession), not a string.\n\nAlternatives:\n\n- mTLS (client certs): strongest, more ops complexity.\n- Shortâ€‘lived bearer tokens only as a temporary phase (rotate + revoke early).",
    "## Silent approval (SSH heuristic)\n\nDefine it precisely to avoid a weak link. Prefer one:\n\n- **Localâ€‘only**: autoâ€‘pair when client connects via loopback/Unix socket.\n- **Challenge via SSH**: gateway issues nonce; client proves SSH by fetching it.\n- **Physical presence window**: after a local approval on gateway host UI, allow autoâ€‘pair for a short window (e.g. 10 minutes).\n\nAlways log + record autoâ€‘approvals.\n\n---\n\n# TLS everywhere (dev + prod)",
    "## Reuse existing bridge TLS\n\nUse current TLS runtime + fingerprint pinning:\n\n- `src/infra/bridge/server/tls.ts`\n- fingerprint verification logic in `src/node-host/bridge-client.ts`",
    "## Apply to WS\n\n- WS server supports TLS with same cert/key + fingerprint.\n- WS clients can pin fingerprint (optional).\n- Discovery advertises TLS + fingerprint for all endpoints.\n  - Discovery is locator hints only; never a trust anchor.",
    "## Why\n\n- Reduce reliance on SSH/Tailscale for confidentiality.\n- Make remote mobile connections safe by default.\n\n---\n\n# Approvals redesign (centralized)",
    "## Current\n\nApproval happens on node host (mac app node runtime). Prompt appears where node runs.",
    "## Proposed\n\nApproval is **gatewayâ€‘hosted**, UI delivered to operator clients.\n\n### New flow\n\n1. Gateway receives `system.run` intent (agent).\n2. Gateway creates approval record: `approval.requested`.\n3. Operator UI(s) show prompt.\n4. Approval decision sent to gateway: `approval.resolve`.\n5. Gateway invokes node command if approved.\n6. Node executes, returns `invoke-res`.\n\n### Approval semantics (hardening)\n\n- Broadcast to all operators; only the active UI shows a modal (others get a toast).\n- First resolution wins; gateway rejects subsequent resolves as already settled.\n- Default timeout: deny after N seconds (e.g. 60s), log reason.\n- Resolution requires `operator.approvals` scope.",
    "## Benefits\n\n- Prompt appears where user is (mac/phone).\n- Consistent approvals for remote nodes.\n- Node runtime stays headless; no UI dependency.\n\n---\n\n# Role clarity examples",
    "## iPhone app\n\n- **Node role** for: mic, camera, voice chat, location, pushâ€‘toâ€‘talk.\n- Optional **operator.read** for status and chat view.\n- Optional **operator.write/admin** only when explicitly enabled.",
    "## macOS app\n\n- Operator role by default (control UI).\n- Node role when â€œMac nodeâ€ enabled (system.run, screen, camera).\n- Same deviceId for both connections â†’ merged UI entry.",
    "## CLI\n\n- Operator role always.\n- Scope derived by subcommand:\n  - `status`, `logs` â†’ read\n  - `agent`, `message` â†’ write\n  - `config`, `channels` â†’ admin\n  - approvals + pairing â†’ `operator.approvals` / `operator.pairing`\n\n---\n\n# Identity + slugs",
    "## Stable ID\n\nRequired for auth; never changes.\nPreferred:\n\n- Keypair fingerprint (public key hash).",
    "## Cute slug (lobsterâ€‘themed)\n\nHuman label only.\n\n- Example: `scarlet-claw`, `saltwave`, `mantis-pinch`.\n- Stored in gateway registry, editable.\n- Collision handling: `-2`, `-3`.",
    "## UI grouping\n\nSame `deviceId` across roles â†’ single â€œInstanceâ€ row:\n\n- Badge: `operator`, `node`.\n- Shows capabilities + last seen.\n\n---\n\n# Migration strategy",
    "## Phase 0: Document + align\n\n- Publish this doc.\n- Inventory all protocol calls + approval flows.",
    "## Phase 1: Add roles/scopes to WS\n\n- Extend `connect` params with `role`, `scope`, `deviceId`.\n- Add allowlist gating for node role.",
    "## Phase 2: Bridge compatibility\n\n- Keep bridge running.\n- Add WS node support in parallel.\n- Gate features behind config flag.",
    "## Phase 3: Central approvals\n\n- Add approval request + resolve events in WS.\n- Update mac app UI to prompt + respond.\n- Node runtime stops prompting UI.",
    "## Phase 4: TLS unification\n\n- Add TLS config for WS using bridge TLS runtime.\n- Add pinning to clients.",
    "## Phase 5: Deprecate bridge\n\n- Migrate iOS/Android/mac node to WS.\n- Keep bridge as fallback; remove once stable.",
    "## Phase 6: Deviceâ€‘bound auth\n\n- Require keyâ€‘based identity for all nonâ€‘local connections.\n- Add revocation + rotation UI.\n\n---\n\n# Security notes\n\n- Role/allowlist enforced at gateway boundary.\n- No client gets â€œfullâ€ API without operator scope.\n- Pairing required for _all_ connections.\n- TLS + pinning reduces MITM risk for mobile.\n- SSH silent approval is a convenience; still recorded + revocable.\n- Discovery is never a trust anchor.\n- Capability claims are verified against server allowlists by platform/type.\n\n# Streaming + large payloads (node media)\n\nWS control plane is fine for small messages, but nodes also do:\n\n- camera clips\n- screen recordings\n- audio streams\n\nOptions:\n\n1. WS binary frames + chunking + backpressure rules.\n2. Separate streaming endpoint (still TLS + auth).\n3. Keep bridge longer for mediaâ€‘heavy commands, migrate last.\n\nPick one before implementation to avoid drift.\n\n# Capability + command policy",
    "- Nodeâ€‘reported caps/commands are treated as **claims**.\n- Gateway enforces perâ€‘platform allowlists.\n- Any new command requires operator approval or explicit allowlist change.\n- Audit changes with timestamps.\n\n# Audit + rate limiting\n\n- Log: pairing requests, approvals/denials, token issuance/rotation/revocation.\n- Rateâ€‘limit pairing spam and approval prompts.\n\n# Protocol hygiene\n\n- Explicit protocol version + error codes.\n- Reconnect rules + heartbeat policy.\n- Presence TTL and lastâ€‘seen semantics.\n\n---\n\n# Open questions\n\n1. Single device running both roles: token model\n   - Recommend separate tokens per role (node vs operator).\n   - Same deviceId; different scopes; clearer revocation.\n\n2. Operator scope granularity\n   - read/write/admin + approvals + pairing (minimum viable).\n   - Consider perâ€‘feature scopes later.\n\n3. Token rotation + revocation UX\n   - Autoâ€‘rotate on role change.\n   - UI to revoke by deviceId + role.",
    "4. Discovery\n   - Extend current Bonjour TXT to include WS TLS fingerprint + role hints.\n   - Treat as locator hints only.\n\n5. Crossâ€‘network approval\n   - Broadcast to all operator clients; active UI shows modal.\n   - First response wins; gateway enforces atomicity.\n\n---\n\n# Summary (TL;DR)\n\n- Today: WS control plane + Bridge node transport.\n- Pain: approvals + duplication + two stacks.\n- Proposal: one WS protocol with explicit roles + scopes, unified pairing + TLS pinning, gatewayâ€‘hosted approvals, stable device IDs + cute slugs.\n- Outcome: simpler UX, stronger security, less duplication, better mobile routing.",
    "---\nread_when:\n  - ä½ æƒ³è¦ä¸€ä¸ªåœ¨ API æä¾›å•†å¤±è´¥æ—¶çš„å¯é å›é€€\n  - ä½ æ­£åœ¨è¿è¡Œ Claude Code CLI æˆ–å…¶ä»–æœ¬åœ° AI CLI å¹¶æƒ³è¦å¤ç”¨å®ƒä»¬\n  - ä½ éœ€è¦ä¸€ä¸ªçº¯æ–‡æœ¬ã€æ— å·¥å…·çš„è·¯å¾„ï¼Œä½†ä»æ”¯æŒä¼šè¯å’Œå›¾åƒ\nsummary: CLI åç«¯ï¼šé€šè¿‡æœ¬åœ° AI CLI å®ç°çº¯æ–‡æœ¬å›é€€\ntitle: CLI åç«¯\nx-i18n:\n  generated_at: \"2026-02-03T07:47:52Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 56a96e83b16a4f6443cbf4a9da7a660c41a5b178af5e13f35352c9d72e1b08dd\n  source_path: gateway/cli-backends.md\n  workflow: 15\n---\n\n# CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰\n\nå½“ API æä¾›å•†å®•æœºã€è¢«é™æµæˆ–æš‚æ—¶å¼‚å¸¸æ—¶ï¼ŒOpenClaw å¯ä»¥è¿è¡Œ**æœ¬åœ° AI CLI** ä½œä¸º**çº¯æ–‡æœ¬å›é€€**ã€‚è¿™æ˜¯æœ‰æ„ä¿å®ˆçš„è®¾è®¡ï¼š\n\n- **å·¥å…·è¢«ç¦ç”¨**ï¼ˆæ— å·¥å…·è°ƒç”¨ï¼‰ã€‚\n- **æ–‡æœ¬è¾“å…¥ â†’ æ–‡æœ¬è¾“å‡º**ï¼ˆå¯é ï¼‰ã€‚\n- **æ”¯æŒä¼šè¯**ï¼ˆå› æ­¤åç»­è½®æ¬¡ä¿æŒè¿è´¯ï¼‰ã€‚\n- å¦‚æœ CLI æ¥å—å›¾åƒè·¯å¾„ï¼Œ**å›¾åƒå¯ä»¥ä¼ é€’**ã€‚\n\nè¿™è¢«è®¾è®¡ä¸º**å®‰å…¨ç½‘**è€Œéä¸»è¦è·¯å¾„ã€‚å½“ä½ æƒ³è¦\"å§‹ç»ˆæœ‰æ•ˆ\"çš„æ–‡æœ¬å“åº”è€Œä¸ä¾èµ–å¤–éƒ¨ API æ—¶ä½¿ç”¨å®ƒã€‚",
    "## æ–°æ‰‹å‹å¥½å¿«é€Ÿå¼€å§‹\n\nä½ å¯ä»¥**æ— éœ€ä»»ä½•é…ç½®**ä½¿ç”¨ Claude Code CLIï¼ˆOpenClaw è‡ªå¸¦å†…ç½®é»˜è®¤å€¼ï¼‰ï¼š\n\n```bash\nopenclaw agent --message \"hi\" --model claude-cli/opus-4.5\n```\n\nCodex CLI ä¹Ÿå¯ä»¥å¼€ç®±å³ç”¨ï¼š\n\n```bash\nopenclaw agent --message \"hi\" --model codex-cli/gpt-5.2-codex\n```\n\nå¦‚æœä½ çš„ Gateway ç½‘å…³åœ¨ launchd/systemd ä¸‹è¿è¡Œä¸” PATH å¾ˆç²¾ç®€ï¼Œåªéœ€æ·»åŠ å‘½ä»¤è·¯å¾„ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      cliBackends: {\n        \"claude-cli\": {\n          command: \"/opt/homebrew/bin/claude\",\n        },\n      },\n    },\n  },\n}\n```\n\nå°±è¿™æ ·ã€‚é™¤äº† CLI æœ¬èº«å¤–ï¼Œä¸éœ€è¦å¯†é’¥ï¼Œä¸éœ€è¦é¢å¤–çš„è®¤è¯é…ç½®ã€‚",
    "## ä½œä¸ºå›é€€ä½¿ç”¨\n\nå°† CLI åç«¯æ·»åŠ åˆ°ä½ çš„å›é€€åˆ—è¡¨ä¸­ï¼Œè¿™æ ·å®ƒåªåœ¨ä¸»è¦æ¨¡å‹å¤±è´¥æ—¶è¿è¡Œï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: {\n        primary: \"anthropic/claude-opus-4-5\",\n        fallbacks: [\"claude-cli/opus-4.5\"],\n      },\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"Opus\" },\n        \"claude-cli/opus-4.5\": {},\n      },\n    },\n  },\n}\n```\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- å¦‚æœä½ ä½¿ç”¨ `agents.defaults.models`ï¼ˆå…è®¸åˆ—è¡¨ï¼‰ï¼Œå¿…é¡»åŒ…å« `claude-cli/...`ã€‚\n- å¦‚æœä¸»è¦æä¾›å•†å¤±è´¥ï¼ˆè®¤è¯ã€é™æµã€è¶…æ—¶ï¼‰ï¼ŒOpenClaw å°†æ¥ç€å°è¯• CLI åç«¯ã€‚",
    "## é…ç½®æ¦‚è§ˆ\n\næ‰€æœ‰ CLI åç«¯ä½äºï¼š\n\n```\nagents.defaults.cliBackends\n```\n\næ¯ä¸ªæ¡ç›®ä»¥**æä¾›å•† ID**ï¼ˆä¾‹å¦‚ `claude-cli`ã€`my-cli`ï¼‰ä¸ºé”®ã€‚æä¾›å•† ID æˆä¸ºä½ çš„æ¨¡å‹å¼•ç”¨çš„å·¦ä¾§éƒ¨åˆ†ï¼š\n\n```\n<provider>/<model>\n```\n\n### é…ç½®ç¤ºä¾‹\n\n```json5\n{\n  agents: {\n    defaults: {\n      cliBackends: {\n        \"claude-cli\": {\n          command: \"/opt/homebrew/bin/claude\",\n        },\n        \"my-cli\": {\n          command: \"my-cli\",\n          args: [\"--json\"],\n          output: \"json\",\n          input: \"arg\",\n          modelArg: \"--model\",\n          modelAliases: {\n            \"claude-opus-4-5\": \"opus\",\n            \"claude-sonnet-4-5\": \"sonnet\",\n          },\n          sessionArg: \"--session\",\n          sessionMode: \"existing\",\n          sessionIdFields: [\"session_id\", \"conversation_id\"],\n          systemPromptArg: \"--system\",\n          systemPromptWhen: \"first\",\n          imageArg: \"--image\",\n          imageMode: \"repeat\",\n          serialize: true,\n        },\n      },\n    },\n  },\n}\n```",
    "## å·¥ä½œåŸç†\n\n1. **é€‰æ‹©åç«¯**åŸºäºæä¾›å•†å‰ç¼€ï¼ˆ`claude-cli/...`ï¼‰ã€‚\n2. **æ„å»ºç³»ç»Ÿæç¤º**ä½¿ç”¨ç›¸åŒçš„ OpenClaw æç¤º + å·¥ä½œåŒºä¸Šä¸‹æ–‡ã€‚\n3. **æ‰§è¡Œ CLI**å¹¶å¸¦æœ‰ä¼šè¯ IDï¼ˆå¦‚æœæ”¯æŒï¼‰ï¼Œä½¿å†å²è®°å½•ä¿æŒä¸€è‡´ã€‚\n4. **è§£æè¾“å‡º**ï¼ˆJSON æˆ–çº¯æ–‡æœ¬ï¼‰å¹¶è¿”å›æœ€ç»ˆæ–‡æœ¬ã€‚\n5. **æŒä¹…åŒ–ä¼šè¯ ID**æŒ‰åç«¯ï¼Œä½¿åç»­è¯·æ±‚å¤ç”¨ç›¸åŒçš„ CLI ä¼šè¯ã€‚",
    "## ä¼šè¯\n\n- å¦‚æœ CLI æ”¯æŒä¼šè¯ï¼Œè®¾ç½® `sessionArg`ï¼ˆä¾‹å¦‚ `--session-id`ï¼‰æˆ– `sessionArgs`ï¼ˆå ä½ç¬¦ `{sessionId}`ï¼‰å½“ ID éœ€è¦æ’å…¥åˆ°å¤šä¸ªæ ‡å¿—ä¸­æ—¶ã€‚\n- å¦‚æœ CLI ä½¿ç”¨å¸¦æœ‰ä¸åŒæ ‡å¿—çš„**æ¢å¤å­å‘½ä»¤**ï¼Œè®¾ç½® `resumeArgs`ï¼ˆæ¢å¤æ—¶æ›¿æ¢ `args`ï¼‰ä»¥åŠå¯é€‰çš„ `resumeOutput`ï¼ˆç”¨äºé JSON æ¢å¤ï¼‰ã€‚\n- `sessionMode`ï¼š\n  - `always`ï¼šå§‹ç»ˆå‘é€ä¼šè¯ IDï¼ˆå¦‚æœæ²¡æœ‰å­˜å‚¨åˆ™ä½¿ç”¨æ–° UUIDï¼‰ã€‚\n  - `existing`ï¼šä»…åœ¨ä¹‹å‰å­˜å‚¨äº†ä¼šè¯ ID æ—¶æ‰å‘é€ã€‚\n  - `none`ï¼šä»ä¸å‘é€ä¼šè¯ IDã€‚",
    "## å›¾åƒï¼ˆä¼ é€’ï¼‰\n\nå¦‚æœä½ çš„ CLI æ¥å—å›¾åƒè·¯å¾„ï¼Œè®¾ç½® `imageArg`ï¼š\n\n```json5\nimageArg: \"--image\",\nimageMode: \"repeat\"\n```\n\nOpenClaw ä¼šå°† base64 å›¾åƒå†™å…¥ä¸´æ—¶æ–‡ä»¶ã€‚å¦‚æœè®¾ç½®äº† `imageArg`ï¼Œè¿™äº›è·¯å¾„ä½œä¸º CLI å‚æ•°ä¼ é€’ã€‚å¦‚æœç¼ºå°‘ `imageArg`ï¼ŒOpenClaw ä¼šå°†æ–‡ä»¶è·¯å¾„é™„åŠ åˆ°æç¤ºä¸­ï¼ˆè·¯å¾„æ³¨å…¥ï¼‰ï¼Œè¿™å¯¹äºä»çº¯è·¯å¾„è‡ªåŠ¨åŠ è½½æœ¬åœ°æ–‡ä»¶çš„ CLI æ¥è¯´å·²ç»è¶³å¤Ÿï¼ˆClaude Code CLI è¡Œä¸ºï¼‰ã€‚",
    "## è¾“å…¥ / è¾“å‡º\n\n- `output: \"json\"`ï¼ˆé»˜è®¤ï¼‰å°è¯•è§£æ JSON å¹¶æå–æ–‡æœ¬ + ä¼šè¯ IDã€‚\n- `output: \"jsonl\"` è§£æ JSONL æµï¼ˆCodex CLI `--json`ï¼‰å¹¶æå–æœ€åä¸€æ¡æ™ºèƒ½ä½“æ¶ˆæ¯ä»¥åŠå­˜åœ¨æ—¶çš„ `thread_id`ã€‚\n- `output: \"text\"` å°† stdout è§†ä¸ºæœ€ç»ˆå“åº”ã€‚\n\nè¾“å…¥æ¨¡å¼ï¼š\n\n- `input: \"arg\"`ï¼ˆé»˜è®¤ï¼‰å°†æç¤ºä½œä¸ºæœ€åä¸€ä¸ª CLI å‚æ•°ä¼ é€’ã€‚\n- `input: \"stdin\"` é€šè¿‡ stdin å‘é€æç¤ºã€‚\n- å¦‚æœæç¤ºå¾ˆé•¿ä¸”è®¾ç½®äº† `maxPromptArgChars`ï¼Œåˆ™ä½¿ç”¨ stdinã€‚",
    "## é»˜è®¤å€¼ï¼ˆå†…ç½®ï¼‰\n\nOpenClaw è‡ªå¸¦ `claude-cli` çš„é»˜è®¤å€¼ï¼š\n\n- `command: \"claude\"`\n- `args: [\"-p\", \"--output-format\", \"json\", \"--dangerously-skip-permissions\"]`\n- `resumeArgs: [\"-p\", \"--output-format\", \"json\", \"--dangerously-skip-permissions\", \"--resume\", \"{sessionId}\"]`\n- `modelArg: \"--model\"`\n- `systemPromptArg: \"--append-system-prompt\"`\n- `sessionArg: \"--session-id\"`\n- `systemPromptWhen: \"first\"`\n- `sessionMode: \"always\"`\n\nOpenClaw ä¹Ÿè‡ªå¸¦ `codex-cli` çš„é»˜è®¤å€¼ï¼š\n\n- `command: \"codex\"`\n- `args: [\"exec\",\"--json\",\"--color\",\"never\",\"--sandbox\",\"read-only\",\"--skip-git-repo-check\"]`\n- `resumeArgs: [\"exec\",\"resume\",\"{sessionId}\",\"--color\",\"never\",\"--sandbox\",\"read-only\",\"--skip-git-repo-check\"]`\n- `output: \"jsonl\"`\n- `resumeOutput: \"text\"`\n- `modelArg: \"--model\"`\n- `imageArg: \"--image\"`\n- `sessionMode: \"existing\"`\n\nä»…åœ¨éœ€è¦æ—¶è¦†ç›–ï¼ˆå¸¸è§ï¼šç»å¯¹ `command` è·¯å¾„ï¼‰ã€‚",
    "## é™åˆ¶\n\n- **æ—  OpenClaw å·¥å…·**ï¼ˆCLI åç«¯æ°¸è¿œä¸ä¼šæ”¶åˆ°å·¥å…·è°ƒç”¨ï¼‰ã€‚æŸäº› CLI å¯èƒ½ä»ä¼šè¿è¡Œå®ƒä»¬è‡ªå·±çš„æ™ºèƒ½ä½“å·¥å…·ã€‚\n- **æ— æµå¼ä¼ è¾“**ï¼ˆCLI è¾“å‡ºè¢«æ”¶é›†åè¿”å›ï¼‰ã€‚\n- **ç»“æ„åŒ–è¾“å‡º**å–å†³äº CLI çš„ JSON æ ¼å¼ã€‚\n- **Codex CLI ä¼šè¯**é€šè¿‡æ–‡æœ¬è¾“å‡ºæ¢å¤ï¼ˆæ—  JSONLï¼‰ï¼Œè¿™æ¯”åˆå§‹çš„ `--json` è¿è¡Œç»“æ„åŒ–ç¨‹åº¦ä½ã€‚OpenClaw ä¼šè¯ä»ç„¶æ­£å¸¸å·¥ä½œã€‚",
    "## æ•…éšœæ’é™¤\n\n- **æ‰¾ä¸åˆ° CLI**ï¼šå°† `command` è®¾ç½®ä¸ºå®Œæ•´è·¯å¾„ã€‚\n- **æ¨¡å‹åç§°é”™è¯¯**ï¼šä½¿ç”¨ `modelAliases` å°† `provider/model` æ˜ å°„åˆ° CLI æ¨¡å‹ã€‚\n- **æ— ä¼šè¯è¿ç»­æ€§**ï¼šç¡®ä¿è®¾ç½®äº† `sessionArg` ä¸” `sessionMode` ä¸æ˜¯ `none`ï¼ˆCodex CLI ç›®å‰æ— æ³•ä½¿ç”¨ JSON è¾“å‡ºæ¢å¤ï¼‰ã€‚\n- **å›¾åƒè¢«å¿½ç•¥**ï¼šè®¾ç½® `imageArg`ï¼ˆå¹¶éªŒè¯ CLI æ”¯æŒæ–‡ä»¶è·¯å¾„ï¼‰ã€‚",
    "---\ntitle: \"Cloudflare AI Gateway\"\nsummary: \"Cloudflare AI Gateway setup (auth + model selection)\"\nread_when:\n  - You want to use Cloudflare AI Gateway with OpenClaw\n  - You need the account ID, gateway ID, or API key env var\n---\n\n# Cloudflare AI Gateway\n\nCloudflare AI Gateway sits in front of provider APIs and lets you add analytics, caching, and controls. For Anthropic, OpenClaw uses the Anthropic Messages API through your Gateway endpoint.\n\n- Provider: `cloudflare-ai-gateway`\n- Base URL: `https://gateway.ai.cloudflare.com/v1/<account_id>/<gateway_id>/anthropic`\n- Default model: `cloudflare-ai-gateway/claude-sonnet-4-5`\n- API key: `CLOUDFLARE_AI_GATEWAY_API_KEY` (your provider API key for requests through the Gateway)\n\nFor Anthropic models, use your Anthropic API key.",
    "## Quick start\n\n1. Set the provider API key and Gateway details:\n\n```bash\nopenclaw onboard --auth-choice cloudflare-ai-gateway-api-key\n```\n\n2. Set a default model:\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"cloudflare-ai-gateway/claude-sonnet-4-5\" },\n    },\n  },\n}\n```",
    "## Non-interactive example\n\n```bash\nopenclaw onboard --non-interactive \\\n  --mode local \\\n  --auth-choice cloudflare-ai-gateway-api-key \\\n  --cloudflare-ai-gateway-account-id \"your-account-id\" \\\n  --cloudflare-ai-gateway-gateway-id \"your-gateway-id\" \\\n  --cloudflare-ai-gateway-api-key \"$CLOUDFLARE_AI_GATEWAY_API_KEY\"\n```",
    "## Authenticated gateways\n\nIf you enabled Gateway authentication in Cloudflare, add the `cf-aig-authorization` header (this is in addition to your provider API key).\n\n```json5\n{\n  models: {\n    providers: {\n      \"cloudflare-ai-gateway\": {\n        headers: {\n          \"cf-aig-authorization\": \"Bearer <cloudflare-ai-gateway-token>\",\n        },\n      },\n    },\n  },\n}\n```",
    "## Environment note\n\nIf the Gateway runs as a daemon (launchd/systemd), make sure `CLOUDFLARE_AI_GATEWAY_API_KEY` is available to that process (for example, in `~/.openclaw/.env` or via `env.shellEnv`).",
    "---\nsummary: \"Context window + compaction: how OpenClaw keeps sessions under model limits\"\nread_when:\n  - You want to understand auto-compaction and /compact\n  - You are debugging long sessions hitting context limits\ntitle: \"Compaction\"\n---\n\n# Context Window & Compaction\n\nEvery model has a **context window** (max tokens it can see). Long-running chats accumulate messages and tool results; once the window is tight, OpenClaw **compacts** older history to stay within limits.",
    "## What compaction is\n\nCompaction **summarizes older conversation** into a compact summary entry and keeps recent messages intact. The summary is stored in the session history, so future requests use:\n\n- The compaction summary\n- Recent messages after the compaction point\n\nCompaction **persists** in the sessionâ€™s JSONL history.",
    "## Configuration\n\nSee [Compaction config & modes](/concepts/compaction) for the `agents.defaults.compaction` settings.",
    "## Auto-compaction (default on)\n\nWhen a session nears or exceeds the modelâ€™s context window, OpenClaw triggers auto-compaction and may retry the original request using the compacted context.\n\nYouâ€™ll see:\n\n- `ğŸ§¹ Auto-compaction complete` in verbose mode\n- `/status` showing `ğŸ§¹ Compactions: <count>`\n\nBefore compaction, OpenClaw can run a **silent memory flush** turn to store\ndurable notes to disk. See [Memory](/concepts/memory) for details and config.",
    "## Manual compaction\n\nUse `/compact` (optionally with instructions) to force a compaction pass:\n\n```\n/compact Focus on decisions and open questions\n```",
    "## Context window source\n\nContext window is model-specific. OpenClaw uses the model definition from the configured provider catalog to determine limits.",
    "## Compaction vs pruning\n\n- **Compaction**: summarises and **persists** in JSONL.\n- **Session pruning**: trims old **tool results** only, **in-memory**, per request.\n\nSee [/concepts/session-pruning](/concepts/session-pruning) for pruning details.",
    "## Tips\n\n- Use `/compact` when sessions feel stale or context is bloated.\n- Large tool outputs are already truncated; pruning can further reduce tool-result buildup.\n- If you need a fresh slate, `/new` or `/reset` starts a new session id.",
    "---\nsummary: \"CLI reference for `openclaw config` (get/set/unset config values)\"\nread_when:\n  - You want to read or edit config non-interactively\ntitle: \"config\"\n---\n\n# `openclaw config`\n\nConfig helpers: get/set/unset values by path. Run without a subcommand to open\nthe configure wizard (same as `openclaw configure`).",
    "## Examples\n\n```bash\nopenclaw config get browser.executablePath\nopenclaw config set browser.executablePath \"/usr/bin/google-chrome\"\nopenclaw config set agents.defaults.heartbeat.every \"2h\"\nopenclaw config set agents.list[0].tools.exec.node \"node-id-or-name\"\nopenclaw config unset tools.web.search.apiKey\n```",
    "## Paths\n\nPaths use dot or bracket notation:\n\n```bash\nopenclaw config get agents.defaults.workspace\nopenclaw config get agents.list[0].id\n```\n\nUse the agent list index to target a specific agent:\n\n```bash\nopenclaw config get agents.list\nopenclaw config set agents.list[1].tools.exec.node \"node-id-or-name\"\n```",
    "## Values\n\nValues are parsed as JSON5 when possible; otherwise they are treated as strings.\nUse `--json` to require JSON5 parsing.\n\n```bash\nopenclaw config set agents.defaults.heartbeat.every \"0m\"\nopenclaw config set gateway.port 19001 --json\nopenclaw config set channels.whatsapp.groups '[\"*\"]' --json\n```\n\nRestart the gateway after edits.",
    "---\nread_when:\n  - å­¦ä¹ å¦‚ä½•é…ç½® OpenClaw\n  - å¯»æ‰¾é…ç½®ç¤ºä¾‹\n  - é¦–æ¬¡è®¾ç½® OpenClaw\nsummary: ç¬¦åˆæ¨¡å¼çš„å¸¸è§ OpenClaw è®¾ç½®é…ç½®ç¤ºä¾‹\ntitle: é…ç½®ç¤ºä¾‹\nx-i18n:\n  generated_at: \"2026-02-03T07:48:39Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 00e9286722653f2748137d5bc641d528b160de16a58015ca7674a3a302f4b2c3\n  source_path: gateway/configuration-examples.md\n  workflow: 15\n---\n\n# é…ç½®ç¤ºä¾‹\n\nä»¥ä¸‹ç¤ºä¾‹ä¸å½“å‰é…ç½®æ¨¡å¼ä¸€è‡´ã€‚æœ‰å…³è¯¦å°½çš„å‚è€ƒå’Œæ¯ä¸ªå­—æ®µçš„è¯´æ˜ï¼Œè¯·å‚é˜…[é…ç½®](/gateway/configuration)ã€‚",
    "## å¿«é€Ÿå¼€å§‹\n\n### ç»å¯¹æœ€å°é…ç½®\n\n```json5\n{\n  agent: { workspace: \"~/.openclaw/workspace\" },\n  channels: { whatsapp: { allowFrom: [\"+15555550123\"] } },\n}\n```\n\nä¿å­˜åˆ° `~/.openclaw/openclaw.json`ï¼Œä½ å°±å¯ä»¥ä»è¯¥å·ç ç§ä¿¡æœºå™¨äººäº†ã€‚\n\n### æ¨èçš„å…¥é—¨é…ç½®\n\n```json5\n{\n  identity: {\n    name: \"Clawd\",\n    theme: \"helpful assistant\",\n    emoji: \"ğŸ¦\",\n  },\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n    model: { primary: \"anthropic/claude-sonnet-4-5\" },\n  },\n  channels: {\n    whatsapp: {\n      allowFrom: [\"+15555550123\"],\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n}\n```",
    "## æ‰©å±•ç¤ºä¾‹ï¼ˆä¸»è¦é€‰é¡¹ï¼‰\n\n> JSON5 å…è®¸ä½ ä½¿ç”¨æ³¨é‡Šå’Œå°¾éšé€—å·ã€‚æ™®é€š JSON ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚\n\n```json5\n{\n  // ç¯å¢ƒ + shell\n  env: {\n    OPENROUTER_API_KEY: \"sk-or-...\",\n    vars: {\n      GROQ_API_KEY: \"gsk-...\",\n    },\n    shellEnv: {\n      enabled: true,\n      timeoutMs: 15000,\n    },\n  },\n\n  // è®¤è¯é…ç½®æ–‡ä»¶å…ƒæ•°æ®ï¼ˆå¯†é’¥å­˜å‚¨åœ¨ auth-profiles.json ä¸­ï¼‰\n  auth: {\n    profiles: {\n      \"anthropic:me@example.com\": { provider: \"anthropic\", mode: \"oauth\", email: \"me@example.com\" },\n      \"anthropic:work\": { provider: \"anthropic\", mode: \"api_key\" },\n      \"openai:default\": { provider: \"openai\", mode: \"api_key\" },\n      \"openai-codex:default\": { provider: \"openai-codex\", mode: \"oauth\" },\n    },\n    order: {\n      anthropic: [\"anthropic:me@example.com\", \"anthropic:work\"],\n      openai: [\"openai:default\"],\n      \"openai-codex\": [\"openai-codex:default\"],\n    },\n  },\n\n  // èº«ä»½\n  identity: {\n    name: \"Samantha\",\n    theme: \"helpful sloth\",\n    emoji: \"ğŸ¦¥\",\n  },",
    "// æ—¥å¿—\n  logging: {\n    level: \"info\",\n    file: \"/tmp/openclaw/openclaw.log\",\n    consoleLevel: \"info\",\n    consoleStyle: \"pretty\",\n    redactSensitive: \"tools\",\n  },\n\n  // æ¶ˆæ¯æ ¼å¼\n  messages: {\n    messagePrefix: \"[openclaw]\",\n    responsePrefix: \">\",\n    ackReaction: \"ğŸ‘€\",\n    ackReactionScope: \"group-mentions\",\n  },\n\n  // è·¯ç”± + é˜Ÿåˆ—\n  routing: {\n    groupChat: {\n      mentionPatterns: [\"@openclaw\", \"openclaw\"],\n      historyLimit: 50,\n    },\n    queue: {\n      mode: \"collect\",\n      debounceMs: 1000,\n      cap: 20,\n      drop: \"summarize\",\n      byChannel: {\n        whatsapp: \"collect\",\n        telegram: \"collect\",\n        discord: \"collect\",\n        slack: \"collect\",\n        signal: \"collect\",\n        imessage: \"collect\",\n        webchat: \"collect\",\n      },\n    },\n  },",
    "// å·¥å…·\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        maxBytes: 20971520,\n        models: [\n          { provider: \"openai\", model: \"gpt-4o-mini-transcribe\" },\n          // å¯é€‰çš„ CLI å›é€€ï¼ˆWhisper äºŒè¿›åˆ¶ï¼‰ï¼š\n          // { type: \"cli\", command: \"whisper\", args: [\"--model\", \"base\", \"{{MediaPath}}\"] }\n        ],\n        timeoutSeconds: 120,\n      },\n      video: {\n        enabled: true,\n        maxBytes: 52428800,\n        models: [{ provider: \"google\", model: \"gemini-3-flash-preview\" }],\n      },\n    },\n  },",
    "// ä¼šè¯è¡Œä¸º\n  session: {\n    scope: \"per-sender\",\n    reset: {\n      mode: \"daily\",\n      atHour: 4,\n      idleMinutes: 60,\n    },\n    resetByChannel: {\n      discord: { mode: \"idle\", idleMinutes: 10080 },\n    },\n    resetTriggers: [\"/new\", \"/reset\"],\n    store: \"~/.openclaw/agents/default/sessions/sessions.json\",\n    typingIntervalSeconds: 5,\n    sendPolicy: {\n      default: \"allow\",\n      rules: [{ action: \"deny\", match: { channel: \"discord\", chatType: \"group\" } }],\n    },\n  },\n\n  // æ¸ é“\n  channels: {\n    whatsapp: {\n      dmPolicy: \"pairing\",\n      allowFrom: [\"+15555550123\"],\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15555550123\"],\n      groups: { \"*\": { requireMention: true } },\n    },\n\n    telegram: {\n      enabled: true,\n      botToken: \"YOUR_TELEGRAM_BOT_TOKEN\",\n      allowFrom: [\"123456789\"],\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"123456789\"],\n      groups: { \"*\": { requireMention: true } },\n    },",
    "discord: {\n      enabled: true,\n      token: \"YOUR_DISCORD_BOT_TOKEN\",\n      dm: { enabled: true, allowFrom: [\"steipete\"] },\n      guilds: {\n        \"123456789012345678\": {\n          slug: \"friends-of-openclaw\",\n          requireMention: false,\n          channels: {\n            general: { allow: true },\n            help: { allow: true, requireMention: true },\n          },\n        },\n      },\n    },\n\n    slack: {\n      enabled: true,\n      botToken: \"xoxb-REPLACE_ME\",\n      appToken: \"xapp-REPLACE_ME\",\n      channels: {\n        \"#general\": { allow: true, requireMention: true },\n      },\n      dm: { enabled: true, allowFrom: [\"U123\"] },\n      slashCommand: {\n        enabled: true,\n        name: \"openclaw\",\n        sessionPrefix: \"slack:slash\",\n        ephemeral: true,\n      },\n    },\n  },",
    "// æ™ºèƒ½ä½“è¿è¡Œæ—¶\n  agents: {\n    defaults: {\n      workspace: \"~/.openclaw/workspace\",\n      userTimezone: \"America/Chicago\",\n      model: {\n        primary: \"anthropic/claude-sonnet-4-5\",\n        fallbacks: [\"anthropic/claude-opus-4-5\", \"openai/gpt-5.2\"],\n      },\n      imageModel: {\n        primary: \"openrouter/anthropic/claude-sonnet-4-5\",\n      },\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"opus\" },\n        \"anthropic/claude-sonnet-4-5\": { alias: \"sonnet\" },\n        \"openai/gpt-5.2\": { alias: \"gpt\" },\n      },\n      thinkingDefault: \"low\",\n      verboseDefault: \"off\",\n      elevatedDefault: \"on\",\n      blockStreamingDefault: \"off\",\n      blockStreamingBreak: \"text_end\",\n      blockStreamingChunk: {\n        minChars: 800,\n        maxChars: 1200,\n        breakPreference: \"paragraph\",\n      },\n      blockStreamingCoalesce: {\n        idleMs: 1000,\n      },\n      humanDelay: {\n        mode: \"natural\",\n      },\n      timeoutSeconds: 600,\n      mediaMaxMb: 5,\n      typingIntervalSeconds: 5,\n      maxConcurrent: 3,\n      heartbeat: {\n        every: \"30m\",\n        model: \"anthropic/claude-sonnet-4-5\",\n        target: \"last\",\n        to: \"+15555550123\",\n        prompt: \"HEARTBEAT\",\n        ackMaxChars: 300,\n      },\n      memorySearch: {\n        provider: \"gemini\",\n        model: \"gemini-embedding-001\",\n        remote: {\n          apiKey: \"${GEMINI_API_KEY}\",\n        },\n        extraPaths: [\"../team-docs\", \"/srv/shared-notes\"],\n      },\n      sandbox: {\n        mode: \"non-main\",\n        perSession: true,\n        workspaceRoot: \"~/.openclaw/sandboxes\",\n        docker: {\n          image: \"openclaw-sandbox:bookworm-slim\",\n          workdir: \"/workspace\",\n          readOnlyRoot: true,\n          tmpfs: [\"/tmp\", \"/var/tmp\", \"/run\"],\n          network: \"none\",\n          user: \"1000:1000\",\n        },\n        browser: {\n          enabled: false,\n        },\n      },\n    },\n  },",
    "tools: {\n    allow: [\"exec\", \"process\", \"read\", \"write\", \"edit\", \"apply_patch\"],\n    deny: [\"browser\", \"canvas\"],\n    exec: {\n      backgroundMs: 10000,\n      timeoutSec: 1800,\n      cleanupMs: 1800000,\n    },\n    elevated: {\n      enabled: true,\n      allowFrom: {\n        whatsapp: [\"+15555550123\"],\n        telegram: [\"123456789\"],\n        discord: [\"steipete\"],\n        slack: [\"U123\"],\n        signal: [\"+15555550123\"],\n        imessage: [\"user@example.com\"],\n        webchat: [\"session:demo\"],\n      },\n    },\n  },",
    "// è‡ªå®šä¹‰æ¨¡å‹æä¾›å•†\n  models: {\n    mode: \"merge\",\n    providers: {\n      \"custom-proxy\": {\n        baseUrl: \"http://localhost:4000/v1\",\n        apiKey: \"LITELLM_KEY\",\n        api: \"openai-responses\",\n        authHeader: true,\n        headers: { \"X-Proxy-Region\": \"us-west\" },\n        models: [\n          {\n            id: \"llama-3.1-8b\",\n            name: \"Llama 3.1 8B\",\n            api: \"openai-responses\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 128000,\n            maxTokens: 32000,\n          },\n        ],\n      },\n    },\n  },\n\n  // Cron ä½œä¸š\n  cron: {\n    enabled: true,\n    store: \"~/.openclaw/cron/cron.json\",\n    maxConcurrentRuns: 2,\n  },",
    "// Webhooks\n  hooks: {\n    enabled: true,\n    path: \"/hooks\",\n    token: \"shared-secret\",\n    presets: [\"gmail\"],\n    transformsDir: \"~/.openclaw/hooks\",\n    mappings: [\n      {\n        id: \"gmail-hook\",\n        match: { path: \"gmail\" },\n        action: \"agent\",\n        wakeMode: \"now\",\n        name: \"Gmail\",\n        sessionKey: \"hook:gmail:{{messages[0].id}}\",\n        messageTemplate: \"From: {{messages[0].from}}\\nSubject: {{messages[0].subject}}\",\n        textTemplate: \"{{messages[0].snippet}}\",\n        deliver: true,\n        channel: \"last\",\n        to: \"+15555550123\",\n        thinking: \"low\",\n        timeoutSeconds: 300,\n        transform: { module: \"./transforms/gmail.js\", export: \"transformGmail\" },\n      },\n    ],\n    gmail: {\n      account: \"openclaw@gmail.com\",\n      label: \"INBOX\",\n      topic: \"projects/<project-id>/topics/gog-gmail-watch\",\n      subscription: \"gog-gmail-watch-push\",\n      pushToken: \"shared-push-token\",\n      hookUrl: \"http://127.0.0.1:18789/hooks/gmail\",\n      includeBody: true,\n      maxBytes: 20000,\n      renewEveryMinutes: 720,\n      serve: { bind: \"127.0.0.1\", port: 8788, path: \"/\" },\n      tailscale: { mode: \"funnel\", path: \"/gmail-pubsub\" },\n    },\n  },",
    "// Gateway ç½‘å…³ + ç½‘ç»œ\n  gateway: {\n    mode: \"local\",\n    port: 18789,\n    bind: \"loopback\",\n    controlUi: { enabled: true, basePath: \"/openclaw\" },\n    auth: {\n      mode: \"token\",\n      token: \"gateway-token\",\n      allowTailscale: true,\n    },\n    tailscale: { mode: \"serve\", resetOnExit: false },\n    remote: { url: \"ws://gateway.tailnet:18789\", token: \"remote-token\" },\n    reload: { mode: \"hybrid\", debounceMs: 300 },\n  },\n\n  skills: {\n    allowBundled: [\"gemini\", \"peekaboo\"],\n    load: {\n      extraDirs: [\"~/Projects/agent-scripts/skills\"],\n    },\n    install: {\n      preferBrew: true,\n      nodeManager: \"npm\",\n    },\n    entries: {\n      \"nano-banana-pro\": {\n        enabled: true,\n        apiKey: \"GEMINI_KEY_HERE\",\n        env: { GEMINI_API_KEY: \"GEMINI_KEY_HERE\" },\n      },\n      peekaboo: { enabled: true },\n    },\n  },\n}\n```",
    "## å¸¸è§æ¨¡å¼\n\n### å¤šå¹³å°è®¾ç½®\n\n```json5\n{\n  agent: { workspace: \"~/.openclaw/workspace\" },\n  channels: {\n    whatsapp: { allowFrom: [\"+15555550123\"] },\n    telegram: {\n      enabled: true,\n      botToken: \"YOUR_TOKEN\",\n      allowFrom: [\"123456789\"],\n    },\n    discord: {\n      enabled: true,\n      token: \"YOUR_TOKEN\",\n      dm: { allowFrom: [\"yourname\"] },\n    },\n  },\n}\n```\n\n### OAuth å¸¦ API å¯†é’¥å›é€€\n\n```json5\n{\n  auth: {\n    profiles: {\n      \"anthropic:subscription\": {\n        provider: \"anthropic\",\n        mode: \"oauth\",\n        email: \"me@example.com\",\n      },\n      \"anthropic:api\": {\n        provider: \"anthropic\",\n        mode: \"api_key\",\n      },\n    },\n    order: {\n      anthropic: [\"anthropic:subscription\", \"anthropic:api\"],\n    },\n  },\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n    model: {\n      primary: \"anthropic/claude-sonnet-4-5\",\n      fallbacks: [\"anthropic/claude-opus-4-5\"],\n    },\n  },\n}\n```\n\n### Anthropic è®¢é˜… + API å¯†é’¥ï¼ŒMiniMax å›é€€",
    "```json5\n{\n  auth: {\n    profiles: {\n      \"anthropic:subscription\": {\n        provider: \"anthropic\",\n        mode: \"oauth\",\n        email: \"user@example.com\",\n      },\n      \"anthropic:api\": {\n        provider: \"anthropic\",\n        mode: \"api_key\",\n      },\n    },\n    order: {\n      anthropic: [\"anthropic:subscription\", \"anthropic:api\"],\n    },\n  },\n  models: {\n    providers: {\n      minimax: {\n        baseUrl: \"https://api.minimax.io/anthropic\",\n        api: \"anthropic-messages\",\n        apiKey: \"${MINIMAX_API_KEY}\",\n      },\n    },\n  },\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n    model: {\n      primary: \"anthropic/claude-opus-4-5\",\n      fallbacks: [\"minimax/MiniMax-M2.1\"],\n    },\n  },\n}\n```\n\n### å·¥ä½œæœºå™¨äººï¼ˆå—é™è®¿é—®ï¼‰",
    "```json5\n{\n  identity: {\n    name: \"WorkBot\",\n    theme: \"professional assistant\",\n  },\n  agent: {\n    workspace: \"~/work-openclaw\",\n    elevated: { enabled: false },\n  },\n  channels: {\n    slack: {\n      enabled: true,\n      botToken: \"xoxb-...\",\n      channels: {\n        \"#engineering\": { allow: true, requireMention: true },\n        \"#general\": { allow: true, requireMention: true },\n      },\n    },\n  },\n}\n```\n\n### ä»…æœ¬åœ°æ¨¡å‹",
    "```json5\n{\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n    model: { primary: \"lmstudio/minimax-m2.1-gs32\" },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      lmstudio: {\n        baseUrl: \"http://127.0.0.1:1234/v1\",\n        apiKey: \"lmstudio\",\n        api: \"openai-responses\",\n        models: [\n          {\n            id: \"minimax-m2.1-gs32\",\n            name: \"MiniMax M2.1 GS32\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 196608,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "## æç¤º\n\n- å¦‚æœä½ è®¾ç½® `dmPolicy: \"open\"`ï¼ŒåŒ¹é…çš„ `allowFrom` åˆ—è¡¨å¿…é¡»åŒ…å« `\"*\"`ã€‚\n- æä¾›å•† ID å„ä¸ç›¸åŒï¼ˆç”µè¯å·ç ã€ç”¨æˆ· IDã€é¢‘é“ IDï¼‰ã€‚ä½¿ç”¨æä¾›å•†æ–‡æ¡£ç¡®è®¤æ ¼å¼ã€‚\n- ç¨åæ·»åŠ çš„å¯é€‰éƒ¨åˆ†ï¼š`web`ã€`browser`ã€`ui`ã€`discovery`ã€`canvasHost`ã€`talk`ã€`signal`ã€`imessage`ã€‚\n- å‚é˜…[æä¾›å•†](/channels/whatsapp)å’Œ[æ•…éšœæ’é™¤](/gateway/troubleshooting)äº†è§£æ›´æ·±å…¥çš„è®¾ç½®è¯´æ˜ã€‚",
    "---\nread_when:\n  - æ·»åŠ æˆ–ä¿®æ”¹é…ç½®å­—æ®µæ—¶\nsummary: ~/.openclaw/openclaw.json çš„æ‰€æœ‰é…ç½®é€‰é¡¹åŠç¤ºä¾‹\ntitle: é…ç½®\nx-i18n:\n  generated_at: \"2026-02-01T21:29:41Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: b5e51290bbc755acb259ad455878625aa894c115e5c0ac6a1a3397e10fff8b4b\n  source_path: gateway/configuration.md\n  workflow: 15\n---\n\n# é…ç½® ğŸ”§\n\nOpenClaw ä» `~/.openclaw/openclaw.json` è¯»å–å¯é€‰çš„ **JSON5** é…ç½®ï¼ˆæ”¯æŒæ³¨é‡Šå’Œå°¾é€—å·ï¼‰ã€‚\n\nå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼ŒOpenClaw ä½¿ç”¨å®‰å…¨çš„é»˜è®¤å€¼ï¼ˆå†…ç½® Pi æ™ºèƒ½ä½“ + æŒ‰å‘é€è€…åˆ†ä¼šè¯ + å·¥ä½œåŒº `~/.openclaw/workspace`ï¼‰ã€‚é€šå¸¸åªåœ¨ä»¥ä¸‹æƒ…å†µéœ€è¦é…ç½®ï¼š\n\n- é™åˆ¶è°å¯ä»¥è§¦å‘æœºå™¨äººï¼ˆ`channels.whatsapp.allowFrom`ã€`channels.telegram.allowFrom` ç­‰ï¼‰\n- æ§åˆ¶ç¾¤ç»„ç™½åå• + æåŠè¡Œä¸ºï¼ˆ`channels.whatsapp.groups`ã€`channels.telegram.groups`ã€`channels.discord.guilds`ã€`agents.list[].groupChat`ï¼‰\n- è‡ªå®šä¹‰æ¶ˆæ¯å‰ç¼€ï¼ˆ`messages`ï¼‰\n- è®¾ç½®æ™ºèƒ½ä½“å·¥ä½œåŒºï¼ˆ`agents.defaults.workspace` æˆ– `agents.list[].workspace`ï¼‰\n- è°ƒæ•´å†…ç½®æ™ºèƒ½ä½“é»˜è®¤å€¼ï¼ˆ`agents.defaults`ï¼‰å’Œä¼šè¯è¡Œä¸ºï¼ˆ`session`ï¼‰\n- è®¾ç½®æ¯ä¸ªæ™ºèƒ½ä½“çš„èº«ä»½æ ‡è¯†ï¼ˆ`agents.list[].identity`ï¼‰\n\n> **åˆæ¬¡æ¥è§¦é…ç½®ï¼Ÿ** è¯·æŸ¥é˜…[é…ç½®ç¤ºä¾‹](/gateway/configuration-examples)æŒ‡å—ï¼Œè·å–å¸¦æœ‰è¯¦ç»†è¯´æ˜çš„å®Œæ•´ç¤ºä¾‹ï¼",
    "## ä¸¥æ ¼é…ç½®éªŒè¯\n\nOpenClaw åªæ¥å—å®Œå…¨åŒ¹é… schema çš„é…ç½®ã€‚\næœªçŸ¥é”®ã€ç±»å‹é”™è¯¯æˆ–æ— æ•ˆå€¼ä¼šå¯¼è‡´ Gateway ç½‘å…³ **æ‹’ç»å¯åŠ¨**ä»¥ç¡®ä¿å®‰å…¨ã€‚\n\néªŒè¯å¤±è´¥æ—¶ï¼š\n\n- Gateway ç½‘å…³ä¸ä¼šå¯åŠ¨ã€‚\n- åªå…è®¸è¯Šæ–­å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼š`openclaw doctor`ã€`openclaw logs`ã€`openclaw health`ã€`openclaw status`ã€`openclaw service`ã€`openclaw help`ï¼‰ã€‚\n- è¿è¡Œ `openclaw doctor` æŸ¥çœ‹å…·ä½“é—®é¢˜ã€‚\n- è¿è¡Œ `openclaw doctor --fix`ï¼ˆæˆ– `--yes`ï¼‰åº”ç”¨è¿ç§»/ä¿®å¤ã€‚\n\nDoctor ä¸ä¼šå†™å…¥ä»»ä½•æ›´æ”¹ï¼Œé™¤éä½ æ˜ç¡®é€‰æ‹©äº† `--fix`/`--yes`ã€‚",
    "## Schema + UI æç¤º\n\nGateway ç½‘å…³é€šè¿‡ `config.schema` æš´éœ²é…ç½®çš„ JSON Schema è¡¨ç¤ºï¼Œä¾› UI ç¼–è¾‘å™¨ä½¿ç”¨ã€‚\næ§åˆ¶å° UI æ ¹æ®æ­¤ schema æ¸²æŸ“è¡¨å•ï¼Œå¹¶æä¾› **Raw JSON** ç¼–è¾‘å™¨ä½œä¸ºåº”æ€¥æ‰‹æ®µã€‚\n\næ¸ é“æ’ä»¶å’Œæ‰©å±•å¯ä»¥ä¸ºå…¶é…ç½®æ³¨å†Œ schema + UI æç¤ºï¼Œå› æ­¤æ¸ é“è®¾ç½®\nåœ¨å„åº”ç”¨é—´ä¿æŒ schema é©±åŠ¨ï¼Œæ— éœ€ç¡¬ç¼–ç è¡¨å•ã€‚\n\næç¤ºä¿¡æ¯ï¼ˆæ ‡ç­¾ã€åˆ†ç»„ã€æ•æ„Ÿå­—æ®µï¼‰éš schema ä¸€èµ·æä¾›ï¼Œå®¢æˆ·ç«¯æ— éœ€ç¡¬ç¼–ç é…ç½®çŸ¥è¯†å³å¯æ¸²æŸ“æ›´å¥½çš„è¡¨å•ã€‚",
    "## åº”ç”¨ + é‡å¯ï¼ˆRPCï¼‰\n\nä½¿ç”¨ `config.apply` åœ¨ä¸€æ­¥ä¸­éªŒè¯ + å†™å…¥å®Œæ•´é…ç½®å¹¶é‡å¯ Gateway ç½‘å…³ã€‚\nå®ƒä¼šå†™å…¥é‡å¯å“¨å…µæ–‡ä»¶ï¼Œå¹¶åœ¨ Gateway ç½‘å…³æ¢å¤å ping æœ€åæ´»è·ƒçš„ä¼šè¯ã€‚\n\nè­¦å‘Šï¼š`config.apply` ä¼šæ›¿æ¢**æ•´ä¸ªé…ç½®**ã€‚å¦‚æœä½ åªæƒ³æ›´æ”¹éƒ¨åˆ†é”®ï¼Œ\nè¯·ä½¿ç”¨ `config.patch` æˆ– `openclaw config set`ã€‚è¯·å¤‡ä»½ `~/.openclaw/openclaw.json`ã€‚\n\nå‚æ•°ï¼š\n\n- `raw`ï¼ˆå­—ç¬¦ä¸²ï¼‰â€” æ•´ä¸ªé…ç½®çš„ JSON5 è´Ÿè½½\n- `baseHash`ï¼ˆå¯é€‰ï¼‰â€” æ¥è‡ª `config.get` çš„é…ç½®å“ˆå¸Œï¼ˆå½“é…ç½®å·²å­˜åœ¨æ—¶ä¸ºå¿…éœ€ï¼‰\n- `sessionKey`ï¼ˆå¯é€‰ï¼‰â€” æœ€åæ´»è·ƒä¼šè¯çš„é”®ï¼Œç”¨äºå”¤é†’ ping\n- `note`ï¼ˆå¯é€‰ï¼‰â€” åŒ…å«åœ¨é‡å¯å“¨å…µä¸­çš„å¤‡æ³¨\n- `restartDelayMs`ï¼ˆå¯é€‰ï¼‰â€” é‡å¯å‰çš„å»¶è¿Ÿï¼ˆé»˜è®¤ 2000ï¼‰\n\nç¤ºä¾‹ï¼ˆé€šè¿‡ `gateway call`ï¼‰ï¼š\n\n```bash\nopenclaw gateway call config.get --params '{}' # capture payload.hash\nopenclaw gateway call config.apply --params '{\n  \"raw\": \"{\\\\n  agents: { defaults: { workspace: \\\\\"~/.openclaw/workspace\\\\\" } }\\\\n}\\\\n\",\n  \"baseHash\": \"<hash-from-config.get>\",\n  \"sessionKey\": \"agent:main:whatsapp:dm:+15555550123\",\n  \"restartDelayMs\": 1000\n}'\n```",
    "## éƒ¨åˆ†æ›´æ–°ï¼ˆRPCï¼‰\n\nä½¿ç”¨ `config.patch` å°†éƒ¨åˆ†æ›´æ–°åˆå¹¶åˆ°ç°æœ‰é…ç½®ä¸­ï¼Œè€Œä¸ä¼šè¦†ç›–\næ— å…³çš„é”®ã€‚å®ƒé‡‡ç”¨ JSON merge patch è¯­ä¹‰ï¼š\n\n- å¯¹è±¡é€’å½’åˆå¹¶\n- `null` åˆ é™¤é”®\n- æ•°ç»„æ›¿æ¢\n  ä¸ `config.apply` ç±»ä¼¼ï¼Œå®ƒä¼šéªŒè¯ã€å†™å…¥é…ç½®ã€å­˜å‚¨é‡å¯å“¨å…µï¼Œå¹¶è°ƒåº¦\n  Gateway ç½‘å…³é‡å¯ï¼ˆå½“æä¾› `sessionKey` æ—¶å¯é€‰æ‹©å”¤é†’ï¼‰ã€‚\n\nå‚æ•°ï¼š\n\n- `raw`ï¼ˆå­—ç¬¦ä¸²ï¼‰â€” ä»…åŒ…å«è¦æ›´æ”¹çš„é”®çš„ JSON5 è´Ÿè½½\n- `baseHash`ï¼ˆå¿…éœ€ï¼‰â€” æ¥è‡ª `config.get` çš„é…ç½®å“ˆå¸Œ\n- `sessionKey`ï¼ˆå¯é€‰ï¼‰â€” æœ€åæ´»è·ƒä¼šè¯çš„é”®ï¼Œç”¨äºå”¤é†’ ping\n- `note`ï¼ˆå¯é€‰ï¼‰â€” åŒ…å«åœ¨é‡å¯å“¨å…µä¸­çš„å¤‡æ³¨\n- `restartDelayMs`ï¼ˆå¯é€‰ï¼‰â€” é‡å¯å‰çš„å»¶è¿Ÿï¼ˆé»˜è®¤ 2000ï¼‰\n\nç¤ºä¾‹ï¼š\n\n```bash\nopenclaw gateway call config.get --params '{}' # capture payload.hash\nopenclaw gateway call config.patch --params '{\n  \"raw\": \"{\\\\n  channels: { telegram: { groups: { \\\\\"*\\\\\": { requireMention: false } } } }\\\\n}\\\\n\",\n  \"baseHash\": \"<hash-from-config.get>\",\n  \"sessionKey\": \"agent:main:whatsapp:dm:+15555550123\",\n  \"restartDelayMs\": 1000\n}'\n```",
    "## æœ€å°é…ç½®ï¼ˆæ¨èèµ·ç‚¹ï¼‰\n\n```json5\n{\n  agents: { defaults: { workspace: \"~/.openclaw/workspace\" } },\n  channels: { whatsapp: { allowFrom: [\"+15555550123\"] } },\n}\n```\n\né¦–æ¬¡æ„å»ºé»˜è®¤é•œåƒï¼š\n\n```bash\nscripts/sandbox-setup.sh\n```",
    "## è‡ªèŠå¤©æ¨¡å¼ï¼ˆæ¨èç”¨äºç¾¤ç»„æ§åˆ¶ï¼‰\n\né˜²æ­¢æœºå™¨äººåœ¨ç¾¤ç»„ä¸­å“åº” WhatsApp @æåŠï¼ˆä»…å“åº”ç‰¹å®šæ–‡æœ¬è§¦å‘å™¨ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: { workspace: \"~/.openclaw/workspace\" },\n    list: [\n      {\n        id: \"main\",\n        groupChat: { mentionPatterns: [\"@openclaw\", \"reisponde\"] },\n      },\n    ],\n  },\n  channels: {\n    whatsapp: {\n      // ç™½åå•ä»…é€‚ç”¨äºç§èŠï¼›åŒ…å«ä½ è‡ªå·±çš„å·ç å¯å¯ç”¨è‡ªèŠå¤©æ¨¡å¼ã€‚\n      allowFrom: [\"+15555550123\"],\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n}\n```",
    "## é…ç½®åŒ…å«ï¼ˆ`$include`ï¼‰\n\nä½¿ç”¨ `$include` æŒ‡ä»¤å°†é…ç½®æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ã€‚é€‚ç”¨äºï¼š\n\n- ç»„ç»‡å¤§å‹é…ç½®ï¼ˆä¾‹å¦‚æŒ‰å®¢æˆ·å®šä¹‰æ™ºèƒ½ä½“ï¼‰\n- è·¨ç¯å¢ƒå…±äº«é€šç”¨è®¾ç½®\n- å°†æ•æ„Ÿé…ç½®å•ç‹¬å­˜æ”¾\n\n### åŸºæœ¬ç”¨æ³•\n\n```json5\n// ~/.openclaw/openclaw.json\n{\n  gateway: { port: 18789 },\n\n  // åŒ…å«å•ä¸ªæ–‡ä»¶ï¼ˆæ›¿æ¢è¯¥é”®çš„å€¼ï¼‰\n  agents: { $include: \"./agents.json5\" },\n\n  // åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ˆæŒ‰é¡ºåºæ·±åº¦åˆå¹¶ï¼‰\n  broadcast: {\n    $include: [\"./clients/mueller.json5\", \"./clients/schmidt.json5\"],\n  },\n}\n```\n\n```json5\n// ~/.openclaw/agents.json5\n{\n  defaults: { sandbox: { mode: \"all\", scope: \"session\" } },\n  list: [{ id: \"main\", workspace: \"~/.openclaw/workspace\" }],\n}\n```\n\n### åˆå¹¶è¡Œä¸º\n\n- **å•ä¸ªæ–‡ä»¶**ï¼šæ›¿æ¢åŒ…å« `$include` çš„å¯¹è±¡\n- **æ–‡ä»¶æ•°ç»„**ï¼šæŒ‰é¡ºåºæ·±åº¦åˆå¹¶ï¼ˆåé¢çš„æ–‡ä»¶è¦†ç›–å‰é¢çš„ï¼‰\n- **å¸¦å…„å¼Ÿé”®**ï¼šå…„å¼Ÿé”®åœ¨åŒ…å«ä¹‹ååˆå¹¶ï¼ˆè¦†ç›–è¢«åŒ…å«çš„å€¼ï¼‰\n- **å…„å¼Ÿé”® + æ•°ç»„/åŸå§‹å€¼**ï¼šä¸æ”¯æŒï¼ˆè¢«åŒ…å«çš„å†…å®¹å¿…é¡»æ˜¯å¯¹è±¡ï¼‰\n\n```json5\n// å…„å¼Ÿé”®è¦†ç›–è¢«åŒ…å«çš„å€¼\n{\n  $include: \"./base.json5\", // { a: 1, b: 2 }\n  b: 99, // ç»“æœï¼š{ a: 1, b: 99 }\n}\n```\n\n### åµŒå¥—åŒ…å«\n\nè¢«åŒ…å«çš„æ–‡ä»¶æœ¬èº«å¯ä»¥åŒ…å« `$include` æŒ‡ä»¤ï¼ˆæœ€å¤š 10 å±‚æ·±åº¦ï¼‰ï¼š\n\n```json5\n// clients/mueller.json5\n{\n  agents: { $include: \"./mueller/agents.json5\" },\n  broadcast: { $include: \"./mueller/broadcast.json5\" },\n}\n```\n\n### è·¯å¾„è§£æ",
    "- **ç›¸å¯¹è·¯å¾„**ï¼šç›¸å¯¹äºåŒ…å«æ–‡ä»¶è§£æ\n- **ç»å¯¹è·¯å¾„**ï¼šç›´æ¥ä½¿ç”¨\n- **çˆ¶ç›®å½•**ï¼š`../` å¼•ç”¨æŒ‰é¢„æœŸå·¥ä½œ\n\n```json5\n{ \"$include\": \"./sub/config.json5\" }      // ç›¸å¯¹è·¯å¾„\n{ \"$include\": \"/etc/openclaw/base.json5\" } // ç»å¯¹è·¯å¾„\n{ \"$include\": \"../shared/common.json5\" }   // çˆ¶ç›®å½•\n```\n\n### é”™è¯¯å¤„ç†\n\n- **æ–‡ä»¶ç¼ºå¤±**ï¼šæ˜¾ç¤ºæ¸…æ™°çš„é”™è¯¯åŠè§£æåçš„è·¯å¾„\n- **è§£æé”™è¯¯**ï¼šæ˜¾ç¤ºå“ªä¸ªè¢«åŒ…å«çš„æ–‡ä»¶å‡ºé”™\n- **å¾ªç¯åŒ…å«**ï¼šæ£€æµ‹å¹¶æŠ¥å‘ŠåŒ…å«é“¾\n\n### ç¤ºä¾‹ï¼šå¤šå®¢æˆ·æ³•å¾‹äº‹åŠ¡è®¾ç½®\n\n```json5\n// ~/.openclaw/openclaw.json\n{\n  gateway: { port: 18789, auth: { token: \"secret\" } },\n\n  // é€šç”¨æ™ºèƒ½ä½“é»˜è®¤å€¼\n  agents: {\n    defaults: {\n      sandbox: { mode: \"all\", scope: \"session\" },\n    },\n    // åˆå¹¶æ‰€æœ‰å®¢æˆ·çš„æ™ºèƒ½ä½“åˆ—è¡¨\n    list: { $include: [\"./clients/mueller/agents.json5\", \"./clients/schmidt/agents.json5\"] },\n  },\n\n  // åˆå¹¶å¹¿æ’­é…ç½®\n  broadcast: {\n    $include: [\"./clients/mueller/broadcast.json5\", \"./clients/schmidt/broadcast.json5\"],\n  },\n\n  channels: { whatsapp: { groupPolicy: \"allowlist\" } },\n}\n```",
    "```json5\n// ~/.openclaw/clients/mueller/agents.json5\n[\n  { id: \"mueller-transcribe\", workspace: \"~/clients/mueller/transcribe\" },\n  { id: \"mueller-docs\", workspace: \"~/clients/mueller/docs\" },\n]\n```\n\n```json5\n// ~/.openclaw/clients/mueller/broadcast.json5\n{\n  \"120363403215116621@g.us\": [\"mueller-transcribe\", \"mueller-docs\"],\n}\n```",
    "## å¸¸ç”¨é€‰é¡¹\n\n### ç¯å¢ƒå˜é‡ + `.env`\n\nOpenClaw ä»çˆ¶è¿›ç¨‹ï¼ˆshellã€launchd/systemdã€CI ç­‰ï¼‰è¯»å–ç¯å¢ƒå˜é‡ã€‚\n\næ­¤å¤–ï¼Œå®ƒè¿˜ä¼šåŠ è½½ï¼š\n\n- å½“å‰å·¥ä½œç›®å½•ä¸­çš„ `.env`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰\n- `~/.openclaw/.env`ï¼ˆå³ `$OPENCLAW_STATE_DIR/.env`ï¼‰ä½œä¸ºå…¨å±€å›é€€ `.env`\n\nä¸¤ä¸ª `.env` æ–‡ä»¶éƒ½ä¸ä¼šè¦†ç›–å·²æœ‰çš„ç¯å¢ƒå˜é‡ã€‚\n\nä½ ä¹Ÿå¯ä»¥åœ¨é…ç½®ä¸­æä¾›å†…è”ç¯å¢ƒå˜é‡ã€‚è¿™äº›ä»…åœ¨è¿›ç¨‹ç¯å¢ƒä¸­ç¼ºå°‘è¯¥é”®æ—¶åº”ç”¨ï¼ˆç›¸åŒçš„ä¸è¦†ç›–è§„åˆ™ï¼‰ï¼š\n\n```json5\n{\n  env: {\n    OPENROUTER_API_KEY: \"sk-or-...\",\n    vars: {\n      GROQ_API_KEY: \"gsk-...\",\n    },\n  },\n}\n```\n\nå‚è§ [/environment](/environment) äº†è§£ä¼˜å…ˆçº§å’Œæ¥æºè¯¦æƒ…ã€‚\n\n### `env.shellEnv`ï¼ˆå¯é€‰ï¼‰\n\nå¯é€‰ä¾¿åˆ©åŠŸèƒ½ï¼šå¦‚æœå¯ç”¨ä¸”é¢„æœŸé”®å‡æœªè®¾ç½®ï¼ŒOpenClaw ä¼šè¿è¡Œä½ çš„ç™»å½• shell å¹¶ä»…å¯¼å…¥ç¼ºå¤±çš„é¢„æœŸé”®ï¼ˆä¸ä¼šè¦†ç›–ï¼‰ã€‚\nè¿™å®é™…ä¸Šä¼š source ä½ çš„ shell é…ç½®æ–‡ä»¶ã€‚\n\n```json5\n{\n  env: {\n    shellEnv: {\n      enabled: true,\n      timeoutMs: 15000,\n    },\n  },\n}\n```\n\nç­‰æ•ˆç¯å¢ƒå˜é‡ï¼š\n\n- `OPENCLAW_LOAD_SHELL_ENV=1`\n- `OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000`\n\n### é…ç½®ä¸­çš„ç¯å¢ƒå˜é‡æ›¿æ¢\n\nä½ å¯ä»¥åœ¨ä»»ä½•é…ç½®å­—ç¬¦ä¸²å€¼ä¸­ä½¿ç”¨ `${VAR_NAME}` è¯­æ³•ç›´æ¥å¼•ç”¨ç¯å¢ƒå˜é‡ã€‚å˜é‡åœ¨é…ç½®åŠ è½½æ—¶ã€éªŒè¯ä¹‹å‰è¿›è¡Œæ›¿æ¢ã€‚",
    "```json5\n{\n  models: {\n    providers: {\n      \"vercel-gateway\": {\n        apiKey: \"${VERCEL_GATEWAY_API_KEY}\",\n      },\n    },\n  },\n  gateway: {\n    auth: {\n      token: \"${OPENCLAW_GATEWAY_TOKEN}\",\n    },\n  },\n}\n```\n\n**è§„åˆ™ï¼š**\n\n- ä»…åŒ¹é…å¤§å†™ç¯å¢ƒå˜é‡åï¼š`[A-Z_][A-Z0-9_]*`\n- ç¼ºå¤±æˆ–ä¸ºç©ºçš„ç¯å¢ƒå˜é‡åœ¨é…ç½®åŠ è½½æ—¶ä¼šæŠ›å‡ºé”™è¯¯\n- ä½¿ç”¨ `$${VAR}` è½¬ä¹‰ä»¥è¾“å‡ºå­—é¢é‡ `${VAR}`\n- ä¸ `$include` é…åˆä½¿ç”¨ï¼ˆè¢«åŒ…å«çš„æ–‡ä»¶ä¹Ÿä¼šè¿›è¡Œæ›¿æ¢ï¼‰\n\n**å†…è”æ›¿æ¢ï¼š**\n\n```json5\n{\n  models: {\n    providers: {\n      custom: {\n        baseUrl: \"${CUSTOM_API_BASE}/v1\", // â†’ \"https://api.example.com/v1\"\n      },\n    },\n  },\n}\n```\n\n### è®¤è¯å­˜å‚¨ï¼ˆOAuth + API å¯†é’¥ï¼‰\n\nOpenClaw åœ¨ä»¥ä¸‹ä½ç½®å­˜å‚¨**æ¯ä¸ªæ™ºèƒ½ä½“çš„**è®¤è¯é…ç½®æ–‡ä»¶ï¼ˆOAuth + API å¯†é’¥ï¼‰ï¼š\n\n- `<agentDir>/auth-profiles.json`ï¼ˆé»˜è®¤ï¼š`~/.openclaw/agents/<agentId>/agent/auth-profiles.json`ï¼‰\n\nå¦è¯·å‚é˜…ï¼š[/concepts/oauth](/concepts/oauth)\n\næ—§ç‰ˆ OAuth å¯¼å…¥ï¼š\n\n- `~/.openclaw/credentials/oauth.json`ï¼ˆæˆ– `$OPENCLAW_STATE_DIR/credentials/oauth.json`ï¼‰\n\nå†…ç½® Pi æ™ºèƒ½ä½“åœ¨ä»¥ä¸‹ä½ç½®ç»´æŠ¤è¿è¡Œæ—¶ç¼“å­˜ï¼š\n\n- `<agentDir>/auth.json`ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼›è¯·å‹¿æ‰‹åŠ¨ç¼–è¾‘ï¼‰\n\næ—§ç‰ˆæ™ºèƒ½ä½“ç›®å½•ï¼ˆå¤šæ™ºèƒ½ä½“ä¹‹å‰ï¼‰ï¼š",
    "- `~/.openclaw/agent/*`ï¼ˆç”± `openclaw doctor` è¿ç§»åˆ° `~/.openclaw/agents/<defaultAgentId>/agent/*`ï¼‰\n\nè¦†ç›–ï¼š\n\n- OAuth ç›®å½•ï¼ˆä»…æ—§ç‰ˆå¯¼å…¥ï¼‰ï¼š`OPENCLAW_OAUTH_DIR`\n- æ™ºèƒ½ä½“ç›®å½•ï¼ˆé»˜è®¤æ™ºèƒ½ä½“æ ¹ç›®å½•è¦†ç›–ï¼‰ï¼š`OPENCLAW_AGENT_DIR`ï¼ˆæ¨èï¼‰ã€`PI_CODING_AGENT_DIR`ï¼ˆæ—§ç‰ˆï¼‰\n\né¦–æ¬¡ä½¿ç”¨æ—¶ï¼ŒOpenClaw ä¼šå°† `oauth.json` æ¡ç›®å¯¼å…¥åˆ° `auth-profiles.json` ä¸­ã€‚\n\n### `auth`\n\nè®¤è¯é…ç½®æ–‡ä»¶çš„å¯é€‰å…ƒæ•°æ®ã€‚è¿™**ä¸**å­˜å‚¨å¯†é’¥ï¼›å®ƒå°†é…ç½®æ–‡ä»¶ ID æ˜ å°„åˆ°æä¾›å•† + æ¨¡å¼ï¼ˆä»¥åŠå¯é€‰çš„é‚®ç®±ï¼‰ï¼Œå¹¶å®šä¹‰ç”¨äºæ•…éšœè½¬ç§»çš„æä¾›å•†è½®æ¢é¡ºåºã€‚\n\n```json5\n{\n  auth: {\n    profiles: {\n      \"anthropic:me@example.com\": { provider: \"anthropic\", mode: \"oauth\", email: \"me@example.com\" },\n      \"anthropic:work\": { provider: \"anthropic\", mode: \"api_key\" },\n    },\n    order: {\n      anthropic: [\"anthropic:me@example.com\", \"anthropic:work\"],\n    },\n  },\n}\n```\n\n### `agents.list[].identity`\n\nç”¨äºé»˜è®¤å€¼å’Œç”¨æˆ·ä½“éªŒçš„å¯é€‰æ¯æ™ºèƒ½ä½“èº«ä»½æ ‡è¯†ã€‚ç”± macOS æ–°æ‰‹å¼•å¯¼åŠ©æ‰‹å†™å…¥ã€‚\n\nå¦‚æœè®¾ç½®äº†ï¼ŒOpenClaw ä¼šæ¨å¯¼é»˜è®¤å€¼ï¼ˆä»…åœ¨ä½ æœªæ˜ç¡®è®¾ç½®æ—¶ï¼‰ï¼š",
    "- `messages.ackReaction` æ¥è‡ª**æ´»è·ƒæ™ºèƒ½ä½“**çš„ `identity.emoji`ï¼ˆå›é€€åˆ° ğŸ‘€ï¼‰\n- `agents.list[].groupChat.mentionPatterns` æ¥è‡ªæ™ºèƒ½ä½“çš„ `identity.name`/`identity.emoji`ï¼ˆå› æ­¤ \"@Samantha\" åœ¨ Telegram/Slack/Discord/Google Chat/iMessage/WhatsApp çš„ç¾¤ç»„ä¸­å‡å¯ä½¿ç”¨ï¼‰\n- `identity.avatar` æ¥å—å·¥ä½œåŒºç›¸å¯¹å›¾ç‰‡è·¯å¾„æˆ–è¿œç¨‹ URL/data URLã€‚æœ¬åœ°æ–‡ä»¶å¿…é¡»ä½äºæ™ºèƒ½ä½“å·¥ä½œåŒºå†…ã€‚\n\n`identity.avatar` æ¥å—ï¼š\n\n- å·¥ä½œåŒºç›¸å¯¹è·¯å¾„ï¼ˆå¿…é¡»åœ¨æ™ºèƒ½ä½“å·¥ä½œåŒºå†…ï¼‰\n- `http(s)` URL\n- `data:` URI\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        identity: {\n          name: \"Samantha\",\n          theme: \"helpful sloth\",\n          emoji: \"ğŸ¦¥\",\n          avatar: \"avatars/samantha.png\",\n        },\n      },\n    ],\n  },\n}\n```\n\n### `wizard`\n\nç”± CLI å‘å¯¼ï¼ˆ`onboard`ã€`configure`ã€`doctor`ï¼‰å†™å…¥çš„å…ƒæ•°æ®ã€‚\n\n```json5\n{\n  wizard: {\n    lastRunAt: \"2026-01-01T00:00:00.000Z\",\n    lastRunVersion: \"2026.1.4\",\n    lastRunCommit: \"abc1234\",\n    lastRunCommand: \"configure\",\n    lastRunMode: \"local\",\n  },\n}\n```\n\n### `logging`",
    "- é»˜è®¤æ—¥å¿—æ–‡ä»¶ï¼š`/tmp/openclaw/openclaw-YYYY-MM-DD.log`\n- å¦‚éœ€ç¨³å®šè·¯å¾„ï¼Œå°† `logging.file` è®¾ä¸º `/tmp/openclaw/openclaw.log`ã€‚\n- æ§åˆ¶å°è¾“å‡ºå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å•ç‹¬è°ƒæ•´ï¼š\n  - `logging.consoleLevel`ï¼ˆé»˜è®¤ `info`ï¼Œä½¿ç”¨ `--verbose` æ—¶æå‡ä¸º `debug`ï¼‰\n  - `logging.consoleStyle`ï¼ˆ`pretty` | `compact` | `json`ï¼‰\n- å·¥å…·æ‘˜è¦å¯ä»¥è„±æ•ä»¥é¿å…æ³„éœ²å¯†é’¥ï¼š\n  - `logging.redactSensitive`ï¼ˆ`off` | `tools`ï¼Œé»˜è®¤ï¼š`tools`ï¼‰\n  - `logging.redactPatterns`ï¼ˆæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²æ•°ç»„ï¼›è¦†ç›–é»˜è®¤å€¼ï¼‰\n\n```json5\n{\n  logging: {\n    level: \"info\",\n    file: \"/tmp/openclaw/openclaw.log\",\n    consoleLevel: \"info\",\n    consoleStyle: \"pretty\",\n    redactSensitive: \"tools\",\n    redactPatterns: [\n      // ç¤ºä¾‹ï¼šç”¨è‡ªå®šä¹‰è§„åˆ™è¦†ç›–é»˜è®¤å€¼ã€‚\n      \"\\\\bTOKEN\\\\b\\\\s*[=:]\\\\s*([\\\"']?)([^\\\\s\\\"']+)\\\\1\",\n      \"/\\\\bsk-[A-Za-z0-9_-]{8,}\\\\b/gi\",\n    ],\n  },\n}\n```\n\n### `channels.whatsapp.dmPolicy`\n\næ§åˆ¶ WhatsApp ç§èŠï¼ˆç§ä¿¡ï¼‰çš„å¤„ç†æ–¹å¼ï¼š\n\n- `\"pairing\"`ï¼ˆé»˜è®¤ï¼‰ï¼šæœªçŸ¥å‘é€è€…ä¼šæ”¶åˆ°é…å¯¹ç ï¼›æ‰€æœ‰è€…å¿…é¡»æ‰¹å‡†\n- `\"allowlist\"`ï¼šä»…å…è®¸ `channels.whatsapp.allowFrom`ï¼ˆæˆ–å·²é…å¯¹çš„å…è®¸å­˜å‚¨ï¼‰ä¸­çš„å‘é€è€…\n- `\"open\"`ï¼šå…è®¸æ‰€æœ‰å…¥ç«™ç§èŠï¼ˆ**éœ€è¦** `channels.whatsapp.allowFrom` åŒ…å« `\"*\"`ï¼‰\n- `\"disabled\"`ï¼šå¿½ç•¥æ‰€æœ‰å…¥ç«™ç§èŠ",
    "é…å¯¹ç åœ¨ 1 å°æ—¶åè¿‡æœŸï¼›æœºå™¨äººä»…åœ¨åˆ›å»ºæ–°è¯·æ±‚æ—¶å‘é€é…å¯¹ç ã€‚å¾…å¤„ç†çš„ç§èŠé…å¯¹è¯·æ±‚é»˜è®¤æ¯ä¸ªæ¸ é“ä¸Šé™ä¸º **3 ä¸ª**ã€‚\n\né…å¯¹æ‰¹å‡†ï¼š\n\n- `openclaw pairing list whatsapp`\n- `openclaw pairing approve whatsapp <code>`\n\n### `channels.whatsapp.allowFrom`\n\nå…è®¸è§¦å‘ WhatsApp è‡ªåŠ¨å›å¤çš„ E.164 ç”µè¯å·ç ç™½åå•ï¼ˆ**ä»…é™ç§èŠ**ï¼‰ã€‚\nå¦‚æœä¸ºç©ºä¸” `channels.whatsapp.dmPolicy=\"pairing\"`ï¼ŒæœªçŸ¥å‘é€è€…å°†æ”¶åˆ°é…å¯¹ç ã€‚\nå¯¹äºç¾¤ç»„ï¼Œä½¿ç”¨ `channels.whatsapp.groupPolicy` + `channels.whatsapp.groupAllowFrom`ã€‚\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      dmPolicy: \"pairing\", // pairing | allowlist | open | disabled\n      allowFrom: [\"+15555550123\", \"+447700900123\"],\n      textChunkLimit: 4000, // å¯é€‰çš„å‡ºç«™åˆ†å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰\n      chunkMode: \"length\", // å¯é€‰çš„åˆ†å—æ¨¡å¼ï¼ˆlength | newlineï¼‰\n      mediaMaxMb: 50, // å¯é€‰çš„å…¥ç«™åª’ä½“ä¸Šé™ï¼ˆMBï¼‰\n    },\n  },\n}\n```\n\n### `channels.whatsapp.sendReadReceipts`\n\næ§åˆ¶å…¥ç«™ WhatsApp æ¶ˆæ¯æ˜¯å¦æ ‡è®°ä¸ºå·²è¯»ï¼ˆè“è‰²åŒå‹¾ï¼‰ã€‚é»˜è®¤ï¼š`true`ã€‚\n\nè‡ªèŠå¤©æ¨¡å¼å§‹ç»ˆè·³è¿‡å·²è¯»å›æ‰§ï¼Œå³ä½¿å·²å¯ç”¨ã€‚\n\næ¯è´¦å·è¦†ç›–ï¼š`channels.whatsapp.accounts.<id>.sendReadReceipts`ã€‚\n\n```json5\n{\n  channels: {\n    whatsapp: { sendReadReceipts: false },\n  },\n}\n```\n\n### `channels.whatsapp.accounts`ï¼ˆå¤šè´¦å·ï¼‰",
    "åœ¨ä¸€ä¸ª Gateway ç½‘å…³ä¸­è¿è¡Œå¤šä¸ª WhatsApp è´¦å·ï¼š\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      accounts: {\n        default: {}, // å¯é€‰ï¼›ä¿æŒé»˜è®¤ id ç¨³å®š\n        personal: {},\n        biz: {\n          // å¯é€‰è¦†ç›–ã€‚é»˜è®¤ï¼š~/.openclaw/credentials/whatsapp/biz\n          // authDir: \"~/.openclaw/credentials/whatsapp/biz\",\n        },\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- å‡ºç«™å‘½ä»¤é»˜è®¤ä½¿ç”¨ `default` è´¦å·ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼›å¦åˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªé…ç½®çš„è´¦å· idï¼ˆæ’åºåï¼‰ã€‚\n- æ—§ç‰ˆå•è´¦å· Baileys è®¤è¯ç›®å½•ç”± `openclaw doctor` è¿ç§»åˆ° `whatsapp/default`ã€‚\n\n### `channels.telegram.accounts` / `channels.discord.accounts` / `channels.googlechat.accounts` / `channels.slack.accounts` / `channels.mattermost.accounts` / `channels.signal.accounts` / `channels.imessage.accounts`\n\næ¯ä¸ªæ¸ é“è¿è¡Œå¤šä¸ªè´¦å·ï¼ˆæ¯ä¸ªè´¦å·æœ‰è‡ªå·±çš„ `accountId` å’Œå¯é€‰çš„ `name`ï¼‰ï¼š\n\n```json5\n{\n  channels: {\n    telegram: {\n      accounts: {\n        default: {\n          name: \"Primary bot\",\n          botToken: \"123456:ABC...\",\n        },\n        alerts: {\n          name: \"Alerts bot\",\n          botToken: \"987654:XYZ...\",\n        },\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- çœç•¥ `accountId` æ—¶ä½¿ç”¨ `default`ï¼ˆCLI + è·¯ç”±ï¼‰ã€‚\n- ç¯å¢ƒå˜é‡ token ä»…é€‚ç”¨äº**é»˜è®¤**è´¦å·ã€‚\n- åŸºç¡€æ¸ é“è®¾ç½®ï¼ˆç¾¤ç»„ç­–ç•¥ã€æåŠé—¨æ§ç­‰ï¼‰é€‚ç”¨äºæ‰€æœ‰è´¦å·ï¼Œé™¤éåœ¨æ¯ä¸ªè´¦å·ä¸­å•ç‹¬è¦†ç›–ã€‚\n- ä½¿ç”¨ `bindings[].match.accountId` å°†æ¯ä¸ªè´¦å·è·¯ç”±åˆ°ä¸åŒçš„ agents.defaultsã€‚\n\n### ç¾¤èŠæåŠé—¨æ§ï¼ˆ`agents.list[].groupChat` + `messages.groupChat`ï¼‰\n\nç¾¤æ¶ˆæ¯é»˜è®¤**éœ€è¦æåŠ**ï¼ˆå…ƒæ•°æ®æåŠæˆ–æ­£åˆ™æ¨¡å¼ï¼‰ã€‚é€‚ç”¨äº WhatsAppã€Telegramã€Discordã€Google Chat å’Œ iMessage ç¾¤èŠã€‚\n\n**æåŠç±»å‹ï¼š**\n\n- **å…ƒæ•°æ®æåŠ**ï¼šåŸç”Ÿå¹³å° @æåŠï¼ˆä¾‹å¦‚ WhatsApp ç‚¹æŒ‰æåŠï¼‰ã€‚åœ¨ WhatsApp è‡ªèŠå¤©æ¨¡å¼ä¸­è¢«å¿½ç•¥ï¼ˆå‚è§ `channels.whatsapp.allowFrom`ï¼‰ã€‚\n- **æ–‡æœ¬æ¨¡å¼**ï¼šåœ¨ `agents.list[].groupChat.mentionPatterns` ä¸­å®šä¹‰çš„æ­£åˆ™æ¨¡å¼ã€‚æ— è®ºè‡ªèŠå¤©æ¨¡å¼å¦‚ä½•å§‹ç»ˆæ£€æŸ¥ã€‚\n- æåŠé—¨æ§ä»…åœ¨å¯ä»¥æ£€æµ‹æåŠæ—¶æ‰§è¡Œï¼ˆåŸç”ŸæåŠæˆ–è‡³å°‘ä¸€ä¸ª `mentionPattern`ï¼‰ã€‚\n\n```json5\n{\n  messages: {\n    groupChat: { historyLimit: 50 },\n  },\n  agents: {\n    list: [{ id: \"main\", groupChat: { mentionPatterns: [\"@openclaw\", \"openclaw\"] } }],\n  },\n}\n```\n\n`messages.groupChat.historyLimit` è®¾ç½®ç¾¤ç»„å†å²ä¸Šä¸‹æ–‡çš„å…¨å±€é»˜è®¤å€¼ã€‚æ¸ é“å¯ä»¥é€šè¿‡ `channels.<channel>.historyLimit`ï¼ˆæˆ–å¤šè´¦å·çš„ `channels.<channel>.accounts.*.historyLimit`ï¼‰è¦†ç›–ã€‚è®¾ä¸º `0` ç¦ç”¨å†å²åŒ…è£…ã€‚\n\n#### ç§èŠå†å²é™åˆ¶\n\nç§èŠå¯¹è¯ä½¿ç”¨ç”±æ™ºèƒ½ä½“ç®¡ç†çš„åŸºäºä¼šè¯çš„å†å²ã€‚ä½ å¯ä»¥é™åˆ¶æ¯ä¸ªç§èŠä¼šè¯ä¿ç•™çš„ç”¨æˆ·è½®æ¬¡æ•°ï¼š",
    "```json5\n{\n  channels: {\n    telegram: {\n      dmHistoryLimit: 30, // å°†ç§èŠä¼šè¯é™åˆ¶ä¸º 30 ä¸ªç”¨æˆ·è½®æ¬¡\n      dms: {\n        \"123456789\": { historyLimit: 50 }, // æ¯ç”¨æˆ·è¦†ç›–ï¼ˆç”¨æˆ· IDï¼‰\n      },\n    },\n  },\n}\n```\n\nè§£æé¡ºåºï¼š\n\n1. æ¯ç§èŠè¦†ç›–ï¼š`channels.<provider>.dms[userId].historyLimit`\n2. æä¾›å•†é»˜è®¤å€¼ï¼š`channels.<provider>.dmHistoryLimit`\n3. æ— é™åˆ¶ï¼ˆä¿ç•™æ‰€æœ‰å†å²ï¼‰\n\næ”¯æŒçš„æä¾›å•†ï¼š`telegram`ã€`whatsapp`ã€`discord`ã€`slack`ã€`signal`ã€`imessage`ã€`msteams`ã€‚\n\næ¯æ™ºèƒ½ä½“è¦†ç›–ï¼ˆè®¾ç½®åä¼˜å…ˆï¼Œå³ä½¿ä¸º `[]`ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    list: [\n      { id: \"work\", groupChat: { mentionPatterns: [\"@workbot\", \"\\\\+15555550123\"] } },\n      { id: \"personal\", groupChat: { mentionPatterns: [\"@homebot\", \"\\\\+15555550999\"] } },\n    ],\n  },\n}\n```\n\næåŠé—¨æ§é»˜è®¤å€¼æŒ‰æ¸ é“è®¾ç½®ï¼ˆ`channels.whatsapp.groups`ã€`channels.telegram.groups`ã€`channels.imessage.groups`ã€`channels.discord.guilds`ï¼‰ã€‚å½“è®¾ç½®äº† `*.groups` æ—¶ï¼Œå®ƒä¹Ÿå……å½“ç¾¤ç»„ç™½åå•ï¼›åŒ…å« `\"*\"` ä»¥å…è®¸æ‰€æœ‰ç¾¤ç»„ã€‚\n\nä»…å“åº”ç‰¹å®šæ–‡æœ¬è§¦å‘å™¨ï¼ˆå¿½ç•¥åŸç”Ÿ @æåŠï¼‰ï¼š",
    "```json5\n{\n  channels: {\n    whatsapp: {\n      // åŒ…å«ä½ è‡ªå·±çš„å·ç ä»¥å¯ç”¨è‡ªèŠå¤©æ¨¡å¼ï¼ˆå¿½ç•¥åŸç”Ÿ @æåŠï¼‰ã€‚\n      allowFrom: [\"+15555550123\"],\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        groupChat: {\n          // ä»…è¿™äº›æ–‡æœ¬æ¨¡å¼ä¼šè§¦å‘å“åº”\n          mentionPatterns: [\"reisponde\", \"@openclaw\"],\n        },\n      },\n    ],\n  },\n}\n```\n\n### ç¾¤ç»„ç­–ç•¥ï¼ˆæŒ‰æ¸ é“ï¼‰\n\nä½¿ç”¨ `channels.*.groupPolicy` æ§åˆ¶æ˜¯å¦æ¥å—ç¾¤ç»„/æˆ¿é—´æ¶ˆæ¯ï¼š",
    "```json5\n{\n  channels: {\n    whatsapp: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15551234567\"],\n    },\n    telegram: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"tg:123456789\", \"@alice\"],\n    },\n    signal: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15551234567\"],\n    },\n    imessage: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"chat_id:123\"],\n    },\n    msteams: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"user@org.com\"],\n    },\n    discord: {\n      groupPolicy: \"allowlist\",\n      guilds: {\n        GUILD_ID: {\n          channels: { help: { allow: true } },\n        },\n      },\n    },\n    slack: {\n      groupPolicy: \"allowlist\",\n      channels: { \"#general\": { allow: true } },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- `\"open\"`ï¼šç¾¤ç»„ç»•è¿‡ç™½åå•ï¼›æåŠé—¨æ§ä»ç„¶é€‚ç”¨ã€‚\n- `\"disabled\"`ï¼šé˜»æ­¢æ‰€æœ‰ç¾¤ç»„/æˆ¿é—´æ¶ˆæ¯ã€‚\n- `\"allowlist\"`ï¼šä»…å…è®¸åŒ¹é…é…ç½®ç™½åå•çš„ç¾¤ç»„/æˆ¿é—´ã€‚\n- `channels.defaults.groupPolicy` è®¾ç½®æä¾›å•†çš„ `groupPolicy` æœªè®¾ç½®æ—¶çš„é»˜è®¤å€¼ã€‚\n- WhatsApp/Telegram/Signal/iMessage/Microsoft Teams ä½¿ç”¨ `groupAllowFrom`ï¼ˆå›é€€ï¼šæ˜¾å¼ `allowFrom`ï¼‰ã€‚\n- Discord/Slack ä½¿ç”¨æ¸ é“ç™½åå•ï¼ˆ`channels.discord.guilds.*.channels`ã€`channels.slack.channels`ï¼‰ã€‚\n- ç¾¤ç»„ç§èŠï¼ˆDiscord/Slackï¼‰ä»ç”± `dm.groupEnabled` + `dm.groupChannels` æ§åˆ¶ã€‚\n- é»˜è®¤ä¸º `groupPolicy: \"allowlist\"`ï¼ˆé™¤éè¢« `channels.defaults.groupPolicy` è¦†ç›–ï¼‰ï¼›å¦‚æœæœªé…ç½®ç™½åå•ï¼Œç¾¤ç»„æ¶ˆæ¯å°†è¢«é˜»æ­¢ã€‚\n\n### å¤šæ™ºèƒ½ä½“è·¯ç”±ï¼ˆ`agents.list` + `bindings`ï¼‰\n\nåœ¨ä¸€ä¸ª Gateway ç½‘å…³ä¸­è¿è¡Œå¤šä¸ªéš”ç¦»çš„æ™ºèƒ½ä½“ï¼ˆç‹¬ç«‹çš„å·¥ä½œåŒºã€`agentDir`ã€ä¼šè¯ï¼‰ã€‚\nå…¥ç«™æ¶ˆæ¯é€šè¿‡ç»‘å®šè·¯ç”±åˆ°æ™ºèƒ½ä½“ã€‚",
    "- `agents.list[]`ï¼šæ¯æ™ºèƒ½ä½“è¦†ç›–ã€‚\n  - `id`ï¼šç¨³å®šçš„æ™ºèƒ½ä½“ idï¼ˆå¿…éœ€ï¼‰ã€‚\n  - `default`ï¼šå¯é€‰ï¼›å½“è®¾ç½®å¤šä¸ªæ—¶ï¼Œç¬¬ä¸€ä¸ªè·èƒœå¹¶è®°å½•è­¦å‘Šã€‚\n    å¦‚æœæœªè®¾ç½®ï¼Œåˆ—è¡¨ä¸­çš„**ç¬¬ä¸€ä¸ªæ¡ç›®**ä¸ºé»˜è®¤æ™ºèƒ½ä½“ã€‚\n  - `name`ï¼šæ™ºèƒ½ä½“çš„æ˜¾ç¤ºåç§°ã€‚\n  - `workspace`ï¼šé»˜è®¤ `~/.openclaw/workspace-<agentId>`ï¼ˆå¯¹äº `main`ï¼Œå›é€€åˆ° `agents.defaults.workspace`ï¼‰ã€‚\n  - `agentDir`ï¼šé»˜è®¤ `~/.openclaw/agents/<agentId>/agent`ã€‚\n  - `model`ï¼šæ¯æ™ºèƒ½ä½“é»˜è®¤æ¨¡å‹ï¼Œè¦†ç›–è¯¥æ™ºèƒ½ä½“çš„ `agents.defaults.model`ã€‚\n    - å­—ç¬¦ä¸²å½¢å¼ï¼š`\"provider/model\"`ï¼Œä»…è¦†ç›– `agents.defaults.model.primary`\n    - å¯¹è±¡å½¢å¼ï¼š`{ primary, fallbacks }`ï¼ˆfallbacks è¦†ç›– `agents.defaults.model.fallbacks`ï¼›`[]` ä¸ºè¯¥æ™ºèƒ½ä½“ç¦ç”¨å…¨å±€å›é€€ï¼‰\n  - `identity`ï¼šæ¯æ™ºèƒ½ä½“çš„åç§°/ä¸»é¢˜/è¡¨æƒ…ï¼ˆç”¨äºæåŠæ¨¡å¼ + ç¡®è®¤ååº”ï¼‰ã€‚\n  - `groupChat`ï¼šæ¯æ™ºèƒ½ä½“çš„æåŠé—¨æ§ï¼ˆ`mentionPatterns`ï¼‰ã€‚\n  - `sandbox`ï¼šæ¯æ™ºèƒ½ä½“çš„æ²™ç®±é…ç½®ï¼ˆè¦†ç›– `agents.defaults.sandbox`ï¼‰ã€‚\n    - `mode`ï¼š`\"off\"` | `\"non-main\"` | `\"all\"`\n    - `workspaceAccess`ï¼š`\"none\"` | `\"ro\"` | `\"rw\"`\n    - `scope`ï¼š`\"session\"` | `\"agent\"` | `\"shared\"`\n    - `workspaceRoot`ï¼šè‡ªå®šä¹‰æ²™ç®±å·¥ä½œåŒºæ ¹ç›®å½•\n    - `docker`ï¼šæ¯æ™ºèƒ½ä½“ docker è¦†ç›–ï¼ˆä¾‹å¦‚ `image`ã€`network`ã€`env`ã€`setupCommand`ã€é™åˆ¶ï¼›`scope: \"shared\"` æ—¶å¿½ç•¥ï¼‰\n    - `browser`ï¼šæ¯æ™ºèƒ½ä½“æ²™ç®±æµè§ˆå™¨è¦†ç›–ï¼ˆ`scope: \"shared\"` æ—¶å¿½ç•¥ï¼‰\n    - `prune`ï¼šæ¯æ™ºèƒ½ä½“æ²™ç®±æ¸…ç†è¦†ç›–ï¼ˆ`scope: \"shared\"` æ—¶å¿½ç•¥ï¼‰\n  - `subagents`ï¼šæ¯æ™ºèƒ½ä½“å­æ™ºèƒ½ä½“é»˜è®¤å€¼ã€‚\n    - `allowAgents`ï¼šå…è®¸ä»æ­¤æ™ºèƒ½ä½“æ‰§è¡Œ `sessions_spawn` çš„æ™ºèƒ½ä½“ id ç™½åå•ï¼ˆ`[\"*\"]` = å…è®¸ä»»ä½•ï¼›é»˜è®¤ï¼šä»…åŒä¸€æ™ºèƒ½ä½“ï¼‰\n  - `tools`ï¼šæ¯æ™ºèƒ½ä½“å·¥å…·é™åˆ¶ï¼ˆåœ¨æ²™ç®±å·¥å…·ç­–ç•¥ä¹‹å‰åº”ç”¨ï¼‰ã€‚\n    - `profile`ï¼šåŸºç¡€å·¥å…·é…ç½®æ–‡ä»¶ï¼ˆåœ¨ allow/deny ä¹‹å‰åº”ç”¨ï¼‰\n    - `allow`ï¼šå…è®¸çš„å·¥å…·åç§°æ•°ç»„\n    - `deny`ï¼šæ‹’ç»çš„å·¥å…·åç§°æ•°ç»„ï¼ˆdeny ä¼˜å…ˆï¼‰\n- `agents.defaults`ï¼šå…±äº«çš„æ™ºèƒ½ä½“é»˜è®¤å€¼ï¼ˆæ¨¡å‹ã€å·¥ä½œåŒºã€æ²™ç®±ç­‰ï¼‰ã€‚\n- `bindings[]`ï¼šå°†å…¥ç«™æ¶ˆæ¯è·¯ç”±åˆ° `agentId`ã€‚\n  - `match.channel`ï¼ˆå¿…éœ€ï¼‰\n  - `match.accountId`ï¼ˆå¯é€‰ï¼›`*` = ä»»ä½•è´¦å·ï¼›çœç•¥ = é»˜è®¤è´¦å·ï¼‰\n  - `match.peer`ï¼ˆå¯é€‰ï¼›`{ kind: dm|group|channel, id }`ï¼‰\n  - `match.guildId` / `match.teamId`ï¼ˆå¯é€‰ï¼›æ¸ é“ç‰¹å®šï¼‰",
    "ç¡®å®šæ€§åŒ¹é…é¡ºåºï¼š\n\n1. `match.peer`\n2. `match.guildId`\n3. `match.teamId`\n4. `match.accountId`ï¼ˆç²¾ç¡®åŒ¹é…ï¼Œæ—  peer/guild/teamï¼‰\n5. `match.accountId: \"*\"`ï¼ˆæ¸ é“èŒƒå›´ï¼Œæ—  peer/guild/teamï¼‰\n6. é»˜è®¤æ™ºèƒ½ä½“ï¼ˆ`agents.list[].default`ï¼Œå¦åˆ™ç¬¬ä¸€ä¸ªåˆ—è¡¨æ¡ç›®ï¼Œå¦åˆ™ `\"main\"`ï¼‰\n\nåœ¨æ¯ä¸ªåŒ¹é…å±‚çº§å†…ï¼Œ`bindings` ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…æ¡ç›®è·èƒœã€‚\n\n#### æ¯æ™ºèƒ½ä½“è®¿é—®é…ç½®ï¼ˆå¤šæ™ºèƒ½ä½“ï¼‰\n\næ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥æºå¸¦è‡ªå·±çš„æ²™ç®± + å·¥å…·ç­–ç•¥ã€‚ç”¨äºåœ¨ä¸€ä¸ª Gateway ç½‘å…³ä¸­æ··åˆè®¿é—®çº§åˆ«ï¼š\n\n- **å®Œå…¨è®¿é—®**ï¼ˆä¸ªäººæ™ºèƒ½ä½“ï¼‰\n- **åªè¯»**å·¥å…· + å·¥ä½œåŒº\n- **æ— æ–‡ä»¶ç³»ç»Ÿè®¿é—®**ï¼ˆä»…æ¶ˆæ¯/ä¼šè¯å·¥å…·ï¼‰\n\nå‚è§[å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools)äº†è§£ä¼˜å…ˆçº§å’Œæ›´å¤šç¤ºä¾‹ã€‚\n\nå®Œå…¨è®¿é—®ï¼ˆæ— æ²™ç®±ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"personal\",\n        workspace: \"~/.openclaw/workspace-personal\",\n        sandbox: { mode: \"off\" },\n      },\n    ],\n  },\n}\n```\n\nåªè¯»å·¥å…· + åªè¯»å·¥ä½œåŒºï¼š",
    "```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"family\",\n        workspace: \"~/.openclaw/workspace-family\",\n        sandbox: {\n          mode: \"all\",\n          scope: \"agent\",\n          workspaceAccess: \"ro\",\n        },\n        tools: {\n          allow: [\n            \"read\",\n            \"sessions_list\",\n            \"sessions_history\",\n            \"sessions_send\",\n            \"sessions_spawn\",\n            \"session_status\",\n          ],\n          deny: [\"write\", \"edit\", \"apply_patch\", \"exec\", \"process\", \"browser\"],\n        },\n      },\n    ],\n  },\n}\n```\n\næ— æ–‡ä»¶ç³»ç»Ÿè®¿é—®ï¼ˆå¯ç”¨æ¶ˆæ¯/ä¼šè¯å·¥å…·ï¼‰ï¼š",
    "```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"public\",\n        workspace: \"~/.openclaw/workspace-public\",\n        sandbox: {\n          mode: \"all\",\n          scope: \"agent\",\n          workspaceAccess: \"none\",\n        },\n        tools: {\n          allow: [\n            \"sessions_list\",\n            \"sessions_history\",\n            \"sessions_send\",\n            \"sessions_spawn\",\n            \"session_status\",\n            \"whatsapp\",\n            \"telegram\",\n            \"slack\",\n            \"discord\",\n            \"gateway\",\n          ],\n          deny: [\n            \"read\",\n            \"write\",\n            \"edit\",\n            \"apply_patch\",\n            \"exec\",\n            \"process\",\n            \"browser\",\n            \"canvas\",\n            \"nodes\",\n            \"cron\",\n            \"gateway\",\n            \"image\",\n          ],\n        },\n      },\n    ],\n  },\n}\n```\n\nç¤ºä¾‹ï¼šä¸¤ä¸ª WhatsApp è´¦å· â†’ ä¸¤ä¸ªæ™ºèƒ½ä½“ï¼š",
    "```json5\n{\n  agents: {\n    list: [\n      { id: \"home\", default: true, workspace: \"~/.openclaw/workspace-home\" },\n      { id: \"work\", workspace: \"~/.openclaw/workspace-work\" },\n    ],\n  },\n  bindings: [\n    { agentId: \"home\", match: { channel: \"whatsapp\", accountId: \"personal\" } },\n    { agentId: \"work\", match: { channel: \"whatsapp\", accountId: \"biz\" } },\n  ],\n  channels: {\n    whatsapp: {\n      accounts: {\n        personal: {},\n        biz: {},\n      },\n    },\n  },\n}\n```\n\n### `tools.agentToAgent`ï¼ˆå¯é€‰ï¼‰\n\næ™ºèƒ½ä½“é—´æ¶ˆæ¯ä¼ é€’ä¸ºå¯é€‰åŠŸèƒ½ï¼š\n\n```json5\n{\n  tools: {\n    agentToAgent: {\n      enabled: false,\n      allow: [\"home\", \"work\"],\n    },\n  },\n}\n```\n\n### `messages.queue`\n\næ§åˆ¶æ™ºèƒ½ä½“è¿è¡Œå·²åœ¨æ‰§è¡Œæ—¶å…¥ç«™æ¶ˆæ¯çš„è¡Œä¸ºã€‚",
    "```json5\n{\n  messages: {\n    queue: {\n      mode: \"collect\", // steer | followup | collect | steer-backlog (steer+backlog ok) | interrupt (queue=steer legacy)\n      debounceMs: 1000,\n      cap: 20,\n      drop: \"summarize\", // old | new | summarize\n      byChannel: {\n        whatsapp: \"collect\",\n        telegram: \"collect\",\n        discord: \"collect\",\n        imessage: \"collect\",\n        webchat: \"collect\",\n      },\n    },\n  },\n}\n```\n\n### `messages.inbound`\n\né˜²æŠ–**åŒä¸€å‘é€è€…**çš„å¿«é€Ÿå…¥ç«™æ¶ˆæ¯ï¼Œä½¿å¤šæ¡è¿ç»­æ¶ˆæ¯åˆå¹¶ä¸ºä¸€ä¸ªæ™ºèƒ½ä½“è½®æ¬¡ã€‚é˜²æŠ–æŒ‰æ¸ é“ + å¯¹è¯è¿›è¡ŒèŒƒå›´é™å®šï¼Œå¹¶ä½¿ç”¨æœ€æ–°æ¶ˆæ¯è¿›è¡Œå›å¤çº¿ç¨‹/IDã€‚\n\n```json5\n{\n  messages: {\n    inbound: {\n      debounceMs: 2000, // 0 ç¦ç”¨\n      byChannel: {\n        whatsapp: 5000,\n        slack: 1500,\n        discord: 1500,\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- é˜²æŠ–ä»…æ‰¹é‡å¤„ç†**çº¯æ–‡æœ¬**æ¶ˆæ¯ï¼›åª’ä½“/é™„ä»¶ç«‹å³åˆ·æ–°ã€‚\n- æ§åˆ¶å‘½ä»¤ï¼ˆä¾‹å¦‚ `/queue`ã€`/new`ï¼‰ç»•è¿‡é˜²æŠ–ï¼Œä¿æŒç‹¬ç«‹ã€‚\n\n### `commands`ï¼ˆèŠå¤©å‘½ä»¤å¤„ç†ï¼‰\n\næ§åˆ¶è·¨è¿æ¥å™¨çš„èŠå¤©å‘½ä»¤å¯ç”¨æ–¹å¼ã€‚",
    "```json5\n{\n  commands: {\n    native: \"auto\", // åœ¨æ”¯æŒçš„å¹³å°ä¸Šæ³¨å†ŒåŸç”Ÿå‘½ä»¤ï¼ˆautoï¼‰\n    text: true, // è§£æèŠå¤©æ¶ˆæ¯ä¸­çš„æ–œæ å‘½ä»¤\n    bash: false, // å…è®¸ !ï¼ˆåˆ«åï¼š/bashï¼‰ï¼ˆä»…é™ä¸»æœºï¼›éœ€è¦ tools.elevated ç™½åå•ï¼‰\n    bashForegroundMs: 2000, // bash å‰å°çª—å£ï¼ˆ0 ç«‹å³åå°è¿è¡Œï¼‰\n    config: false, // å…è®¸ /configï¼ˆå†™å…¥ç£ç›˜ï¼‰\n    debug: false, // å…è®¸ /debugï¼ˆä»…è¿è¡Œæ—¶è¦†ç›–ï¼‰\n    restart: false, // å…è®¸ /restart + gateway é‡å¯å·¥å…·\n    useAccessGroups: true, // å¯¹å‘½ä»¤æ‰§è¡Œè®¿é—®ç»„ç™½åå•/ç­–ç•¥\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- æ–‡æœ¬å‘½ä»¤å¿…é¡»ä½œä¸º**ç‹¬ç«‹**æ¶ˆæ¯å‘é€ï¼Œå¹¶ä½¿ç”¨å‰å¯¼ `/`ï¼ˆæ— çº¯æ–‡æœ¬åˆ«åï¼‰ã€‚\n- `commands.text: false` ç¦ç”¨è§£æèŠå¤©æ¶ˆæ¯ä¸­çš„å‘½ä»¤ã€‚\n- `commands.native: \"auto\"`ï¼ˆé»˜è®¤ï¼‰ä¸º Discord/Telegram å¯ç”¨åŸç”Ÿå‘½ä»¤ï¼ŒSlack ä¿æŒå…³é—­ï¼›ä¸æ”¯æŒçš„æ¸ é“ä¿æŒçº¯æ–‡æœ¬ã€‚\n- è®¾ä¸º `commands.native: true|false` å¼ºåˆ¶å…¨éƒ¨å¼€å¯æˆ–å…³é—­ï¼Œæˆ–æŒ‰æ¸ é“è¦†ç›– `channels.discord.commands.native`ã€`channels.telegram.commands.native`ã€`channels.slack.commands.native`ï¼ˆbool æˆ– `\"auto\"`ï¼‰ã€‚`false` åœ¨å¯åŠ¨æ—¶æ¸…é™¤ Discord/Telegram ä¸Šå…ˆå‰æ³¨å†Œçš„å‘½ä»¤ï¼›Slack å‘½ä»¤åœ¨ Slack åº”ç”¨ä¸­ç®¡ç†ã€‚\n- `channels.telegram.customCommands` æ·»åŠ é¢å¤–çš„ Telegram æœºå™¨äººèœå•é¡¹ã€‚åç§°ä¼šè¢«è§„èŒƒåŒ–ï¼›ä¸åŸç”Ÿå‘½ä»¤å†²çªçš„ä¼šè¢«å¿½ç•¥ã€‚\n- `commands.bash: true` å¯ç”¨ `! <cmd>` è¿è¡Œä¸»æœº shell å‘½ä»¤ï¼ˆ`/bash <cmd>` ä¹Ÿå¯ä½œä¸ºåˆ«åï¼‰ã€‚éœ€è¦ `tools.elevated.enabled` å¹¶åœ¨ `tools.elevated.allowFrom.<channel>` ä¸­æ·»åŠ å‘é€è€…ç™½åå•ã€‚\n- `commands.bashForegroundMs` æ§åˆ¶ bash åœ¨åå°è¿è¡Œå‰ç­‰å¾…çš„æ—¶é—´ã€‚å½“ bash ä»»åŠ¡æ­£åœ¨è¿è¡Œæ—¶ï¼Œæ–°çš„ `! <cmd>` è¯·æ±‚ä¼šè¢«æ‹’ç»ï¼ˆä¸€æ¬¡ä¸€ä¸ªï¼‰ã€‚\n- `commands.config: true` å¯ç”¨ `/config`ï¼ˆè¯»å†™ `openclaw.json`ï¼‰ã€‚\n- `channels.<provider>.configWrites` æ§åˆ¶ç”±è¯¥æ¸ é“å‘èµ·çš„é…ç½®å˜æ›´ï¼ˆé»˜è®¤ï¼štrueï¼‰ã€‚é€‚ç”¨äº `/config set|unset` ä»¥åŠæä¾›å•†ç‰¹å®šçš„è‡ªåŠ¨è¿ç§»ï¼ˆTelegram è¶…çº§ç¾¤ç»„ ID å˜æ›´ã€Slack é¢‘é“ ID å˜æ›´ï¼‰ã€‚\n- `commands.debug: true` å¯ç”¨ `/debug`ï¼ˆä»…è¿è¡Œæ—¶è¦†ç›–ï¼‰ã€‚\n- `commands.restart: true` å¯ç”¨ `/restart` å’Œ gateway å·¥å…·é‡å¯åŠ¨ä½œã€‚\n- `commands.useAccessGroups: false` å…è®¸å‘½ä»¤ç»•è¿‡è®¿é—®ç»„ç™½åå•/ç­–ç•¥ã€‚\n- æ–œæ å‘½ä»¤å’ŒæŒ‡ä»¤ä»…å¯¹**å·²æˆæƒå‘é€è€…**æœ‰æ•ˆã€‚æˆæƒæ¥è‡ªæ¸ é“ç™½åå•/é…å¯¹ä»¥åŠ `commands.useAccessGroups`ã€‚",
    "### `web`ï¼ˆWhatsApp Web æ¸ é“è¿è¡Œæ—¶ï¼‰\n\nWhatsApp é€šè¿‡ Gateway ç½‘å…³çš„ Web æ¸ é“ï¼ˆBaileys Webï¼‰è¿è¡Œã€‚å½“å­˜åœ¨å·²é“¾æ¥çš„ä¼šè¯æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚\nè®¾ç½® `web.enabled: false` ä½¿å…¶é»˜è®¤å…³é—­ã€‚\n\n```json5\n{\n  web: {\n    enabled: true,\n    heartbeatSeconds: 60,\n    reconnect: {\n      initialMs: 2000,\n      maxMs: 120000,\n      factor: 1.4,\n      jitter: 0.2,\n      maxAttempts: 0,\n    },\n  },\n}\n```\n\n### `channels.telegram`ï¼ˆæœºå™¨äººä¼ è¾“ï¼‰\n\nOpenClaw ä»…åœ¨å­˜åœ¨ `channels.telegram` é…ç½®æ®µæ—¶å¯åŠ¨ Telegramã€‚æœºå™¨äºº token ä» `channels.telegram.botToken`ï¼ˆæˆ– `channels.telegram.tokenFile`ï¼‰è§£æï¼Œ`TELEGRAM_BOT_TOKEN` ä½œä¸ºé»˜è®¤è´¦å·çš„å›é€€ã€‚\nè®¾ç½® `channels.telegram.enabled: false` ç¦ç”¨è‡ªåŠ¨å¯åŠ¨ã€‚\nå¤šè´¦å·æ”¯æŒåœ¨ `channels.telegram.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚ç¯å¢ƒå˜é‡ token ä»…é€‚ç”¨äºé»˜è®¤è´¦å·ã€‚\nè®¾ç½® `channels.telegram.configWrites: false` é˜»æ­¢ Telegram å‘èµ·çš„é…ç½®å†™å…¥ï¼ˆåŒ…æ‹¬è¶…çº§ç¾¤ç»„ ID è¿ç§»å’Œ `/config set|unset`ï¼‰ã€‚",
    "```json5\n{\n  channels: {\n    telegram: {\n      enabled: true,\n      botToken: \"your-bot-token\",\n      dmPolicy: \"pairing\", // pairing | allowlist | open | disabled\n      allowFrom: [\"tg:123456789\"], // å¯é€‰ï¼›\"open\" éœ€è¦ [\"*\"]\n      groups: {\n        \"*\": { requireMention: true },\n        \"-1001234567890\": {\n          allowFrom: [\"@admin\"],\n          systemPrompt: \"Keep answers brief.\",\n          topics: {\n            \"99\": {\n              requireMention: false,\n              skills: [\"search\"],\n              systemPrompt: \"Stay on topic.\",\n            },\n          },\n        },\n      },\n      customCommands: [\n        { command: \"backup\", description: \"Git backup\" },\n        { command: \"generate\", description: \"Create an image\" },\n      ],\n      historyLimit: 50, // åŒ…å«æœ€è¿‘ N æ¡ç¾¤æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆ0 ç¦ç”¨ï¼‰\n      replyToMode: \"first\", // off | first | all\n      linkPreview: true, // åˆ‡æ¢å‡ºç«™é“¾æ¥é¢„è§ˆ\n      streamMode: \"partial\", // off | partial | blockï¼ˆè‰ç¨¿æµå¼ä¼ è¾“ï¼›ä¸åˆ†å—æµå¼ä¼ è¾“åˆ†å¼€ï¼‰\n      draftChunk: {\n        // å¯é€‰ï¼›ä»…ç”¨äº streamMode=block\n        minChars: 200,\n        maxChars: 800,\n        breakPreference: \"paragraph\", // paragraph | newline | sentence\n      },\n      actions: { reactions: true, sendMessage: true }, // å·¥å…·åŠ¨ä½œå¼€å…³ï¼ˆfalse ç¦ç”¨ï¼‰\n      reactionNotifications: \"own\", // off | own | all\n      mediaMaxMb: 5,\n      retry: {\n        // å‡ºç«™é‡è¯•ç­–ç•¥\n        attempts: 3,\n        minDelayMs: 400,\n        maxDelayMs: 30000,\n        jitter: 0.1,\n      },\n      network: {\n        // ä¼ è¾“è¦†ç›–\n        autoSelectFamily: false,\n      },\n      proxy: \"socks5://localhost:9050\",\n      webhookUrl: \"https://example.com/telegram-webhook\", // éœ€è¦ webhookSecret\n      webhookSecret: \"secret\",\n      webhookPath: \"/telegram-webhook\",\n    },\n  },\n}\n```",
    "è‰ç¨¿æµå¼ä¼ è¾“è¯´æ˜ï¼š\n\n- ä½¿ç”¨ Telegram `sendMessageDraft`ï¼ˆè‰ç¨¿æ°”æ³¡ï¼Œä¸æ˜¯çœŸæ­£çš„æ¶ˆæ¯ï¼‰ã€‚\n- éœ€è¦**ç§èŠè¯é¢˜**ï¼ˆç§ä¿¡ ä¸­çš„ message_thread_idï¼›æœºå™¨äººå·²å¯ç”¨è¯é¢˜ï¼‰ã€‚\n- `/reasoning stream` å°†æ¨ç†è¿‡ç¨‹æµå¼ä¼ è¾“åˆ°è‰ç¨¿ä¸­ï¼Œç„¶åå‘é€æœ€ç»ˆç­”æ¡ˆã€‚\n  é‡è¯•ç­–ç•¥é»˜è®¤å€¼å’Œè¡Œä¸ºè®°å½•åœ¨[é‡è¯•ç­–ç•¥](/concepts/retry)ä¸­ã€‚\n\n### `channels.discord`ï¼ˆæœºå™¨äººä¼ è¾“ï¼‰\n\né€šè¿‡è®¾ç½®æœºå™¨äºº token å’Œå¯é€‰çš„é—¨æ§é…ç½® Discord æœºå™¨äººï¼š\nå¤šè´¦å·æ”¯æŒåœ¨ `channels.discord.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚ç¯å¢ƒå˜é‡ token ä»…é€‚ç”¨äºé»˜è®¤è´¦å·ã€‚",
    "```json5\n{\n  channels: {\n    discord: {\n      enabled: true,\n      token: \"your-bot-token\",\n      mediaMaxMb: 8, // é™åˆ¶å…¥ç«™åª’ä½“å¤§å°\n      allowBots: false, // å…è®¸æœºå™¨äººå‘é€çš„æ¶ˆæ¯\n      actions: {\n        // å·¥å…·åŠ¨ä½œå¼€å…³ï¼ˆfalse ç¦ç”¨ï¼‰\n        reactions: true,\n        stickers: true,\n        polls: true,\n        permissions: true,\n        messages: true,\n        threads: true,\n        pins: true,\n        search: true,\n        memberInfo: true,\n        roleInfo: true,\n        roles: false,\n        channelInfo: true,\n        voiceStatus: true,\n        events: true,\n        moderation: false,\n      },\n      replyToMode: \"off\", // off | first | all\n      dm: {\n        enabled: true, // è®¾ä¸º false æ—¶ç¦ç”¨æ‰€æœ‰ç§èŠ\n        policy: \"pairing\", // pairing | allowlist | open | disabled\n        allowFrom: [\"1234567890\", \"steipete\"], // å¯é€‰ç§èŠç™½åå•ï¼ˆ\"open\" éœ€è¦ [\"*\"]ï¼‰\n        groupEnabled: false, // å¯ç”¨ç¾¤ç»„ç§èŠ\n        groupChannels: [\"openclaw-dm\"], // å¯é€‰ç¾¤ç»„ç§èŠç™½åå•\n      },\n      guilds: {\n        \"123456789012345678\": {\n          // æœåŠ¡å™¨ idï¼ˆæ¨èï¼‰æˆ– slug\n          slug: \"friends-of-openclaw\",\n          requireMention: false, // æ¯æœåŠ¡å™¨é»˜è®¤å€¼\n          reactionNotifications: \"own\", // off | own | all | allowlist\n          users: [\"987654321098765432\"], // å¯é€‰çš„æ¯æœåŠ¡å™¨ç”¨æˆ·ç™½åå•\n          channels: {\n            general: { allow: true },\n            help: {\n              allow: true,\n              requireMention: true,\n              users: [\"987654321098765432\"],\n              skills: [\"docs\"],\n              systemPrompt: \"Short answers only.\",\n            },\n          },\n        },\n      },\n      historyLimit: 20, // åŒ…å«æœ€è¿‘ N æ¡æœåŠ¡å™¨æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡\n      textChunkLimit: 2000, // å¯é€‰å‡ºç«™æ–‡æœ¬åˆ†å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰\n      chunkMode: \"length\", // å¯é€‰åˆ†å—æ¨¡å¼ï¼ˆlength | newlineï¼‰\n      maxLinesPerMessage: 17, // æ¯æ¡æ¶ˆæ¯çš„è½¯æœ€å¤§è¡Œæ•°ï¼ˆDiscord UI è£å‰ªï¼‰\n      retry: {\n        // å‡ºç«™é‡è¯•ç­–ç•¥\n        attempts: 3,\n        minDelayMs: 500,\n        maxDelayMs: 30000,\n        jitter: 0.1,\n      },\n    },\n  },\n}\n```",
    "OpenClaw ä»…åœ¨å­˜åœ¨ `channels.discord` é…ç½®æ®µæ—¶å¯åŠ¨ Discordã€‚token ä» `channels.discord.token` è§£æï¼Œ`DISCORD_BOT_TOKEN` ä½œä¸ºé»˜è®¤è´¦å·çš„å›é€€ï¼ˆé™¤é `channels.discord.enabled` ä¸º `false`ï¼‰ã€‚åœ¨ä¸º cron/CLI å‘½ä»¤æŒ‡å®šæŠ•é€’ç›®æ ‡æ—¶ï¼Œä½¿ç”¨ `user:<id>`ï¼ˆç§èŠï¼‰æˆ– `channel:<id>`ï¼ˆæœåŠ¡å™¨é¢‘é“ï¼‰ï¼›è£¸æ•°å­— ID æœ‰æ­§ä¹‰ä¼šè¢«æ‹’ç»ã€‚\næœåŠ¡å™¨ slug ä¸ºå°å†™ï¼Œç©ºæ ¼æ›¿æ¢ä¸º `-`ï¼›é¢‘é“é”®ä½¿ç”¨ slug åŒ–çš„é¢‘é“åç§°ï¼ˆæ— å‰å¯¼ `#`ï¼‰ã€‚å»ºè®®ä½¿ç”¨æœåŠ¡å™¨ id ä½œä¸ºé”®ä»¥é¿å…é‡å‘½åæ­§ä¹‰ã€‚\næœºå™¨äººå‘é€çš„æ¶ˆæ¯é»˜è®¤è¢«å¿½ç•¥ã€‚é€šè¿‡ `channels.discord.allowBots` å¯ç”¨ï¼ˆè‡ªèº«æ¶ˆæ¯ä»ä¼šè¢«è¿‡æ»¤ä»¥é˜²æ­¢è‡ªå›å¤å¾ªç¯ï¼‰ã€‚\nååº”é€šçŸ¥æ¨¡å¼ï¼š\n\n- `off`ï¼šæ— ååº”äº‹ä»¶ã€‚\n- `own`ï¼šæœºå™¨äººè‡ªèº«æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆé»˜è®¤ï¼‰ã€‚\n- `all`ï¼šæ‰€æœ‰æ¶ˆæ¯ä¸Šçš„æ‰€æœ‰ååº”ã€‚\n- `allowlist`ï¼š`guilds.<id>.users` ä¸­çš„ç”¨æˆ·åœ¨æ‰€æœ‰æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆç©ºåˆ—è¡¨ç¦ç”¨ï¼‰ã€‚\n  å‡ºç«™æ–‡æœ¬æŒ‰ `channels.discord.textChunkLimit`ï¼ˆé»˜è®¤ 2000ï¼‰åˆ†å—ã€‚è®¾ç½® `channels.discord.chunkMode=\"newline\"` åœ¨é•¿åº¦åˆ†å—å‰æŒ‰ç©ºè¡Œï¼ˆæ®µè½è¾¹ç•Œï¼‰åˆ†å‰²ã€‚Discord å®¢æˆ·ç«¯å¯èƒ½è£å‰ªè¿‡é«˜çš„æ¶ˆæ¯ï¼Œå› æ­¤ `channels.discord.maxLinesPerMessage`ï¼ˆé»˜è®¤ 17ï¼‰å³ä½¿åœ¨ 2000 å­—ç¬¦ä»¥å†…ä¹Ÿä¼šåˆ†å‰²é•¿å¤šè¡Œå›å¤ã€‚\n  é‡è¯•ç­–ç•¥é»˜è®¤å€¼å’Œè¡Œä¸ºè®°å½•åœ¨[é‡è¯•ç­–ç•¥](/concepts/retry)ä¸­ã€‚\n\n### `channels.googlechat`ï¼ˆChat API webhookï¼‰\n\nGoogle Chat é€šè¿‡ HTTP webhook è¿è¡Œï¼Œä½¿ç”¨åº”ç”¨çº§è®¤è¯ï¼ˆæœåŠ¡è´¦å·ï¼‰ã€‚\nå¤šè´¦å·æ”¯æŒåœ¨ `channels.googlechat.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚ç¯å¢ƒå˜é‡ä»…é€‚ç”¨äºé»˜è®¤è´¦å·ã€‚",
    "```json5\n{\n  channels: {\n    googlechat: {\n      enabled: true,\n      serviceAccountFile: \"/path/to/service-account.json\",\n      audienceType: \"app-url\", // app-url | project-number\n      audience: \"https://gateway.example.com/googlechat\",\n      webhookPath: \"/googlechat\",\n      botUser: \"users/1234567890\", // å¯é€‰ï¼›æ”¹å–„æåŠæ£€æµ‹\n      dm: {\n        enabled: true,\n        policy: \"pairing\", // pairing | allowlist | open | disabled\n        allowFrom: [\"users/1234567890\"], // å¯é€‰ï¼›\"open\" éœ€è¦ [\"*\"]\n      },\n      groupPolicy: \"allowlist\",\n      groups: {\n        \"spaces/AAAA\": { allow: true, requireMention: true },\n      },\n      actions: { reactions: true },\n      typingIndicator: \"message\",\n      mediaMaxMb: 20,\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- æœåŠ¡è´¦å· JSON å¯ä»¥å†…è”ï¼ˆ`serviceAccount`ï¼‰æˆ–åŸºäºæ–‡ä»¶ï¼ˆ`serviceAccountFile`ï¼‰ã€‚\n- é»˜è®¤è´¦å·çš„ç¯å¢ƒå˜é‡å›é€€ï¼š`GOOGLE_CHAT_SERVICE_ACCOUNT` æˆ– `GOOGLE_CHAT_SERVICE_ACCOUNT_FILE`ã€‚\n- `audienceType` + `audience` å¿…é¡»ä¸ Chat åº”ç”¨çš„ webhook è®¤è¯é…ç½®åŒ¹é…ã€‚\n- è®¾ç½®æŠ•é€’ç›®æ ‡æ—¶ä½¿ç”¨ `spaces/<spaceId>` æˆ– `users/<userId|email>`ã€‚",
    "### `channels.slack`ï¼ˆsocket æ¨¡å¼ï¼‰\n\nSlack ä»¥ Socket Mode è¿è¡Œï¼Œéœ€è¦æœºå™¨äºº token å’Œåº”ç”¨ tokenï¼š",
    "```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      botToken: \"xoxb-...\",\n      appToken: \"xapp-...\",\n      dm: {\n        enabled: true,\n        policy: \"pairing\", // pairing | allowlist | open | disabled\n        allowFrom: [\"U123\", \"U456\", \"*\"], // å¯é€‰ï¼›\"open\" éœ€è¦ [\"*\"]\n        groupEnabled: false,\n        groupChannels: [\"G123\"],\n      },\n      channels: {\n        C123: { allow: true, requireMention: true, allowBots: false },\n        \"#general\": {\n          allow: true,\n          requireMention: true,\n          allowBots: false,\n          users: [\"U123\"],\n          skills: [\"docs\"],\n          systemPrompt: \"Short answers only.\",\n        },\n      },\n      historyLimit: 50, // åŒ…å«æœ€è¿‘ N æ¡é¢‘é“/ç¾¤ç»„æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆ0 ç¦ç”¨ï¼‰\n      allowBots: false,\n      reactionNotifications: \"own\", // off | own | all | allowlist\n      reactionAllowlist: [\"U123\"],\n      replyToMode: \"off\", // off | first | all\n      thread: {\n        historyScope: \"thread\", // thread | channel\n        inheritParent: false,\n      },\n      actions: {\n        reactions: true,\n        messages: true,\n        pins: true,\n        memberInfo: true,\n        emojiList: true,\n      },\n      slashCommand: {\n        enabled: true,\n        name: \"openclaw\",\n        sessionPrefix: \"slack:slash\",\n        ephemeral: true,\n      },\n      textChunkLimit: 4000,\n      chunkMode: \"length\",\n      mediaMaxMb: 20,\n    },\n  },\n}\n```",
    "å¤šè´¦å·æ”¯æŒåœ¨ `channels.slack.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚ç¯å¢ƒå˜é‡ token ä»…é€‚ç”¨äºé»˜è®¤è´¦å·ã€‚\n\nOpenClaw åœ¨æä¾›å•†å¯ç”¨ä¸”ä¸¤ä¸ª token éƒ½å·²è®¾ç½®æ—¶å¯åŠ¨ Slackï¼ˆé€šè¿‡é…ç½®æˆ– `SLACK_BOT_TOKEN` + `SLACK_APP_TOKEN`ï¼‰ã€‚åœ¨ä¸º cron/CLI å‘½ä»¤æŒ‡å®šæŠ•é€’ç›®æ ‡æ—¶ä½¿ç”¨ `user:<id>`ï¼ˆç§èŠï¼‰æˆ– `channel:<id>`ã€‚\nè®¾ç½® `channels.slack.configWrites: false` é˜»æ­¢ Slack å‘èµ·çš„é…ç½®å†™å…¥ï¼ˆåŒ…æ‹¬é¢‘é“ ID è¿ç§»å’Œ `/config set|unset`ï¼‰ã€‚\n\næœºå™¨äººå‘é€çš„æ¶ˆæ¯é»˜è®¤è¢«å¿½ç•¥ã€‚é€šè¿‡ `channels.slack.allowBots` æˆ– `channels.slack.channels.<id>.allowBots` å¯ç”¨ã€‚\n\nååº”é€šçŸ¥æ¨¡å¼ï¼š\n\n- `off`ï¼šæ— ååº”äº‹ä»¶ã€‚\n- `own`ï¼šæœºå™¨äººè‡ªèº«æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆé»˜è®¤ï¼‰ã€‚\n- `all`ï¼šæ‰€æœ‰æ¶ˆæ¯ä¸Šçš„æ‰€æœ‰ååº”ã€‚\n- `allowlist`ï¼š`channels.slack.reactionAllowlist` ä¸­çš„ç”¨æˆ·åœ¨æ‰€æœ‰æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆç©ºåˆ—è¡¨ç¦ç”¨ï¼‰ã€‚\n\nçº¿ç¨‹ä¼šè¯éš”ç¦»ï¼š\n\n- `channels.slack.thread.historyScope` æ§åˆ¶çº¿ç¨‹å†å²æ˜¯æŒ‰çº¿ç¨‹ï¼ˆ`thread`ï¼Œé»˜è®¤ï¼‰è¿˜æ˜¯è·¨é¢‘é“å…±äº«ï¼ˆ`channel`ï¼‰ã€‚\n- `channels.slack.thread.inheritParent` æ§åˆ¶æ–°çº¿ç¨‹ä¼šè¯æ˜¯å¦ç»§æ‰¿çˆ¶é¢‘é“çš„è®°å½•ï¼ˆé»˜è®¤ï¼šfalseï¼‰ã€‚\n\nSlack åŠ¨ä½œç»„ï¼ˆæ§åˆ¶ `slack` å·¥å…·åŠ¨ä½œï¼‰ï¼š\n| åŠ¨ä½œç»„ | é»˜è®¤ | è¯´æ˜ |\n| --- | --- | --- |\n| reactions | å·²å¯ç”¨ | ååº” + åˆ—å‡ºååº” |\n| messages | å·²å¯ç”¨ | è¯»å–/å‘é€/ç¼–è¾‘/åˆ é™¤ |\n| pins | å·²å¯ç”¨ | å›ºå®š/å–æ¶ˆå›ºå®š/åˆ—å‡º |\n| memberInfo | å·²å¯ç”¨ | æˆå‘˜ä¿¡æ¯ |\n| emojiList | å·²å¯ç”¨ | è‡ªå®šä¹‰è¡¨æƒ…åˆ—è¡¨ |\n\n### `channels.mattermost`ï¼ˆæœºå™¨äºº tokenï¼‰",
    "Mattermost ä½œä¸ºæ’ä»¶æä¾›ï¼Œä¸åŒ…å«åœ¨æ ¸å¿ƒå®‰è£…ä¸­ã€‚\nè¯·å…ˆå®‰è£…ï¼š`openclaw plugins install @openclaw/mattermost`ï¼ˆæˆ–ä» git checkout ä½¿ç”¨ `./extensions/mattermost`ï¼‰ã€‚\n\nMattermost éœ€è¦æœºå™¨äºº token åŠ ä¸ŠæœåŠ¡å™¨çš„åŸºç¡€ URLï¼š\n\n```json5\n{\n  channels: {\n    mattermost: {\n      enabled: true,\n      botToken: \"mm-token\",\n      baseUrl: \"https://chat.example.com\",\n      dmPolicy: \"pairing\",\n      chatmode: \"oncall\", // oncall | onmessage | onchar\n      oncharPrefixes: [\">\", \"!\"],\n      textChunkLimit: 4000,\n      chunkMode: \"length\",\n    },\n  },\n}\n```\n\nOpenClaw åœ¨è´¦å·å·²é…ç½®ï¼ˆæœºå™¨äºº token + åŸºç¡€ URLï¼‰ä¸”å·²å¯ç”¨æ—¶å¯åŠ¨ Mattermostã€‚token + åŸºç¡€ URL ä» `channels.mattermost.botToken` + `channels.mattermost.baseUrl` æˆ–é»˜è®¤è´¦å·çš„ `MATTERMOST_BOT_TOKEN` + `MATTERMOST_URL` è§£æï¼ˆé™¤é `channels.mattermost.enabled` ä¸º `false`ï¼‰ã€‚\n\nèŠå¤©æ¨¡å¼ï¼š\n\n- `oncall`ï¼ˆé»˜è®¤ï¼‰ï¼šä»…åœ¨è¢« @æåŠæ—¶å“åº”é¢‘é“æ¶ˆæ¯ã€‚\n- `onmessage`ï¼šå“åº”æ¯æ¡é¢‘é“æ¶ˆæ¯ã€‚\n- `onchar`ï¼šå½“æ¶ˆæ¯ä»¥è§¦å‘å‰ç¼€å¼€å¤´æ—¶å“åº”ï¼ˆ`channels.mattermost.oncharPrefixes`ï¼Œé»˜è®¤ `[\">\", \"!\"]`ï¼‰ã€‚\n\nè®¿é—®æ§åˆ¶ï¼š",
    "- é»˜è®¤ç§èŠï¼š`channels.mattermost.dmPolicy=\"pairing\"`ï¼ˆæœªçŸ¥å‘é€è€…æ”¶åˆ°é…å¯¹ç ï¼‰ã€‚\n- å…¬å¼€ç§èŠï¼š`channels.mattermost.dmPolicy=\"open\"` åŠ ä¸Š `channels.mattermost.allowFrom=[\"*\"]`ã€‚\n- ç¾¤ç»„ï¼š`channels.mattermost.groupPolicy=\"allowlist\"` ä¸ºé»˜è®¤å€¼ï¼ˆæåŠé—¨æ§ï¼‰ã€‚ä½¿ç”¨ `channels.mattermost.groupAllowFrom` é™åˆ¶å‘é€è€…ã€‚\n\nå¤šè´¦å·æ”¯æŒåœ¨ `channels.mattermost.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚ç¯å¢ƒå˜é‡ä»…é€‚ç”¨äºé»˜è®¤è´¦å·ã€‚\næŒ‡å®šæŠ•é€’ç›®æ ‡æ—¶ä½¿ç”¨ `channel:<id>` æˆ– `user:<id>`ï¼ˆæˆ– `@username`ï¼‰ï¼›è£¸ id è¢«è§†ä¸ºé¢‘é“ idã€‚\n\n### `channels.signal`ï¼ˆsignal-cliï¼‰\n\nSignal ååº”å¯ä»¥å‘å‡ºç³»ç»Ÿäº‹ä»¶ï¼ˆå…±äº«ååº”å·¥å…·ï¼‰ï¼š\n\n```json5\n{\n  channels: {\n    signal: {\n      reactionNotifications: \"own\", // off | own | all | allowlist\n      reactionAllowlist: [\"+15551234567\", \"uuid:123e4567-e89b-12d3-a456-426614174000\"],\n      historyLimit: 50, // åŒ…å«æœ€è¿‘ N æ¡ç¾¤æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆ0 ç¦ç”¨ï¼‰\n    },\n  },\n}\n```\n\nååº”é€šçŸ¥æ¨¡å¼ï¼š\n\n- `off`ï¼šæ— ååº”äº‹ä»¶ã€‚\n- `own`ï¼šæœºå™¨äººè‡ªèº«æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆé»˜è®¤ï¼‰ã€‚\n- `all`ï¼šæ‰€æœ‰æ¶ˆæ¯ä¸Šçš„æ‰€æœ‰ååº”ã€‚\n- `allowlist`ï¼š`channels.signal.reactionAllowlist` ä¸­çš„ç”¨æˆ·åœ¨æ‰€æœ‰æ¶ˆæ¯ä¸Šçš„ååº”ï¼ˆç©ºåˆ—è¡¨ç¦ç”¨ï¼‰ã€‚\n\n### `channels.imessage`ï¼ˆimsg CLIï¼‰\n\nOpenClaw ä¼šç”Ÿæˆ `imsg rpc`ï¼ˆé€šè¿‡ stdio çš„ JSON-RPCï¼‰ã€‚æ— éœ€å®ˆæŠ¤è¿›ç¨‹æˆ–ç«¯å£ã€‚",
    "```json5\n{\n  channels: {\n    imessage: {\n      enabled: true,\n      cliPath: \"imsg\",\n      dbPath: \"~/Library/Messages/chat.db\",\n      remoteHost: \"user@gateway-host\", // ä½¿ç”¨ SSH åŒ…è£…å™¨æ—¶é€šè¿‡ SCP è·å–è¿œç¨‹é™„ä»¶\n      dmPolicy: \"pairing\", // pairing | allowlist | open | disabled\n      allowFrom: [\"+15555550123\", \"user@example.com\", \"chat_id:123\"],\n      historyLimit: 50, // åŒ…å«æœ€è¿‘ N æ¡ç¾¤æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆ0 ç¦ç”¨ï¼‰\n      includeAttachments: false,\n      mediaMaxMb: 16,\n      service: \"auto\",\n      region: \"US\",\n    },\n  },\n}\n```\n\nå¤šè´¦å·æ”¯æŒåœ¨ `channels.imessage.accounts` ä¸‹ï¼ˆå‚è§ä¸Šæ–¹å¤šè´¦å·éƒ¨åˆ†ï¼‰ã€‚\n\nè¯´æ˜ï¼š\n\n- éœ€è¦å¯¹æ¶ˆæ¯æ•°æ®åº“çš„å®Œå…¨ç£ç›˜è®¿é—®æƒé™ã€‚\n- é¦–æ¬¡å‘é€æ—¶ä¼šæç¤ºè¯·æ±‚æ¶ˆæ¯è‡ªåŠ¨åŒ–æƒé™ã€‚\n- å»ºè®®ä½¿ç”¨ `chat_id:<id>` ç›®æ ‡ã€‚ä½¿ç”¨ `imsg chats --limit 20` åˆ—å‡ºèŠå¤©ã€‚\n- `channels.imessage.cliPath` å¯ä»¥æŒ‡å‘åŒ…è£…è„šæœ¬ï¼ˆä¾‹å¦‚ `ssh` åˆ°å¦ä¸€å°è¿è¡Œ `imsg rpc` çš„ Macï¼‰ï¼›ä½¿ç”¨ SSH å¯†é’¥é¿å…å¯†ç æç¤ºã€‚\n- å¯¹äºè¿œç¨‹ SSH åŒ…è£…å™¨ï¼Œè®¾ç½® `channels.imessage.remoteHost` ä»¥ä¾¿åœ¨å¯ç”¨ `includeAttachments` æ—¶é€šè¿‡ SCP è·å–é™„ä»¶ã€‚\n\nç¤ºä¾‹åŒ…è£…å™¨ï¼š\n\n```bash\n#!/usr/bin/env bash\nexec ssh -T gateway-host imsg \"$@\"\n```\n\n### `agents.defaults.workspace`\n\nè®¾ç½®æ™ºèƒ½ä½“ç”¨äºæ–‡ä»¶æ“ä½œçš„**å•ä¸€å…¨å±€å·¥ä½œåŒºç›®å½•**ã€‚",
    "é»˜è®¤ï¼š`~/.openclaw/workspace`ã€‚\n\n```json5\n{\n  agents: { defaults: { workspace: \"~/.openclaw/workspace\" } },\n}\n```\n\nå¦‚æœå¯ç”¨äº† `agents.defaults.sandbox`ï¼Œéä¸»ä¼šè¯å¯ä»¥åœ¨ `agents.defaults.sandbox.workspaceRoot` ä¸‹ä½¿ç”¨å„è‡ªçš„æ¯èŒƒå›´å·¥ä½œåŒºæ¥è¦†ç›–æ­¤è®¾ç½®ã€‚\n\n### `agents.defaults.repoRoot`\n\nåœ¨ç³»ç»Ÿæç¤ºçš„ Runtime è¡Œä¸­æ˜¾ç¤ºçš„å¯é€‰ä»“åº“æ ¹ç›®å½•ã€‚å¦‚æœæœªè®¾ç½®ï¼ŒOpenClaw ä¼šä»å·¥ä½œåŒºï¼ˆå’Œå½“å‰å·¥ä½œç›®å½•ï¼‰å‘ä¸ŠæŸ¥æ‰¾ `.git` ç›®å½•è¿›è¡Œæ£€æµ‹ã€‚è·¯å¾„å¿…é¡»å­˜åœ¨æ‰èƒ½ä½¿ç”¨ã€‚\n\n```json5\n{\n  agents: { defaults: { repoRoot: \"~/Projects/openclaw\" } },\n}\n```\n\n### `agents.defaults.skipBootstrap`\n\nç¦ç”¨è‡ªåŠ¨åˆ›å»ºå·¥ä½œåŒºå¼•å¯¼æ–‡ä»¶ï¼ˆ`AGENTS.md`ã€`SOUL.md`ã€`TOOLS.md`ã€`IDENTITY.md`ã€`USER.md` å’Œ `BOOTSTRAP.md`ï¼‰ã€‚\n\né€‚ç”¨äºå·¥ä½œåŒºæ–‡ä»¶æ¥è‡ªä»“åº“çš„é¢„ç½®éƒ¨ç½²ã€‚\n\n```json5\n{\n  agents: { defaults: { skipBootstrap: true } },\n}\n```\n\n### `agents.defaults.bootstrapMaxChars`\n\næ³¨å…¥ç³»ç»Ÿæç¤ºå‰æ¯ä¸ªå·¥ä½œåŒºå¼•å¯¼æ–‡ä»¶æˆªæ–­å‰çš„æœ€å¤§å­—ç¬¦æ•°ã€‚é»˜è®¤ï¼š`20000`ã€‚\n\nå½“æ–‡ä»¶è¶…è¿‡æ­¤é™åˆ¶æ—¶ï¼ŒOpenClaw ä¼šè®°å½•è­¦å‘Šå¹¶æ³¨å…¥å¸¦æ ‡è®°çš„å¤´å°¾æˆªæ–­å†…å®¹ã€‚\n\n```json5\n{\n  agents: { defaults: { bootstrapMaxChars: 20000 } },\n}\n```\n\n### `agents.defaults.userTimezone`\n\nè®¾ç½®ç”¨æˆ·æ—¶åŒºç”¨äº**ç³»ç»Ÿæç¤ºä¸Šä¸‹æ–‡**ï¼ˆä¸ç”¨äºæ¶ˆæ¯ä¿¡å°ä¸­çš„æ—¶é—´æˆ³ï¼‰ã€‚å¦‚æœæœªè®¾ç½®ï¼ŒOpenClaw åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸»æœºæ—¶åŒºã€‚\n\n```json5\n{\n  agents: { defaults: { userTimezone: \"America/Chicago\" } },\n}\n```",
    "### `agents.defaults.timeFormat`\n\næ§åˆ¶ç³»ç»Ÿæç¤ºä¸­\"å½“å‰æ—¥æœŸå’Œæ—¶é—´\"éƒ¨åˆ†æ˜¾ç¤ºçš„**æ—¶é—´æ ¼å¼**ã€‚\né»˜è®¤ï¼š`auto`ï¼ˆæ“ä½œç³»ç»Ÿåå¥½ï¼‰ã€‚\n\n```json5\n{\n  agents: { defaults: { timeFormat: \"auto\" } }, // auto | 12 | 24\n}\n```\n\n### `messages`\n\næ§åˆ¶å…¥ç«™/å‡ºç«™å‰ç¼€å’Œå¯é€‰çš„ç¡®è®¤ååº”ã€‚\nå‚è§[æ¶ˆæ¯](/concepts/messages)äº†è§£æ’é˜Ÿã€ä¼šè¯å’Œæµå¼ä¸Šä¸‹æ–‡ã€‚\n\n```json5\n{\n  messages: {\n    responsePrefix: \"ğŸ¦\", // æˆ– \"auto\"\n    ackReaction: \"ğŸ‘€\",\n    ackReactionScope: \"group-mentions\",\n    removeAckAfterReply: false,\n  },\n}\n```\n\n`responsePrefix` åº”ç”¨äºè·¨æ¸ é“çš„**æ‰€æœ‰å‡ºç«™å›å¤**ï¼ˆå·¥å…·æ‘˜è¦ã€åˆ†å—æµå¼ä¼ è¾“ã€æœ€ç»ˆå›å¤ï¼‰ï¼Œé™¤éå·²å­˜åœ¨ã€‚\n\nå¦‚æœæœªè®¾ç½® `messages.responsePrefix`ï¼Œé»˜è®¤ä¸åº”ç”¨å‰ç¼€ã€‚WhatsApp è‡ªèŠå¤©å›å¤æ˜¯ä¾‹å¤–ï¼šå®ƒä»¬åœ¨è®¾ç½®æ—¶é»˜è®¤ä¸º `[{identity.name}]`ï¼Œå¦åˆ™ä¸º `[openclaw]`ï¼Œä»¥ä¿æŒåŒä¸€æ‰‹æœºä¸Šçš„å¯¹è¯å¯è¯»æ€§ã€‚\nè®¾ä¸º `\"auto\"` å¯ä¸ºè·¯ç”±çš„æ™ºèƒ½ä½“æ¨å¯¼ `[{identity.name}]`ï¼ˆå½“è®¾ç½®æ—¶ï¼‰ã€‚\n\n#### æ¨¡æ¿å˜é‡\n\n`responsePrefix` å­—ç¬¦ä¸²å¯ä»¥åŒ…å«åŠ¨æ€è§£æçš„æ¨¡æ¿å˜é‡ï¼š",
    "| å˜é‡              | æè¿°           | ç¤ºä¾‹                        |\n| ----------------- | -------------- | --------------------------- |\n| `{model}`         | çŸ­æ¨¡å‹åç§°     | `claude-opus-4-5`ã€`gpt-4o` |\n| `{modelFull}`     | å®Œæ•´æ¨¡å‹æ ‡è¯†ç¬¦ | `anthropic/claude-opus-4-5` |\n| `{provider}`      | æä¾›å•†åç§°     | `anthropic`ã€`openai`       |\n| `{thinkingLevel}` | å½“å‰æ€è€ƒçº§åˆ«   | `high`ã€`low`ã€`off`        |\n| `{identity.name}` | æ™ºèƒ½ä½“èº«ä»½åç§° | ï¼ˆä¸ `\"auto\"` æ¨¡å¼ç›¸åŒï¼‰    |\n\nå˜é‡ä¸åŒºåˆ†å¤§å°å†™ï¼ˆ`{MODEL}` = `{model}`ï¼‰ã€‚`{think}` æ˜¯ `{thinkingLevel}` çš„åˆ«åã€‚\næœªè§£æçš„å˜é‡ä¿æŒä¸ºå­—é¢æ–‡æœ¬ã€‚\n\n```json5\n{\n  messages: {\n    responsePrefix: \"[{model} | think:{thinkingLevel}]\",\n  },\n}\n```\n\nè¾“å‡ºç¤ºä¾‹ï¼š`[claude-opus-4-5 | think:high] Here's my response...`\n\nWhatsApp å…¥ç«™å‰ç¼€é€šè¿‡ `channels.whatsapp.messagePrefix` é…ç½®ï¼ˆå·²å¼ƒç”¨ï¼š`messages.messagePrefix`ï¼‰ã€‚é»˜è®¤ä¿æŒ**ä¸å˜**ï¼šå½“ `channels.whatsapp.allowFrom` ä¸ºç©ºæ—¶ä¸º `\"[openclaw]\"`ï¼Œå¦åˆ™ä¸º `\"\"`ï¼ˆæ— å‰ç¼€ï¼‰ã€‚ä½¿ç”¨ `\"[openclaw]\"` æ—¶ï¼Œå¦‚æœè·¯ç”±çš„æ™ºèƒ½ä½“è®¾ç½®äº† `identity.name`ï¼ŒOpenClaw ä¼šæ”¹ç”¨ `[{identity.name}]`ã€‚",
    "`ackReaction` åœ¨æ”¯æŒååº”çš„æ¸ é“ï¼ˆSlack/Discord/Telegram/Google Chatï¼‰ä¸Šå‘é€å°½åŠ›è€Œä¸ºçš„è¡¨æƒ…ååº”æ¥ç¡®è®¤å…¥ç«™æ¶ˆæ¯ã€‚è®¾ç½®æ—¶é»˜è®¤ä¸ºæ´»è·ƒæ™ºèƒ½ä½“çš„ `identity.emoji`ï¼Œå¦åˆ™ä¸º `\"ğŸ‘€\"`ã€‚è®¾ä¸º `\"\"` ç¦ç”¨ã€‚\n\n`ackReactionScope` æ§åˆ¶ååº”è§¦å‘æ—¶æœºï¼š\n\n- `group-mentions`ï¼ˆé»˜è®¤ï¼‰ï¼šä»…åœ¨ç¾¤ç»„/æˆ¿é—´è¦æ±‚æåŠ**ä¸”**æœºå™¨äººè¢«æåŠæ—¶\n- `group-all`ï¼šæ‰€æœ‰ç¾¤ç»„/æˆ¿é—´æ¶ˆæ¯\n- `direct`ï¼šä»…ç§èŠæ¶ˆæ¯\n- `all`ï¼šæ‰€æœ‰æ¶ˆæ¯\n\n`removeAckAfterReply` åœ¨å‘é€å›å¤åç§»é™¤æœºå™¨äººçš„ç¡®è®¤ååº”ï¼ˆä»… Slack/Discord/Telegram/Google Chatï¼‰ã€‚é»˜è®¤ï¼š`false`ã€‚\n\n#### `messages.tts`\n\nä¸ºå‡ºç«™å›å¤å¯ç”¨æ–‡å­—è½¬è¯­éŸ³ã€‚å¼€å¯åï¼ŒOpenClaw ä½¿ç”¨ ElevenLabs æˆ– OpenAI ç”ŸæˆéŸ³é¢‘å¹¶é™„åŠ åˆ°å›å¤ä¸­ã€‚Telegram ä½¿ç”¨ Opus è¯­éŸ³æ¶ˆæ¯ï¼›å…¶ä»–æ¸ é“å‘é€ MP3 éŸ³é¢‘ã€‚",
    "```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\", // off | always | inbound | tagged\n      mode: \"final\", // final | allï¼ˆåŒ…å«å·¥å…·/å—å›å¤ï¼‰\n      provider: \"elevenlabs\",\n      summaryModel: \"openai/gpt-4.1-mini\",\n      modelOverrides: {\n        enabled: true,\n      },\n      maxTextLength: 4000,\n      timeoutMs: 30000,\n      prefsPath: \"~/.openclaw/settings/tts.json\",\n      elevenlabs: {\n        apiKey: \"elevenlabs_api_key\",\n        baseUrl: \"https://api.elevenlabs.io\",\n        voiceId: \"voice_id\",\n        modelId: \"eleven_multilingual_v2\",\n        seed: 42,\n        applyTextNormalization: \"auto\",\n        languageCode: \"en\",\n        voiceSettings: {\n          stability: 0.5,\n          similarityBoost: 0.75,\n          style: 0.0,\n          useSpeakerBoost: true,\n          speed: 1.0,\n        },\n      },\n      openai: {\n        apiKey: \"openai_api_key\",\n        model: \"gpt-4o-mini-tts\",\n        voice: \"alloy\",\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- `messages.tts.auto` æ§åˆ¶è‡ªåŠ¨ TTSï¼ˆ`off`ã€`always`ã€`inbound`ã€`tagged`ï¼‰ã€‚\n- `/tts off|always|inbound|tagged` è®¾ç½®æ¯ä¼šè¯çš„è‡ªåŠ¨æ¨¡å¼ï¼ˆè¦†ç›–é…ç½®ï¼‰ã€‚\n- `messages.tts.enabled` ä¸ºæ—§ç‰ˆï¼›doctor ä¼šå°†å…¶è¿ç§»ä¸º `messages.tts.auto`ã€‚\n- `prefsPath` å­˜å‚¨æœ¬åœ°è¦†ç›–ï¼ˆæä¾›å•†/é™åˆ¶/æ‘˜è¦ï¼‰ã€‚\n- `maxTextLength` æ˜¯ TTS è¾“å…¥çš„ç¡¬ä¸Šé™ï¼›æ‘˜è¦ä¼šè¢«æˆªæ–­ä»¥é€‚åº”ã€‚\n- `summaryModel` è¦†ç›–è‡ªåŠ¨æ‘˜è¦çš„ `agents.defaults.model.primary`ã€‚\n  - æ¥å— `provider/model` æˆ–æ¥è‡ª `agents.defaults.models` çš„åˆ«åã€‚\n- `modelOverrides` å¯ç”¨æ¨¡å‹é©±åŠ¨çš„è¦†ç›–å¦‚ `[[tts:...]]` æ ‡ç­¾ï¼ˆé»˜è®¤å¼€å¯ï¼‰ã€‚\n- `/tts limit` å’Œ `/tts summary` æ§åˆ¶æ¯ç”¨æˆ·çš„æ‘˜è¦è®¾ç½®ã€‚\n- `apiKey` å€¼å›é€€åˆ° `ELEVENLABS_API_KEY`/`XI_API_KEY` å’Œ `OPENAI_API_KEY`ã€‚\n- `elevenlabs.baseUrl` è¦†ç›– ElevenLabs API åŸºç¡€ URLã€‚\n- `elevenlabs.voiceSettings` æ”¯æŒ `stability`/`similarityBoost`/`style`ï¼ˆ0..1ï¼‰ã€\n  `useSpeakerBoost` å’Œ `speed`ï¼ˆ0.5..2.0ï¼‰ã€‚\n\n### `talk`\n\nTalk æ¨¡å¼ï¼ˆmacOS/iOS/Androidï¼‰çš„é»˜è®¤å€¼ã€‚è¯­éŸ³ ID åœ¨æœªè®¾ç½®æ—¶å›é€€åˆ° `ELEVENLABS_VOICE_ID` æˆ– `SAG_VOICE_ID`ã€‚\n`apiKey` åœ¨æœªè®¾ç½®æ—¶å›é€€åˆ° `ELEVENLABS_API_KEY`ï¼ˆæˆ– Gateway ç½‘å…³çš„ shell é…ç½®æ–‡ä»¶ï¼‰ã€‚\n`voiceAliases` å…è®¸ Talk æŒ‡ä»¤ä½¿ç”¨å‹å¥½åç§°ï¼ˆä¾‹å¦‚ `\"voice\":\"Clawd\"`ï¼‰ã€‚",
    "```json5\n{\n  talk: {\n    voiceId: \"elevenlabs_voice_id\",\n    voiceAliases: {\n      Clawd: \"EXAVITQu4vr4xnSDxMaL\",\n      Roger: \"CwhRBWXzGAHq8TQ4Fs17\",\n    },\n    modelId: \"eleven_v3\",\n    outputFormat: \"mp3_44100_128\",\n    apiKey: \"elevenlabs_api_key\",\n    interruptOnSpeech: true,\n  },\n}\n```\n\n### `agents.defaults`\n\næ§åˆ¶å†…ç½®æ™ºèƒ½ä½“è¿è¡Œæ—¶ï¼ˆæ¨¡å‹/æ€è€ƒ/è¯¦ç»†/è¶…æ—¶ï¼‰ã€‚\n`agents.defaults.models` å®šä¹‰å·²é…ç½®çš„æ¨¡å‹ç›®å½•ï¼ˆä¹Ÿå……å½“ `/model` çš„ç™½åå•ï¼‰ã€‚\n`agents.defaults.model.primary` è®¾ç½®é»˜è®¤æ¨¡å‹ï¼›`agents.defaults.model.fallbacks` æ˜¯å…¨å±€æ•…éšœè½¬ç§»ã€‚\n`agents.defaults.imageModel` æ˜¯å¯é€‰çš„ï¼Œ**ä»…åœ¨ä¸»æ¨¡å‹ç¼ºå°‘å›¾åƒè¾“å…¥æ—¶ä½¿ç”¨**ã€‚\næ¯ä¸ª `agents.defaults.models` æ¡ç›®å¯ä»¥åŒ…å«ï¼š\n\n- `alias`ï¼ˆå¯é€‰çš„æ¨¡å‹å¿«æ·æ–¹å¼ï¼Œä¾‹å¦‚ `/opus`ï¼‰ã€‚\n- `params`ï¼ˆå¯é€‰çš„æä¾›å•†ç‰¹å®š API å‚æ•°ï¼Œä¼ é€’ç»™æ¨¡å‹è¯·æ±‚ï¼‰ã€‚\n\n`params` ä¹Ÿåº”ç”¨äºæµå¼è¿è¡Œï¼ˆå†…ç½®æ™ºèƒ½ä½“ + å‹ç¼©ï¼‰ã€‚ç›®å‰æ”¯æŒçš„é”®ï¼š`temperature`ã€`maxTokens`ã€‚è¿™äº›ä¸è°ƒç”¨æ—¶é€‰é¡¹åˆå¹¶ï¼›è°ƒç”¨æ–¹æä¾›çš„å€¼ä¼˜å…ˆã€‚`temperature` æ˜¯é«˜çº§æ—‹é’®â€”â€”é™¤éä½ äº†è§£æ¨¡å‹çš„é»˜è®¤å€¼ä¸”éœ€è¦æ›´æ”¹ï¼Œå¦åˆ™ä¸è¦è®¾ç½®ã€‚\n\nç¤ºä¾‹ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"anthropic/claude-sonnet-4-5-20250929\": {\n          params: { temperature: 0.6 },\n        },\n        \"openai/gpt-5.2\": {\n          params: { maxTokens: 8192 },\n        },\n      },\n    },\n  },\n}\n```\n\nZ.AI GLM-4.x æ¨¡å‹ä¼šè‡ªåŠ¨å¯ç”¨æ€è€ƒæ¨¡å¼ï¼Œé™¤éä½ ï¼š\n\n- è®¾ç½® `--thinking off`ï¼Œæˆ–\n- è‡ªè¡Œå®šä¹‰ `agents.defaults.models[\"zai/<model>\"].params.thinking`ã€‚\n\nOpenClaw è¿˜å†…ç½®äº†ä¸€äº›åˆ«åå¿«æ·æ–¹å¼ã€‚é»˜è®¤å€¼ä»…åœ¨æ¨¡å‹å·²å­˜åœ¨äº `agents.defaults.models` ä¸­æ—¶æ‰åº”ç”¨ï¼š\n\n- `opus` -> `anthropic/claude-opus-4-5`\n- `sonnet` -> `anthropic/claude-sonnet-4-5`\n- `gpt` -> `openai/gpt-5.2`\n- `gpt-mini` -> `openai/gpt-5-mini`\n- `gemini` -> `google/gemini-3-pro-preview`\n- `gemini-flash` -> `google/gemini-3-flash-preview`\n\nå¦‚æœä½ é…ç½®äº†ç›¸åŒçš„åˆ«åï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œä½ çš„å€¼ä¼˜å…ˆï¼ˆé»˜è®¤å€¼ä¸ä¼šè¦†ç›–ï¼‰ã€‚\n\nç¤ºä¾‹ï¼šOpus 4.5 ä¸»æ¨¡å‹ï¼ŒMiniMax M2.1 å›é€€ï¼ˆæ‰˜ç®¡ MiniMaxï¼‰ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"opus\" },\n        \"minimax/MiniMax-M2.1\": { alias: \"minimax\" },\n      },\n      model: {\n        primary: \"anthropic/claude-opus-4-5\",\n        fallbacks: [\"minimax/MiniMax-M2.1\"],\n      },\n    },\n  },\n}\n```\n\nMiniMax è®¤è¯ï¼šè®¾ç½® `MINIMAX_API_KEY`ï¼ˆç¯å¢ƒå˜é‡ï¼‰æˆ–é…ç½® `models.providers.minimax`ã€‚\n\n#### `agents.defaults.cliBackends`ï¼ˆCLI å›é€€ï¼‰\n\nå¯é€‰çš„ CLI åç«¯ç”¨äºçº¯æ–‡æœ¬å›é€€è¿è¡Œï¼ˆæ— å·¥å…·è°ƒç”¨ï¼‰ã€‚å½“ API æä¾›å•†å¤±è´¥æ—¶å¯ä½œä¸ºå¤‡ç”¨è·¯å¾„ã€‚å½“ä½ é…ç½®äº†æ¥å—æ–‡ä»¶è·¯å¾„çš„ `imageArg` æ—¶æ”¯æŒå›¾åƒé€ä¼ ã€‚\n\nè¯´æ˜ï¼š\n\n- CLI åç«¯**ä»¥æ–‡æœ¬ä¸ºä¸»**ï¼›å·¥å…·å§‹ç»ˆç¦ç”¨ã€‚\n- è®¾ç½® `sessionArg` æ—¶æ”¯æŒä¼šè¯ï¼›ä¼šè¯ id æŒ‰åç«¯æŒä¹…åŒ–ã€‚\n- å¯¹äº `claude-cli`ï¼Œé»˜è®¤å€¼å·²å†…ç½®ã€‚å¦‚æœ PATH ä¸å®Œæ•´ï¼ˆlaunchd/systemdï¼‰ï¼Œè¯·è¦†ç›–å‘½ä»¤è·¯å¾„ã€‚\n\nç¤ºä¾‹ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      cliBackends: {\n        \"claude-cli\": {\n          command: \"/opt/homebrew/bin/claude\",\n        },\n        \"my-cli\": {\n          command: \"my-cli\",\n          args: [\"--json\"],\n          output: \"json\",\n          modelArg: \"--model\",\n          sessionArg: \"--session\",\n          sessionMode: \"existing\",\n          systemPromptArg: \"--system\",\n          systemPromptWhen: \"first\",\n          imageArg: \"--image\",\n          imageMode: \"repeat\",\n        },\n      },\n    },\n  },\n}\n```",
    "```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"Opus\" },\n        \"anthropic/claude-sonnet-4-1\": { alias: \"Sonnet\" },\n        \"openrouter/deepseek/deepseek-r1:free\": {},\n        \"zai/glm-4.7\": {\n          alias: \"GLM\",\n          params: {\n            thinking: {\n              type: \"enabled\",\n              clear_thinking: false,\n            },\n          },\n        },\n      },\n      model: {\n        primary: \"anthropic/claude-opus-4-5\",\n        fallbacks: [\n          \"openrouter/deepseek/deepseek-r1:free\",\n          \"openrouter/meta-llama/llama-3.3-70b-instruct:free\",\n        ],\n      },\n      imageModel: {\n        primary: \"openrouter/qwen/qwen-2.5-vl-72b-instruct:free\",\n        fallbacks: [\"openrouter/google/gemini-2.0-flash-vision:free\"],\n      },\n      thinkingDefault: \"low\",\n      verboseDefault: \"off\",\n      elevatedDefault: \"on\",\n      timeoutSeconds: 600,\n      mediaMaxMb: 5,\n      heartbeat: {\n        every: \"30m\",\n        target: \"last\",\n      },\n      maxConcurrent: 3,\n      subagents: {\n        model: \"minimax/MiniMax-M2.1\",\n        maxConcurrent: 1,\n        archiveAfterMinutes: 60,\n      },\n      exec: {\n        backgroundMs: 10000,\n        timeoutSec: 1800,\n        cleanupMs: 1800000,\n      },\n      contextTokens: 200000,\n    },\n  },\n}\n```",
    "#### `agents.defaults.contextPruning`ï¼ˆå·¥å…·ç»“æœè£å‰ªï¼‰\n\n`agents.defaults.contextPruning` åœ¨è¯·æ±‚å‘é€åˆ° LLM ä¹‹å‰è£å‰ªå†…å­˜ä¸Šä¸‹æ–‡ä¸­çš„**æ—§å·¥å…·ç»“æœ**ã€‚\nå®ƒ**ä¸ä¼š**ä¿®æ”¹ç£ç›˜ä¸Šçš„ä¼šè¯å†å²ï¼ˆ`*.jsonl` ä¿æŒå®Œæ•´ï¼‰ã€‚\n\nè¿™æ—¨åœ¨å‡å°‘éšæ—¶é—´ç§¯ç´¯å¤§é‡å·¥å…·è¾“å‡ºçš„æ™ºèƒ½ä½“çš„ token æ¶ˆè€—ã€‚\n\næ¦‚è¿°ï¼š\n\n- ä¸è§¦åŠç”¨æˆ·/åŠ©æ‰‹æ¶ˆæ¯ã€‚\n- ä¿æŠ¤æœ€å `keepLastAssistants` æ¡åŠ©æ‰‹æ¶ˆæ¯ï¼ˆè¯¥ç‚¹ä¹‹åçš„å·¥å…·ç»“æœä¸ä¼šè¢«è£å‰ªï¼‰ã€‚\n- ä¿æŠ¤å¼•å¯¼å‰ç¼€ï¼ˆç¬¬ä¸€æ¡ç”¨æˆ·æ¶ˆæ¯ä¹‹å‰çš„å†…å®¹ä¸ä¼šè¢«è£å‰ªï¼‰ã€‚\n- æ¨¡å¼ï¼š\n  - `adaptive`ï¼šå½“ä¼°è®¡çš„ä¸Šä¸‹æ–‡æ¯”ç‡è¶…è¿‡ `softTrimRatio` æ—¶ï¼Œè½¯è£å‰ªè¿‡å¤§çš„å·¥å…·ç»“æœï¼ˆä¿ç•™å¤´å°¾ï¼‰ã€‚\n    ç„¶åå½“ä¼°è®¡çš„ä¸Šä¸‹æ–‡æ¯”ç‡è¶…è¿‡ `hardClearRatio` **ä¸”**æœ‰è¶³å¤Ÿçš„å¯è£å‰ªå·¥å…·ç»“æœé‡ï¼ˆ`minPrunableToolChars`ï¼‰æ—¶ï¼Œç¡¬æ¸…é™¤æœ€æ—§çš„ç¬¦åˆæ¡ä»¶çš„å·¥å…·ç»“æœã€‚\n  - `aggressive`ï¼šå§‹ç»ˆç”¨ `hardClear.placeholder` æ›¿æ¢æˆªæ­¢ç‚¹ä¹‹å‰ç¬¦åˆæ¡ä»¶çš„å·¥å…·ç»“æœï¼ˆä¸åšæ¯”ç‡æ£€æŸ¥ï¼‰ã€‚\n\nè½¯è£å‰ª vs ç¡¬è£å‰ªï¼ˆå‘é€ç»™ LLM çš„ä¸Šä¸‹æ–‡ä¸­çš„å˜åŒ–ï¼‰ï¼š\n\n- **è½¯è£å‰ª**ï¼šä»…é’ˆå¯¹*è¿‡å¤§*çš„å·¥å…·ç»“æœã€‚ä¿ç•™å¼€å¤´ + ç»“å°¾ï¼Œåœ¨ä¸­é—´æ’å…¥ `...`ã€‚\n  - ä¹‹å‰ï¼š`toolResult(\"â€¦å¾ˆé•¿çš„è¾“å‡ºâ€¦\")`\n  - ä¹‹åï¼š`toolResult(\"HEADâ€¦\\n...\\nâ€¦TAIL\\n\\n[Tool result trimmed: â€¦]\")`\n- **ç¡¬æ¸…é™¤**ï¼šç”¨å ä½ç¬¦æ›¿æ¢æ•´ä¸ªå·¥å…·ç»“æœã€‚\n  - ä¹‹å‰ï¼š`toolResult(\"â€¦å¾ˆé•¿çš„è¾“å‡ºâ€¦\")`\n  - ä¹‹åï¼š`toolResult(\"[Old tool result content cleared]\")`\n\nè¯´æ˜ / å½“å‰é™åˆ¶ï¼š",
    "- ç›®å‰åŒ…å«**å›¾åƒå—çš„å·¥å…·ç»“æœä¼šè¢«è·³è¿‡**ï¼ˆä¸ä¼šè¢«è£å‰ª/æ¸…é™¤ï¼‰ã€‚\n- ä¼°è®¡çš„\"ä¸Šä¸‹æ–‡æ¯”ç‡\"åŸºäº**å­—ç¬¦**ï¼ˆè¿‘ä¼¼å€¼ï¼‰ï¼Œä¸æ˜¯ç²¾ç¡®çš„ token æ•°ã€‚\n- å¦‚æœä¼šè¯å°šæœªåŒ…å«è‡³å°‘ `keepLastAssistants` æ¡åŠ©æ‰‹æ¶ˆæ¯ï¼Œåˆ™è·³è¿‡è£å‰ªã€‚\n- åœ¨ `aggressive` æ¨¡å¼ä¸‹ï¼Œ`hardClear.enabled` è¢«å¿½ç•¥ï¼ˆç¬¦åˆæ¡ä»¶çš„å·¥å…·ç»“æœå§‹ç»ˆè¢«æ›¿æ¢ä¸º `hardClear.placeholder`ï¼‰ã€‚\n\né»˜è®¤å€¼ï¼ˆadaptiveï¼‰ï¼š\n\n```json5\n{\n  agents: { defaults: { contextPruning: { mode: \"adaptive\" } } },\n}\n```\n\nç¦ç”¨ï¼š\n\n```json5\n{\n  agents: { defaults: { contextPruning: { mode: \"off\" } } },\n}\n```\n\né»˜è®¤å€¼ï¼ˆå½“ `mode` ä¸º `\"adaptive\"` æˆ– `\"aggressive\"` æ—¶ï¼‰ï¼š\n\n- `keepLastAssistants`ï¼š`3`\n- `softTrimRatio`ï¼š`0.3`ï¼ˆä»… adaptiveï¼‰\n- `hardClearRatio`ï¼š`0.5`ï¼ˆä»… adaptiveï¼‰\n- `minPrunableToolChars`ï¼š`50000`ï¼ˆä»… adaptiveï¼‰\n- `softTrim`ï¼š`{ maxChars: 4000, headChars: 1500, tailChars: 1500 }`ï¼ˆä»… adaptiveï¼‰\n- `hardClear`ï¼š`{ enabled: true, placeholder: \"[Old tool result content cleared]\" }`\n\nç¤ºä¾‹ï¼ˆaggressiveï¼Œæœ€å°åŒ–ï¼‰ï¼š\n\n```json5\n{\n  agents: { defaults: { contextPruning: { mode: \"aggressive\" } } },\n}\n```\n\nç¤ºä¾‹ï¼ˆè°ƒä¼˜çš„ adaptiveï¼‰ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      contextPruning: {\n        mode: \"adaptive\",\n        keepLastAssistants: 3,\n        softTrimRatio: 0.3,\n        hardClearRatio: 0.5,\n        minPrunableToolChars: 50000,\n        softTrim: { maxChars: 4000, headChars: 1500, tailChars: 1500 },\n        hardClear: { enabled: true, placeholder: \"[Old tool result content cleared]\" },\n        // å¯é€‰ï¼šé™åˆ¶è£å‰ªä»…é’ˆå¯¹ç‰¹å®šå·¥å…·ï¼ˆdeny ä¼˜å…ˆï¼›æ”¯æŒ \"*\" é€šé…ç¬¦ï¼‰\n        tools: { deny: [\"browser\", \"canvas\"] },\n      },\n    },\n  },\n}\n```\n\nå‚è§ [/concepts/session-pruning](/concepts/session-pruning) äº†è§£è¡Œä¸ºç»†èŠ‚ã€‚\n\n#### `agents.defaults.compaction`ï¼ˆé¢„ç•™ç©ºé—´ + è®°å¿†åˆ·æ–°ï¼‰\n\n`agents.defaults.compaction.mode` é€‰æ‹©å‹ç¼©æ‘˜è¦ç­–ç•¥ã€‚é»˜è®¤ä¸º `default`ï¼›è®¾ä¸º `safeguard` å¯ä¸ºè¶…é•¿å†å²å¯ç”¨åˆ†å—æ‘˜è¦ã€‚å‚è§ [/concepts/compaction](/concepts/compaction)ã€‚\n\n`agents.defaults.compaction.reserveTokensFloor` ä¸º Pi å‹ç¼©å¼ºåˆ¶ä¸€ä¸ªæœ€å° `reserveTokens` å€¼ï¼ˆé»˜è®¤ï¼š`20000`ï¼‰ã€‚è®¾ä¸º `0` ç¦ç”¨æ­¤åº•çº¿ã€‚\n\n`agents.defaults.compaction.memoryFlush` åœ¨è‡ªåŠ¨å‹ç¼©å‰è¿è¡Œä¸€ä¸ª**é™é»˜**æ™ºèƒ½ä½“è½®æ¬¡ï¼ŒæŒ‡ç¤ºæ¨¡å‹å°†æŒä¹…è®°å¿†å­˜å‚¨åˆ°ç£ç›˜ï¼ˆä¾‹å¦‚ `memory/YYYY-MM-DD.md`ï¼‰ã€‚å½“ä¼šè¯ token ä¼°è®¡å€¼è¶…è¿‡å‹ç¼©é™åˆ¶ä»¥ä¸‹çš„è½¯é˜ˆå€¼æ—¶è§¦å‘ã€‚\n\næ—§ç‰ˆé»˜è®¤å€¼ï¼š",
    "- `memoryFlush.enabled`ï¼š`true`\n- `memoryFlush.softThresholdTokens`ï¼š`4000`\n- `memoryFlush.prompt` / `memoryFlush.systemPrompt`ï¼šå¸¦ `NO_REPLY` çš„å†…ç½®é»˜è®¤å€¼\n- æ³¨æ„ï¼šå½“ä¼šè¯å·¥ä½œåŒºä¸ºåªè¯»æ—¶è·³è¿‡è®°å¿†åˆ·æ–°ï¼ˆ`agents.defaults.sandbox.workspaceAccess: \"ro\"` æˆ– `\"none\"`ï¼‰ã€‚\n\nç¤ºä¾‹ï¼ˆè°ƒä¼˜ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      compaction: {\n        mode: \"safeguard\",\n        reserveTokensFloor: 24000,\n        memoryFlush: {\n          enabled: true,\n          softThresholdTokens: 6000,\n          systemPrompt: \"Session nearing compaction. Store durable memories now.\",\n          prompt: \"Write any lasting notes to memory/YYYY-MM-DD.md; reply with NO_REPLY if nothing to store.\",\n        },\n      },\n    },\n  },\n}\n```\n\nåˆ†å—æµå¼ä¼ è¾“ï¼š",
    "- `agents.defaults.blockStreamingDefault`ï¼š`\"on\"`/`\"off\"`ï¼ˆé»˜è®¤ offï¼‰ã€‚\n- æ¸ é“è¦†ç›–ï¼š`*.blockStreaming`ï¼ˆåŠæ¯è´¦å·å˜ä½“ï¼‰å¼ºåˆ¶åˆ†å—æµå¼ä¼ è¾“å¼€/å…³ã€‚\n  é Telegram æ¸ é“éœ€è¦æ˜¾å¼è®¾ç½® `*.blockStreaming: true` æ¥å¯ç”¨å—å›å¤ã€‚\n- `agents.defaults.blockStreamingBreak`ï¼š`\"text_end\"` æˆ– `\"message_end\"`ï¼ˆé»˜è®¤ï¼štext_endï¼‰ã€‚\n- `agents.defaults.blockStreamingChunk`ï¼šæµå¼å—çš„è½¯åˆ†å—ã€‚é»˜è®¤ 800â€“1200 å­—ç¬¦ï¼Œä¼˜å…ˆæ®µè½åˆ†éš”ï¼ˆ`\\n\\n`ï¼‰ï¼Œç„¶åæ¢è¡Œï¼Œç„¶åå¥å­ã€‚\n  ç¤ºä¾‹ï¼š\n  ```json5\n  {\n    agents: { defaults: { blockStreamingChunk: { minChars: 800, maxChars: 1200 } } },\n  }\n  ```\n- `agents.defaults.blockStreamingCoalesce`ï¼šå‘é€å‰åˆå¹¶æµå¼å—ã€‚\n  é»˜è®¤ä¸º `{ idleMs: 1000 }`ï¼Œä» `blockStreamingChunk` ç»§æ‰¿ `minChars`ï¼Œ\n  `maxChars` ä¸Šé™ä¸ºæ¸ é“æ–‡æœ¬é™åˆ¶ã€‚Signal/Slack/Discord/Google Chat é»˜è®¤\n  `minChars: 1500`ï¼Œé™¤éè¢«è¦†ç›–ã€‚\n  æ¸ é“è¦†ç›–ï¼š`channels.whatsapp.blockStreamingCoalesce`ã€`channels.telegram.blockStreamingCoalesce`ã€\n  `channels.discord.blockStreamingCoalesce`ã€`channels.slack.blockStreamingCoalesce`ã€`channels.mattermost.blockStreamingCoalesce`ã€\n  `channels.signal.blockStreamingCoalesce`ã€`channels.imessage.blockStreamingCoalesce`ã€`channels.msteams.blockStreamingCoalesce`ã€\n  `channels.googlechat.blockStreamingCoalesce`\n  ï¼ˆåŠæ¯è´¦å·å˜ä½“ï¼‰ã€‚\n- `agents.defaults.humanDelay`ï¼šç¬¬ä¸€æ¡ä¹‹å**å—å›å¤**ä¹‹é—´çš„éšæœºå»¶è¿Ÿã€‚\n  æ¨¡å¼ï¼š`off`ï¼ˆé»˜è®¤ï¼‰ã€`natural`ï¼ˆ800â€“2500msï¼‰ã€`custom`ï¼ˆä½¿ç”¨ `minMs`/`maxMs`ï¼‰ã€‚\n  æ¯æ™ºèƒ½ä½“è¦†ç›–ï¼š`agents.list[].humanDelay`ã€‚\n  ç¤ºä¾‹ï¼š\n  ```json5\n  {\n    agents: { defaults: { humanDelay: { mode: \"natural\" } } },\n  }\n  ```\n  å‚è§ [/concepts/streaming](/concepts/streaming) äº†è§£è¡Œä¸º + åˆ†å—ç»†èŠ‚ã€‚",
    "è¾“å…¥æŒ‡ç¤ºå™¨ï¼š\n\n- `agents.defaults.typingMode`ï¼š`\"never\" | \"instant\" | \"thinking\" | \"message\"`ã€‚ç§èŠ/æåŠé»˜è®¤ä¸º\n  `instant`ï¼Œæœªè¢«æåŠçš„ç¾¤èŠé»˜è®¤ä¸º `message`ã€‚\n- `session.typingMode`ï¼šæ¯ä¼šè¯çš„æ¨¡å¼è¦†ç›–ã€‚\n- `agents.defaults.typingIntervalSeconds`ï¼šè¾“å…¥ä¿¡å·åˆ·æ–°é¢‘ç‡ï¼ˆé»˜è®¤ï¼š6sï¼‰ã€‚\n- `session.typingIntervalSeconds`ï¼šæ¯ä¼šè¯çš„åˆ·æ–°é—´éš”è¦†ç›–ã€‚\n  å‚è§ [/concepts/typing-indicators](/concepts/typing-indicators) äº†è§£è¡Œä¸ºç»†èŠ‚ã€‚\n\n`agents.defaults.model.primary` åº”è®¾ä¸º `provider/model`ï¼ˆä¾‹å¦‚ `anthropic/claude-opus-4-5`ï¼‰ã€‚\nåˆ«åæ¥è‡ª `agents.defaults.models.*.alias`ï¼ˆä¾‹å¦‚ `Opus`ï¼‰ã€‚\nå¦‚æœçœç•¥æä¾›å•†ï¼ŒOpenClaw ç›®å‰å‡å®š `anthropic` ä½œä¸ºä¸´æ—¶å¼ƒç”¨å›é€€ã€‚\nZ.AI æ¨¡å‹å¯é€šè¿‡ `zai/<model>` ä½¿ç”¨ï¼ˆä¾‹å¦‚ `zai/glm-4.7`ï¼‰ï¼Œéœ€è¦ç¯å¢ƒä¸­è®¾ç½®\n`ZAI_API_KEY`ï¼ˆæˆ–æ—§ç‰ˆ `Z_AI_API_KEY`ï¼‰ã€‚\n\n`agents.defaults.heartbeat` é…ç½®å®šæœŸå¿ƒè·³è¿è¡Œï¼š",
    "- `every`ï¼šæŒç»­æ—¶é—´å­—ç¬¦ä¸²ï¼ˆ`ms`ã€`s`ã€`m`ã€`h`ï¼‰ï¼›é»˜è®¤å•ä½åˆ†é’Ÿã€‚é»˜è®¤ï¼š\n  `30m`ã€‚è®¾ä¸º `0m` ç¦ç”¨ã€‚\n- `model`ï¼šå¯é€‰çš„å¿ƒè·³è¿è¡Œè¦†ç›–æ¨¡å‹ï¼ˆ`provider/model`ï¼‰ã€‚\n- `includeReasoning`ï¼šä¸º `true` æ—¶ï¼Œå¿ƒè·³ä¹Ÿä¼šä¼ é€’å•ç‹¬çš„ `Reasoning:` æ¶ˆæ¯ï¼ˆä¸ `/reasoning on` ç›¸åŒå½¢å¼ï¼‰ã€‚é»˜è®¤ï¼š`false`ã€‚\n- `session`ï¼šå¯é€‰çš„ä¼šè¯é”®ï¼Œæ§åˆ¶å¿ƒè·³åœ¨å“ªä¸ªä¼šè¯ä¸­è¿è¡Œã€‚é»˜è®¤ï¼š`main`ã€‚\n- `to`ï¼šå¯é€‰çš„æ”¶ä»¶äººè¦†ç›–ï¼ˆæ¸ é“ç‰¹å®š idï¼Œä¾‹å¦‚ WhatsApp çš„ E.164ï¼ŒTelegram çš„èŠå¤© idï¼‰ã€‚\n- `target`ï¼šå¯é€‰çš„æŠ•é€’æ¸ é“ï¼ˆ`last`ã€`whatsapp`ã€`telegram`ã€`discord`ã€`slack`ã€`msteams`ã€`signal`ã€`imessage`ã€`none`ï¼‰ã€‚é»˜è®¤ï¼š`last`ã€‚\n- `prompt`ï¼šå¯é€‰çš„å¿ƒè·³å†…å®¹è¦†ç›–ï¼ˆé»˜è®¤ï¼š`Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`ï¼‰ã€‚è¦†ç›–å€¼æŒ‰åŸæ ·å‘é€ï¼›å¦‚æœä»éœ€è¯»å–æ–‡ä»¶ï¼Œè¯·åŒ…å« `Read HEARTBEAT.md` è¡Œã€‚\n- `ackMaxChars`ï¼š`HEARTBEAT_OK` ä¹‹åæŠ•é€’å‰å…è®¸çš„æœ€å¤§å­—ç¬¦æ•°ï¼ˆé»˜è®¤ï¼š300ï¼‰ã€‚\n\næ¯æ™ºèƒ½ä½“å¿ƒè·³ï¼š\n\n- è®¾ç½® `agents.list[].heartbeat` ä¸ºç‰¹å®šæ™ºèƒ½ä½“å¯ç”¨æˆ–è¦†ç›–å¿ƒè·³è®¾ç½®ã€‚\n- å¦‚æœä»»ä½•æ™ºèƒ½ä½“æ¡ç›®å®šä¹‰äº† `heartbeat`ï¼Œ**ä»…é‚£äº›æ™ºèƒ½ä½“**è¿è¡Œå¿ƒè·³ï¼›é»˜è®¤å€¼\n  æˆä¸ºé‚£äº›æ™ºèƒ½ä½“çš„å…±äº«åŸºçº¿ã€‚\n\nå¿ƒè·³è¿è¡Œå®Œæ•´çš„æ™ºèƒ½ä½“è½®æ¬¡ã€‚è¾ƒçŸ­çš„é—´éš”æ¶ˆè€—æ›´å¤š tokenï¼›è¯·æ³¨æ„\n`every`ï¼Œä¿æŒ `HEARTBEAT.md` ç²¾ç®€ï¼Œå’Œ/æˆ–é€‰æ‹©æ›´ä¾¿å®œçš„ `model`ã€‚\n\n`tools.exec` é…ç½®åå°æ‰§è¡Œé»˜è®¤å€¼ï¼š",
    "- `backgroundMs`ï¼šè‡ªåŠ¨åå°åŒ–å‰çš„æ—¶é—´ï¼ˆmsï¼Œé»˜è®¤ 10000ï¼‰\n- `timeoutSec`ï¼šè¶…è¿‡æ­¤è¿è¡Œæ—¶é—´åè‡ªåŠ¨ç»ˆæ­¢ï¼ˆç§’ï¼Œé»˜è®¤ 1800ï¼‰\n- `cleanupMs`ï¼šå®Œæˆçš„ä¼šè¯åœ¨å†…å­˜ä¸­ä¿ç•™å¤šä¹…ï¼ˆmsï¼Œé»˜è®¤ 1800000ï¼‰\n- `notifyOnExit`ï¼šåå°æ‰§è¡Œé€€å‡ºæ—¶åŠ å…¥ç³»ç»Ÿäº‹ä»¶ + è¯·æ±‚å¿ƒè·³ï¼ˆé»˜è®¤ trueï¼‰\n- `applyPatch.enabled`ï¼šå¯ç”¨å®éªŒæ€§ `apply_patch`ï¼ˆä»… OpenAI/OpenAI Codexï¼›é»˜è®¤ falseï¼‰\n- `applyPatch.allowModels`ï¼šå¯é€‰çš„æ¨¡å‹ id ç™½åå•ï¼ˆä¾‹å¦‚ `gpt-5.2` æˆ– `openai/gpt-5.2`ï¼‰\n  æ³¨æ„ï¼š`applyPatch` ä»…åœ¨ `tools.exec` ä¸‹ã€‚\n\n`tools.web` é…ç½® Web æœç´¢ + è·å–å·¥å…·ï¼š",
    "- `tools.web.search.enabled`ï¼ˆé»˜è®¤ï¼šæœ‰å¯†é’¥æ—¶ä¸º trueï¼‰\n- `tools.web.search.apiKey`ï¼ˆæ¨èï¼šé€šè¿‡ `openclaw configure --section web` è®¾ç½®ï¼Œæˆ–ä½¿ç”¨ `BRAVE_API_KEY` ç¯å¢ƒå˜é‡ï¼‰\n- `tools.web.search.maxResults`ï¼ˆ1â€“10ï¼Œé»˜è®¤ 5ï¼‰\n- `tools.web.search.timeoutSeconds`ï¼ˆé»˜è®¤ 30ï¼‰\n- `tools.web.search.cacheTtlMinutes`ï¼ˆé»˜è®¤ 15ï¼‰\n- `tools.web.fetch.enabled`ï¼ˆé»˜è®¤ trueï¼‰\n- `tools.web.fetch.maxChars`ï¼ˆé»˜è®¤ 50000ï¼‰\n- `tools.web.fetch.timeoutSeconds`ï¼ˆé»˜è®¤ 30ï¼‰\n- `tools.web.fetch.cacheTtlMinutes`ï¼ˆé»˜è®¤ 15ï¼‰\n- `tools.web.fetch.userAgent`ï¼ˆå¯é€‰è¦†ç›–ï¼‰\n- `tools.web.fetch.readability`ï¼ˆé»˜è®¤ trueï¼›ç¦ç”¨åä»…ä½¿ç”¨åŸºæœ¬ HTML æ¸…ç†ï¼‰\n- `tools.web.fetch.firecrawl.enabled`ï¼ˆé»˜è®¤ï¼šè®¾ç½®äº† API å¯†é’¥æ—¶ä¸º trueï¼‰\n- `tools.web.fetch.firecrawl.apiKey`ï¼ˆå¯é€‰ï¼›é»˜è®¤ä¸º `FIRECRAWL_API_KEY`ï¼‰\n- `tools.web.fetch.firecrawl.baseUrl`ï¼ˆé»˜è®¤ https://api.firecrawl.devï¼‰\n- `tools.web.fetch.firecrawl.onlyMainContent`ï¼ˆé»˜è®¤ trueï¼‰\n- `tools.web.fetch.firecrawl.maxAgeMs`ï¼ˆå¯é€‰ï¼‰\n- `tools.web.fetch.firecrawl.timeoutSeconds`ï¼ˆå¯é€‰ï¼‰\n\n`tools.media` é…ç½®å…¥ç«™åª’ä½“ç†è§£ï¼ˆå›¾ç‰‡/éŸ³é¢‘/è§†é¢‘ï¼‰ï¼š",
    "- `tools.media.models`ï¼šå…±äº«æ¨¡å‹åˆ—è¡¨ï¼ˆæŒ‰èƒ½åŠ›æ ‡è®°ï¼›åœ¨æ¯èƒ½åŠ›åˆ—è¡¨ä¹‹åä½¿ç”¨ï¼‰ã€‚\n- `tools.media.concurrency`ï¼šæœ€å¤§å¹¶å‘èƒ½åŠ›è¿è¡Œæ•°ï¼ˆé»˜è®¤ 2ï¼‰ã€‚\n- `tools.media.image` / `tools.media.audio` / `tools.media.video`ï¼š\n  - `enabled`ï¼šé€‰æ‹©é€€å‡ºå¼€å…³ï¼ˆé…ç½®äº†æ¨¡å‹æ—¶é»˜è®¤ä¸º trueï¼‰ã€‚\n  - `prompt`ï¼šå¯é€‰çš„æç¤ºè¦†ç›–ï¼ˆå›¾ç‰‡/è§†é¢‘è‡ªåŠ¨é™„åŠ  `maxChars` æç¤ºï¼‰ã€‚\n  - `maxChars`ï¼šæœ€å¤§è¾“å‡ºå­—ç¬¦æ•°ï¼ˆå›¾ç‰‡/è§†é¢‘é»˜è®¤ 500ï¼›éŸ³é¢‘æœªè®¾ç½®ï¼‰ã€‚\n  - `maxBytes`ï¼šå‘é€çš„æœ€å¤§åª’ä½“å¤§å°ï¼ˆé»˜è®¤ï¼šå›¾ç‰‡ 10MBï¼ŒéŸ³é¢‘ 20MBï¼Œè§†é¢‘ 50MBï¼‰ã€‚\n  - `timeoutSeconds`ï¼šè¯·æ±‚è¶…æ—¶ï¼ˆé»˜è®¤ï¼šå›¾ç‰‡ 60sï¼ŒéŸ³é¢‘ 60sï¼Œè§†é¢‘ 120sï¼‰ã€‚\n  - `language`ï¼šå¯é€‰çš„éŸ³é¢‘æç¤ºã€‚\n  - `attachments`ï¼šé™„ä»¶ç­–ç•¥ï¼ˆ`mode`ã€`maxAttachments`ã€`prefer`ï¼‰ã€‚\n  - `scope`ï¼šå¯é€‰çš„é—¨æ§ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…è·èƒœï¼‰ï¼Œå¸¦ `match.channel`ã€`match.chatType` æˆ– `match.keyPrefix`ã€‚\n  - `models`ï¼šæœ‰åºçš„æ¨¡å‹æ¡ç›®åˆ—è¡¨ï¼›å¤±è´¥æˆ–è¶…å¤§åª’ä½“å›é€€åˆ°ä¸‹ä¸€ä¸ªæ¡ç›®ã€‚\n- æ¯ä¸ª `models[]` æ¡ç›®ï¼š\n  - æä¾›å•†æ¡ç›®ï¼ˆ`type: \"provider\"` æˆ–çœç•¥ï¼‰ï¼š\n    - `provider`ï¼šAPI æä¾›å•† idï¼ˆ`openai`ã€`anthropic`ã€`google`/`gemini`ã€`groq` ç­‰ï¼‰ã€‚\n    - `model`ï¼šæ¨¡å‹ id è¦†ç›–ï¼ˆå›¾ç‰‡å¿…éœ€ï¼›éŸ³é¢‘æä¾›å•†é»˜è®¤ä¸º `gpt-4o-mini-transcribe`/`whisper-large-v3-turbo`ï¼Œè§†é¢‘é»˜è®¤ä¸º `gemini-3-flash-preview`ï¼‰ã€‚\n    - `profile` / `preferredProfile`ï¼šè®¤è¯é…ç½®æ–‡ä»¶é€‰æ‹©ã€‚\n  - CLI æ¡ç›®ï¼ˆ`type: \"cli\"`ï¼‰ï¼š\n    - `command`ï¼šè¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚\n    - `args`ï¼šæ¨¡æ¿åŒ–å‚æ•°ï¼ˆæ”¯æŒ `{{MediaPath}}`ã€`{{Prompt}}`ã€`{{MaxChars}}` ç­‰ï¼‰ã€‚\n  - `capabilities`ï¼šå¯é€‰çš„èƒ½åŠ›åˆ—è¡¨ï¼ˆ`image`ã€`audio`ã€`video`ï¼‰ç”¨äºé—¨æ§å…±äº«æ¡ç›®ã€‚çœç•¥æ—¶çš„é»˜è®¤å€¼ï¼š`openai`/`anthropic`/`minimax` â†’ imageï¼Œ`google` â†’ image+audio+videoï¼Œ`groq` â†’ audioã€‚\n  - `prompt`ã€`maxChars`ã€`maxBytes`ã€`timeoutSeconds`ã€`language` å¯åœ¨æ¯ä¸ªæ¡ç›®ä¸­è¦†ç›–ã€‚",
    "å¦‚æœæœªé…ç½®æ¨¡å‹ï¼ˆæˆ– `enabled: false`ï¼‰ï¼Œç†è§£å°†è¢«è·³è¿‡ï¼›æ¨¡å‹ä»ä¼šæ¥æ”¶åŸå§‹é™„ä»¶ã€‚\n\næä¾›å•†è®¤è¯éµå¾ªæ ‡å‡†æ¨¡å‹è®¤è¯é¡ºåºï¼ˆè®¤è¯é…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡å¦‚ `OPENAI_API_KEY`/`GROQ_API_KEY`/`GEMINI_API_KEY`ï¼Œæˆ– `models.providers.*.apiKey`ï¼‰ã€‚\n\nç¤ºä¾‹ï¼š\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        maxBytes: 20971520,\n        scope: {\n          default: \"deny\",\n          rules: [{ action: \"allow\", match: { chatType: \"direct\" } }],\n        },\n        models: [\n          { provider: \"openai\", model: \"gpt-4o-mini-transcribe\" },\n          { type: \"cli\", command: \"whisper\", args: [\"--model\", \"base\", \"{{MediaPath}}\"] },\n        ],\n      },\n      video: {\n        enabled: true,\n        maxBytes: 52428800,\n        models: [{ provider: \"google\", model: \"gemini-3-flash-preview\" }],\n      },\n    },\n  },\n}\n```\n\n`agents.defaults.subagents` é…ç½®å­æ™ºèƒ½ä½“é»˜è®¤å€¼ï¼š",
    "- `model`ï¼šç”Ÿæˆçš„å­æ™ºèƒ½ä½“çš„é»˜è®¤æ¨¡å‹ï¼ˆå­—ç¬¦ä¸²æˆ– `{ primary, fallbacks }`ï¼‰ã€‚å¦‚æœçœç•¥ï¼Œå­æ™ºèƒ½ä½“ç»§æ‰¿è°ƒç”¨è€…çš„æ¨¡å‹ï¼Œé™¤éæŒ‰æ™ºèƒ½ä½“æˆ–æŒ‰è°ƒç”¨è¦†ç›–ã€‚\n- `maxConcurrent`ï¼šæœ€å¤§å¹¶å‘å­æ™ºèƒ½ä½“è¿è¡Œæ•°ï¼ˆé»˜è®¤ 1ï¼‰\n- `archiveAfterMinutes`ï¼šN åˆ†é’Ÿåè‡ªåŠ¨å½’æ¡£å­æ™ºèƒ½ä½“ä¼šè¯ï¼ˆé»˜è®¤ 60ï¼›è®¾ä¸º `0` ç¦ç”¨ï¼‰\n- æ¯å­æ™ºèƒ½ä½“å·¥å…·ç­–ç•¥ï¼š`tools.subagents.tools.allow` / `tools.subagents.tools.deny`ï¼ˆdeny ä¼˜å…ˆï¼‰\n\n`tools.profile` è®¾ç½® `tools.allow`/`tools.deny` ä¹‹å‰çš„**åŸºç¡€å·¥å…·ç™½åå•**ï¼š\n\n- `minimal`ï¼šä»… `session_status`\n- `coding`ï¼š`group:fs`ã€`group:runtime`ã€`group:sessions`ã€`group:memory`ã€`image`\n- `messaging`ï¼š`group:messaging`ã€`sessions_list`ã€`sessions_history`ã€`sessions_send`ã€`session_status`\n- `full`ï¼šæ— é™åˆ¶ï¼ˆä¸æœªè®¾ç½®ç›¸åŒï¼‰\n\næ¯æ™ºèƒ½ä½“è¦†ç›–ï¼š`agents.list[].tools.profile`ã€‚\n\nç¤ºä¾‹ï¼ˆé»˜è®¤ä»…æ¶ˆæ¯ä¼ é€’ï¼Œå¦å¤–å…è®¸ Slack + Discord å·¥å…·ï¼‰ï¼š\n\n```json5\n{\n  tools: {\n    profile: \"messaging\",\n    allow: [\"slack\", \"discord\"],\n  },\n}\n```\n\nç¤ºä¾‹ï¼ˆç¼–ç é…ç½®æ–‡ä»¶ï¼Œä½†å…¨å±€æ‹’ç» exec/processï¼‰ï¼š\n\n```json5\n{\n  tools: {\n    profile: \"coding\",\n    deny: [\"group:runtime\"],\n  },\n}\n```\n\n`tools.byProvider` å…è®¸ä½ ä¸ºç‰¹å®šæä¾›å•†ï¼ˆæˆ–å•ä¸ª `provider/model`ï¼‰**è¿›ä¸€æ­¥é™åˆ¶**å·¥å…·ã€‚\næ¯æ™ºèƒ½ä½“è¦†ç›–ï¼š`agents.list[].tools.byProvider`ã€‚",
    "é¡ºåºï¼šåŸºç¡€é…ç½®æ–‡ä»¶ â†’ æä¾›å•†é…ç½®æ–‡ä»¶ â†’ allow/deny ç­–ç•¥ã€‚\næä¾›å•†é”®æ¥å— `provider`ï¼ˆä¾‹å¦‚ `google-antigravity`ï¼‰æˆ– `provider/model`\nï¼ˆä¾‹å¦‚ `openai/gpt-5.2`ï¼‰ã€‚\n\nç¤ºä¾‹ï¼ˆä¿æŒå…¨å±€ç¼–ç é…ç½®æ–‡ä»¶ï¼Œä½†ä¸º Google Antigravity ä½¿ç”¨æœ€å°å·¥å…·ï¼‰ï¼š\n\n```json5\n{\n  tools: {\n    profile: \"coding\",\n    byProvider: {\n      \"google-antigravity\": { profile: \"minimal\" },\n    },\n  },\n}\n```\n\nç¤ºä¾‹ï¼ˆæä¾›å•†/æ¨¡å‹ç‰¹å®šç™½åå•ï¼‰ï¼š\n\n```json5\n{\n  tools: {\n    allow: [\"group:fs\", \"group:runtime\", \"sessions_list\"],\n    byProvider: {\n      \"openai/gpt-5.2\": { allow: [\"group:fs\", \"sessions_list\"] },\n    },\n  },\n}\n```\n\n`tools.allow` / `tools.deny` é…ç½®å…¨å±€å·¥å…·å…è®¸/æ‹’ç»ç­–ç•¥ï¼ˆdeny ä¼˜å…ˆï¼‰ã€‚\nåŒ¹é…ä¸åŒºåˆ†å¤§å°å†™å¹¶æ”¯æŒ `*` é€šé…ç¬¦ï¼ˆ`\"*\"` è¡¨ç¤ºæ‰€æœ‰å·¥å…·ï¼‰ã€‚\nå³ä½¿ Docker æ²™ç®±**å…³é—­**ï¼Œæ­¤ç­–ç•¥ä¹Ÿä¼šåº”ç”¨ã€‚\n\nç¤ºä¾‹ï¼ˆå…¨å±€ç¦ç”¨ browser/canvasï¼‰ï¼š\n\n```json5\n{\n  tools: { deny: [\"browser\", \"canvas\"] },\n}\n```\n\nå·¥å…·ç»„ï¼ˆç®€å†™ï¼‰åœ¨**å…¨å±€**å’Œ**æ¯æ™ºèƒ½ä½“**å·¥å…·ç­–ç•¥ä¸­å¯ç”¨ï¼š",
    "- `group:runtime`ï¼š`exec`ã€`bash`ã€`process`\n- `group:fs`ï¼š`read`ã€`write`ã€`edit`ã€`apply_patch`\n- `group:sessions`ï¼š`sessions_list`ã€`sessions_history`ã€`sessions_send`ã€`sessions_spawn`ã€`session_status`\n- `group:memory`ï¼š`memory_search`ã€`memory_get`\n- `group:web`ï¼š`web_search`ã€`web_fetch`\n- `group:ui`ï¼š`browser`ã€`canvas`\n- `group:automation`ï¼š`cron`ã€`gateway`\n- `group:messaging`ï¼š`message`\n- `group:nodes`ï¼š`nodes`\n- `group:openclaw`ï¼šæ‰€æœ‰å†…ç½® OpenClaw å·¥å…·ï¼ˆä¸åŒ…å«æä¾›å•†æ’ä»¶ï¼‰\n\n`tools.elevated` æ§åˆ¶æå‡ï¼ˆä¸»æœºï¼‰æ‰§è¡Œè®¿é—®ï¼š\n\n- `enabled`ï¼šå…è®¸æå‡æ¨¡å¼ï¼ˆé»˜è®¤ trueï¼‰\n- `allowFrom`ï¼šæ¯æ¸ é“ç™½åå•ï¼ˆç©º = ç¦ç”¨ï¼‰\n  - `whatsapp`ï¼šE.164 å·ç \n  - `telegram`ï¼šèŠå¤© id æˆ–ç”¨æˆ·å\n  - `discord`ï¼šç”¨æˆ· id æˆ–ç”¨æˆ·åï¼ˆçœç•¥æ—¶å›é€€åˆ° `channels.discord.dm.allowFrom`ï¼‰\n  - `signal`ï¼šE.164 å·ç \n  - `imessage`ï¼šå¥æŸ„/èŠå¤© id\n  - `webchat`ï¼šä¼šè¯ id æˆ–ç”¨æˆ·å\n\nç¤ºä¾‹ï¼š\n\n```json5\n{\n  tools: {\n    elevated: {\n      enabled: true,\n      allowFrom: {\n        whatsapp: [\"+15555550123\"],\n        discord: [\"steipete\", \"1234567890123\"],\n      },\n    },\n  },\n}\n```\n\næ¯æ™ºèƒ½ä½“è¦†ç›–ï¼ˆè¿›ä¸€æ­¥é™åˆ¶ï¼‰ï¼š",
    "```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"family\",\n        tools: {\n          elevated: { enabled: false },\n        },\n      },\n    ],\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- `tools.elevated` æ˜¯å…¨å±€åŸºçº¿ã€‚`agents.list[].tools.elevated` åªèƒ½è¿›ä¸€æ­¥é™åˆ¶ï¼ˆä¸¤è€…éƒ½å¿…é¡»å…è®¸ï¼‰ã€‚\n- `/elevated on|off|ask|full` æŒ‰ä¼šè¯é”®å­˜å‚¨çŠ¶æ€ï¼›å†…è”æŒ‡ä»¤ä»…åº”ç”¨äºå•æ¡æ¶ˆæ¯ã€‚\n- æå‡çš„ `exec` åœ¨ä¸»æœºä¸Šè¿è¡Œå¹¶ç»•è¿‡æ²™ç®±ã€‚\n- å·¥å…·ç­–ç•¥ä»ç„¶é€‚ç”¨ï¼›å¦‚æœ `exec` è¢«æ‹’ç»ï¼Œåˆ™æ— æ³•ä½¿ç”¨æå‡ã€‚\n\n`agents.defaults.maxConcurrent` è®¾ç½®è·¨ä¼šè¯å¯å¹¶è¡Œæ‰§è¡Œçš„å†…ç½®æ™ºèƒ½ä½“è¿è¡Œçš„æœ€å¤§æ•°é‡ã€‚æ¯ä¸ªä¼šè¯ä»ç„¶æ˜¯ä¸²è¡Œçš„ï¼ˆæ¯ä¸ªä¼šè¯é”®åŒæ—¶åªæœ‰ä¸€ä¸ªè¿è¡Œï¼‰ã€‚é»˜è®¤ï¼š1ã€‚\n\n### `agents.defaults.sandbox`\n\nä¸ºå†…ç½®æ™ºèƒ½ä½“æä¾›å¯é€‰çš„ **Docker æ²™ç®±**ã€‚é€‚ç”¨äºéä¸»ä¼šè¯ï¼Œä½¿å…¶æ— æ³•è®¿é—®ä½ çš„ä¸»æœºç³»ç»Ÿã€‚\n\nè¯¦æƒ…ï¼š[æ²™ç®±](/gateway/sandboxing)\n\né»˜è®¤å€¼ï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼š",
    "- scopeï¼š`\"agent\"`ï¼ˆæ¯ä¸ªæ™ºèƒ½ä½“ä¸€ä¸ªå®¹å™¨ + å·¥ä½œåŒºï¼‰\n- åŸºäº Debian bookworm-slim çš„é•œåƒ\n- æ™ºèƒ½ä½“å·¥ä½œåŒºè®¿é—®ï¼š`workspaceAccess: \"none\"`ï¼ˆé»˜è®¤ï¼‰\n  - `\"none\"`ï¼šåœ¨ `~/.openclaw/sandboxes` ä¸‹ä½¿ç”¨æ¯èŒƒå›´çš„æ²™ç®±å·¥ä½œåŒº\n- `\"ro\"`ï¼šå°†æ²™ç®±å·¥ä½œåŒºä¿æŒåœ¨ `/workspace`ï¼Œæ™ºèƒ½ä½“å·¥ä½œåŒºä»¥åªè¯»æ–¹å¼æŒ‚è½½åˆ° `/agent`ï¼ˆç¦ç”¨ `write`/`edit`/`apply_patch`ï¼‰\n  - `\"rw\"`ï¼šå°†æ™ºèƒ½ä½“å·¥ä½œåŒºä»¥è¯»å†™æ–¹å¼æŒ‚è½½åˆ° `/workspace`\n- è‡ªåŠ¨æ¸…ç†ï¼šç©ºé—²è¶…è¿‡ 24h æˆ–å­˜åœ¨è¶…è¿‡ 7d\n- å·¥å…·ç­–ç•¥ï¼šä»…å…è®¸ `exec`ã€`process`ã€`read`ã€`write`ã€`edit`ã€`apply_patch`ã€`sessions_list`ã€`sessions_history`ã€`sessions_send`ã€`sessions_spawn`ã€`session_status`ï¼ˆdeny ä¼˜å…ˆï¼‰\n  - é€šè¿‡ `tools.sandbox.tools` é…ç½®ï¼Œé€šè¿‡ `agents.list[].tools.sandbox.tools` è¿›è¡Œæ¯æ™ºèƒ½ä½“è¦†ç›–\n  - æ²™ç®±ç­–ç•¥ä¸­æ”¯æŒå·¥å…·ç»„ç®€å†™ï¼š`group:runtime`ã€`group:fs`ã€`group:sessions`ã€`group:memory`ï¼ˆå‚è§[æ²™ç®± vs å·¥å…·ç­–ç•¥ vs æå‡](/gateway/sandbox-vs-tool-policy-vs-elevated#tool-groups-shorthands)ï¼‰\n- å¯é€‰çš„æ²™ç®±æµè§ˆå™¨ï¼ˆChromium + CDPï¼ŒnoVNC è§‚å¯Ÿå™¨ï¼‰\n- åŠ å›ºæ—‹é’®ï¼š`network`ã€`user`ã€`pidsLimit`ã€`memory`ã€`cpus`ã€`ulimits`ã€`seccompProfile`ã€`apparmorProfile`\n\nè­¦å‘Šï¼š`scope: \"shared\"` æ„å‘³ç€å…±äº«å®¹å™¨å’Œå…±äº«å·¥ä½œåŒºã€‚æ— è·¨ä¼šè¯éš”ç¦»ã€‚ä½¿ç”¨ `scope: \"session\"` è·å¾—æ¯ä¼šè¯éš”ç¦»ã€‚",
    "æ—§ç‰ˆï¼š`perSession` ä»ç„¶æ”¯æŒï¼ˆ`true` â†’ `scope: \"session\"`ï¼Œ`false` â†’ `scope: \"shared\"`ï¼‰ã€‚\n\n`setupCommand` åœ¨å®¹å™¨åˆ›å»ºå**è¿è¡Œä¸€æ¬¡**ï¼ˆåœ¨å®¹å™¨å†…é€šè¿‡ `sh -lc` æ‰§è¡Œï¼‰ã€‚\nå¯¹äºåŒ…å®‰è£…ï¼Œç¡®ä¿ç½‘ç»œå‡ºå£ã€å¯å†™æ ¹æ–‡ä»¶ç³»ç»Ÿå’Œ root ç”¨æˆ·ã€‚",
    "```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\", // off | non-main | all\n        scope: \"agent\", // session | agent | sharedï¼ˆagent ä¸ºé»˜è®¤ï¼‰\n        workspaceAccess: \"none\", // none | ro | rw\n        workspaceRoot: \"~/.openclaw/sandboxes\",\n        docker: {\n          image: \"openclaw-sandbox:bookworm-slim\",\n          containerPrefix: \"openclaw-sbx-\",\n          workdir: \"/workspace\",\n          readOnlyRoot: true,\n          tmpfs: [\"/tmp\", \"/var/tmp\", \"/run\"],\n          network: \"none\",\n          user: \"1000:1000\",\n          capDrop: [\"ALL\"],\n          env: { LANG: \"C.UTF-8\" },\n          setupCommand: \"apt-get update && apt-get install -y git curl jq\",\n          // æ¯æ™ºèƒ½ä½“è¦†ç›–ï¼ˆå¤šæ™ºèƒ½ä½“ï¼‰ï¼šagents.list[].sandbox.docker.*\n          pidsLimit: 256,\n          memory: \"1g\",\n          memorySwap: \"2g\",\n          cpus: 1,\n          ulimits: {\n            nofile: { soft: 1024, hard: 2048 },\n            nproc: 256,\n          },\n          seccompProfile: \"/path/to/seccomp.json\",\n          apparmorProfile: \"openclaw-sandbox\",\n          dns: [\"1.1.1.1\", \"8.8.8.8\"],\n          extraHosts: [\"internal.service:10.0.0.5\"],\n          binds: [\"/var/run/docker.sock:/var/run/docker.sock\", \"/home/user/source:/source:rw\"],\n        },\n        browser: {\n          enabled: false,\n          image: \"openclaw-sandbox-browser:bookworm-slim\",\n          containerPrefix: \"openclaw-sbx-browser-\",\n          cdpPort: 9222,\n          vncPort: 5900,\n          noVncPort: 6080,\n          headless: false,\n          enableNoVnc: true,\n          allowHostControl: false,\n          allowedControlUrls: [\"http://10.0.0.42:18791\"],\n          allowedControlHosts: [\"browser.lab.local\", \"10.0.0.42\"],\n          allowedControlPorts: [18791],\n          autoStart: true,\n          autoStartTimeoutMs: 12000,\n        },\n        prune: {\n          idleHours: 24, // 0 ç¦ç”¨ç©ºé—²æ¸…ç†\n          maxAgeDays: 7, // 0 ç¦ç”¨æœ€å¤§å­˜æ´»æ—¶é—´æ¸…ç†\n        },\n      },\n    },\n  },\n  tools: {\n    sandbox: {\n      tools: {\n        allow: [\n          \"exec\",\n          \"process\",\n          \"read\",\n          \"write\",\n          \"edit\",\n          \"apply_patch\",\n          \"sessions_list\",\n          \"sessions_history\",\n          \"sessions_send\",\n          \"sessions_spawn\",\n          \"session_status\",\n        ],\n        deny: [\"browser\", \"canvas\", \"nodes\", \"cron\", \"discord\", \"gateway\"],\n      },\n    },\n  },\n}\n```",
    "é¦–æ¬¡æ„å»ºé»˜è®¤æ²™ç®±é•œåƒï¼š\n\n```bash\nscripts/sandbox-setup.sh\n```\n\næ³¨æ„ï¼šæ²™ç®±å®¹å™¨é»˜è®¤ä¸º `network: \"none\"`ï¼›å¦‚æœæ™ºèƒ½ä½“éœ€è¦å‡ºç«™è®¿é—®ï¼Œè¯·å°† `agents.defaults.sandbox.docker.network` è®¾ä¸º `\"bridge\"`ï¼ˆæˆ–ä½ çš„è‡ªå®šä¹‰ç½‘ç»œï¼‰ã€‚\n\næ³¨æ„ï¼šå…¥ç«™é™„ä»¶ä¼šæš‚å­˜åˆ°æ´»è·ƒå·¥ä½œåŒºçš„ `media/inbound/*` ä¸­ã€‚ä½¿ç”¨ `workspaceAccess: \"rw\"` æ—¶ï¼Œæ–‡ä»¶ä¼šå†™å…¥æ™ºèƒ½ä½“å·¥ä½œåŒºã€‚\n\næ³¨æ„ï¼š`docker.binds` æŒ‚è½½é¢å¤–çš„ä¸»æœºç›®å½•ï¼›å…¨å±€å’Œæ¯æ™ºèƒ½ä½“çš„ binds ä¼šåˆå¹¶ã€‚\n\næ„å»ºå¯é€‰çš„æµè§ˆå™¨é•œåƒï¼š\n\n```bash\nscripts/sandbox-browser-setup.sh\n```\n\nå½“ `agents.defaults.sandbox.browser.enabled=true` æ—¶ï¼Œæµè§ˆå™¨å·¥å…·ä½¿ç”¨æ²™ç®±åŒ–çš„\nChromium å®ä¾‹ï¼ˆCDPï¼‰ã€‚å¦‚æœå¯ç”¨äº† noVNCï¼ˆheadless=false æ—¶é»˜è®¤å¯ç”¨ï¼‰ï¼Œ\nnoVNC URL ä¼šæ³¨å…¥ç³»ç»Ÿæç¤ºä¸­ï¼Œä»¥ä¾¿æ™ºèƒ½ä½“å¯ä»¥å¼•ç”¨å®ƒã€‚\nè¿™ä¸éœ€è¦ä¸»é…ç½®ä¸­çš„ `browser.enabled`ï¼›æ²™ç®±æ§åˆ¶ URL æŒ‰ä¼šè¯æ³¨å…¥ã€‚\n\n`agents.defaults.sandbox.browser.allowHostControl`ï¼ˆé»˜è®¤ï¼šfalseï¼‰å…è®¸\næ²™ç®±ä¼šè¯é€šè¿‡æµè§ˆå™¨å·¥å…·æ˜¾å¼è®¿é—®**ä¸»æœº**æµè§ˆå™¨æ§åˆ¶æœåŠ¡å™¨\nï¼ˆ`target: \"host\"`ï¼‰ã€‚å¦‚æœä½ éœ€è¦ä¸¥æ ¼çš„æ²™ç®±éš”ç¦»ï¼Œè¯·ä¿æŒå…³é—­ã€‚\n\nè¿œç¨‹æ§åˆ¶ç™½åå•ï¼š\n\n- `allowedControlUrls`ï¼š`target: \"custom\"` å…è®¸çš„ç²¾ç¡®æ§åˆ¶ URLã€‚\n- `allowedControlHosts`ï¼šå…è®¸çš„ä¸»æœºåï¼ˆä»…ä¸»æœºåï¼Œæ— ç«¯å£ï¼‰ã€‚\n- `allowedControlPorts`ï¼šå…è®¸çš„ç«¯å£ï¼ˆé»˜è®¤ï¼šhttp=80ï¼Œhttps=443ï¼‰ã€‚\n  é»˜è®¤ï¼šæ‰€æœ‰ç™½åå•æœªè®¾ç½®ï¼ˆæ— é™åˆ¶ï¼‰ã€‚`allowHostControl` é»˜è®¤ä¸º falseã€‚\n\n### `models`ï¼ˆè‡ªå®šä¹‰æä¾›å•† + åŸºç¡€ URLï¼‰",
    "OpenClaw ä½¿ç”¨ **pi-coding-agent** æ¨¡å‹ç›®å½•ã€‚ä½ å¯ä»¥é€šè¿‡ç¼–å†™\n`~/.openclaw/agents/<agentId>/agent/models.json` æˆ–åœ¨ OpenClaw é…ç½®ä¸­çš„ `models.providers` ä¸‹å®šä¹‰ç›¸åŒçš„ schema æ¥æ·»åŠ è‡ªå®šä¹‰æä¾›å•†ï¼ˆLiteLLMã€æœ¬åœ° OpenAI å…¼å®¹æœåŠ¡å™¨ã€Anthropic ä»£ç†ç­‰ï¼‰ã€‚\næŒ‰æä¾›å•†çš„æ¦‚è¿° + ç¤ºä¾‹ï¼š[/concepts/model-providers](/concepts/model-providers)ã€‚\n\nå½“å­˜åœ¨ `models.providers` æ—¶ï¼ŒOpenClaw åœ¨å¯åŠ¨æ—¶å°† `models.json` å†™å…¥/åˆå¹¶åˆ°\n`~/.openclaw/agents/<agentId>/agent/`ï¼š\n\n- é»˜è®¤è¡Œä¸ºï¼š**åˆå¹¶**ï¼ˆä¿ç•™ç°æœ‰æä¾›å•†ï¼ŒæŒ‰åç§°è¦†ç›–ï¼‰\n- è®¾ä¸º `models.mode: \"replace\"` è¦†ç›–æ–‡ä»¶å†…å®¹\n\né€šè¿‡ `agents.defaults.model.primary`ï¼ˆprovider/modelï¼‰é€‰æ‹©æ¨¡å‹ã€‚",
    "```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"custom-proxy/llama-3.1-8b\" },\n      models: {\n        \"custom-proxy/llama-3.1-8b\": {},\n      },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      \"custom-proxy\": {\n        baseUrl: \"http://localhost:4000/v1\",\n        apiKey: \"LITELLM_KEY\",\n        api: \"openai-completions\",\n        models: [\n          {\n            id: \"llama-3.1-8b\",\n            name: \"Llama 3.1 8B\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 128000,\n            maxTokens: 32000,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### OpenCode Zenï¼ˆå¤šæ¨¡å‹ä»£ç†ï¼‰\n\nOpenCode Zen æ˜¯ä¸€ä¸ªå…·æœ‰æ¯æ¨¡å‹ç«¯ç‚¹çš„å¤šæ¨¡å‹ç½‘å…³ã€‚OpenClaw ä½¿ç”¨\npi-ai å†…ç½®çš„ `opencode` æä¾›å•†ï¼›ä» https://opencode.ai/auth è®¾ç½® `OPENCODE_API_KEY`ï¼ˆæˆ–\n`OPENCODE_ZEN_API_KEY`ï¼‰ã€‚\n\nè¯´æ˜ï¼š",
    "- æ¨¡å‹å¼•ç”¨ä½¿ç”¨ `opencode/<modelId>`ï¼ˆç¤ºä¾‹ï¼š`opencode/claude-opus-4-5`ï¼‰ã€‚\n- å¦‚æœä½ é€šè¿‡ `agents.defaults.models` å¯ç”¨ç™½åå•ï¼Œè¯·æ·»åŠ ä½ è®¡åˆ’ä½¿ç”¨çš„æ¯ä¸ªæ¨¡å‹ã€‚\n- å¿«æ·æ–¹å¼ï¼š`openclaw onboard --auth-choice opencode-zen`ã€‚\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"opencode/claude-opus-4-5\" },\n      models: { \"opencode/claude-opus-4-5\": { alias: \"Opus\" } },\n    },\n  },\n}\n```\n\n### Z.AIï¼ˆGLM-4.7ï¼‰â€” æä¾›å•†åˆ«åæ”¯æŒ\n\nZ.AI æ¨¡å‹é€šè¿‡å†…ç½®çš„ `zai` æä¾›å•†æä¾›ã€‚åœ¨ç¯å¢ƒä¸­è®¾ç½® `ZAI_API_KEY`\nå¹¶é€šè¿‡ provider/model å¼•ç”¨æ¨¡å‹ã€‚\n\nå¿«æ·æ–¹å¼ï¼š`openclaw onboard --auth-choice zai-api-key`ã€‚\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"zai/glm-4.7\" },\n      models: { \"zai/glm-4.7\": {} },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- `z.ai/*` å’Œ `z-ai/*` æ˜¯æ¥å—çš„åˆ«åï¼Œè§„èŒƒåŒ–ä¸º `zai/*`ã€‚\n- å¦‚æœç¼ºå°‘ `ZAI_API_KEY`ï¼Œå¯¹ `zai/*` çš„è¯·æ±‚å°†åœ¨è¿è¡Œæ—¶å› è®¤è¯é”™è¯¯å¤±è´¥ã€‚\n- ç¤ºä¾‹é”™è¯¯ï¼š`No API key found for provider \"zai\".`\n- Z.AI çš„é€šç”¨ API ç«¯ç‚¹æ˜¯ `https://api.z.ai/api/paas/v4`ã€‚GLM ç¼–ç \n  è¯·æ±‚ä½¿ç”¨ä¸“ç”¨ç¼–ç ç«¯ç‚¹ `https://api.z.ai/api/coding/paas/v4`ã€‚\n  å†…ç½®çš„ `zai` æä¾›å•†ä½¿ç”¨ç¼–ç ç«¯ç‚¹ã€‚å¦‚æœä½ éœ€è¦é€šç”¨\n  ç«¯ç‚¹ï¼Œè¯·åœ¨ `models.providers` ä¸­å®šä¹‰è‡ªå®šä¹‰æä¾›å•†å¹¶è¦†ç›–åŸºç¡€ URL\n  ï¼ˆå‚è§ä¸Šæ–¹è‡ªå®šä¹‰æä¾›å•†éƒ¨åˆ†ï¼‰ã€‚\n- åœ¨æ–‡æ¡£/é…ç½®ä¸­ä½¿ç”¨å‡å ä½ç¬¦ï¼›åˆ‡å‹¿æäº¤çœŸå® API å¯†é’¥ã€‚\n\n### Moonshot AIï¼ˆKimiï¼‰\n\nä½¿ç”¨ Moonshot çš„ OpenAI å…¼å®¹ç«¯ç‚¹ï¼š",
    "```json5\n{\n  env: { MOONSHOT_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"moonshot/kimi-k2.5\" },\n      models: { \"moonshot/kimi-k2.5\": { alias: \"Kimi K2.5\" } },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      moonshot: {\n        baseUrl: \"https://api.moonshot.ai/v1\",\n        apiKey: \"${MOONSHOT_API_KEY}\",\n        api: \"openai-completions\",\n        models: [\n          {\n            id: \"kimi-k2.5\",\n            name: \"Kimi K2.5\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- åœ¨ç¯å¢ƒä¸­è®¾ç½® `MOONSHOT_API_KEY` æˆ–ä½¿ç”¨ `openclaw onboard --auth-choice moonshot-api-key`ã€‚\n- æ¨¡å‹å¼•ç”¨ï¼š`moonshot/kimi-k2.5`ã€‚\n- å¦‚éœ€ä¸­å›½ç«¯ç‚¹ï¼Œä½¿ç”¨ `https://api.moonshot.cn/v1`ã€‚\n\n### Kimi Coding\n\nä½¿ç”¨ Moonshot AI çš„ Kimi Coding ç«¯ç‚¹ï¼ˆAnthropic å…¼å®¹ï¼Œå†…ç½®æä¾›å•†ï¼‰ï¼š",
    "```json5\n{\n  env: { KIMI_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"kimi-coding/k2p5\" },\n      models: { \"kimi-coding/k2p5\": { alias: \"Kimi K2.5\" } },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- åœ¨ç¯å¢ƒä¸­è®¾ç½® `KIMI_API_KEY` æˆ–ä½¿ç”¨ `openclaw onboard --auth-choice kimi-code-api-key`ã€‚\n- æ¨¡å‹å¼•ç”¨ï¼š`kimi-coding/k2p5`ã€‚\n\n### Syntheticï¼ˆAnthropic å…¼å®¹ï¼‰\n\nä½¿ç”¨ Synthetic çš„ Anthropic å…¼å®¹ç«¯ç‚¹ï¼š",
    "```json5\n{\n  env: { SYNTHETIC_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"synthetic/hf:MiniMaxAI/MiniMax-M2.1\" },\n      models: { \"synthetic/hf:MiniMaxAI/MiniMax-M2.1\": { alias: \"MiniMax M2.1\" } },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      synthetic: {\n        baseUrl: \"https://api.synthetic.new/anthropic\",\n        apiKey: \"${SYNTHETIC_API_KEY}\",\n        api: \"anthropic-messages\",\n        models: [\n          {\n            id: \"hf:MiniMaxAI/MiniMax-M2.1\",\n            name: \"MiniMax M2.1\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 192000,\n            maxTokens: 65536,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š\n\n- è®¾ç½® `SYNTHETIC_API_KEY` æˆ–ä½¿ç”¨ `openclaw onboard --auth-choice synthetic-api-key`ã€‚\n- æ¨¡å‹å¼•ç”¨ï¼š`synthetic/hf:MiniMaxAI/MiniMax-M2.1`ã€‚\n- åŸºç¡€ URL åº”çœç•¥ `/v1`ï¼Œå› ä¸º Anthropic å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨é™„åŠ ã€‚\n\n### æœ¬åœ°æ¨¡å‹ï¼ˆLM Studioï¼‰â€” æ¨èè®¾ç½®",
    "å‚è§ [/gateway/local-models](/gateway/local-models) äº†è§£å½“å‰æœ¬åœ°æŒ‡å—ã€‚ç®€è€Œè¨€ä¹‹ï¼šåœ¨é«˜æ€§èƒ½ç¡¬ä»¶ä¸Šé€šè¿‡ LM Studio Responses API è¿è¡Œ MiniMax M2.1ï¼›ä¿ç•™æ‰˜ç®¡æ¨¡å‹åˆå¹¶ä½œä¸ºå›é€€ã€‚\n\n### MiniMax M2.1\n\nä¸é€šè¿‡ LM Studio ç›´æ¥ä½¿ç”¨ MiniMax M2.1ï¼š\n\n```json5\n{\n  agent: {\n    model: { primary: \"minimax/MiniMax-M2.1\" },\n    models: {\n      \"anthropic/claude-opus-4-5\": { alias: \"Opus\" },\n      \"minimax/MiniMax-M2.1\": { alias: \"Minimax\" },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      minimax: {\n        baseUrl: \"https://api.minimax.io/anthropic\",\n        apiKey: \"${MINIMAX_API_KEY}\",\n        api: \"anthropic-messages\",\n        models: [\n          {\n            id: \"MiniMax-M2.1\",\n            name: \"MiniMax M2.1\",\n            reasoning: false,\n            input: [\"text\"],\n            // å®šä»·ï¼šå¦‚éœ€ç²¾ç¡®è´¹ç”¨è·Ÿè¸ªï¼Œè¯·åœ¨ models.json ä¸­æ›´æ–°ã€‚\n            cost: { input: 15, output: 60, cacheRead: 2, cacheWrite: 10 },\n            contextWindow: 200000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- è®¾ç½® `MINIMAX_API_KEY` ç¯å¢ƒå˜é‡æˆ–ä½¿ç”¨ `openclaw onboard --auth-choice minimax-api`ã€‚\n- å¯ç”¨æ¨¡å‹ï¼š`MiniMax-M2.1`ï¼ˆé»˜è®¤ï¼‰ã€‚\n- å¦‚éœ€ç²¾ç¡®è´¹ç”¨è·Ÿè¸ªï¼Œè¯·åœ¨ `models.json` ä¸­æ›´æ–°å®šä»·ã€‚\n\n### Cerebrasï¼ˆGLM 4.6 / 4.7ï¼‰\n\né€šè¿‡ Cerebras çš„ OpenAI å…¼å®¹ç«¯ç‚¹ä½¿ç”¨ï¼š\n\n```json5\n{\n  env: { CEREBRAS_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: {\n        primary: \"cerebras/zai-glm-4.7\",\n        fallbacks: [\"cerebras/zai-glm-4.6\"],\n      },\n      models: {\n        \"cerebras/zai-glm-4.7\": { alias: \"GLM 4.7 (Cerebras)\" },\n        \"cerebras/zai-glm-4.6\": { alias: \"GLM 4.6 (Cerebras)\" },\n      },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      cerebras: {\n        baseUrl: \"https://api.cerebras.ai/v1\",\n        apiKey: \"${CEREBRAS_API_KEY}\",\n        api: \"openai-completions\",\n        models: [\n          { id: \"zai-glm-4.7\", name: \"GLM 4.7 (Cerebras)\" },\n          { id: \"zai-glm-4.6\", name: \"GLM 4.6 (Cerebras)\" },\n        ],\n      },\n    },\n  },\n}\n```\n\nè¯´æ˜ï¼š",
    "- Cerebras ä½¿ç”¨ `cerebras/zai-glm-4.7`ï¼›Z.AI ç›´è¿ä½¿ç”¨ `zai/glm-4.7`ã€‚\n- åœ¨ç¯å¢ƒæˆ–é…ç½®ä¸­è®¾ç½® `CEREBRAS_API_KEY`ã€‚\n\nè¯´æ˜ï¼š\n\n- æ”¯æŒçš„ APIï¼š`openai-completions`ã€`openai-responses`ã€`anthropic-messages`ã€\n  `google-generative-ai`\n- å¯¹äºè‡ªå®šä¹‰è®¤è¯éœ€æ±‚ä½¿ç”¨ `authHeader: true` + `headers`ã€‚\n- å¦‚æœä½ å¸Œæœ› `models.json` å­˜å‚¨åœ¨å…¶ä»–ä½ç½®ï¼Œè¯·ä½¿ç”¨ `OPENCLAW_AGENT_DIR`ï¼ˆæˆ– `PI_CODING_AGENT_DIR`ï¼‰è¦†ç›–æ™ºèƒ½ä½“é…ç½®æ ¹ç›®å½•ï¼ˆé»˜è®¤ï¼š`~/.openclaw/agents/main/agent`ï¼‰ã€‚\n\n### `session`\n\næ§åˆ¶ä¼šè¯ä½œç”¨åŸŸã€é‡ç½®ç­–ç•¥ã€é‡ç½®è§¦å‘å™¨ä»¥åŠä¼šè¯å­˜å‚¨çš„å†™å…¥ä½ç½®ã€‚",
    "```json5\n{\n  session: {\n    scope: \"per-sender\",\n    dmScope: \"main\",\n    identityLinks: {\n      alice: [\"telegram:123456789\", \"discord:987654321012345678\"],\n    },\n    reset: {\n      mode: \"daily\",\n      atHour: 4,\n      idleMinutes: 60,\n    },\n    resetByType: {\n      thread: { mode: \"daily\", atHour: 4 },\n      dm: { mode: \"idle\", idleMinutes: 240 },\n      group: { mode: \"idle\", idleMinutes: 120 },\n    },\n    resetTriggers: [\"/new\", \"/reset\"],\n    // é»˜è®¤å·²æŒ‰æ™ºèƒ½ä½“å­˜å‚¨åœ¨ ~/.openclaw/agents/<agentId>/sessions/sessions.json\n    // ä½ å¯ä»¥ä½¿ç”¨ {agentId} æ¨¡æ¿è¿›è¡Œè¦†ç›–ï¼š\n    store: \"~/.openclaw/agents/{agentId}/sessions/sessions.json\",\n    // ç§èŠæŠ˜å åˆ° agent:<agentId>:<mainKey>ï¼ˆé»˜è®¤ï¼š\"main\"ï¼‰ã€‚\n    mainKey: \"main\",\n    agentToAgent: {\n      // è¯·æ±‚è€…/ç›®æ ‡ä¹‹é—´çš„æœ€å¤§ä¹’ä¹“å›å¤è½®æ¬¡ï¼ˆ0â€“5ï¼‰ã€‚\n      maxPingPongTurns: 5,\n    },\n    sendPolicy: {\n      rules: [{ action: \"deny\", match: { channel: \"discord\", chatType: \"group\" } }],\n      default: \"allow\",\n    },\n  },\n}\n```\n\nå­—æ®µï¼š",
    "- `mainKey`ï¼šç§èŠæ¡¶é”®ï¼ˆé»˜è®¤ï¼š`\"main\"`ï¼‰ã€‚å½“ä½ æƒ³\"é‡å‘½å\"ä¸»ç§èŠçº¿ç¨‹è€Œä¸æ›´æ”¹ `agentId` æ—¶æœ‰ç”¨ã€‚\n  - æ²™ç®±è¯´æ˜ï¼š`agents.defaults.sandbox.mode: \"non-main\"` ä½¿ç”¨æ­¤é”®æ£€æµ‹ä¸»ä¼šè¯ã€‚ä»»ä½•ä¸åŒ¹é… `mainKey` çš„ä¼šè¯é”®ï¼ˆç¾¤ç»„/é¢‘é“ï¼‰éƒ½ä¼šè¢«æ²™ç®±åŒ–ã€‚\n- `dmScope`ï¼šç§èŠä¼šè¯å¦‚ä½•åˆ†ç»„ï¼ˆé»˜è®¤ï¼š`\"main\"`ï¼‰ã€‚\n  - `main`ï¼šæ‰€æœ‰ç§èŠå…±äº«ä¸»ä¼šè¯ä»¥ä¿æŒè¿ç»­æ€§ã€‚\n  - `per-peer`ï¼šæŒ‰å‘é€è€… id è·¨æ¸ é“éš”ç¦»ç§èŠã€‚\n  - `per-channel-peer`ï¼šæŒ‰æ¸ é“ + å‘é€è€…éš”ç¦»ç§èŠï¼ˆæ¨èç”¨äºå¤šç”¨æˆ·æ”¶ä»¶ç®±ï¼‰ã€‚\n  - `per-account-channel-peer`ï¼šæŒ‰è´¦å· + æ¸ é“ + å‘é€è€…éš”ç¦»ç§èŠï¼ˆæ¨èç”¨äºå¤šè´¦å·æ”¶ä»¶ç®±ï¼‰ã€‚\n- `identityLinks`ï¼šå°†è§„èŒƒ id æ˜ å°„åˆ°æä¾›å•†å‰ç¼€çš„å¯¹ç­‰æ–¹ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨ `per-peer`ã€`per-channel-peer` æˆ– `per-account-channel-peer` æ—¶åŒä¸€äººè·¨æ¸ é“å…±äº«ç§èŠä¼šè¯ã€‚\n  - ç¤ºä¾‹ï¼š`alice: [\"telegram:123456789\", \"discord:987654321012345678\"]`ã€‚\n- `reset`ï¼šä¸»é‡ç½®ç­–ç•¥ã€‚é»˜è®¤ä¸º Gateway ç½‘å…³ä¸»æœºä¸Šæœ¬åœ°æ—¶é—´å‡Œæ™¨ 4:00 æ¯æ—¥é‡ç½®ã€‚\n  - `mode`ï¼š`daily` æˆ– `idle`ï¼ˆå½“å­˜åœ¨ `reset` æ—¶é»˜è®¤ï¼š`daily`ï¼‰ã€‚\n  - `atHour`ï¼šæœ¬åœ°å°æ—¶ï¼ˆ0-23ï¼‰ä½œä¸ºæ¯æ—¥é‡ç½®è¾¹ç•Œã€‚\n  - `idleMinutes`ï¼šæ»‘åŠ¨ç©ºé—²çª—å£ï¼ˆåˆ†é’Ÿï¼‰ã€‚å½“ daily + idle éƒ½é…ç½®æ—¶ï¼Œå…ˆåˆ°æœŸçš„è·èƒœã€‚\n- `resetByType`ï¼š`dm`ã€`group` å’Œ `thread` çš„æ¯ä¼šè¯è¦†ç›–ã€‚\n  - å¦‚æœä½ åªè®¾ç½®äº†æ—§ç‰ˆ `session.idleMinutes` è€Œæ²¡æœ‰ä»»ä½• `reset`/`resetByType`ï¼ŒOpenClaw ä¿æŒä»…ç©ºé—²æ¨¡å¼ä»¥å‘åå…¼å®¹ã€‚\n- `heartbeatIdleMinutes`ï¼šå¯é€‰çš„å¿ƒè·³æ£€æŸ¥ç©ºé—²è¦†ç›–ï¼ˆå¯ç”¨æ—¶æ¯æ—¥é‡ç½®ä»ç„¶é€‚ç”¨ï¼‰ã€‚\n- `agentToAgent.maxPingPongTurns`ï¼šè¯·æ±‚è€…/ç›®æ ‡ä¹‹é—´çš„æœ€å¤§å›å¤è½®æ¬¡ï¼ˆ0â€“5ï¼Œé»˜è®¤ 5ï¼‰ã€‚\n- `sendPolicy.default`ï¼šæ— è§„åˆ™åŒ¹é…æ—¶çš„ `allow` æˆ– `deny` å›é€€ã€‚\n- `sendPolicy.rules[]`ï¼šæŒ‰ `channel`ã€`chatType`ï¼ˆ`direct|group|room`ï¼‰æˆ– `keyPrefix`ï¼ˆä¾‹å¦‚ `cron:`ï¼‰åŒ¹é…ã€‚ç¬¬ä¸€ä¸ª deny è·èƒœï¼›å¦åˆ™ allowã€‚",
    "### `skills`ï¼ˆSkills é…ç½®ï¼‰\n\næ§åˆ¶å†…ç½®ç™½åå•ã€å®‰è£…åå¥½ã€é¢å¤– Skills æ–‡ä»¶å¤¹å’Œæ¯ Skills è¦†ç›–ã€‚é€‚ç”¨äº**å†…ç½®**Skills å’Œ `~/.openclaw/skills`ï¼ˆå·¥ä½œåŒº Skills åœ¨åç§°å†²çªæ—¶ä»ç„¶ä¼˜å…ˆï¼‰ã€‚\n\nå­—æ®µï¼š\n\n- `allowBundled`ï¼šå¯é€‰çš„**ä»…å†…ç½®**Skills ç™½åå•ã€‚å¦‚æœè®¾ç½®ï¼Œä»…é‚£äº›å†…ç½® Skills ç¬¦åˆæ¡ä»¶ï¼ˆç®¡ç†/å·¥ä½œåŒº Skills ä¸å—å½±å“ï¼‰ã€‚\n- `load.extraDirs`ï¼šé¢å¤–è¦æ‰«æçš„ Skills ç›®å½•ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ã€‚\n- `install.preferBrew`ï¼šå¯ç”¨æ—¶ä¼˜å…ˆä½¿ç”¨ brew å®‰è£…ç¨‹åºï¼ˆé»˜è®¤ï¼štrueï¼‰ã€‚\n- `install.nodeManager`ï¼šnode å®‰è£…åå¥½ï¼ˆ`npm` | `pnpm` | `yarn`ï¼Œé»˜è®¤ï¼šnpmï¼‰ã€‚\n- `entries.<skillKey>`ï¼šæ¯ Skills é…ç½®è¦†ç›–ã€‚\n\næ¯ Skills å­—æ®µï¼š\n\n- `enabled`ï¼šè®¾ä¸º `false` ç¦ç”¨ Skillsï¼Œå³ä½¿å®ƒæ˜¯å†…ç½®/å·²å®‰è£…çš„ã€‚\n- `env`ï¼šä¸ºæ™ºèƒ½ä½“è¿è¡Œæ³¨å…¥çš„ç¯å¢ƒå˜é‡ï¼ˆä»…åœ¨å°šæœªè®¾ç½®æ—¶ï¼‰ã€‚\n- `apiKey`ï¼šå¯¹äºå£°æ˜äº†ä¸»ç¯å¢ƒå˜é‡çš„ Skills çš„å¯é€‰ä¾¿åˆ©å­—æ®µï¼ˆä¾‹å¦‚ `nano-banana-pro` â†’ `GEMINI_API_KEY`ï¼‰ã€‚\n\nç¤ºä¾‹ï¼š",
    "```json5\n{\n  skills: {\n    allowBundled: [\"gemini\", \"peekaboo\"],\n    load: {\n      extraDirs: [\"~/Projects/agent-scripts/skills\", \"~/Projects/oss/some-skill-pack/skills\"],\n    },\n    install: {\n      preferBrew: true,\n      nodeManager: \"npm\",\n    },\n    entries: {\n      \"nano-banana-pro\": {\n        apiKey: \"GEMINI_KEY_HERE\",\n        env: {\n          GEMINI_API_KEY: \"GEMINI_KEY_HERE\",\n        },\n      },\n      peekaboo: { enabled: true },\n      sag: { enabled: false },\n    },\n  },\n}\n```\n\n### `plugins`ï¼ˆæ‰©å±•ï¼‰\n\næ§åˆ¶æ’ä»¶å‘ç°ã€å…è®¸/æ‹’ç»å’Œæ¯æ’ä»¶é…ç½®ã€‚æ’ä»¶ä» `~/.openclaw/extensions`ã€`<workspace>/.openclaw/extensions` ä»¥åŠä»»ä½• `plugins.load.paths` æ¡ç›®åŠ è½½ã€‚**é…ç½®æ›´æ”¹éœ€è¦é‡å¯ Gateway ç½‘å…³ã€‚**\nå‚è§ [/plugin](/plugin) äº†è§£è¯¦æƒ…ã€‚\n\nå­—æ®µï¼š\n\n- `enabled`ï¼šæ’ä»¶åŠ è½½çš„ä¸»å¼€å…³ï¼ˆé»˜è®¤ï¼štrueï¼‰ã€‚\n- `allow`ï¼šå¯é€‰çš„æ’ä»¶ id ç™½åå•ï¼›è®¾ç½®åä»…åŠ è½½åˆ—å‡ºçš„æ’ä»¶ã€‚\n- `deny`ï¼šå¯é€‰çš„æ’ä»¶ id æ‹’ç»åˆ—è¡¨ï¼ˆdeny ä¼˜å…ˆï¼‰ã€‚\n- `load.paths`ï¼šè¦åŠ è½½çš„é¢å¤–æ’ä»¶æ–‡ä»¶æˆ–ç›®å½•ï¼ˆç»å¯¹è·¯å¾„æˆ– `~`ï¼‰ã€‚\n- `entries.<pluginId>`ï¼šæ¯æ’ä»¶è¦†ç›–ã€‚\n  - `enabled`ï¼šè®¾ä¸º `false` ç¦ç”¨ã€‚\n  - `config`ï¼šæ’ä»¶ç‰¹å®šçš„é…ç½®å¯¹è±¡ï¼ˆå¦‚æœæä¾›ï¼Œç”±æ’ä»¶éªŒè¯ï¼‰ã€‚\n\nç¤ºä¾‹ï¼š",
    "```json5\n{\n  plugins: {\n    enabled: true,\n    allow: [\"voice-call\"],\n    load: {\n      paths: [\"~/Projects/oss/voice-call-extension\"],\n    },\n    entries: {\n      \"voice-call\": {\n        enabled: true,\n        config: {\n          provider: \"twilio\",\n        },\n      },\n    },\n  },\n}\n```\n\n### `browser`ï¼ˆOpenClaw ç®¡ç†çš„æµè§ˆå™¨ï¼‰\n\nOpenClaw å¯ä»¥ä¸º OpenClaw å¯åŠ¨ä¸€ä¸ª**ä¸“ç”¨ã€éš”ç¦»çš„** Chrome/Brave/Edge/Chromium å®ä¾‹å¹¶æš´éœ²ä¸€ä¸ªå°å‹ local loopback æ§åˆ¶æœåŠ¡ã€‚\né…ç½®æ–‡ä»¶å¯ä»¥é€šè¿‡ `profiles.<name>.cdpUrl` æŒ‡å‘**è¿œç¨‹** Chromium æµè§ˆå™¨ã€‚è¿œç¨‹é…ç½®æ–‡ä»¶ä¸ºä»…é™„åŠ æ¨¡å¼ï¼ˆstart/stop/reset è¢«ç¦ç”¨ï¼‰ã€‚\n\n`browser.cdpUrl` ä¿ç•™ç”¨äºæ—§ç‰ˆå•é…ç½®æ–‡ä»¶é…ç½®ï¼Œä»¥åŠä½œä¸ºä»…è®¾ç½® `cdpPort` çš„é…ç½®æ–‡ä»¶çš„åŸºç¡€ scheme/hostã€‚\n\né»˜è®¤å€¼ï¼š\n\n- enabledï¼š`true`\n- evaluateEnabledï¼š`true`ï¼ˆè®¾ä¸º `false` ç¦ç”¨ `act:evaluate` å’Œ `wait --fn`ï¼‰\n- æ§åˆ¶æœåŠ¡ï¼šä»… local loopbackï¼ˆç«¯å£ä» `gateway.port` æ´¾ç”Ÿï¼Œé»˜è®¤ `18791`ï¼‰\n- CDP URLï¼š`http://127.0.0.1:18792`ï¼ˆæ§åˆ¶æœåŠ¡ + 1ï¼Œæ—§ç‰ˆå•é…ç½®æ–‡ä»¶ï¼‰\n- é…ç½®æ–‡ä»¶é¢œè‰²ï¼š`#FF4500`ï¼ˆé¾™è™¾æ©™ï¼‰\n- æ³¨æ„ï¼šæ§åˆ¶æœåŠ¡å™¨ç”±è¿è¡Œä¸­çš„ Gateway ç½‘å…³ï¼ˆOpenClaw.app èœå•æ æˆ– `openclaw gateway`ï¼‰å¯åŠ¨ã€‚\n- è‡ªåŠ¨æ£€æµ‹é¡ºåºï¼šå¦‚æœä¸º Chromium å†…æ ¸åˆ™ä½¿ç”¨é»˜è®¤æµè§ˆå™¨ï¼›å¦åˆ™ Chrome â†’ Brave â†’ Edge â†’ Chromium â†’ Chrome Canaryã€‚",
    "```json5\n{\n  browser: {\n    enabled: true,\n    evaluateEnabled: true,\n    // cdpUrl: \"http://127.0.0.1:18792\", // æ—§ç‰ˆå•é…ç½®æ–‡ä»¶è¦†ç›–\n    defaultProfile: \"chrome\",\n    profiles: {\n      openclaw: { cdpPort: 18800, color: \"#FF4500\" },\n      work: { cdpPort: 18801, color: \"#0066CC\" },\n      remote: { cdpUrl: \"http://10.0.0.42:9222\", color: \"#00AA00\" },\n    },\n    color: \"#FF4500\",\n    // é«˜çº§ï¼š\n    // headless: false,\n    // noSandbox: false,\n    // executablePath: \"/Applications/Brave Browser.app/Contents/MacOS/Brave Browser\",\n    // attachOnly: false, // å°†è¿œç¨‹ CDP éš§é“åˆ° localhost æ—¶è®¾ä¸º true\n  },\n}\n```\n\n### `ui`ï¼ˆå¤–è§‚ï¼‰\n\nåŸç”Ÿåº”ç”¨ç”¨äº UI å¤–è§‚çš„å¯é€‰å¼ºè°ƒè‰²ï¼ˆä¾‹å¦‚ Talk æ¨¡å¼æ°”æ³¡ç€è‰²ï¼‰ã€‚\n\nå¦‚æœæœªè®¾ç½®ï¼Œå®¢æˆ·ç«¯å›é€€åˆ°æŸ”å’Œçš„æµ…è“è‰²ã€‚\n\n```json5\n{\n  ui: {\n    seamColor: \"#FF4500\", // åå…­è¿›åˆ¶ï¼ˆRRGGBB æˆ– #RRGGBBï¼‰\n    // å¯é€‰ï¼šæ§åˆ¶å° UI åŠ©æ‰‹èº«ä»½è¦†ç›–ã€‚\n    // å¦‚æœæœªè®¾ç½®ï¼Œæ§åˆ¶å° UI ä½¿ç”¨æ´»è·ƒæ™ºèƒ½ä½“çš„èº«ä»½ï¼ˆé…ç½®æˆ– IDENTITY.mdï¼‰ã€‚\n    assistant: {\n      name: \"OpenClaw\",\n      avatar: \"CB\", // è¡¨æƒ…ã€çŸ­æ–‡æœ¬ï¼Œæˆ–å›¾ç‰‡ URL/data URI\n    },\n  },\n}\n```\n\n### `gateway`ï¼ˆGateway ç½‘å…³æœåŠ¡å™¨æ¨¡å¼ + ç»‘å®šï¼‰\n\nä½¿ç”¨ `gateway.mode` æ˜ç¡®å£°æ˜æ­¤æœºå™¨æ˜¯å¦åº”è¿è¡Œ Gateway ç½‘å…³ã€‚\n\né»˜è®¤å€¼ï¼š",
    "- modeï¼š**æœªè®¾ç½®**ï¼ˆè§†ä¸º\"ä¸è‡ªåŠ¨å¯åŠ¨\"ï¼‰\n- bindï¼š`loopback`\n- portï¼š`18789`ï¼ˆWS + HTTP å•ç«¯å£ï¼‰\n\n```json5\n{\n  gateway: {\n    mode: \"local\", // æˆ– \"remote\"\n    port: 18789, // WS + HTTP å¤šè·¯å¤ç”¨\n    bind: \"loopback\",\n    // controlUi: { enabled: true, basePath: \"/openclaw\" }\n    // auth: { mode: \"token\", token: \"your-token\" } // token æ§åˆ¶ WS + æ§åˆ¶å° UI è®¿é—®\n    // tailscale: { mode: \"off\" | \"serve\" | \"funnel\" }\n  },\n}\n```\n\næ§åˆ¶å° UI åŸºç¡€è·¯å¾„ï¼š\n\n- `gateway.controlUi.basePath` è®¾ç½®æ§åˆ¶å° UI æä¾›æœåŠ¡çš„ URL å‰ç¼€ã€‚\n- ç¤ºä¾‹ï¼š`\"/ui\"`ã€`\"/openclaw\"`ã€`\"/apps/openclaw\"`ã€‚\n- é»˜è®¤ï¼šæ ¹è·¯å¾„ï¼ˆ`/`ï¼‰ï¼ˆä¸å˜ï¼‰ã€‚\n- `gateway.controlUi.root` è®¾ç½®æ§åˆ¶å° UI èµ„äº§çš„æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•ï¼ˆé»˜è®¤ï¼š`dist/control-ui`ï¼‰ã€‚\n- `gateway.controlUi.allowInsecureAuth` å…è®¸åœ¨çœç•¥è®¾å¤‡èº«ä»½æ—¶å¯¹æ§åˆ¶å° UI è¿›è¡Œä»… token è®¤è¯ï¼ˆé€šå¸¸é€šè¿‡ HTTPï¼‰ã€‚é»˜è®¤ï¼š`false`ã€‚å»ºè®®ä½¿ç”¨ HTTPSï¼ˆTailscale Serveï¼‰æˆ– `127.0.0.1`ã€‚\n- `gateway.controlUi.dangerouslyDisableDeviceAuth` ç¦ç”¨æ§åˆ¶å° UI çš„è®¾å¤‡èº«ä»½æ£€æŸ¥ï¼ˆä»… token/å¯†ç ï¼‰ã€‚é»˜è®¤ï¼š`false`ã€‚ä»…ç”¨äºç´§æ€¥æƒ…å†µã€‚\n\nç›¸å…³æ–‡æ¡£ï¼š\n\n- [æ§åˆ¶å° UI](/web/control-ui)\n- [Web æ¦‚è¿°](/web)\n- [Tailscale](/gateway/tailscale)\n- [è¿œç¨‹è®¿é—®](/gateway/remote)\n\nä¿¡ä»»çš„ä»£ç†ï¼š",
    "- `gateway.trustedProxies`ï¼šåœ¨ Gateway ç½‘å…³å‰é¢ç»ˆæ­¢ TLS çš„åå‘ä»£ç† IP åˆ—è¡¨ã€‚\n- å½“è¿æ¥æ¥è‡ªè¿™äº› IP ä¹‹ä¸€æ—¶ï¼ŒOpenClaw ä½¿ç”¨ `x-forwarded-for`ï¼ˆæˆ– `x-real-ip`ï¼‰æ¥ç¡®å®šå®¢æˆ·ç«¯ IPï¼Œç”¨äºæœ¬åœ°é…å¯¹æ£€æŸ¥å’Œ HTTP è®¤è¯/æœ¬åœ°æ£€æŸ¥ã€‚\n- ä»…åˆ—å‡ºä½ å®Œå…¨æ§åˆ¶çš„ä»£ç†ï¼Œå¹¶ç¡®ä¿å®ƒä»¬**è¦†ç›–**ä¼ å…¥çš„ `x-forwarded-for`ã€‚\n\nè¯´æ˜ï¼š\n\n- `openclaw gateway` æ‹’ç»å¯åŠ¨ï¼Œé™¤é `gateway.mode` è®¾ä¸º `local`ï¼ˆæˆ–ä½ ä¼ é€’äº†è¦†ç›–æ ‡å¿—ï¼‰ã€‚\n- `gateway.port` æ§åˆ¶ç”¨äº WebSocket + HTTPï¼ˆæ§åˆ¶å° UIã€hooksã€A2UIï¼‰çš„å•ä¸€å¤šè·¯å¤ç”¨ç«¯å£ã€‚\n- OpenAI Chat Completions ç«¯ç‚¹ï¼š**é»˜è®¤ç¦ç”¨**ï¼›é€šè¿‡ `gateway.http.endpoints.chatCompletions.enabled: true` å¯ç”¨ã€‚\n- ä¼˜å…ˆçº§ï¼š`--port` > `OPENCLAW_GATEWAY_PORT` > `gateway.port` > é»˜è®¤ `18789`ã€‚\n- é»˜è®¤éœ€è¦ Gateway ç½‘å…³è®¤è¯ï¼ˆtoken/å¯†ç æˆ– Tailscale Serve èº«ä»½ï¼‰ã€‚é local loopback ç»‘å®šéœ€è¦å…±äº« token/å¯†ç ã€‚\n- æ–°æ‰‹å¼•å¯¼å‘å¯¼é»˜è®¤ç”Ÿæˆ gateway tokenï¼ˆå³ä½¿åœ¨ local loopback ä¸Šï¼‰ã€‚\n- `gateway.remote.token` **ä»…**ç”¨äºè¿œç¨‹ CLI è°ƒç”¨ï¼›å®ƒä¸å¯ç”¨æœ¬åœ° gateway è®¤è¯ã€‚`gateway.token` è¢«å¿½ç•¥ã€‚\n\nè®¤è¯å’Œ Tailscaleï¼š",
    "- `gateway.auth.mode` è®¾ç½®æ¡æ‰‹è¦æ±‚ï¼ˆ`token` æˆ– `password`ï¼‰ã€‚æœªè®¾ç½®æ—¶ï¼Œå‡å®š token è®¤è¯ã€‚\n- `gateway.auth.token` å­˜å‚¨ token è®¤è¯çš„å…±äº« tokenï¼ˆåŒä¸€æœºå™¨ä¸Šçš„ CLI ä½¿ç”¨ï¼‰ã€‚\n- å½“è®¾ç½®äº† `gateway.auth.mode` æ—¶ï¼Œä»…æ¥å—è¯¥æ–¹æ³•ï¼ˆåŠ ä¸Šå¯é€‰çš„ Tailscale å¤´éƒ¨ï¼‰ã€‚\n- `gateway.auth.password` å¯åœ¨æ­¤è®¾ç½®ï¼Œæˆ–é€šè¿‡ `OPENCLAW_GATEWAY_PASSWORD`ï¼ˆæ¨èï¼‰ã€‚\n- `gateway.auth.allowTailscale` å…è®¸ Tailscale Serve èº«ä»½å¤´éƒ¨\n  ï¼ˆ`tailscale-user-login`ï¼‰åœ¨è¯·æ±‚é€šè¿‡ local loopback åˆ°è¾¾ä¸”å¸¦æœ‰ `x-forwarded-for`ã€\n  `x-forwarded-proto` å’Œ `x-forwarded-host` æ—¶æ»¡è¶³è®¤è¯ã€‚OpenClaw åœ¨æ¥å—ä¹‹å‰\n  é€šè¿‡ `tailscale whois` è§£æ `x-forwarded-for` åœ°å€æ¥éªŒè¯èº«ä»½ã€‚ä¸º `true` æ—¶ï¼Œ\n  Serve è¯·æ±‚ä¸éœ€è¦ token/å¯†ç ï¼›è®¾ä¸º `false` è¦æ±‚æ˜¾å¼å‡­æ®ã€‚å½“\n  `tailscale.mode = \"serve\"` ä¸”è®¤è¯æ¨¡å¼ä¸æ˜¯ `password` æ—¶é»˜è®¤ä¸º `true`ã€‚\n- `gateway.tailscale.mode: \"serve\"` ä½¿ç”¨ Tailscale Serveï¼ˆä»… tailnetï¼Œlocal loopback ç»‘å®šï¼‰ã€‚\n- `gateway.tailscale.mode: \"funnel\"` å…¬å¼€æš´éœ²ä»ªè¡¨æ¿ï¼›éœ€è¦è®¤è¯ã€‚\n- `gateway.tailscale.resetOnExit` åœ¨å…³é—­æ—¶é‡ç½® Serve/Funnel é…ç½®ã€‚\n\nè¿œç¨‹å®¢æˆ·ç«¯é»˜è®¤å€¼ï¼ˆCLIï¼‰ï¼š",
    "- `gateway.remote.url` è®¾ç½® `gateway.mode = \"remote\"` æ—¶ CLI è°ƒç”¨çš„é»˜è®¤ Gateway ç½‘å…³ WebSocket URLã€‚\n- `gateway.remote.transport` é€‰æ‹© macOS è¿œç¨‹ä¼ è¾“ï¼ˆ`ssh` é»˜è®¤ï¼Œ`direct` ç”¨äº ws/wssï¼‰ã€‚ä½¿ç”¨ `direct` æ—¶ï¼Œ`gateway.remote.url` å¿…é¡»ä¸º `ws://` æˆ– `wss://`ã€‚`ws://host` é»˜è®¤ç«¯å£ `18789`ã€‚\n- `gateway.remote.token` æä¾›è¿œç¨‹è°ƒç”¨çš„ tokenï¼ˆä¸éœ€è¦è®¤è¯æ—¶ç•™ç©ºï¼‰ã€‚\n- `gateway.remote.password` æä¾›è¿œç¨‹è°ƒç”¨çš„å¯†ç ï¼ˆä¸éœ€è¦è®¤è¯æ—¶ç•™ç©ºï¼‰ã€‚\n\nmacOS åº”ç”¨è¡Œä¸ºï¼š\n\n- OpenClaw.app ç›‘è§† `~/.openclaw/openclaw.json`ï¼Œå½“ `gateway.mode` æˆ– `gateway.remote.url` å˜æ›´æ—¶å®æ—¶åˆ‡æ¢æ¨¡å¼ã€‚\n- å¦‚æœ `gateway.mode` æœªè®¾ç½®ä½† `gateway.remote.url` å·²è®¾ç½®ï¼ŒmacOS åº”ç”¨å°†å…¶è§†ä¸ºè¿œç¨‹æ¨¡å¼ã€‚\n- å½“ä½ åœ¨ macOS åº”ç”¨ä¸­æ›´æ”¹è¿æ¥æ¨¡å¼æ—¶ï¼Œå®ƒä¼šå°† `gateway.mode`ï¼ˆä»¥åŠè¿œç¨‹æ¨¡å¼ä¸‹çš„ `gateway.remote.url` + `gateway.remote.transport`ï¼‰å†™å›é…ç½®æ–‡ä»¶ã€‚\n\n```json5\n{\n  gateway: {\n    mode: \"remote\",\n    remote: {\n      url: \"ws://gateway.tailnet:18789\",\n      token: \"your-token\",\n      password: \"your-password\",\n    },\n  },\n}\n```\n\nç›´è¿ä¼ è¾“ç¤ºä¾‹ï¼ˆmacOS åº”ç”¨ï¼‰ï¼š",
    "```json5\n{\n  gateway: {\n    mode: \"remote\",\n    remote: {\n      transport: \"direct\",\n      url: \"wss://gateway.example.ts.net\",\n      token: \"your-token\",\n    },\n  },\n}\n```\n\n### `gateway.reload`ï¼ˆé…ç½®çƒ­é‡è½½ï¼‰\n\nGateway ç½‘å…³ç›‘è§† `~/.openclaw/openclaw.json`ï¼ˆæˆ– `OPENCLAW_CONFIG_PATH`ï¼‰å¹¶è‡ªåŠ¨åº”ç”¨æ›´æ”¹ã€‚\n\næ¨¡å¼ï¼š\n\n- `hybrid`ï¼ˆé»˜è®¤ï¼‰ï¼šå®‰å…¨æ›´æ”¹çƒ­åº”ç”¨ï¼›å…³é”®æ›´æ”¹é‡å¯ Gateway ç½‘å…³ã€‚\n- `hot`ï¼šä»…åº”ç”¨çƒ­å®‰å…¨æ›´æ”¹ï¼›éœ€è¦é‡å¯æ—¶è®°å½•æ—¥å¿—ã€‚\n- `restart`ï¼šä»»ä½•é…ç½®æ›´æ”¹éƒ½é‡å¯ Gateway ç½‘å…³ã€‚\n- `off`ï¼šç¦ç”¨çƒ­é‡è½½ã€‚\n\n```json5\n{\n  gateway: {\n    reload: {\n      mode: \"hybrid\",\n      debounceMs: 300,\n    },\n  },\n}\n```\n\n#### çƒ­é‡è½½çŸ©é˜µï¼ˆæ–‡ä»¶ + å½±å“ï¼‰\n\nç›‘è§†çš„æ–‡ä»¶ï¼š\n\n- `~/.openclaw/openclaw.json`ï¼ˆæˆ– `OPENCLAW_CONFIG_PATH`ï¼‰\n\nçƒ­åº”ç”¨ï¼ˆæ— éœ€å®Œå…¨é‡å¯ Gateway ç½‘å…³ï¼‰ï¼š\n\n- `hooks`ï¼ˆwebhook è®¤è¯/è·¯å¾„/æ˜ å°„ï¼‰+ `hooks.gmail`ï¼ˆGmail ç›‘è§†å™¨é‡å¯ï¼‰\n- `browser`ï¼ˆæµè§ˆå™¨æ§åˆ¶æœåŠ¡å™¨é‡å¯ï¼‰\n- `cron`ï¼ˆcron æœåŠ¡é‡å¯ + å¹¶å‘æ›´æ–°ï¼‰\n- `agents.defaults.heartbeat`ï¼ˆå¿ƒè·³è¿è¡Œå™¨é‡å¯ï¼‰\n- `web`ï¼ˆWhatsApp Web æ¸ é“é‡å¯ï¼‰\n- `telegram`ã€`discord`ã€`signal`ã€`imessage`ï¼ˆæ¸ é“é‡å¯ï¼‰\n- `agent`ã€`models`ã€`routing`ã€`messages`ã€`session`ã€`whatsapp`ã€`logging`ã€`skills`ã€`ui`ã€`talk`ã€`identity`ã€`wizard`ï¼ˆåŠ¨æ€è¯»å–ï¼‰\n\néœ€è¦å®Œå…¨é‡å¯ Gateway ç½‘å…³ï¼š",
    "- `gateway`ï¼ˆç«¯å£/ç»‘å®š/è®¤è¯/æ§åˆ¶å° UI/tailscaleï¼‰\n- `bridge`ï¼ˆæ—§ç‰ˆï¼‰\n- `discovery`\n- `canvasHost`\n- `plugins`\n- ä»»ä½•æœªçŸ¥/ä¸æ”¯æŒçš„é…ç½®è·¯å¾„ï¼ˆä¸ºå®‰å…¨é»˜è®¤é‡å¯ï¼‰\n\n### å¤šå®ä¾‹éš”ç¦»\n\nè¦åœ¨ä¸€å°ä¸»æœºä¸Šè¿è¡Œå¤šä¸ª Gateway ç½‘å…³ï¼ˆç”¨äºå†—ä½™æˆ–æ•‘æ´æœºå™¨äººï¼‰ï¼Œè¯·éš”ç¦»æ¯ä¸ªå®ä¾‹çš„çŠ¶æ€ + é…ç½®å¹¶ä½¿ç”¨å”¯ä¸€ç«¯å£ï¼š\n\n- `OPENCLAW_CONFIG_PATH`ï¼ˆæ¯å®ä¾‹é…ç½®ï¼‰\n- `OPENCLAW_STATE_DIR`ï¼ˆä¼šè¯/å‡­æ®ï¼‰\n- `agents.defaults.workspace`ï¼ˆè®°å¿†ï¼‰\n- `gateway.port`ï¼ˆæ¯å®ä¾‹å”¯ä¸€ï¼‰\n\nä¾¿åˆ©æ ‡å¿—ï¼ˆCLIï¼‰ï¼š\n\n- `openclaw --dev â€¦` â†’ ä½¿ç”¨ `~/.openclaw-dev` + ç«¯å£ä»åŸºç¡€ `19001` åç§»\n- `openclaw --profile <name> â€¦` â†’ ä½¿ç”¨ `~/.openclaw-<name>`ï¼ˆç«¯å£é€šè¿‡é…ç½®/ç¯å¢ƒå˜é‡/æ ‡å¿—ï¼‰\n\nå‚è§ [Gateway ç½‘å…³è¿ç»´æ‰‹å†Œ](/gateway) äº†è§£æ´¾ç”Ÿçš„ç«¯å£æ˜ å°„ï¼ˆgateway/browser/canvasï¼‰ã€‚\nå‚è§[å¤š Gateway ç½‘å…³](/gateway/multiple-gateways) äº†è§£æµè§ˆå™¨/CDP ç«¯å£éš”ç¦»ç»†èŠ‚ã€‚\n\nç¤ºä¾‹ï¼š\n\n```bash\nOPENCLAW_CONFIG_PATH=~/.openclaw/a.json \\\nOPENCLAW_STATE_DIR=~/.openclaw-a \\\nopenclaw gateway --port 19001\n```\n\n### `hooks`ï¼ˆGateway ç½‘å…³ webhookï¼‰\n\nåœ¨ Gateway ç½‘å…³ HTTP æœåŠ¡å™¨ä¸Šå¯ç”¨ç®€å•çš„ HTTP webhook ç«¯ç‚¹ã€‚\n\né»˜è®¤å€¼ï¼š\n\n- enabledï¼š`false`\n- pathï¼š`/hooks`\n- maxBodyBytesï¼š`262144`ï¼ˆ256 KBï¼‰",
    "```json5\n{\n  hooks: {\n    enabled: true,\n    token: \"shared-secret\",\n    path: \"/hooks\",\n    presets: [\"gmail\"],\n    transformsDir: \"~/.openclaw/hooks\",\n    mappings: [\n      {\n        match: { path: \"gmail\" },\n        action: \"agent\",\n        wakeMode: \"now\",\n        name: \"Gmail\",\n        sessionKey: \"hook:gmail:{{messages[0].id}}\",\n        messageTemplate: \"From: {{messages[0].from}}\\nSubject: {{messages[0].subject}}\\n{{messages[0].snippet}}\",\n        deliver: true,\n        channel: \"last\",\n        model: \"openai/gpt-5.2-mini\",\n      },\n    ],\n  },\n}\n```\n\nè¯·æ±‚å¿…é¡»åŒ…å« hook tokenï¼š\n\n- `Authorization: Bearer <token>` **æˆ–**\n- `x-openclaw-token: <token>` **æˆ–**\n- `?token=<token>`\n\nç«¯ç‚¹ï¼š\n\n- `POST /hooks/wake` â†’ `{ text, mode?: \"now\"|\"next-heartbeat\" }`\n- `POST /hooks/agent` â†’ `{ message, name?, sessionKey?, wakeMode?, deliver?, channel?, to?, model?, thinking?, timeoutSeconds? }`\n- `POST /hooks/<name>` â†’ é€šè¿‡ `hooks.mappings` è§£æ\n\n`/hooks/agent` å§‹ç»ˆå°†æ‘˜è¦å‘å¸ƒåˆ°ä¸»ä¼šè¯ï¼ˆå¹¶å¯é€šè¿‡ `wakeMode: \"now\"` å¯é€‰åœ°è§¦å‘å³æ—¶å¿ƒè·³ï¼‰ã€‚\n\næ˜ å°„è¯´æ˜ï¼š",
    "- `match.path` åŒ¹é… `/hooks` ä¹‹åçš„å­è·¯å¾„ï¼ˆä¾‹å¦‚ `/hooks/gmail` â†’ `gmail`ï¼‰ã€‚\n- `match.source` åŒ¹é…è´Ÿè½½å­—æ®µï¼ˆä¾‹å¦‚ `{ source: \"gmail\" }`ï¼‰ï¼Œä»¥ä¾¿ä½¿ç”¨é€šç”¨çš„ `/hooks/ingest` è·¯å¾„ã€‚\n- `{{messages[0].subject}}` ç­‰æ¨¡æ¿ä»è´Ÿè½½ä¸­è¯»å–ã€‚\n- `transform` å¯ä»¥æŒ‡å‘è¿”å› hook åŠ¨ä½œçš„ JS/TS æ¨¡å—ã€‚\n- `deliver: true` å°†æœ€ç»ˆå›å¤å‘é€åˆ°æ¸ é“ï¼›`channel` é»˜è®¤ä¸º `last`ï¼ˆå›é€€åˆ° WhatsAppï¼‰ã€‚\n- å¦‚æœæ²¡æœ‰å…ˆå‰çš„æŠ•é€’è·¯ç”±ï¼Œè¯·æ˜¾å¼è®¾ç½® `channel` + `to`ï¼ˆTelegram/Discord/Google Chat/Slack/Signal/iMessage/MS Teams å¿…éœ€ï¼‰ã€‚\n- `model` è¦†ç›–æ­¤ hook è¿è¡Œçš„ LLMï¼ˆ`provider/model` æˆ–åˆ«åï¼›å¦‚æœè®¾ç½®äº† `agents.defaults.models` åˆ™å¿…é¡»è¢«å…è®¸ï¼‰ã€‚\n\nGmail è¾…åŠ©é…ç½®ï¼ˆç”± `openclaw webhooks gmail setup` / `run` ä½¿ç”¨ï¼‰ï¼š\n\n```json5\n{\n  hooks: {\n    gmail: {\n      account: \"openclaw@gmail.com\",\n      topic: \"projects/<project-id>/topics/gog-gmail-watch\",\n      subscription: \"gog-gmail-watch-push\",\n      pushToken: \"shared-push-token\",\n      hookUrl: \"http://127.0.0.1:18789/hooks/gmail\",\n      includeBody: true,\n      maxBytes: 20000,\n      renewEveryMinutes: 720,\n      serve: { bind: \"127.0.0.1\", port: 8788, path: \"/\" },\n      tailscale: { mode: \"funnel\", path: \"/gmail-pubsub\" },",
    "// å¯é€‰ï¼šä¸º Gmail hook å¤„ç†ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹\n      // åœ¨è®¤è¯/é€Ÿç‡é™åˆ¶/è¶…æ—¶æ—¶å›é€€åˆ° agents.defaults.model.fallbacksï¼Œç„¶å primary\n      model: \"openrouter/meta-llama/llama-3.3-70b-instruct:free\",\n      // å¯é€‰ï¼šGmail hook çš„é»˜è®¤æ€è€ƒçº§åˆ«\n      thinking: \"off\",\n    },\n  },\n}\n```\n\nGmail hook çš„æ¨¡å‹è¦†ç›–ï¼š\n\n- `hooks.gmail.model` æŒ‡å®šç”¨äº Gmail hook å¤„ç†çš„æ¨¡å‹ï¼ˆé»˜è®¤ä¸ºä¼šè¯ä¸»æ¨¡å‹ï¼‰ã€‚\n- æ¥å— `provider/model` å¼•ç”¨æˆ–æ¥è‡ª `agents.defaults.models` çš„åˆ«åã€‚\n- åœ¨è®¤è¯/é€Ÿç‡é™åˆ¶/è¶…æ—¶æ—¶å›é€€åˆ° `agents.defaults.model.fallbacks`ï¼Œç„¶å `agents.defaults.model.primary`ã€‚\n- å¦‚æœè®¾ç½®äº† `agents.defaults.models`ï¼Œè¯·å°† hooks æ¨¡å‹åŒ…å«åœ¨ç™½åå•ä¸­ã€‚\n- å¯åŠ¨æ—¶ï¼Œå¦‚æœé…ç½®çš„æ¨¡å‹ä¸åœ¨æ¨¡å‹ç›®å½•æˆ–ç™½åå•ä¸­ï¼Œä¼šå‘å‡ºè­¦å‘Šã€‚\n- `hooks.gmail.thinking` è®¾ç½® Gmail hook çš„é»˜è®¤æ€è€ƒçº§åˆ«ï¼Œè¢«æ¯ hook çš„ `thinking` è¦†ç›–ã€‚\n\nGateway ç½‘å…³è‡ªåŠ¨å¯åŠ¨ï¼š\n\n- å¦‚æœ `hooks.enabled=true` ä¸” `hooks.gmail.account` å·²è®¾ç½®ï¼ŒGateway ç½‘å…³åœ¨å¯åŠ¨æ—¶\n  å¯åŠ¨ `gog gmail watch serve` å¹¶è‡ªåŠ¨ç»­æœŸç›‘è§†ã€‚\n- è®¾ç½® `OPENCLAW_SKIP_GMAIL_WATCHER=1` ç¦ç”¨è‡ªåŠ¨å¯åŠ¨ï¼ˆç”¨äºæ‰‹åŠ¨è¿è¡Œï¼‰ã€‚\n- é¿å…åœ¨ Gateway ç½‘å…³æ—è¾¹å•ç‹¬è¿è¡Œ `gog gmail watch serve`ï¼›å®ƒä¼š\n  å›  `listen tcp 127.0.0.1:8788: bind: address already in use` è€Œå¤±è´¥ã€‚",
    "æ³¨æ„ï¼šå½“ `tailscale.mode` å¼€å¯æ—¶ï¼ŒOpenClaw å°† `serve.path` é»˜è®¤ä¸º `/`ï¼Œä»¥ä¾¿\nTailscale å¯ä»¥æ­£ç¡®ä»£ç† `/gmail-pubsub`ï¼ˆå®ƒä¼šå»é™¤è®¾ç½®çš„è·¯å¾„å‰ç¼€ï¼‰ã€‚\nå¦‚æœä½ éœ€è¦åç«¯æ¥æ”¶å¸¦å‰ç¼€çš„è·¯å¾„ï¼Œè¯·å°†\n`hooks.gmail.tailscale.target` è®¾ä¸ºå®Œæ•´ URLï¼ˆå¹¶å¯¹é½ `serve.path`ï¼‰ã€‚\n\n### `canvasHost`ï¼ˆLAN/tailnet Canvas æ–‡ä»¶æœåŠ¡å™¨ + å®æ—¶é‡è½½ï¼‰\n\nGateway ç½‘å…³é€šè¿‡ HTTP æä¾› HTML/CSS/JS ç›®å½•æœåŠ¡ï¼Œä»¥ä¾¿ iOS/Android èŠ‚ç‚¹å¯ä»¥ç®€å•åœ° `canvas.navigate` åˆ°å®ƒã€‚\n\né»˜è®¤æ ¹ç›®å½•ï¼š`~/.openclaw/workspace/canvas`\né»˜è®¤ç«¯å£ï¼š`18793`ï¼ˆé€‰æ‹©æ­¤ç«¯å£ä»¥é¿å… OpenClaw æµè§ˆå™¨ CDP ç«¯å£ `18792`ï¼‰\næœåŠ¡å™¨ç›‘å¬ **Gateway ç½‘å…³ç»‘å®šä¸»æœº**ï¼ˆLAN æˆ– Tailnetï¼‰ï¼Œä»¥ä¾¿èŠ‚ç‚¹å¯ä»¥è®¿é—®ã€‚\n\næœåŠ¡å™¨ï¼š\n\n- æä¾› `canvasHost.root` ä¸‹çš„æ–‡ä»¶\n- å‘æä¾›çš„ HTML æ³¨å…¥å¾®å‹å®æ—¶é‡è½½å®¢æˆ·ç«¯\n- ç›‘è§†ç›®å½•å¹¶é€šè¿‡ `/__openclaw__/ws` çš„ WebSocket ç«¯ç‚¹å¹¿æ’­é‡è½½\n- ç›®å½•ä¸ºç©ºæ—¶è‡ªåŠ¨åˆ›å»ºèµ·å§‹ `index.html`ï¼ˆä»¥ä¾¿ä½ ç«‹å³çœ‹åˆ°å†…å®¹ï¼‰\n- åŒæ—¶åœ¨ `/__openclaw__/a2ui/` æä¾› A2UIï¼Œå¹¶ä½œä¸º `canvasHostUrl` é€šå‘Šç»™èŠ‚ç‚¹\n  ï¼ˆèŠ‚ç‚¹å§‹ç»ˆä½¿ç”¨å®ƒæ¥è®¿é—® Canvas/A2UIï¼‰\n\nå¦‚æœç›®å½•å¾ˆå¤§æˆ–é‡åˆ° `EMFILE`ï¼Œè¯·ç¦ç”¨å®æ—¶é‡è½½ï¼ˆå’Œæ–‡ä»¶ç›‘è§†ï¼‰ï¼š\n\n- é…ç½®ï¼š`canvasHost: { liveReload: false }`\n\n```json5\n{\n  canvasHost: {\n    root: \"~/.openclaw/workspace/canvas\",\n    port: 18793,\n    liveReload: true,\n  },\n}\n```\n\n`canvasHost.*` çš„æ›´æ”¹éœ€è¦é‡å¯ Gateway ç½‘å…³ï¼ˆé…ç½®é‡è½½ä¼šè§¦å‘é‡å¯ï¼‰ã€‚\n\nç¦ç”¨æ–¹å¼ï¼š",
    "- é…ç½®ï¼š`canvasHost: { enabled: false }`\n- ç¯å¢ƒå˜é‡ï¼š`OPENCLAW_SKIP_CANVAS_HOST=1`\n\n### `bridge`ï¼ˆæ—§ç‰ˆ TCP æ¡¥æ¥ï¼Œå·²ç§»é™¤ï¼‰\n\nå½“å‰ç‰ˆæœ¬ä¸å†åŒ…å« TCP æ¡¥æ¥ç›‘å¬å™¨ï¼›`bridge.*` é…ç½®é”®ä¼šè¢«å¿½ç•¥ã€‚\nèŠ‚ç‚¹é€šè¿‡ Gateway ç½‘å…³ WebSocket è¿æ¥ã€‚æ­¤éƒ¨åˆ†ä»…ä¿ç•™ä¾›å†å²å‚è€ƒã€‚\n\næ—§ç‰ˆè¡Œä¸ºï¼š\n\n- Gateway ç½‘å…³å¯ä»¥ä¸ºèŠ‚ç‚¹ï¼ˆiOS/Androidï¼‰æš´éœ²ç®€å•çš„ TCP æ¡¥æ¥ï¼Œé€šå¸¸åœ¨ç«¯å£ `18790`ã€‚\n\né»˜è®¤å€¼ï¼š\n\n- enabledï¼š`true`\n- portï¼š`18790`\n- bindï¼š`lan`ï¼ˆç»‘å®šåˆ° `0.0.0.0`ï¼‰\n\nç»‘å®šæ¨¡å¼ï¼š\n\n- `lan`ï¼š`0.0.0.0`ï¼ˆå¯é€šè¿‡ä»»ä½•æ¥å£è®¿é—®ï¼ŒåŒ…æ‹¬ LAN/Wiâ€‘Fi å’Œ Tailscaleï¼‰\n- `tailnet`ï¼šä»…ç»‘å®šåˆ°æœºå™¨çš„ Tailscale IPï¼ˆæ¨èç”¨äºè·¨åœ°åŸŸè®¿é—®ï¼‰\n- `loopback`ï¼š`127.0.0.1`ï¼ˆä»…æœ¬åœ°ï¼‰\n- `auto`ï¼šå¦‚æœå­˜åœ¨ tailnet IP åˆ™ä¼˜å…ˆä½¿ç”¨ï¼Œå¦åˆ™ `lan`\n\nTLSï¼š\n\n- `bridge.tls.enabled`ï¼šä¸ºæ¡¥æ¥è¿æ¥å¯ç”¨ TLSï¼ˆå¯ç”¨æ—¶ä»… TLSï¼‰ã€‚\n- `bridge.tls.autoGenerate`ï¼šå½“æ— è¯ä¹¦/å¯†é’¥æ—¶ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼ˆé»˜è®¤ï¼štrueï¼‰ã€‚\n- `bridge.tls.certPath` / `bridge.tls.keyPath`ï¼šæ¡¥æ¥è¯ä¹¦ + ç§é’¥çš„ PEM è·¯å¾„ã€‚\n- `bridge.tls.caPath`ï¼šå¯é€‰çš„ PEM CA æ†ç»‘åŒ…ï¼ˆè‡ªå®šä¹‰æ ¹è¯ä¹¦æˆ–æœªæ¥çš„ mTLSï¼‰ã€‚\n\nå¯ç”¨ TLS åï¼ŒGateway ç½‘å…³åœ¨å‘ç° TXT è®°å½•ä¸­é€šå‘Š `bridgeTls=1` å’Œ `bridgeTlsSha256`ï¼Œä»¥ä¾¿èŠ‚ç‚¹å¯ä»¥å›ºå®šè¯ä¹¦ã€‚å¦‚æœå°šæœªå­˜å‚¨æŒ‡çº¹ï¼Œæ‰‹åŠ¨è¿æ¥ä½¿ç”¨é¦–æ¬¡ä¿¡ä»»ã€‚\nè‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦éœ€è¦ PATH ä¸­æœ‰ `openssl`ï¼›å¦‚æœç”Ÿæˆå¤±è´¥ï¼Œæ¡¥æ¥ä¸ä¼šå¯åŠ¨ã€‚",
    "```json5\n{\n  bridge: {\n    enabled: true,\n    port: 18790,\n    bind: \"tailnet\",\n    tls: {\n      enabled: true,\n      // çœç•¥æ—¶ä½¿ç”¨ ~/.openclaw/bridge/tls/bridge-{cert,key}.pemã€‚\n      // certPath: \"~/.openclaw/bridge/tls/bridge-cert.pem\",\n      // keyPath: \"~/.openclaw/bridge/tls/bridge-key.pem\"\n    },\n  },\n}\n```\n\n### `discovery.mdns`ï¼ˆBonjour / mDNS å¹¿æ’­æ¨¡å¼ï¼‰\n\næ§åˆ¶ LAN mDNS å‘ç°å¹¿æ’­ï¼ˆ`_openclaw-gw._tcp`ï¼‰ã€‚\n\n- `minimal`ï¼ˆé»˜è®¤ï¼‰ï¼šä» TXT è®°å½•ä¸­çœç•¥ `cliPath` + `sshPort`\n- `full`ï¼šåœ¨ TXT è®°å½•ä¸­åŒ…å« `cliPath` + `sshPort`\n- `off`ï¼šå®Œå…¨ç¦ç”¨ mDNS å¹¿æ’­\n- ä¸»æœºåï¼šé»˜è®¤ä¸º `openclaw`ï¼ˆé€šå‘Š `openclaw.local`ï¼‰ã€‚é€šè¿‡ `OPENCLAW_MDNS_HOSTNAME` è¦†ç›–ã€‚\n\n```json5\n{\n  discovery: { mdns: { mode: \"minimal\" } },\n}\n```\n\n### `discovery.wideArea`ï¼ˆå¹¿åŸŸ Bonjour / å•æ’­ DNSâ€‘SDï¼‰\n\nå¯ç”¨åï¼ŒGateway ç½‘å…³åœ¨ `~/.openclaw/dns/` ä¸‹ä½¿ç”¨é…ç½®çš„å‘ç°åŸŸï¼ˆç¤ºä¾‹ï¼š`openclaw.internal.`ï¼‰ä¸º `_openclaw-gw._tcp` å†™å…¥å•æ’­ DNS-SD åŒºåŸŸã€‚\n\nè¦ä½¿ iOS/Android è·¨ç½‘ç»œå‘ç°ï¼ˆè·¨åœ°åŸŸè®¿é—®ï¼‰ï¼Œè¯·é…åˆä»¥ä¸‹ä½¿ç”¨ï¼š\n\n- åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè¿è¡Œ DNS æœåŠ¡å™¨ï¼Œä¸ºä½ é€‰æ‹©çš„åŸŸåæä¾›æœåŠ¡ï¼ˆæ¨è CoreDNSï¼‰\n- Tailscale **split DNS**ï¼Œä½¿å®¢æˆ·ç«¯é€šè¿‡ Gateway ç½‘å…³ DNS æœåŠ¡å™¨è§£æè¯¥åŸŸå\n\nä¸€æ¬¡æ€§è®¾ç½®åŠ©æ‰‹ï¼ˆGateway ç½‘å…³ä¸»æœºï¼‰ï¼š",
    "```bash\nopenclaw dns setup --apply\n```\n\n```json5\n{\n  discovery: { wideArea: { enabled: true } },\n}\n```",
    "## æ¨¡æ¿å˜é‡\n\næ¨¡æ¿å ä½ç¬¦åœ¨ `tools.media.*.models[].args` å’Œ `tools.media.models[].args`ï¼ˆä»¥åŠæœªæ¥ä»»ä½•æ¨¡æ¿åŒ–å‚æ•°å­—æ®µï¼‰ä¸­å±•å¼€ã€‚",
    "| å˜é‡               | æè¿°                                                  |\n| ------------------ | ----------------------------------------------------- | -------- | ------- | ---------- | ----- | ------ | -------- | ------- | ------- | --- |\n| `{{Body}}`         | å®Œæ•´çš„å…¥ç«™æ¶ˆæ¯æ­£æ–‡                                    |\n| `{{RawBody}}`      | åŸå§‹å…¥ç«™æ¶ˆæ¯æ­£æ–‡ï¼ˆæ— å†å²/å‘é€è€…åŒ…è£…ï¼›æœ€é€‚åˆå‘½ä»¤è§£æï¼‰ |\n| `{{BodyStripped}}` | å»é™¤ç¾¤ç»„æåŠçš„æ­£æ–‡ï¼ˆæœ€é€‚åˆæ™ºèƒ½ä½“çš„é»˜è®¤å€¼ï¼‰            |\n| `{{From}}`         | å‘é€è€…æ ‡è¯†ç¬¦ï¼ˆWhatsApp ä¸º E.164ï¼›æŒ‰æ¸ é“å¯èƒ½ä¸åŒï¼‰     |\n| `{{To}}`           | ç›®æ ‡æ ‡è¯†ç¬¦                                            |\n| `{{MessageSid}}`   | æ¸ é“æ¶ˆæ¯ idï¼ˆå¦‚æœå¯ç”¨ï¼‰                               |\n| `{{SessionId}}`    | å½“å‰ä¼šè¯ UUID                                         |\n| `{{IsNewSession}}` | åˆ›å»ºæ–°ä¼šè¯æ—¶ä¸º `\"true\"`                               |\n| `{{MediaUrl}}`     | å…¥ç«™åª’ä½“ä¼ª URLï¼ˆå¦‚æœå­˜åœ¨ï¼‰                            |\n| `{{MediaPath}}`    | æœ¬åœ°åª’ä½“è·¯å¾„ï¼ˆå¦‚æœå·²ä¸‹è½½ï¼‰                            |\n| `{{MediaType}}`    | åª’ä½“ç±»å‹ï¼ˆimage/audio/document/â€¦ï¼‰                    |\n| `{{Transcript}}`   | éŸ³é¢‘è½¬å½•ï¼ˆå¯ç”¨æ—¶ï¼‰                                    |\n| `{{Prompt}}`       | CLI æ¡ç›®çš„å·²è§£æåª’ä½“æç¤º                              |\n| `{{MaxChars}}`     | CLI æ¡ç›®çš„å·²è§£ææœ€å¤§è¾“å‡ºå­—ç¬¦æ•°                        |\n| `{{ChatType}}`     | `\"direct\"` æˆ– `\"group\"`                               |\n| `{{GroupSubject}}` | ç¾¤ç»„ä¸»é¢˜ï¼ˆå°½åŠ›è€Œä¸ºï¼‰                                  |\n| `{{GroupMembers}}` | ç¾¤ç»„æˆå‘˜é¢„è§ˆï¼ˆå°½åŠ›è€Œä¸ºï¼‰                              |\n| `{{SenderName}}`   | å‘é€è€…æ˜¾ç¤ºåç§°ï¼ˆå°½åŠ›è€Œä¸ºï¼‰                            |\n| `{{SenderE164}}`   | å‘é€è€…ç”µè¯å·ç ï¼ˆå°½åŠ›è€Œä¸ºï¼‰                            |\n| `{{Provider}}`     | æä¾›å•†æç¤ºï¼ˆwhatsapp                                  | telegram | discord | googlechat | slack | signal | imessage | msteams | webchat | â€¦ï¼‰ |",
    "## Cronï¼ˆGateway ç½‘å…³è°ƒåº¦å™¨ï¼‰\n\nCron æ˜¯ Gateway ç½‘å…³è‡ªæœ‰çš„å”¤é†’å’Œå®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ã€‚å‚è§ [Cron ä»»åŠ¡](/automation/cron-jobs) äº†è§£åŠŸèƒ½æ¦‚è¿°å’Œ CLI ç¤ºä¾‹ã€‚\n\n```json5\n{\n  cron: {\n    enabled: true,\n    maxConcurrentRuns: 2,\n  },\n}\n```\n\n---\n\n_ä¸‹ä¸€æ­¥ï¼š[æ™ºèƒ½ä½“è¿è¡Œæ—¶](/concepts/agent)_ ğŸ¦",
    "---\nsummary: \"CLI reference for `openclaw configure` (interactive configuration prompts)\"\nread_when:\n  - You want to tweak credentials, devices, or agent defaults interactively\ntitle: \"configure\"\n---\n\n# `openclaw configure`\n\nInteractive prompt to set up credentials, devices, and agent defaults.\n\nNote: The **Model** section now includes a multi-select for the\n`agents.defaults.models` allowlist (what shows up in `/model` and the model picker).\n\nTip: `openclaw config` without a subcommand opens the same wizard. Use\n`openclaw config get|set|unset` for non-interactive edits.\n\nRelated:\n\n- Gateway configuration reference: [Configuration](/gateway/configuration)\n- Config CLI: [Config](/cli/config)\n\nNotes:",
    "- Choosing where the Gateway runs always updates `gateway.mode`. You can select \"Continue\" without other sections if that is all you need.\n- Channel-oriented services (Slack/Discord/Matrix/Microsoft Teams) prompt for channel/room allowlists during setup. You can enter names or IDs; the wizard resolves names to IDs when possible.",
    "## Examples\n\n```bash\nopenclaw configure\nopenclaw configure --section models --section channels\n```",
    "---\nsummary: \"Context: what the model sees, how it is built, and how to inspect it\"\nread_when:\n  - You want to understand what â€œcontextâ€ means in OpenClaw\n  - You are debugging why the model â€œknowsâ€ something (or forgot it)\n  - You want to reduce context overhead (/context, /status, /compact)\ntitle: \"Context\"\n---\n\n# Context\n\nâ€œContextâ€ is **everything OpenClaw sends to the model for a run**. It is bounded by the modelâ€™s **context window** (token limit).\n\nBeginner mental model:\n\n- **System prompt** (OpenClaw-built): rules, tools, skills list, time/runtime, and injected workspace files.\n- **Conversation history**: your messages + the assistantâ€™s messages for this session.\n- **Tool calls/results + attachments**: command output, file reads, images/audio, etc.\n\nContext is _not the same thing_ as â€œmemoryâ€: memory can be stored on disk and reloaded later; context is whatâ€™s inside the modelâ€™s current window.",
    "## Quick start (inspect context)\n\n- `/status` â†’ quick â€œhow full is my window?â€ view + session settings.\n- `/context list` â†’ whatâ€™s injected + rough sizes (per file + totals).\n- `/context detail` â†’ deeper breakdown: per-file, per-tool schema sizes, per-skill entry sizes, and system prompt size.\n- `/usage tokens` â†’ append per-reply usage footer to normal replies.\n- `/compact` â†’ summarize older history into a compact entry to free window space.\n\nSee also: [Slash commands](/tools/slash-commands), [Token use & costs](/token-use), [Compaction](/concepts/compaction).",
    "## Example output\n\nValues vary by model, provider, tool policy, and whatâ€™s in your workspace.\n\n### `/context list`\n\n```\nğŸ§  Context breakdown\nWorkspace: <workspaceDir>\nBootstrap max/file: 20,000 chars\nSandbox: mode=non-main sandboxed=false\nSystem prompt (run): 38,412 chars (~9,603 tok) (Project Context 23,901 chars (~5,976 tok))\n\nInjected workspace files:\n- AGENTS.md: OK | raw 1,742 chars (~436 tok) | injected 1,742 chars (~436 tok)\n- SOUL.md: OK | raw 912 chars (~228 tok) | injected 912 chars (~228 tok)\n- TOOLS.md: TRUNCATED | raw 54,210 chars (~13,553 tok) | injected 20,962 chars (~5,241 tok)\n- IDENTITY.md: OK | raw 211 chars (~53 tok) | injected 211 chars (~53 tok)\n- USER.md: OK | raw 388 chars (~97 tok) | injected 388 chars (~97 tok)\n- HEARTBEAT.md: MISSING | raw 0 | injected 0\n- BOOTSTRAP.md: OK | raw 0 chars (~0 tok) | injected 0 chars (~0 tok)",
    "Skills list (system prompt text): 2,184 chars (~546 tok) (12 skills)\nTools: read, edit, write, exec, process, browser, message, sessions_send, â€¦\nTool list (system prompt text): 1,032 chars (~258 tok)\nTool schemas (JSON): 31,988 chars (~7,997 tok) (counts toward context; not shown as text)\nTools: (same as above)\n\nSession tokens (cached): 14,250 total / ctx=32,000\n```\n\n### `/context detail`\n\n```\nğŸ§  Context breakdown (detailed)\nâ€¦\nTop skills (prompt entry size):\n- frontend-design: 412 chars (~103 tok)\n- oracle: 401 chars (~101 tok)\nâ€¦ (+10 more skills)\n\nTop tools (schema size):\n- browser: 9,812 chars (~2,453 tok)\n- exec: 6,240 chars (~1,560 tok)\nâ€¦ (+N more tools)\n```",
    "## What counts toward the context window\n\nEverything the model receives counts, including:\n\n- System prompt (all sections).\n- Conversation history.\n- Tool calls + tool results.\n- Attachments/transcripts (images/audio/files).\n- Compaction summaries and pruning artifacts.\n- Provider â€œwrappersâ€ or hidden headers (not visible, still counted).",
    "## How OpenClaw builds the system prompt\n\nThe system prompt is **OpenClaw-owned** and rebuilt each run. It includes:\n\n- Tool list + short descriptions.\n- Skills list (metadata only; see below).\n- Workspace location.\n- Time (UTC + converted user time if configured).\n- Runtime metadata (host/OS/model/thinking).\n- Injected workspace bootstrap files under **Project Context**.\n\nFull breakdown: [System Prompt](/concepts/system-prompt).",
    "## Injected workspace files (Project Context)\n\nBy default, OpenClaw injects a fixed set of workspace files (if present):\n\n- `AGENTS.md`\n- `SOUL.md`\n- `TOOLS.md`\n- `IDENTITY.md`\n- `USER.md`\n- `HEARTBEAT.md`\n- `BOOTSTRAP.md` (first-run only)\n\nLarge files are truncated per-file using `agents.defaults.bootstrapMaxChars` (default `20000` chars). `/context` shows **raw vs injected** sizes and whether truncation happened.",
    "## Skills: whatâ€™s injected vs loaded on-demand\n\nThe system prompt includes a compact **skills list** (name + description + location). This list has real overhead.\n\nSkill instructions are _not_ included by default. The model is expected to `read` the skillâ€™s `SKILL.md` **only when needed**.",
    "## Tools: there are two costs\n\nTools affect context in two ways:\n\n1. **Tool list text** in the system prompt (what you see as â€œToolingâ€).\n2. **Tool schemas** (JSON). These are sent to the model so it can call tools. They count toward context even though you donâ€™t see them as plain text.\n\n`/context detail` breaks down the biggest tool schemas so you can see what dominates.",
    "## Commands, directives, and â€œinline shortcutsâ€\n\nSlash commands are handled by the Gateway. There are a few different behaviors:\n\n- **Standalone commands**: a message that is only `/...` runs as a command.\n- **Directives**: `/think`, `/verbose`, `/reasoning`, `/elevated`, `/model`, `/queue` are stripped before the model sees the message.\n  - Directive-only messages persist session settings.\n  - Inline directives in a normal message act as per-message hints.\n- **Inline shortcuts** (allowlisted senders only): certain `/...` tokens inside a normal message can run immediately (example: â€œhey /statusâ€), and are stripped before the model sees the remaining text.\n\nDetails: [Slash commands](/tools/slash-commands).",
    "## Sessions, compaction, and pruning (what persists)\n\nWhat persists across messages depends on the mechanism:\n\n- **Normal history** persists in the session transcript until compacted/pruned by policy.\n- **Compaction** persists a summary into the transcript and keeps recent messages intact.\n- **Pruning** removes old tool results from the _in-memory_ prompt for a run, but does not rewrite the transcript.\n\nDocs: [Session](/concepts/session), [Compaction](/concepts/compaction), [Session pruning](/concepts/session-pruning).",
    "## What `/context` actually reports\n\n`/context` prefers the latest **run-built** system prompt report when available:\n\n- `System prompt (run)` = captured from the last embedded (tool-capable) run and persisted in the session store.\n- `System prompt (estimate)` = computed on the fly when no run report exists (or when running via a CLI backend that doesnâ€™t generate the report).\n\nEither way, it reports sizes and top contributors; it does **not** dump the full system prompt or tool schemas.",
    "---\nread_when:\n  - ä½ æƒ³ä»æµè§ˆå™¨æ“ä½œ Gateway ç½‘å…³\n  - ä½ æƒ³è¦æ— éœ€ SSH éš§é“çš„ Tailnet è®¿é—®\nsummary: Gateway ç½‘å…³çš„æµè§ˆå™¨æ§åˆ¶ UIï¼ˆèŠå¤©ã€èŠ‚ç‚¹ã€é…ç½®ï¼‰\ntitle: æ§åˆ¶ UI\nx-i18n:\n  generated_at: \"2026-02-03T10:13:20Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: bef105a376fc1a1df44e3e4fb625db1cbcafe2f41e718181c36877b8cbc08816\n  source_path: web/control-ui.md\n  workflow: 15\n---\n\n# æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰\n\næ§åˆ¶ UI æ˜¯ä¸€ä¸ªç”± Gateway ç½‘å…³æä¾›æœåŠ¡çš„å°å‹ **Vite + Lit** å•é¡µåº”ç”¨ï¼š\n\n- é»˜è®¤ï¼š`http://<host>:18789/`\n- å¯é€‰å‰ç¼€ï¼šè®¾ç½® `gateway.controlUi.basePath`ï¼ˆä¾‹å¦‚ `/openclaw`ï¼‰\n\nå®ƒ**ç›´æ¥ä¸åŒä¸€ç«¯å£ä¸Šçš„ Gateway ç½‘å…³ WebSocket** é€šä¿¡ã€‚",
    "## å¿«é€Ÿæ‰“å¼€ï¼ˆæœ¬åœ°ï¼‰\n\nå¦‚æœ Gateway ç½‘å…³åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œï¼Œæ‰“å¼€ï¼š\n\n- http://127.0.0.1:18789/ï¼ˆæˆ– http://localhost:18789/ï¼‰\n\nå¦‚æœé¡µé¢åŠ è½½å¤±è´¥ï¼Œè¯·å…ˆå¯åŠ¨ Gateway ç½‘å…³ï¼š`openclaw gateway`ã€‚\n\nè®¤è¯åœ¨ WebSocket æ¡æ‰‹æœŸé—´é€šè¿‡ä»¥ä¸‹æ–¹å¼æä¾›ï¼š\n\n- `connect.params.auth.token`\n- `connect.params.auth.password`\n  ä»ªè¡¨æ¿è®¾ç½®é¢æ¿å…è®¸ä½ å­˜å‚¨ tokenï¼›å¯†ç ä¸ä¼šè¢«æŒä¹…åŒ–ã€‚\n  æ–°æ‰‹å¼•å¯¼å‘å¯¼é»˜è®¤ç”Ÿæˆä¸€ä¸ª Gateway ç½‘å…³ tokenï¼Œæ‰€ä»¥åœ¨é¦–æ¬¡è¿æ¥æ—¶å°†å…¶ç²˜è´´åˆ°è¿™é‡Œã€‚",
    "## è®¾å¤‡é…å¯¹ï¼ˆé¦–æ¬¡è¿æ¥ï¼‰\n\nå½“ä½ ä»æ–°æµè§ˆå™¨æˆ–è®¾å¤‡è¿æ¥åˆ°æ§åˆ¶ UI æ—¶ï¼ŒGateway ç½‘å…³éœ€è¦**ä¸€æ¬¡æ€§é…å¯¹æ‰¹å‡†** â€” å³ä½¿ä½ åœ¨åŒä¸€ä¸ª Tailnet ä¸Šä¸” `gateway.auth.allowTailscale: true`ã€‚è¿™æ˜¯é˜²æ­¢æœªæˆæƒè®¿é—®çš„å®‰å…¨æªæ–½ã€‚\n\n**ä½ ä¼šçœ‹åˆ°ï¼š** \"disconnected (1008): pairing required\"\n\n**æ‰¹å‡†è®¾å¤‡ï¼š**\n\n```bash\n# åˆ—å‡ºå¾…å¤„ç†çš„è¯·æ±‚\nopenclaw devices list\n\n# æŒ‰è¯·æ±‚ ID æ‰¹å‡†\nopenclaw devices approve <requestId>\n```\n\nä¸€æ—¦æ‰¹å‡†ï¼Œè®¾å¤‡ä¼šè¢«è®°ä½ï¼Œé™¤éä½ ä½¿ç”¨ `openclaw devices revoke --device <id> --role <role>` æ’¤é”€å®ƒï¼Œå¦åˆ™ä¸éœ€è¦é‡æ–°æ‰¹å‡†ã€‚å‚è§ [Devices CLI](/cli/devices) äº†è§£ token è½®æ¢å’Œæ’¤é”€ã€‚\n\n**æ³¨æ„ï¼š**\n\n- æœ¬åœ°è¿æ¥ï¼ˆ`127.0.0.1`ï¼‰ä¼šè‡ªåŠ¨æ‰¹å‡†ã€‚\n- è¿œç¨‹è¿æ¥ï¼ˆLANã€Tailnet ç­‰ï¼‰éœ€è¦æ˜¾å¼æ‰¹å‡†ã€‚\n- æ¯ä¸ªæµè§ˆå™¨é…ç½®æ–‡ä»¶ç”Ÿæˆå”¯ä¸€çš„è®¾å¤‡ IDï¼Œå› æ­¤åˆ‡æ¢æµè§ˆå™¨æˆ–æ¸…é™¤æµè§ˆå™¨æ•°æ®å°†éœ€è¦é‡æ–°é…å¯¹ã€‚",
    "## ç›®å‰å¯ä»¥åšä»€ä¹ˆ\n\n- é€šè¿‡ Gateway ç½‘å…³ WS ä¸æ¨¡å‹èŠå¤©ï¼ˆ`chat.history`ã€`chat.send`ã€`chat.abort`ã€`chat.inject`ï¼‰\n- åœ¨èŠå¤©ä¸­æµå¼ä¼ è¾“å·¥å…·è°ƒç”¨ + å®æ—¶å·¥å…·è¾“å‡ºå¡ç‰‡ï¼ˆæ™ºèƒ½ä½“äº‹ä»¶ï¼‰\n- æ¸ é“ï¼šWhatsApp/Telegram/Discord/Slack + æ’ä»¶æ¸ é“ï¼ˆMattermost ç­‰ï¼‰çŠ¶æ€ + QR ç™»å½• + æ¯æ¸ é“é…ç½®ï¼ˆ`channels.status`ã€`web.login.*`ã€`config.patch`ï¼‰\n- å®ä¾‹ï¼šåœ¨çº¿åˆ—è¡¨ + åˆ·æ–°ï¼ˆ`system-presence`ï¼‰\n- ä¼šè¯ï¼šåˆ—è¡¨ + æ¯ä¼šè¯æ€è€ƒ/è¯¦ç»†è¦†ç›–ï¼ˆ`sessions.list`ã€`sessions.patch`ï¼‰\n- å®šæ—¶ä»»åŠ¡ï¼šåˆ—å‡º/æ·»åŠ /è¿è¡Œ/å¯ç”¨/ç¦ç”¨ + è¿è¡Œå†å²ï¼ˆ`cron.*`ï¼‰\n- Skillsï¼šçŠ¶æ€ã€å¯ç”¨/ç¦ç”¨ã€å®‰è£…ã€API å¯†é’¥æ›´æ–°ï¼ˆ`skills.*`ï¼‰\n- èŠ‚ç‚¹ï¼šåˆ—è¡¨ + èƒ½åŠ›ï¼ˆ`node.list`ï¼‰\n- æ‰§è¡Œæ‰¹å‡†ï¼šç¼–è¾‘ Gateway ç½‘å…³æˆ–èŠ‚ç‚¹å…è®¸åˆ—è¡¨ + `exec host=gateway/node` çš„è¯¢é—®ç­–ç•¥ï¼ˆ`exec.approvals.*`ï¼‰\n- é…ç½®ï¼šæŸ¥çœ‹/ç¼–è¾‘ `~/.openclaw/openclaw.json`ï¼ˆ`config.get`ã€`config.set`ï¼‰\n- é…ç½®ï¼šåº”ç”¨ + å¸¦éªŒè¯çš„é‡å¯ï¼ˆ`config.apply`ï¼‰å¹¶å”¤é†’ä¸Šæ¬¡æ´»åŠ¨çš„ä¼šè¯\n- é…ç½®å†™å…¥åŒ…å«åŸºç¡€å“ˆå¸Œä¿æŠ¤ï¼Œä»¥é˜²æ­¢è¦†ç›–å¹¶å‘ç¼–è¾‘\n- é…ç½® schema + è¡¨å•æ¸²æŸ“ï¼ˆ`config.schema`ï¼ŒåŒ…æ‹¬æ’ä»¶ + æ¸ é“ schemaï¼‰ï¼›åŸå§‹ JSON ç¼–è¾‘å™¨ä»ç„¶å¯ç”¨\n- è°ƒè¯•ï¼šçŠ¶æ€/å¥åº·/æ¨¡å‹å¿«ç…§ + äº‹ä»¶æ—¥å¿— + æ‰‹åŠ¨ RPC è°ƒç”¨ï¼ˆ`status`ã€`health`ã€`models.list`ï¼‰\n- æ—¥å¿—ï¼šGateway ç½‘å…³æ–‡ä»¶æ—¥å¿—çš„å®æ—¶å°¾éƒ¨è·Ÿè¸ªï¼Œå¸¦è¿‡æ»¤/å¯¼å‡ºï¼ˆ`logs.tail`ï¼‰\n- æ›´æ–°ï¼šè¿è¡ŒåŒ…/git æ›´æ–° + é‡å¯ï¼ˆ`update.run`ï¼‰å¹¶æ˜¾ç¤ºé‡å¯æŠ¥å‘Š",
    "## èŠå¤©è¡Œä¸º\n\n- `chat.send` æ˜¯**éé˜»å¡çš„**ï¼šå®ƒç«‹å³ä»¥ `{ runId, status: \"started\" }` ç¡®è®¤ï¼Œå“åº”é€šè¿‡ `chat` äº‹ä»¶æµå¼ä¼ è¾“ã€‚\n- ä½¿ç”¨ç›¸åŒçš„ `idempotencyKey` é‡æ–°å‘é€åœ¨è¿è¡Œæ—¶è¿”å› `{ status: \"in_flight\" }`ï¼Œå®Œæˆåè¿”å› `{ status: \"ok\" }`ã€‚\n- `chat.inject` å°†åŠ©æ‰‹å¤‡æ³¨é™„åŠ åˆ°ä¼šè¯è½¬å½•ï¼Œå¹¶ä¸ºä»… UI æ›´æ–°å¹¿æ’­ `chat` äº‹ä»¶ï¼ˆæ— æ™ºèƒ½ä½“è¿è¡Œï¼Œæ— æ¸ é“æŠ•é€’ï¼‰ã€‚\n- åœæ­¢ï¼š\n  - ç‚¹å‡»**åœæ­¢**ï¼ˆè°ƒç”¨ `chat.abort`ï¼‰\n  - è¾“å…¥ `/stop`ï¼ˆæˆ– `stop|esc|abort|wait|exit|interrupt`ï¼‰ä»¥å¸¦å¤–ä¸­æ­¢\n  - `chat.abort` æ”¯æŒ `{ sessionKey }`ï¼ˆæ—  `runId`ï¼‰ä»¥ä¸­æ­¢è¯¥ä¼šè¯çš„æ‰€æœ‰æ´»åŠ¨è¿è¡Œ",
    "## Tailnet è®¿é—®ï¼ˆæ¨èï¼‰\n\n### é›†æˆ Tailscale Serveï¼ˆé¦–é€‰ï¼‰\n\nä¿æŒ Gateway ç½‘å…³åœ¨ loopback ä¸Šï¼Œè®© Tailscale Serve ç”¨ HTTPS ä»£ç†å®ƒï¼š\n\n```bash\nopenclaw gateway --tailscale serve\n```\n\næ‰“å¼€ï¼š\n\n- `https://<magicdns>/`ï¼ˆæˆ–ä½ é…ç½®çš„ `gateway.controlUi.basePath`ï¼‰\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ `gateway.auth.allowTailscale` ä¸º `true` æ—¶ï¼ŒServe è¯·æ±‚å¯ä»¥é€šè¿‡ Tailscale èº«ä»½å¤´ï¼ˆ`tailscale-user-login`ï¼‰è¿›è¡Œè®¤è¯ã€‚OpenClaw é€šè¿‡ä½¿ç”¨ `tailscale whois` è§£æ `x-forwarded-for` åœ°å€å¹¶ä¸å¤´åŒ¹é…æ¥éªŒè¯èº«ä»½ï¼Œå¹¶ä¸”åªåœ¨è¯·æ±‚é€šè¿‡ Tailscale çš„ `x-forwarded-*` å¤´åˆ°è¾¾ loopback æ—¶æ¥å—è¿™äº›ã€‚å¦‚æœä½ æƒ³å³ä½¿å¯¹äº Serve æµé‡ä¹Ÿè¦æ±‚ token/å¯†ç ï¼Œè¯·è®¾ç½® `gateway.auth.allowTailscale: false`ï¼ˆæˆ–å¼ºåˆ¶ `gateway.auth.mode: \"password\"`ï¼‰ã€‚\n\n### ç»‘å®šåˆ° tailnet + token\n\n```bash\nopenclaw gateway --bind tailnet --token \"$(openssl rand -hex 32)\"\n```\n\nç„¶åæ‰“å¼€ï¼š\n\n- `http://<tailscale-ip>:18789/`ï¼ˆæˆ–ä½ é…ç½®çš„ `gateway.controlUi.basePath`ï¼‰\n\nå°† token ç²˜è´´åˆ° UI è®¾ç½®ä¸­ï¼ˆä½œä¸º `connect.params.auth.token` å‘é€ï¼‰ã€‚",
    "## ä¸å®‰å…¨çš„ HTTP\n\nå¦‚æœä½ é€šè¿‡æ™®é€š HTTP æ‰“å¼€ä»ªè¡¨æ¿ï¼ˆ`http://<lan-ip>` æˆ– `http://<tailscale-ip>`ï¼‰ï¼Œæµè§ˆå™¨åœ¨**éå®‰å…¨ä¸Šä¸‹æ–‡**ä¸­è¿è¡Œå¹¶é˜»æ­¢ WebCryptoã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒOpenClaw **é˜»æ­¢**æ²¡æœ‰è®¾å¤‡èº«ä»½çš„æ§åˆ¶ UI è¿æ¥ã€‚\n\n**æ¨èä¿®å¤ï¼š** ä½¿ç”¨ HTTPSï¼ˆTailscale Serveï¼‰æˆ–åœ¨æœ¬åœ°æ‰“å¼€ UIï¼š\n\n- `https://<magicdns>/`ï¼ˆServeï¼‰\n- `http://127.0.0.1:18789/`ï¼ˆåœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šï¼‰\n\n**é™çº§ç¤ºä¾‹ï¼ˆä»…é€šè¿‡ HTTP ä½¿ç”¨ tokenï¼‰ï¼š**\n\n```json5\n{\n  gateway: {\n    controlUi: { allowInsecureAuth: true },\n    bind: \"tailnet\",\n    auth: { mode: \"token\", token: \"replace-me\" },\n  },\n}\n```\n\nè¿™ä¼šä¸ºæ§åˆ¶ UI ç¦ç”¨è®¾å¤‡èº«ä»½ + é…å¯¹ï¼ˆå³ä½¿åœ¨ HTTPS ä¸Šï¼‰ã€‚ä»…åœ¨ä½ ä¿¡ä»»ç½‘ç»œæ—¶ä½¿ç”¨ã€‚\n\nå‚è§ [Tailscale](/gateway/tailscale) äº†è§£ HTTPS è®¾ç½®æŒ‡å—ã€‚",
    "## æ„å»º UI\n\nGateway ç½‘å…³ä» `dist/control-ui` æä¾›é™æ€æ–‡ä»¶ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»ºï¼š\n\n```bash\npnpm ui:build # é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨å®‰è£… UI ä¾èµ–\n```\n\nå¯é€‰çš„ç»å¯¹åŸºç¡€è·¯å¾„ï¼ˆå½“ä½ æƒ³è¦å›ºå®šçš„èµ„æº URL æ—¶ï¼‰ï¼š\n\n```bash\nOPENCLAW_CONTROL_UI_BASE_PATH=/openclaw/ pnpm ui:build\n```\n\nç”¨äºæœ¬åœ°å¼€å‘ï¼ˆå•ç‹¬çš„å¼€å‘æœåŠ¡å™¨ï¼‰ï¼š\n\n```bash\npnpm ui:dev # é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨å®‰è£… UI ä¾èµ–\n```\n\nç„¶åå°† UI æŒ‡å‘ä½ çš„ Gateway ç½‘å…³ WS URLï¼ˆä¾‹å¦‚ `ws://127.0.0.1:18789`ï¼‰ã€‚",
    "## è°ƒè¯•/æµ‹è¯•ï¼šå¼€å‘æœåŠ¡å™¨ + è¿œç¨‹ Gateway ç½‘å…³\n\næ§åˆ¶ UI æ˜¯é™æ€æ–‡ä»¶ï¼›WebSocket ç›®æ ‡æ˜¯å¯é…ç½®çš„ï¼Œå¯ä»¥ä¸ HTTP æºä¸åŒã€‚å½“ä½ æƒ³è¦åœ¨æœ¬åœ°ä½¿ç”¨ Vite å¼€å‘æœåŠ¡å™¨ä½† Gateway ç½‘å…³åœ¨å…¶ä»–åœ°æ–¹è¿è¡Œæ—¶ï¼Œè¿™å¾ˆæ–¹ä¾¿ã€‚\n\n1. å¯åŠ¨ UI å¼€å‘æœåŠ¡å™¨ï¼š`pnpm ui:dev`\n2. æ‰“å¼€ç±»ä¼¼ä»¥ä¸‹çš„ URLï¼š\n\n```text\nhttp://localhost:5173/?gatewayUrl=ws://<gateway-host>:18789\n```\n\nå¯é€‰çš„ä¸€æ¬¡æ€§è®¤è¯ï¼ˆå¦‚éœ€è¦ï¼‰ï¼š\n\n```text\nhttp://localhost:5173/?gatewayUrl=wss://<gateway-host>:18789&token=<gateway-token>\n```\n\næ³¨æ„ï¼š\n\n- `gatewayUrl` åœ¨åŠ è½½åå­˜å‚¨åœ¨ localStorage ä¸­å¹¶ä» URL ä¸­ç§»é™¤ã€‚\n- `token` å­˜å‚¨åœ¨ localStorage ä¸­ï¼›`password` ä»…ä¿ç•™åœ¨å†…å­˜ä¸­ã€‚\n- å½“ Gateway ç½‘å…³åœ¨ TLS åé¢æ—¶ï¼ˆTailscale Serveã€HTTPS ä»£ç†ç­‰ï¼‰ï¼Œä½¿ç”¨ `wss://`ã€‚\n\nè¿œç¨‹è®¿é—®è®¾ç½®è¯¦æƒ…ï¼š[è¿œç¨‹è®¿é—®](/gateway/remote)ã€‚",
    "---\ntitle: \"Creating Skills\"\n---\n\n# Creating Custom Skills ğŸ› \n\nOpenClaw is designed to be easily extensible. \"Skills\" are the primary way to add new capabilities to your assistant.",
    "## What is a Skill?\n\nA skill is a directory containing a `SKILL.md` file (which provides instructions and tool definitions to the LLM) and optionally some scripts or resources.",
    "## Step-by-Step: Your First Skill\n\n### 1. Create the Directory\n\nSkills live in your workspace, usually `~/.openclaw/workspace/skills/`. Create a new folder for your skill:\n\n```bash\nmkdir -p ~/.openclaw/workspace/skills/hello-world\n```\n\n### 2. Define the `SKILL.md`\n\nCreate a `SKILL.md` file in that directory. This file uses YAML frontmatter for metadata and Markdown for instructions.\n\n```markdown\n---\nname: hello_world\ndescription: A simple skill that says hello.\n---\n\n# Hello World Skill\n\nWhen the user asks for a greeting, use the `echo` tool to say \"Hello from your custom skill!\".\n```\n\n### 3. Add Tools (Optional)\n\nYou can define custom tools in the frontmatter or instruct the agent to use existing system tools (like `bash` or `browser`).\n\n### 4. Refresh OpenClaw\n\nAsk your agent to \"refresh skills\" or restart the gateway. OpenClaw will discover the new directory and index the `SKILL.md`.",
    "## Best Practices\n\n- **Be Concise**: Instruct the model on _what_ to do, not how to be an AI.\n- **Safety First**: If your skill uses `bash`, ensure the prompts don't allow arbitrary command injection from untrusted user input.\n- **Test Locally**: Use `openclaw agent --message \"use my new skill\"` to test.",
    "## Shared Skills\n\nYou can also browse and contribute skills to [ClawHub](https://clawhub.com).",
    "---\nread_when:\n  - ä½ æƒ³äº†è§£é¡¹ç›®èƒŒæ™¯æ•…äº‹æˆ–è´¡çŒ®è€…è‡´è°¢ä¿¡æ¯\nsummary: é¡¹ç›®èµ·æºã€è´¡çŒ®è€…å’Œè®¸å¯è¯ã€‚\ntitle: è‡´è°¢\nx-i18n:\n  generated_at: \"2026-02-04T17:53:19Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: d55e520313e131025b22cb20b3d2fbd44619e1668d09b5bd9d56d7df019bc46c\n  source_path: reference/credits.md\n  workflow: 15\n---",
    "## åç§°ç”±æ¥\n\nOpenClaw = CLAW + TARDISï¼Œå› ä¸ºæ¯åªå¤ªç©ºé¾™è™¾éƒ½éœ€è¦ä¸€å°æ—¶ç©ºæœºå™¨ã€‚",
    "## è‡´è°¢\n\n- **Peter Steinberger** ([@steipete](https://x.com/steipete)) - åˆ›å»ºè€…ï¼Œé¾™è™¾è¯­è€…\n- **Mario Zechner** ([@badlogicc](https://x.com/badlogicgames)) - Pi åˆ›å»ºè€…ï¼Œå®‰å…¨æ¸—é€æµ‹è¯•å‘˜\n- **Clawd** - é‚£åªè¦æ±‚å–ä¸ªæ›´å¥½åå­—çš„å¤ªç©ºé¾™è™¾",
    "## æ ¸å¿ƒè´¡çŒ®è€…\n\n- **Maxim Vovshin** (@Hyaxia, 36747317+Hyaxia@users.noreply.github.com) - Blogwatcher skill\n- **Nacho Iacovino** (@nachoiacovino, nacho.iacovino@gmail.com) - ä½ç½®è§£æï¼ˆTelegram å’Œ WhatsAppï¼‰",
    "## è®¸å¯è¯\n\nMIT - åƒæµ·æ´‹ä¸­çš„é¾™è™¾ä¸€æ ·è‡ªç”±ã€‚\n\n> \"æˆ‘ä»¬éƒ½åªæ˜¯åœ¨ç©è‡ªå·±çš„æç¤ºè¯è€Œå·²ã€‚\"ï¼ˆæŸä¸ª AIï¼Œå¤§æ¦‚æ˜¯ token å¸å¤šäº†ï¼‰",
    "---\nsummary: \"Harden cron.add input handling, align schemas, and improve cron UI/agent tooling\"\nowner: \"openclaw\"\nstatus: \"complete\"\nlast_updated: \"2026-01-05\"\ntitle: \"Cron Add Hardening\"\n---\n\n# Cron Add Hardening & Schema Alignment",
    "## Context\n\nRecent gateway logs show repeated `cron.add` failures with invalid parameters (missing `sessionTarget`, `wakeMode`, `payload`, and malformed `schedule`). This indicates that at least one client (likely the agent tool call path) is sending wrapped or partially specified job payloads. Separately, there is drift between cron provider enums in TypeScript, gateway schema, CLI flags, and UI form types, plus a UI mismatch for `cron.status` (expects `jobCount` while gateway returns `jobs`).",
    "## Goals\n\n- Stop `cron.add` INVALID_REQUEST spam by normalizing common wrapper payloads and inferring missing `kind` fields.\n- Align cron provider lists across gateway schema, cron types, CLI docs, and UI forms.\n- Make agent cron tool schema explicit so the LLM produces correct job payloads.\n- Fix the Control UI cron status job count display.\n- Add tests to cover normalization and tool behavior.",
    "## Non-goals\n\n- Change cron scheduling semantics or job execution behavior.\n- Add new schedule kinds or cron expression parsing.\n- Overhaul the UI/UX for cron beyond the necessary field fixes.",
    "## Findings (current gaps)\n\n- `CronPayloadSchema` in gateway excludes `signal` + `imessage`, while TS types include them.\n- Control UI CronStatus expects `jobCount`, but gateway returns `jobs`.\n- Agent cron tool schema allows arbitrary `job` objects, enabling malformed inputs.\n- Gateway strictly validates `cron.add` with no normalization, so wrapped payloads fail.",
    "## What changed\n\n- `cron.add` and `cron.update` now normalize common wrapper shapes and infer missing `kind` fields.\n- Agent cron tool schema matches the gateway schema, which reduces invalid payloads.\n- Provider enums are aligned across gateway, CLI, UI, and macOS picker.\n- Control UI uses the gatewayâ€™s `jobs` count field for status.",
    "## Current behavior\n\n- **Normalization:** wrapped `data`/`job` payloads are unwrapped; `schedule.kind` and `payload.kind` are inferred when safe.\n- **Defaults:** safe defaults are applied for `wakeMode` and `sessionTarget` when missing.\n- **Providers:** Discord/Slack/Signal/iMessage are now consistently surfaced across CLI/UI.\n\nSee [Cron jobs](/automation/cron-jobs) for the normalized shape and examples.",
    "## Verification\n\n- Watch gateway logs for reduced `cron.add` INVALID_REQUEST errors.\n- Confirm Control UI cron status shows job count after refresh.",
    "## Optional Follow-ups\n\n- Manual Control UI smoke: add a cron job per provider + verify status job count.",
    "## Open Questions\n\n- Should `cron.add` accept explicit `state` from clients (currently disallowed by schema)?\n- Should we allow `webchat` as an explicit delivery provider (currently filtered in delivery resolution)?",
    "---\nsummary: \"Cron jobs + wakeups for the Gateway scheduler\"\nread_when:\n  - Scheduling background jobs or wakeups\n  - Wiring automation that should run with or alongside heartbeats\n  - Deciding between heartbeat and cron for scheduled tasks\ntitle: \"Cron Jobs\"\n---\n\n# Cron jobs (Gateway scheduler)\n\n> **Cron vs Heartbeat?** See [Cron vs Heartbeat](/automation/cron-vs-heartbeat) for guidance on when to use each.\n\nCron is the Gatewayâ€™s built-in scheduler. It persists jobs, wakes the agent at\nthe right time, and can optionally deliver output back to a chat.\n\nIf you want _â€œrun this every morningâ€_ or _â€œpoke the agent in 20 minutesâ€_,\ncron is the mechanism.",
    "## TL;DR\n\n- Cron runs **inside the Gateway** (not inside the model).\n- Jobs persist under `~/.openclaw/cron/` so restarts donâ€™t lose schedules.\n- Two execution styles:\n  - **Main session**: enqueue a system event, then run on the next heartbeat.\n  - **Isolated**: run a dedicated agent turn in `cron:<jobId>`, with delivery (announce by default or none).\n- Wakeups are first-class: a job can request â€œwake nowâ€ vs â€œnext heartbeatâ€.",
    "## Quick start (actionable)\n\nCreate a one-shot reminder, verify it exists, and run it immediately:\n\n```bash\nopenclaw cron add \\\n  --name \"Reminder\" \\\n  --at \"2026-02-01T16:00:00Z\" \\\n  --session main \\\n  --system-event \"Reminder: check the cron docs draft\" \\\n  --wake now \\\n  --delete-after-run\n\nopenclaw cron list\nopenclaw cron run <job-id>\nopenclaw cron runs --id <job-id>\n```\n\nSchedule a recurring isolated job with delivery:\n\n```bash\nopenclaw cron add \\\n  --name \"Morning brief\" \\\n  --cron \"0 7 * * *\" \\\n  --tz \"America/Los_Angeles\" \\\n  --session isolated \\\n  --message \"Summarize overnight updates.\" \\\n  --announce \\\n  --channel slack \\\n  --to \"channel:C1234567890\"\n```",
    "## Tool-call equivalents (Gateway cron tool)\n\nFor the canonical JSON shapes and examples, see [JSON schema for tool calls](/automation/cron-jobs#json-schema-for-tool-calls).",
    "## Where cron jobs are stored\n\nCron jobs are persisted on the Gateway host at `~/.openclaw/cron/jobs.json` by default.\nThe Gateway loads the file into memory and writes it back on changes, so manual edits\nare only safe when the Gateway is stopped. Prefer `openclaw cron add/edit` or the cron\ntool call API for changes.",
    "## Beginner-friendly overview\n\nThink of a cron job as: **when** to run + **what** to do.\n\n1. **Choose a schedule**\n   - One-shot reminder â†’ `schedule.kind = \"at\"` (CLI: `--at`)\n   - Repeating job â†’ `schedule.kind = \"every\"` or `schedule.kind = \"cron\"`\n   - If your ISO timestamp omits a timezone, it is treated as **UTC**.\n\n2. **Choose where it runs**\n   - `sessionTarget: \"main\"` â†’ run during the next heartbeat with main context.\n   - `sessionTarget: \"isolated\"` â†’ run a dedicated agent turn in `cron:<jobId>`.\n\n3. **Choose the payload**\n   - Main session â†’ `payload.kind = \"systemEvent\"`\n   - Isolated session â†’ `payload.kind = \"agentTurn\"`\n\nOptional: one-shot jobs (`schedule.kind = \"at\"`) delete after success by default. Set\n`deleteAfterRun: false` to keep them (they will disable after success).",
    "## Concepts\n\n### Jobs\n\nA cron job is a stored record with:\n\n- a **schedule** (when it should run),\n- a **payload** (what it should do),\n- optional **delivery mode** (announce or none).\n- optional **agent binding** (`agentId`): run the job under a specific agent; if\n  missing or unknown, the gateway falls back to the default agent.\n\nJobs are identified by a stable `jobId` (used by CLI/Gateway APIs).\nIn agent tool calls, `jobId` is canonical; legacy `id` is accepted for compatibility.\nOne-shot jobs auto-delete after success by default; set `deleteAfterRun: false` to keep them.\n\n### Schedules\n\nCron supports three schedule kinds:\n\n- `at`: one-shot timestamp via `schedule.at` (ISO 8601).\n- `every`: fixed interval (ms).\n- `cron`: 5-field cron expression with optional IANA timezone.\n\nCron expressions use `croner`. If a timezone is omitted, the Gateway hostâ€™s\nlocal timezone is used.\n\n### Main vs isolated execution\n\n#### Main session jobs (system events)",
    "Main jobs enqueue a system event and optionally wake the heartbeat runner.\nThey must use `payload.kind = \"systemEvent\"`.\n\n- `wakeMode: \"now\"` (default): event triggers an immediate heartbeat run.\n- `wakeMode: \"next-heartbeat\"`: event waits for the next scheduled heartbeat.\n\nThis is the best fit when you want the normal heartbeat prompt + main-session context.\nSee [Heartbeat](/gateway/heartbeat).\n\n#### Isolated jobs (dedicated cron sessions)\n\nIsolated jobs run a dedicated agent turn in session `cron:<jobId>`.\n\nKey behaviors:",
    "- Prompt is prefixed with `[cron:<jobId> <job name>]` for traceability.\n- Each run starts a **fresh session id** (no prior conversation carry-over).\n- Default behavior: if `delivery` is omitted, isolated jobs announce a summary (`delivery.mode = \"announce\"`).\n- `delivery.mode` (isolated-only) chooses what happens:\n  - `announce`: deliver a summary to the target channel and post a brief summary to the main session.\n  - `none`: internal only (no delivery, no main-session summary).\n- `wakeMode` controls when the main-session summary posts:\n  - `now`: immediate heartbeat.\n  - `next-heartbeat`: waits for the next scheduled heartbeat.\n\nUse isolated jobs for noisy, frequent, or \"background chores\" that shouldn't spam\nyour main chat history.\n\n### Payload shapes (what runs)\n\nTwo payload kinds are supported:\n\n- `systemEvent`: main-session only, routed through the heartbeat prompt.\n- `agentTurn`: isolated-session only, runs a dedicated agent turn.\n\nCommon `agentTurn` fields:",
    "- `message`: required text prompt.\n- `model` / `thinking`: optional overrides (see below).\n- `timeoutSeconds`: optional timeout override.\n\nDelivery config (isolated jobs only):\n\n- `delivery.mode`: `none` | `announce`.\n- `delivery.channel`: `last` or a specific channel.\n- `delivery.to`: channel-specific target (phone/chat/channel id).\n- `delivery.bestEffort`: avoid failing the job if announce delivery fails.\n\nAnnounce delivery suppresses messaging tool sends for the run; use `delivery.channel`/`delivery.to`\nto target the chat instead. When `delivery.mode = \"none\"`, no summary is posted to the main session.\n\nIf `delivery` is omitted for isolated jobs, OpenClaw defaults to `announce`.\n\n#### Announce delivery flow\n\nWhen `delivery.mode = \"announce\"`, cron delivers directly via the outbound channel adapters.\nThe main agent is not spun up to craft or forward the message.\n\nBehavior details:",
    "- Content: delivery uses the isolated run's outbound payloads (text/media) with normal chunking and\n  channel formatting.\n- Heartbeat-only responses (`HEARTBEAT_OK` with no real content) are not delivered.\n- If the isolated run already sent a message to the same target via the message tool, delivery is\n  skipped to avoid duplicates.\n- Missing or invalid delivery targets fail the job unless `delivery.bestEffort = true`.\n- A short summary is posted to the main session only when `delivery.mode = \"announce\"`.\n- The main-session summary respects `wakeMode`: `now` triggers an immediate heartbeat and\n  `next-heartbeat` waits for the next scheduled heartbeat.\n\n### Model and thinking overrides\n\nIsolated jobs (`agentTurn`) can override the model and thinking level:\n\n- `model`: Provider/model string (e.g., `anthropic/claude-sonnet-4-20250514`) or alias (e.g., `opus`)\n- `thinking`: Thinking level (`off`, `minimal`, `low`, `medium`, `high`, `xhigh`; GPT-5.2 + Codex models only)",
    "Note: You can set `model` on main-session jobs too, but it changes the shared main\nsession model. We recommend model overrides only for isolated jobs to avoid\nunexpected context shifts.\n\nResolution priority:\n\n1. Job payload override (highest)\n2. Hook-specific defaults (e.g., `hooks.gmail.model`)\n3. Agent config default\n\n### Delivery (channel + target)\n\nIsolated jobs can deliver output to a channel via the top-level `delivery` config:\n\n- `delivery.mode`: `announce` (deliver a summary) or `none`.\n- `delivery.channel`: `whatsapp` / `telegram` / `discord` / `slack` / `mattermost` (plugin) / `signal` / `imessage` / `last`.\n- `delivery.to`: channel-specific recipient target.\n\nDelivery config is only valid for isolated jobs (`sessionTarget: \"isolated\"`).\n\nIf `delivery.channel` or `delivery.to` is omitted, cron can fall back to the main sessionâ€™s\nâ€œlast routeâ€ (the last place the agent replied).\n\nTarget format reminders:",
    "- Slack/Discord/Mattermost (plugin) targets should use explicit prefixes (e.g. `channel:<id>`, `user:<id>`) to avoid ambiguity.\n- Telegram topics should use the `:topic:` form (see below).\n\n#### Telegram delivery targets (topics / forum threads)\n\nTelegram supports forum topics via `message_thread_id`. For cron delivery, you can encode\nthe topic/thread into the `to` field:\n\n- `-1001234567890` (chat id only)\n- `-1001234567890:topic:123` (preferred: explicit topic marker)\n- `-1001234567890:123` (shorthand: numeric suffix)\n\nPrefixed targets like `telegram:...` / `telegram:group:...` are also accepted:\n\n- `telegram:group:-1001234567890:topic:123`",
    "## JSON schema for tool calls\n\nUse these shapes when calling Gateway `cron.*` tools directly (agent tool calls or RPC).\nCLI flags accept human durations like `20m`, but tool calls should use an ISO 8601 string\nfor `schedule.at` and milliseconds for `schedule.everyMs`.\n\n### cron.add params\n\nOne-shot, main session job (system event):\n\n```json\n{\n  \"name\": \"Reminder\",\n  \"schedule\": { \"kind\": \"at\", \"at\": \"2026-02-01T16:00:00Z\" },\n  \"sessionTarget\": \"main\",\n  \"wakeMode\": \"now\",\n  \"payload\": { \"kind\": \"systemEvent\", \"text\": \"Reminder text\" },\n  \"deleteAfterRun\": true\n}\n```\n\nRecurring, isolated job with delivery:",
    "```json\n{\n  \"name\": \"Morning brief\",\n  \"schedule\": { \"kind\": \"cron\", \"expr\": \"0 7 * * *\", \"tz\": \"America/Los_Angeles\" },\n  \"sessionTarget\": \"isolated\",\n  \"wakeMode\": \"next-heartbeat\",\n  \"payload\": {\n    \"kind\": \"agentTurn\",\n    \"message\": \"Summarize overnight updates.\"\n  },\n  \"delivery\": {\n    \"mode\": \"announce\",\n    \"channel\": \"slack\",\n    \"to\": \"channel:C1234567890\",\n    \"bestEffort\": true\n  }\n}\n```\n\nNotes:\n\n- `schedule.kind`: `at` (`at`), `every` (`everyMs`), or `cron` (`expr`, optional `tz`).\n- `schedule.at` accepts ISO 8601 (timezone optional; treated as UTC when omitted).\n- `everyMs` is milliseconds.\n- `sessionTarget` must be `\"main\"` or `\"isolated\"` and must match `payload.kind`.\n- Optional fields: `agentId`, `description`, `enabled`, `deleteAfterRun` (defaults to true for `at`),\n  `delivery`.\n- `wakeMode` defaults to `\"now\"` when omitted.\n\n### cron.update params",
    "```json\n{\n  \"jobId\": \"job-123\",\n  \"patch\": {\n    \"enabled\": false,\n    \"schedule\": { \"kind\": \"every\", \"everyMs\": 3600000 }\n  }\n}\n```\n\nNotes:\n\n- `jobId` is canonical; `id` is accepted for compatibility.\n- Use `agentId: null` in the patch to clear an agent binding.\n\n### cron.run and cron.remove params\n\n```json\n{ \"jobId\": \"job-123\", \"mode\": \"force\" }\n```\n\n```json\n{ \"jobId\": \"job-123\" }\n```",
    "## Storage & history\n\n- Job store: `~/.openclaw/cron/jobs.json` (Gateway-managed JSON).\n- Run history: `~/.openclaw/cron/runs/<jobId>.jsonl` (JSONL, auto-pruned).\n- Override store path: `cron.store` in config.",
    "## Configuration\n\n```json5\n{\n  cron: {\n    enabled: true, // default true\n    store: \"~/.openclaw/cron/jobs.json\",\n    maxConcurrentRuns: 1, // default 1\n  },\n}\n```\n\nDisable cron entirely:\n\n- `cron.enabled: false` (config)\n- `OPENCLAW_SKIP_CRON=1` (env)",
    "## CLI quickstart\n\nOne-shot reminder (UTC ISO, auto-delete after success):\n\n```bash\nopenclaw cron add \\\n  --name \"Send reminder\" \\\n  --at \"2026-01-12T18:00:00Z\" \\\n  --session main \\\n  --system-event \"Reminder: submit expense report.\" \\\n  --wake now \\\n  --delete-after-run\n```\n\nOne-shot reminder (main session, wake immediately):\n\n```bash\nopenclaw cron add \\\n  --name \"Calendar check\" \\\n  --at \"20m\" \\\n  --session main \\\n  --system-event \"Next heartbeat: check calendar.\" \\\n  --wake now\n```\n\nRecurring isolated job (announce to WhatsApp):\n\n```bash\nopenclaw cron add \\\n  --name \"Morning status\" \\\n  --cron \"0 7 * * *\" \\\n  --tz \"America/Los_Angeles\" \\\n  --session isolated \\\n  --message \"Summarize inbox + calendar for today.\" \\\n  --announce \\\n  --channel whatsapp \\\n  --to \"+15551234567\"\n```\n\nRecurring isolated job (deliver to a Telegram topic):",
    "```bash\nopenclaw cron add \\\n  --name \"Nightly summary (topic)\" \\\n  --cron \"0 22 * * *\" \\\n  --tz \"America/Los_Angeles\" \\\n  --session isolated \\\n  --message \"Summarize today; send to the nightly topic.\" \\\n  --announce \\\n  --channel telegram \\\n  --to \"-1001234567890:topic:123\"\n```\n\nIsolated job with model and thinking override:\n\n```bash\nopenclaw cron add \\\n  --name \"Deep analysis\" \\\n  --cron \"0 6 * * 1\" \\\n  --tz \"America/Los_Angeles\" \\\n  --session isolated \\\n  --message \"Weekly deep analysis of project progress.\" \\\n  --model \"opus\" \\\n  --thinking high \\\n  --announce \\\n  --channel whatsapp \\\n  --to \"+15551234567\"\n```\n\nAgent selection (multi-agent setups):\n\n```bash\n# Pin a job to agent \"ops\" (falls back to default if that agent is missing)\nopenclaw cron add --name \"Ops sweep\" --cron \"0 6 * * *\" --session isolated --message \"Check ops queue\" --agent ops\n\n# Switch or clear the agent on an existing job\nopenclaw cron edit <jobId> --agent ops\nopenclaw cron edit <jobId> --clear-agent\n```",
    "Manual run (force is the default, use `--due` to only run when due):\n\n```bash\nopenclaw cron run <jobId>\nopenclaw cron run <jobId> --due\n```\n\nEdit an existing job (patch fields):\n\n```bash\nopenclaw cron edit <jobId> \\\n  --message \"Updated prompt\" \\\n  --model \"opus\" \\\n  --thinking low\n```\n\nRun history:\n\n```bash\nopenclaw cron runs --id <jobId> --limit 50\n```\n\nImmediate system event without creating a job:\n\n```bash\nopenclaw system event --mode now --text \"Next heartbeat: check battery.\"\n```",
    "## Gateway API surface\n\n- `cron.list`, `cron.status`, `cron.add`, `cron.update`, `cron.remove`\n- `cron.run` (force or due), `cron.runs`\n  For immediate system events without a job, use [`openclaw system event`](/cli/system).",
    "## Troubleshooting\n\n### â€œNothing runsâ€\n\n- Check cron is enabled: `cron.enabled` and `OPENCLAW_SKIP_CRON`.\n- Check the Gateway is running continuously (cron runs inside the Gateway process).\n- For `cron` schedules: confirm timezone (`--tz`) vs the host timezone.\n\n### Telegram delivers to the wrong place\n\n- For forum topics, use `-100â€¦:topic:<id>` so itâ€™s explicit and unambiguous.\n- If you see `telegram:...` prefixes in logs or stored â€œlast routeâ€ targets, thatâ€™s normal;\n  cron delivery accepts them and still parses topic IDs correctly.",
    "---\nsummary: \"Guidance for choosing between heartbeat and cron jobs for automation\"\nread_when:\n  - Deciding how to schedule recurring tasks\n  - Setting up background monitoring or notifications\n  - Optimizing token usage for periodic checks\ntitle: \"Cron vs Heartbeat\"\n---\n\n# Cron vs Heartbeat: When to Use Each\n\nBoth heartbeats and cron jobs let you run tasks on a schedule. This guide helps you choose the right mechanism for your use case.",
    "## Quick Decision Guide\n\n| Use Case                             | Recommended         | Why                                      |\n| ------------------------------------ | ------------------- | ---------------------------------------- |\n| Check inbox every 30 min             | Heartbeat           | Batches with other checks, context-aware |\n| Send daily report at 9am sharp       | Cron (isolated)     | Exact timing needed                      |\n| Monitor calendar for upcoming events | Heartbeat           | Natural fit for periodic awareness       |\n| Run weekly deep analysis             | Cron (isolated)     | Standalone task, can use different model |\n| Remind me in 20 minutes              | Cron (main, `--at`) | One-shot with precise timing             |\n| Background project health check      | Heartbeat           | Piggybacks on existing cycle             |",
    "## Heartbeat: Periodic Awareness\n\nHeartbeats run in the **main session** at a regular interval (default: 30 min). They're designed for the agent to check on things and surface anything important.\n\n### When to use heartbeat\n\n- **Multiple periodic checks**: Instead of 5 separate cron jobs checking inbox, calendar, weather, notifications, and project status, a single heartbeat can batch all of these.\n- **Context-aware decisions**: The agent has full main-session context, so it can make smart decisions about what's urgent vs. what can wait.\n- **Conversational continuity**: Heartbeat runs share the same session, so the agent remembers recent conversations and can follow up naturally.\n- **Low-overhead monitoring**: One heartbeat replaces many small polling tasks.\n\n### Heartbeat advantages",
    "- **Batches multiple checks**: One agent turn can review inbox, calendar, and notifications together.\n- **Reduces API calls**: A single heartbeat is cheaper than 5 isolated cron jobs.\n- **Context-aware**: The agent knows what you've been working on and can prioritize accordingly.\n- **Smart suppression**: If nothing needs attention, the agent replies `HEARTBEAT_OK` and no message is delivered.\n- **Natural timing**: Drifts slightly based on queue load, which is fine for most monitoring.\n\n### Heartbeat example: HEARTBEAT.md checklist\n\n```md\n# Heartbeat checklist\n\n- Check email for urgent messages\n- Review calendar for events in next 2 hours\n- If a background task finished, summarize results\n- If idle for 8+ hours, send a brief check-in\n```\n\nThe agent reads this on each heartbeat and handles all items in one turn.\n\n### Configuring heartbeat",
    "```json5\n{\n  agents: {\n    defaults: {\n      heartbeat: {\n        every: \"30m\", // interval\n        target: \"last\", // where to deliver alerts\n        activeHours: { start: \"08:00\", end: \"22:00\" }, // optional\n      },\n    },\n  },\n}\n```\n\nSee [Heartbeat](/gateway/heartbeat) for full configuration.",
    "## Cron: Precise Scheduling\n\nCron jobs run at **exact times** and can run in isolated sessions without affecting main context.\n\n### When to use cron\n\n- **Exact timing required**: \"Send this at 9:00 AM every Monday\" (not \"sometime around 9\").\n- **Standalone tasks**: Tasks that don't need conversational context.\n- **Different model/thinking**: Heavy analysis that warrants a more powerful model.\n- **One-shot reminders**: \"Remind me in 20 minutes\" with `--at`.\n- **Noisy/frequent tasks**: Tasks that would clutter main session history.\n- **External triggers**: Tasks that should run independently of whether the agent is otherwise active.\n\n### Cron advantages",
    "- **Exact timing**: 5-field cron expressions with timezone support.\n- **Session isolation**: Runs in `cron:<jobId>` without polluting main history.\n- **Model overrides**: Use a cheaper or more powerful model per job.\n- **Delivery control**: Isolated jobs default to `announce` (summary); choose `none` as needed.\n- **Immediate delivery**: Announce mode posts directly without waiting for heartbeat.\n- **No agent context needed**: Runs even if main session is idle or compacted.\n- **One-shot support**: `--at` for precise future timestamps.\n\n### Cron example: Daily morning briefing\n\n```bash\nopenclaw cron add \\\n  --name \"Morning briefing\" \\\n  --cron \"0 7 * * *\" \\\n  --tz \"America/New_York\" \\\n  --session isolated \\\n  --message \"Generate today's briefing: weather, calendar, top emails, news summary.\" \\\n  --model opus \\\n  --announce \\\n  --channel whatsapp \\\n  --to \"+15551234567\"\n```\n\nThis runs at exactly 7:00 AM New York time, uses Opus for quality, and announces a summary directly to WhatsApp.",
    "### Cron example: One-shot reminder\n\n```bash\nopenclaw cron add \\\n  --name \"Meeting reminder\" \\\n  --at \"20m\" \\\n  --session main \\\n  --system-event \"Reminder: standup meeting starts in 10 minutes.\" \\\n  --wake now \\\n  --delete-after-run\n```\n\nSee [Cron jobs](/automation/cron-jobs) for full CLI reference.",
    "## Decision Flowchart\n\n```\nDoes the task need to run at an EXACT time?\n  YES -> Use cron\n  NO  -> Continue...\n\nDoes the task need isolation from main session?\n  YES -> Use cron (isolated)\n  NO  -> Continue...\n\nCan this task be batched with other periodic checks?\n  YES -> Use heartbeat (add to HEARTBEAT.md)\n  NO  -> Use cron\n\nIs this a one-shot reminder?\n  YES -> Use cron with --at\n  NO  -> Continue...\n\nDoes it need a different model or thinking level?\n  YES -> Use cron (isolated) with --model/--thinking\n  NO  -> Use heartbeat\n```",
    "## Combining Both\n\nThe most efficient setup uses **both**:\n\n1. **Heartbeat** handles routine monitoring (inbox, calendar, notifications) in one batched turn every 30 minutes.\n2. **Cron** handles precise schedules (daily reports, weekly reviews) and one-shot reminders.\n\n### Example: Efficient automation setup\n\n**HEARTBEAT.md** (checked every 30 min):\n\n```md\n# Heartbeat checklist\n\n- Scan inbox for urgent emails\n- Check calendar for events in next 2h\n- Review any pending tasks\n- Light check-in if quiet for 8+ hours\n```\n\n**Cron jobs** (precise timing):\n\n```bash\n# Daily morning briefing at 7am\nopenclaw cron add --name \"Morning brief\" --cron \"0 7 * * *\" --session isolated --message \"...\" --announce\n\n# Weekly project review on Mondays at 9am\nopenclaw cron add --name \"Weekly review\" --cron \"0 9 * * 1\" --session isolated --message \"...\" --model opus\n\n# One-shot reminder\nopenclaw cron add --name \"Call back\" --at \"2h\" --session main --system-event \"Call back the client\" --wake now\n```",
    "## Lobster: Deterministic workflows with approvals\n\nLobster is the workflow runtime for **multi-step tool pipelines** that need deterministic execution and explicit approvals.\nUse it when the task is more than a single agent turn, and you want a resumable workflow with human checkpoints.\n\n### When Lobster fits\n\n- **Multi-step automation**: You need a fixed pipeline of tool calls, not a one-off prompt.\n- **Approval gates**: Side effects should pause until you approve, then resume.\n- **Resumable runs**: Continue a paused workflow without re-running earlier steps.\n\n### How it pairs with heartbeat and cron\n\n- **Heartbeat/cron** decide _when_ a run happens.\n- **Lobster** defines _what steps_ happen once the run starts.\n\nFor scheduled workflows, use cron or heartbeat to trigger an agent turn that calls Lobster.\nFor ad-hoc workflows, call Lobster directly.\n\n### Operational notes (from the code)",
    "- Lobster runs as a **local subprocess** (`lobster` CLI) in tool mode and returns a **JSON envelope**.\n- If the tool returns `needs_approval`, you resume with a `resumeToken` and `approve` flag.\n- The tool is an **optional plugin**; enable it additively via `tools.alsoAllow: [\"lobster\"]` (recommended).\n- If you pass `lobsterPath`, it must be an **absolute path**.\n\nSee [Lobster](/tools/lobster) for full usage and examples.",
    "## Main Session vs Isolated Session\n\nBoth heartbeat and cron can interact with the main session, but differently:\n\n|         | Heartbeat                       | Cron (main)              | Cron (isolated)            |\n| ------- | ------------------------------- | ------------------------ | -------------------------- |\n| Session | Main                            | Main (via system event)  | `cron:<jobId>`             |\n| History | Shared                          | Shared                   | Fresh each run             |\n| Context | Full                            | Full                     | None (starts clean)        |\n| Model   | Main session model              | Main session model       | Can override               |\n| Output  | Delivered if not `HEARTBEAT_OK` | Heartbeat prompt + event | Announce summary (default) |\n\n### When to use main session cron\n\nUse `--session main` with `--system-event` when you want:",
    "- The reminder/event to appear in main session context\n- The agent to handle it during the next heartbeat with full context\n- No separate isolated run\n\n```bash\nopenclaw cron add \\\n  --name \"Check project\" \\\n  --every \"4h\" \\\n  --session main \\\n  --system-event \"Time for a project health check\" \\\n  --wake now\n```\n\n### When to use isolated cron\n\nUse `--session isolated` when you want:\n\n- A clean slate without prior context\n- Different model or thinking settings\n- Announce summaries directly to a channel\n- History that doesn't clutter main session\n\n```bash\nopenclaw cron add \\\n  --name \"Deep analysis\" \\\n  --cron \"0 6 * * 0\" \\\n  --session isolated \\\n  --message \"Weekly codebase analysis...\" \\\n  --model opus \\\n  --thinking high \\\n  --announce\n```",
    "## Cost Considerations\n\n| Mechanism       | Cost Profile                                            |\n| --------------- | ------------------------------------------------------- |\n| Heartbeat       | One turn every N minutes; scales with HEARTBEAT.md size |\n| Cron (main)     | Adds event to next heartbeat (no isolated turn)         |\n| Cron (isolated) | Full agent turn per job; can use cheaper model          |\n\n**Tips**:\n\n- Keep `HEARTBEAT.md` small to minimize token overhead.\n- Batch similar checks into heartbeat instead of multiple cron jobs.\n- Use `target: \"none\"` on heartbeat if you only want internal processing.\n- Use isolated cron with a cheaper model for routine tasks.",
    "## Related\n\n- [Heartbeat](/gateway/heartbeat) - full heartbeat configuration\n- [Cron jobs](/automation/cron-jobs) - full cron CLI and API reference\n- [System](/cli/system) - system events + heartbeat controls",
    "---\nsummary: \"CLI reference for `openclaw cron` (schedule and run background jobs)\"\nread_when:\n  - You want scheduled jobs and wakeups\n  - Youâ€™re debugging cron execution and logs\ntitle: \"cron\"\n---\n\n# `openclaw cron`\n\nManage cron jobs for the Gateway scheduler.\n\nRelated:\n\n- Cron jobs: [Cron jobs](/automation/cron-jobs)\n\nTip: run `openclaw cron --help` for the full command surface.\n\nNote: isolated `cron add` jobs default to `--announce` delivery. Use `--no-deliver` to keep\noutput internal. `--deliver` remains as a deprecated alias for `--announce`.\n\nNote: one-shot (`--at`) jobs delete after success by default. Use `--keep-after-run` to keep them.",
    "## Common edits\n\nUpdate delivery settings without changing the message:\n\n```bash\nopenclaw cron edit <job-id> --announce --channel telegram --to \"123456789\"\n```\n\nDisable delivery for an isolated job:\n\n```bash\nopenclaw cron edit <job-id> --no-deliver\n```\n\nAnnounce to a specific channel:\n\n```bash\nopenclaw cron edit <job-id> --announce --channel slack --to \"channel:C1234567890\"\n```",
    "---\nsummary: \"CLI reference for `openclaw dashboard` (open the Control UI)\"\nread_when:\n  - You want to open the Control UI with your current token\n  - You want to print the URL without launching a browser\ntitle: \"dashboard\"\n---\n\n# `openclaw dashboard`\n\nOpen the Control UI using your current auth.\n\n```bash\nopenclaw dashboard\nopenclaw dashboard --no-open\n```",
    "---\nsummary: \"Date and time handling across envelopes, prompts, tools, and connectors\"\nread_when:\n  - You are changing how timestamps are shown to the model or users\n  - You are debugging time formatting in messages or system prompt output\ntitle: \"Date and Time\"\n---\n\n# Date & Time\n\nOpenClaw defaults to **host-local time for transport timestamps** and **user timezone only in the system prompt**.\nProvider timestamps are preserved so tools keep their native semantics (current time is available via `session_status`).",
    "## Message envelopes (local by default)\n\nInbound messages are wrapped with a timestamp (minute precision):\n\n```\n[Provider ... 2026-01-05 16:26 PST] message text\n```\n\nThis envelope timestamp is **host-local by default**, regardless of the provider timezone.\n\nYou can override this behavior:\n\n```json5\n{\n  agents: {\n    defaults: {\n      envelopeTimezone: \"local\", // \"utc\" | \"local\" | \"user\" | IANA timezone\n      envelopeTimestamp: \"on\", // \"on\" | \"off\"\n      envelopeElapsed: \"on\", // \"on\" | \"off\"\n    },\n  },\n}\n```\n\n- `envelopeTimezone: \"utc\"` uses UTC.\n- `envelopeTimezone: \"local\"` uses the host timezone.\n- `envelopeTimezone: \"user\"` uses `agents.defaults.userTimezone` (falls back to host timezone).\n- Use an explicit IANA timezone (e.g., `\"America/Chicago\"`) for a fixed zone.\n- `envelopeTimestamp: \"off\"` removes absolute timestamps from envelope headers.\n- `envelopeElapsed: \"off\"` removes elapsed time suffixes (the `+2m` style).\n\n### Examples\n\n**Local (default):**",
    "```\n[WhatsApp +1555 2026-01-18 00:19 PST] hello\n```\n\n**User timezone:**\n\n```\n[WhatsApp +1555 2026-01-18 00:19 CST] hello\n```\n\n**Elapsed time enabled:**\n\n```\n[WhatsApp +1555 +30s 2026-01-18T05:19Z] follow-up\n```",
    "## System prompt: Current Date & Time\n\nIf the user timezone is known, the system prompt includes a dedicated\n**Current Date & Time** section with the **time zone only** (no clock/time format)\nto keep prompt caching stable:\n\n```\nTime zone: America/Chicago\n```\n\nWhen the agent needs the current time, use the `session_status` tool; the status\ncard includes a timestamp line.",
    "## System event lines (local by default)\n\nQueued system events inserted into agent context are prefixed with a timestamp using the\nsame timezone selection as message envelopes (default: host-local).\n\n```\nSystem: [2026-01-12 12:19:17 PST] Model switched.\n```\n\n### Configure user timezone + format\n\n```json5\n{\n  agents: {\n    defaults: {\n      userTimezone: \"America/Chicago\",\n      timeFormat: \"auto\", // auto | 12 | 24\n    },\n  },\n}\n```\n\n- `userTimezone` sets the **user-local timezone** for prompt context.\n- `timeFormat` controls **12h/24h display** in the prompt. `auto` follows OS prefs.",
    "## Time format detection (auto)\n\nWhen `timeFormat: \"auto\"`, OpenClaw inspects the OS preference (macOS/Windows)\nand falls back to locale formatting. The detected value is **cached per process**\nto avoid repeated system calls.",
    "## Tool payloads + connectors (raw provider time + normalized fields)\n\nChannel tools return **provider-native timestamps** and add normalized fields for consistency:\n\n- `timestampMs`: epoch milliseconds (UTC)\n- `timestampUtc`: ISO 8601 UTC string\n\nRaw provider fields are preserved so nothing is lost.\n\n- Slack: epoch-like strings from the API\n- Discord: UTC ISO timestamps\n- Telegram/WhatsApp: provider-specific numeric/ISO timestamps\n\nIf you need local time, convert it downstream using the known timezone.",
    "## Related docs\n\n- [System Prompt](/concepts/system-prompt)\n- [Timezones](/concepts/timezone)\n- [Messages](/concepts/messages)",
    "---\nsummary: \"Debugging tools: watch mode, raw model streams, and tracing reasoning leakage\"\nread_when:\n  - You need to inspect raw model output for reasoning leakage\n  - You want to run the Gateway in watch mode while iterating\n  - You need a repeatable debugging workflow\ntitle: \"Debugging\"\n---\n\n# Debugging\n\nThis page covers debugging helpers for streaming output, especially when a\nprovider mixes reasoning into normal text.",
    "## Runtime debug overrides\n\nUse `/debug` in chat to set **runtime-only** config overrides (memory, not disk).\n`/debug` is disabled by default; enable with `commands.debug: true`.\nThis is handy when you need to toggle obscure settings without editing `openclaw.json`.\n\nExamples:\n\n```\n/debug show\n/debug set messages.responsePrefix=\"[openclaw]\"\n/debug unset messages.responsePrefix\n/debug reset\n```\n\n`/debug reset` clears all overrides and returns to the on-disk config.",
    "## Gateway watch mode\n\nFor fast iteration, run the gateway under the file watcher:\n\n```bash\npnpm gateway:watch --force\n```\n\nThis maps to:\n\n```bash\ntsx watch src/entry.ts gateway --force\n```\n\nAdd any gateway CLI flags after `gateway:watch` and they will be passed through\non each restart.",
    "## Dev profile + dev gateway (--dev)\n\nUse the dev profile to isolate state and spin up a safe, disposable setup for\ndebugging. There are **two** `--dev` flags:\n\n- **Global `--dev` (profile):** isolates state under `~/.openclaw-dev` and\n  defaults the gateway port to `19001` (derived ports shift with it).\n- **`gateway --dev`: tells the Gateway to auto-create a default config +\n  workspace** when missing (and skip BOOTSTRAP.md).\n\nRecommended flow (dev profile + dev bootstrap):\n\n```bash\npnpm gateway:dev\nOPENCLAW_PROFILE=dev openclaw tui\n```\n\nIf you donâ€™t have a global install yet, run the CLI via `pnpm openclaw ...`.\n\nWhat this does:\n\n1. **Profile isolation** (global `--dev`)\n   - `OPENCLAW_PROFILE=dev`\n   - `OPENCLAW_STATE_DIR=~/.openclaw-dev`\n   - `OPENCLAW_CONFIG_PATH=~/.openclaw-dev/openclaw.json`\n   - `OPENCLAW_GATEWAY_PORT=19001` (browser/canvas shift accordingly)",
    "2. **Dev bootstrap** (`gateway --dev`)\n   - Writes a minimal config if missing (`gateway.mode=local`, bind loopback).\n   - Sets `agent.workspace` to the dev workspace.\n   - Sets `agent.skipBootstrap=true` (no BOOTSTRAP.md).\n   - Seeds the workspace files if missing:\n     `AGENTS.md`, `SOUL.md`, `TOOLS.md`, `IDENTITY.md`, `USER.md`, `HEARTBEAT.md`.\n   - Default identity: **C3â€‘PO** (protocol droid).\n   - Skips channel providers in dev mode (`OPENCLAW_SKIP_CHANNELS=1`).\n\nReset flow (fresh start):\n\n```bash\npnpm gateway:dev:reset\n```\n\nNote: `--dev` is a **global** profile flag and gets eaten by some runners.\nIf you need to spell it out, use the env var form:\n\n```bash\nOPENCLAW_PROFILE=dev openclaw gateway --dev --reset\n```\n\n`--reset` wipes config, credentials, sessions, and the dev workspace (using\n`trash`, not `rm`), then recreates the default dev setup.\n\nTip: if a nonâ€‘dev gateway is already running (launchd/systemd), stop it first:\n\n```bash\nopenclaw gateway stop\n```",
    "## Raw stream logging (OpenClaw)\n\nOpenClaw can log the **raw assistant stream** before any filtering/formatting.\nThis is the best way to see whether reasoning is arriving as plain text deltas\n(or as separate thinking blocks).\n\nEnable it via CLI:\n\n```bash\npnpm gateway:watch --force --raw-stream\n```\n\nOptional path override:\n\n```bash\npnpm gateway:watch --force --raw-stream --raw-stream-path ~/.openclaw/logs/raw-stream.jsonl\n```\n\nEquivalent env vars:\n\n```bash\nOPENCLAW_RAW_STREAM=1\nOPENCLAW_RAW_STREAM_PATH=~/.openclaw/logs/raw-stream.jsonl\n```\n\nDefault file:\n\n`~/.openclaw/logs/raw-stream.jsonl`",
    "## Raw chunk logging (pi-mono)\n\nTo capture **raw OpenAI-compat chunks** before they are parsed into blocks,\npi-mono exposes a separate logger:\n\n```bash\nPI_RAW_STREAM=1\n```\n\nOptional path:\n\n```bash\nPI_RAW_STREAM_PATH=~/.pi-mono/logs/raw-openai-completions.jsonl\n```\n\nDefault file:\n\n`~/.pi-mono/logs/raw-openai-completions.jsonl`\n\n> Note: this is only emitted by processes using pi-monoâ€™s\n> `openai-completions` provider.",
    "## Safety notes\n\n- Raw stream logs can include full prompts, tool output, and user data.\n- Keep logs local and delete them after debugging.\n- If you share logs, scrub secrets and PII first.",
    "---\nsummary: \"Deepgram transcription for inbound voice notes\"\nread_when:\n  - You want Deepgram speech-to-text for audio attachments\n  - You need a quick Deepgram config example\ntitle: \"Deepgram\"\n---\n\n# Deepgram (Audio Transcription)\n\nDeepgram is a speech-to-text API. In OpenClaw it is used for **inbound audio/voice note\ntranscription** via `tools.media.audio`.\n\nWhen enabled, OpenClaw uploads the audio file to Deepgram and injects the transcript\ninto the reply pipeline (`{{Transcript}}` + `[Audio]` block). This is **not streaming**;\nit uses the pre-recorded transcription endpoint.\n\nWebsite: [https://deepgram.com](https://deepgram.com)  \nDocs: [https://developers.deepgram.com](https://developers.deepgram.com)",
    "## Quick start\n\n1. Set your API key:\n\n```\nDEEPGRAM_API_KEY=dg_...\n```\n\n2. Enable the provider:\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        models: [{ provider: \"deepgram\", model: \"nova-3\" }],\n      },\n    },\n  },\n}\n```",
    "## Options\n\n- `model`: Deepgram model id (default: `nova-3`)\n- `language`: language hint (optional)\n- `tools.media.audio.providerOptions.deepgram.detect_language`: enable language detection (optional)\n- `tools.media.audio.providerOptions.deepgram.punctuate`: enable punctuation (optional)\n- `tools.media.audio.providerOptions.deepgram.smart_format`: enable smart formatting (optional)\n\nExample with language:\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        models: [{ provider: \"deepgram\", model: \"nova-3\", language: \"en\" }],\n      },\n    },\n  },\n}\n```\n\nExample with Deepgram options:\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        providerOptions: {\n          deepgram: {\n            detect_language: true,\n            punctuate: true,\n            smart_format: true,\n          },\n        },\n        models: [{ provider: \"deepgram\", model: \"nova-3\" }],\n      },\n    },\n  },\n}\n```",
    "## Notes\n\n- Authentication follows the standard provider auth order; `DEEPGRAM_API_KEY` is the simplest path.\n- Override endpoints or headers with `tools.media.audio.baseUrl` and `tools.media.audio.headers` when using a proxy.\n- Output follows the same audio rules as other providers (size caps, timeouts, transcript injection).",
    "---\nsummary: \"Setup guide for developers working on the OpenClaw macOS app\"\nread_when:\n  - Setting up the macOS development environment\ntitle: \"macOS Dev Setup\"\n---\n\n# macOS Developer Setup\n\nThis guide covers the necessary steps to build and run the OpenClaw macOS application from source.",
    "## Prerequisites\n\nBefore building the app, ensure you have the following installed:\n\n1. **Xcode 26.2+**: Required for Swift development.\n2. **Node.js 22+ & pnpm**: Required for the gateway, CLI, and packaging scripts.",
    "## 1. Install Dependencies\n\nInstall the project-wide dependencies:\n\n```bash\npnpm install\n```",
    "## 2. Build and Package the App\n\nTo build the macOS app and package it into `dist/OpenClaw.app`, run:\n\n```bash\n./scripts/package-mac-app.sh\n```\n\nIf you don't have an Apple Developer ID certificate, the script will automatically use **ad-hoc signing** (`-`).\n\nFor dev run modes, signing flags, and Team ID troubleshooting, see the macOS app README:\n[https://github.com/openclaw/openclaw/blob/main/apps/macos/README.md](https://github.com/openclaw/openclaw/blob/main/apps/macos/README.md)\n\n> **Note**: Ad-hoc signed apps may trigger security prompts. If the app crashes immediately with \"Abort trap 6\", see the [Troubleshooting](#troubleshooting) section.",
    "## 3. Install the CLI\n\nThe macOS app expects a global `openclaw` CLI install to manage background tasks.\n\n**To install it (recommended):**\n\n1. Open the OpenClaw app.\n2. Go to the **General** settings tab.\n3. Click **\"Install CLI\"**.\n\nAlternatively, install it manually:\n\n```bash\nnpm install -g openclaw@<version>\n```",
    "## Troubleshooting\n\n### Build Fails: Toolchain or SDK Mismatch\n\nThe macOS app build expects the latest macOS SDK and Swift 6.2 toolchain.\n\n**System dependencies (required):**\n\n- **Latest macOS version available in Software Update** (required by Xcode 26.2 SDKs)\n- **Xcode 26.2** (Swift 6.2 toolchain)\n\n**Checks:**\n\n```bash\nxcodebuild -version\nxcrun swift --version\n```\n\nIf versions donâ€™t match, update macOS/Xcode and re-run the build.\n\n### App Crashes on Permission Grant\n\nIf the app crashes when you try to allow **Speech Recognition** or **Microphone** access, it may be due to a corrupted TCC cache or signature mismatch.\n\n**Fix:**\n\n1. Reset the TCC permissions:\n\n   ```bash\n   tccutil reset All bot.molt.mac.debug\n   ```\n\n2. If that fails, change the `BUNDLE_ID` temporarily in [`scripts/package-mac-app.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/package-mac-app.sh) to force a \"clean slate\" from macOS.\n\n### Gateway \"Starting...\" indefinitely",
    "If the gateway status stays on \"Starting...\", check if a zombie process is holding the port:\n\n```bash\nopenclaw gateway status\nopenclaw gateway stop\n\n# If youâ€™re not using a LaunchAgent (dev mode / manual runs), find the listener:\nlsof -nP -iTCP:18789 -sTCP:LISTEN\n```\n\nIf a manual run is holding the port, stop that process (Ctrl+C). As a last resort, kill the PID you found above.",
    "---\nread_when:\n  - ä½ æƒ³åœ¨ stable/beta/dev ä¹‹é—´åˆ‡æ¢\n  - ä½ æ­£åœ¨æ ‡è®°æˆ–å‘å¸ƒé¢„å‘å¸ƒç‰ˆæœ¬\nsummary: stableã€beta å’Œ dev æ¸ é“ï¼šè¯­ä¹‰ã€åˆ‡æ¢å’Œæ ‡ç­¾\ntitle: å¼€å‘æ¸ é“\nx-i18n:\n  generated_at: \"2026-02-03T10:07:21Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 2b01219b7e705044ce39838a0da7c7fa65c719809ab2f8a51e14529064af81bf\n  source_path: install/development-channels.md\n  workflow: 15\n---\n\n# å¼€å‘æ¸ é“\n\næœ€åæ›´æ–°ï¼š2026-01-21\n\nOpenClaw æä¾›ä¸‰ä¸ªæ›´æ–°æ¸ é“ï¼š\n\n- **stable**ï¼šnpm dist-tag `latest`ã€‚\n- **beta**ï¼šnpm dist-tag `beta`ï¼ˆæµ‹è¯•ä¸­çš„æ„å»ºï¼‰ã€‚\n- **dev**ï¼š`main` çš„ç§»åŠ¨å¤´ï¼ˆgitï¼‰ã€‚npm dist-tagï¼š`dev`ï¼ˆå‘å¸ƒæ—¶ï¼‰ã€‚\n\næˆ‘ä»¬å°†æ„å»ºå‘å¸ƒåˆ° **beta**ï¼Œè¿›è¡Œæµ‹è¯•ï¼Œç„¶å**å°†ç»è¿‡éªŒè¯çš„æ„å»ºæå‡åˆ° `latest`**ï¼Œ\nç‰ˆæœ¬å·ä¸å˜â€”â€”dist-tag æ˜¯ npm å®‰è£…çš„æ•°æ®æºã€‚",
    "## åˆ‡æ¢æ¸ é“\n\nGit checkoutï¼š\n\n```bash\nopenclaw update --channel stable\nopenclaw update --channel beta\nopenclaw update --channel dev\n```\n\n- `stable`/`beta` æ£€å‡ºæœ€æ–°åŒ¹é…çš„æ ‡ç­¾ï¼ˆé€šå¸¸æ˜¯åŒä¸€ä¸ªæ ‡ç­¾ï¼‰ã€‚\n- `dev` åˆ‡æ¢åˆ° `main` å¹¶åœ¨ä¸Šæ¸¸åŸºç¡€ä¸Š rebaseã€‚\n\nnpm/pnpm å…¨å±€å®‰è£…ï¼š\n\n```bash\nopenclaw update --channel stable\nopenclaw update --channel beta\nopenclaw update --channel dev\n```\n\nè¿™ä¼šé€šè¿‡ç›¸åº”çš„ npm dist-tagï¼ˆ`latest`ã€`beta`ã€`dev`ï¼‰è¿›è¡Œæ›´æ–°ã€‚\n\nå½“ä½ ä½¿ç”¨ `--channel` **æ˜¾å¼**åˆ‡æ¢æ¸ é“æ—¶ï¼ŒOpenClaw è¿˜ä¼šå¯¹é½å®‰è£…æ–¹å¼ï¼š\n\n- `dev` ç¡®ä¿æœ‰ä¸€ä¸ª git checkoutï¼ˆé»˜è®¤ `~/openclaw`ï¼Œå¯é€šè¿‡ `OPENCLAW_GIT_DIR` è¦†ç›–ï¼‰ï¼Œ\n  æ›´æ–°å®ƒï¼Œå¹¶ä»è¯¥ checkout å®‰è£…å…¨å±€ CLIã€‚\n- `stable`/`beta` ä½¿ç”¨åŒ¹é…çš„ dist-tag ä» npm å®‰è£…ã€‚\n\næç¤ºï¼šå¦‚æœä½ æƒ³åŒæ—¶ä½¿ç”¨ stable + devï¼Œä¿ç•™ä¸¤ä¸ªå…‹éš†å¹¶å°† Gateway ç½‘å…³æŒ‡å‘ stable é‚£ä¸ªã€‚",
    "## æ’ä»¶å’Œæ¸ é“\n\nå½“ä½ ä½¿ç”¨ `openclaw update` åˆ‡æ¢æ¸ é“æ—¶ï¼ŒOpenClaw è¿˜ä¼šåŒæ­¥æ’ä»¶æ¥æºï¼š\n\n- `dev` ä¼˜å…ˆä½¿ç”¨ git checkout ä¸­çš„å†…ç½®æ’ä»¶ã€‚\n- `stable` å’Œ `beta` æ¢å¤ npm å®‰è£…çš„æ’ä»¶åŒ…ã€‚",
    "## æ ‡ç­¾æœ€ä½³å®è·µ\n\n- ä¸ºä½ å¸Œæœ› git checkout è½åœ¨çš„å‘å¸ƒç‰ˆæœ¬æ‰“æ ‡ç­¾ï¼ˆ`vYYYY.M.D` æˆ– `vYYYY.M.D-<patch>`ï¼‰ã€‚\n- ä¿æŒæ ‡ç­¾ä¸å¯å˜ï¼šæ°¸è¿œä¸è¦ç§»åŠ¨æˆ–é‡ç”¨æ ‡ç­¾ã€‚\n- npm dist-tag ä»ç„¶æ˜¯ npm å®‰è£…çš„æ•°æ®æºï¼š\n  - `latest` â†’ stable\n  - `beta` â†’ å€™é€‰æ„å»º\n  - `dev` â†’ main å¿«ç…§ï¼ˆå¯é€‰ï¼‰",
    "## macOS åº”ç”¨å¯ç”¨æ€§\n\nBeta å’Œ dev æ„å»ºå¯èƒ½**ä¸**åŒ…å« macOS åº”ç”¨å‘å¸ƒã€‚è¿™æ²¡é—®é¢˜ï¼š\n\n- git æ ‡ç­¾å’Œ npm dist-tag ä»ç„¶å¯ä»¥å‘å¸ƒã€‚\n- åœ¨å‘å¸ƒè¯´æ˜æˆ–å˜æ›´æ—¥å¿—ä¸­æ³¨æ˜\"æ­¤ beta æ—  macOS æ„å»º\"ã€‚",
    "---\nread_when:\n  - æ›´æ–°è®¾å¤‡å‹å·æ ‡è¯†ç¬¦æ˜ å°„æˆ– NOTICE/è®¸å¯è¯æ–‡ä»¶\n  - æ›´æ”¹å®ä¾‹ UI ä¸­è®¾å¤‡åç§°çš„æ˜¾ç¤ºæ–¹å¼\nsummary: OpenClaw å¦‚ä½•å†…ç½® Apple è®¾å¤‡å‹å·æ ‡è¯†ç¬¦ä»¥åœ¨ macOS åº”ç”¨ä¸­æ˜¾ç¤ºå‹å¥½åç§°ã€‚\ntitle: è®¾å¤‡å‹å·æ•°æ®åº“\nx-i18n:\n  generated_at: \"2026-02-01T21:37:07Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 1d99c2538a0d8fdd80fa468fa402f63479ef2522e83745a0a46527a86238aeb2\n  source_path: reference/device-models.md\n  workflow: 15\n---\n\n# è®¾å¤‡å‹å·æ•°æ®åº“ï¼ˆå‹å¥½åç§°ï¼‰\n\nmacOS é…å¥—åº”ç”¨é€šè¿‡å°† Apple å‹å·æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ `iPad16,6`ã€`Mac16,6`ï¼‰æ˜ å°„ä¸ºäººç±»å¯è¯»çš„åç§°ï¼Œåœ¨**å®ä¾‹** UI ä¸­æ˜¾ç¤ºå‹å¥½çš„ Apple è®¾å¤‡å‹å·åç§°ã€‚\n\nè¯¥æ˜ å°„ä»¥ JSON å½¢å¼å†…ç½®äºï¼š\n\n- `apps/macos/Sources/OpenClaw/Resources/DeviceModels/`",
    "## æ•°æ®æ¥æº\n\næˆ‘ä»¬ç›®å‰å†…ç½®çš„æ˜ å°„æ¥è‡ª MIT è®¸å¯çš„ä»“åº“ï¼š\n\n- `kyle-seongwoo-jun/apple-device-identifiers`\n\nä¸ºä¿æŒæ„å»ºçš„ç¡®å®šæ€§ï¼ŒJSON æ–‡ä»¶å›ºå®šåˆ°ç‰¹å®šçš„ä¸Šæ¸¸æäº¤ï¼ˆè®°å½•åœ¨ `apps/macos/Sources/OpenClaw/Resources/DeviceModels/NOTICE.md` ä¸­ï¼‰ã€‚",
    "## æ›´æ–°æ•°æ®åº“\n\n1. é€‰æ‹©è¦å›ºå®šçš„ä¸Šæ¸¸æäº¤ï¼ˆiOS å’Œ macOS å„ä¸€ä¸ªï¼‰ã€‚\n2. æ›´æ–° `apps/macos/Sources/OpenClaw/Resources/DeviceModels/NOTICE.md` ä¸­çš„æäº¤å“ˆå¸Œã€‚\n3. é‡æ–°ä¸‹è½½å›ºå®šåˆ°è¿™äº›æäº¤çš„ JSON æ–‡ä»¶ï¼š\n\n```bash\nIOS_COMMIT=\"<commit sha for ios-device-identifiers.json>\"\nMAC_COMMIT=\"<commit sha for mac-device-identifiers.json>\"\n\ncurl -fsSL \"https://raw.githubusercontent.com/kyle-seongwoo-jun/apple-device-identifiers/${IOS_COMMIT}/ios-device-identifiers.json\" \\\n  -o apps/macos/Sources/OpenClaw/Resources/DeviceModels/ios-device-identifiers.json\n\ncurl -fsSL \"https://raw.githubusercontent.com/kyle-seongwoo-jun/apple-device-identifiers/${MAC_COMMIT}/mac-device-identifiers.json\" \\\n  -o apps/macos/Sources/OpenClaw/Resources/DeviceModels/mac-device-identifiers.json\n```\n\n4. ç¡®ä¿ `apps/macos/Sources/OpenClaw/Resources/DeviceModels/LICENSE.apple-device-identifiers.txt` ä»ä¸ä¸Šæ¸¸ä¸€è‡´ï¼ˆå¦‚æœä¸Šæ¸¸è®¸å¯è¯å‘ç”Ÿå˜æ›´ï¼Œè¯·æ›¿æ¢è¯¥æ–‡ä»¶ï¼‰ã€‚\n5. éªŒè¯ macOS åº”ç”¨èƒ½å¤Ÿæ­£å¸¸æ„å»ºï¼ˆæ— è­¦å‘Šï¼‰ï¼š\n\n```bash\nswift build --package-path apps/macos\n```",
    "---\nsummary: \"CLI reference for `openclaw devices` (device pairing + token rotation/revocation)\"\nread_when:\n  - You are approving device pairing requests\n  - You need to rotate or revoke device tokens\ntitle: \"devices\"\n---\n\n# `openclaw devices`\n\nManage device pairing requests and device-scoped tokens.",
    "## Commands\n\n### `openclaw devices list`\n\nList pending pairing requests and paired devices.\n\n```\nopenclaw devices list\nopenclaw devices list --json\n```\n\n### `openclaw devices approve <requestId>`\n\nApprove a pending device pairing request.\n\n```\nopenclaw devices approve <requestId>\n```\n\n### `openclaw devices reject <requestId>`\n\nReject a pending device pairing request.\n\n```\nopenclaw devices reject <requestId>\n```\n\n### `openclaw devices rotate --device <id> --role <role> [--scope <scope...>]`\n\nRotate a device token for a specific role (optionally updating scopes).\n\n```\nopenclaw devices rotate --device <deviceId> --role operator --scope operator.read --scope operator.write\n```\n\n### `openclaw devices revoke --device <id> --role <role>`\n\nRevoke a device token for a specific role.\n\n```\nopenclaw devices revoke --device <deviceId> --role node\n```",
    "## Common options\n\n- `--url <url>`: Gateway WebSocket URL (defaults to `gateway.remote.url` when configured).\n- `--token <token>`: Gateway token (if required).\n- `--password <password>`: Gateway password (password auth).\n- `--timeout <ms>`: RPC timeout.\n- `--json`: JSON output (recommended for scripting).\n\nNote: when you set `--url`, the CLI does not fall back to config or environment credentials.\nPass `--token` or `--password` explicitly. Missing explicit credentials is an error.",
    "## Notes\n\n- Token rotation returns a new token (sensitive). Treat it like a secret.\n- These commands require `operator.pairing` (or `operator.admin`) scope.",
    "---\nsummary: \"OpenClaw on DigitalOcean (simple paid VPS option)\"\nread_when:\n  - Setting up OpenClaw on DigitalOcean\n  - Looking for cheap VPS hosting for OpenClaw\ntitle: \"DigitalOcean\"\n---\n\n# OpenClaw on DigitalOcean",
    "## Goal\n\nRun a persistent OpenClaw Gateway on DigitalOcean for **$6/month** (or $4/mo with reserved pricing).\n\nIf you want a $0/month option and donâ€™t mind ARM + provider-specific setup, see the [Oracle Cloud guide](/platforms/oracle).",
    "## Cost Comparison (2026)\n\n| Provider     | Plan            | Specs                  | Price/mo    | Notes                                 |\n| ------------ | --------------- | ---------------------- | ----------- | ------------------------------------- |\n| Oracle Cloud | Always Free ARM | up to 4 OCPU, 24GB RAM | $0          | ARM, limited capacity / signup quirks |\n| Hetzner      | CX22            | 2 vCPU, 4GB RAM        | â‚¬3.79 (~$4) | Cheapest paid option                  |\n| DigitalOcean | Basic           | 1 vCPU, 1GB RAM        | $6          | Easy UI, good docs                    |\n| Vultr        | Cloud Compute   | 1 vCPU, 1GB RAM        | $6          | Many locations                        |\n| Linode       | Nanode          | 1 vCPU, 1GB RAM        | $5          | Now part of Akamai                    |\n\n**Picking a provider:**",
    "- DigitalOcean: simplest UX + predictable setup (this guide)\n- Hetzner: good price/perf (see [Hetzner guide](/install/hetzner))\n- Oracle Cloud: can be $0/month, but is more finicky and ARM-only (see [Oracle guide](/platforms/oracle))\n\n---",
    "## Prerequisites\n\n- DigitalOcean account ([signup with $200 free credit](https://m.do.co/c/signup))\n- SSH key pair (or willingness to use password auth)\n- ~20 minutes",
    "## 1) Create a Droplet\n\n1. Log into [DigitalOcean](https://cloud.digitalocean.com/)\n2. Click **Create â†’ Droplets**\n3. Choose:\n   - **Region:** Closest to you (or your users)\n   - **Image:** Ubuntu 24.04 LTS\n   - **Size:** Basic â†’ Regular â†’ **$6/mo** (1 vCPU, 1GB RAM, 25GB SSD)\n   - **Authentication:** SSH key (recommended) or password\n4. Click **Create Droplet**\n5. Note the IP address",
    "## 2) Connect via SSH\n\n```bash\nssh root@YOUR_DROPLET_IP\n```",
    "## 3) Install OpenClaw\n\n```bash\n# Update system\napt update && apt upgrade -y\n\n# Install Node.js 22\ncurl -fsSL https://deb.nodesource.com/setup_22.x | bash -\napt install -y nodejs\n\n# Install OpenClaw\ncurl -fsSL https://openclaw.ai/install.sh | bash\n\n# Verify\nopenclaw --version\n```",
    "## 4) Run Onboarding\n\n```bash\nopenclaw onboard --install-daemon\n```\n\nThe wizard will walk you through:\n\n- Model auth (API keys or OAuth)\n- Channel setup (Telegram, WhatsApp, Discord, etc.)\n- Gateway token (auto-generated)\n- Daemon installation (systemd)",
    "## 5) Verify the Gateway\n\n```bash\n# Check status\nopenclaw status\n\n# Check service\nsystemctl --user status openclaw-gateway.service\n\n# View logs\njournalctl --user -u openclaw-gateway.service -f\n```",
    "## 6) Access the Dashboard\n\nThe gateway binds to loopback by default. To access the Control UI:\n\n**Option A: SSH Tunnel (recommended)**\n\n```bash\n# From your local machine\nssh -L 18789:localhost:18789 root@YOUR_DROPLET_IP\n\n# Then open: http://localhost:18789\n```\n\n**Option B: Tailscale Serve (HTTPS, loopback-only)**\n\n```bash\n# On the droplet\ncurl -fsSL https://tailscale.com/install.sh | sh\ntailscale up\n\n# Configure Gateway to use Tailscale Serve\nopenclaw config set gateway.tailscale.mode serve\nopenclaw gateway restart\n```\n\nOpen: `https://<magicdns>/`\n\nNotes:\n\n- Serve keeps the Gateway loopback-only and authenticates via Tailscale identity headers.\n- To require token/password instead, set `gateway.auth.allowTailscale: false` or use `gateway.auth.mode: \"password\"`.\n\n**Option C: Tailnet bind (no Serve)**\n\n```bash\nopenclaw config set gateway.bind tailnet\nopenclaw gateway restart\n```\n\nOpen: `http://<tailscale-ip>:18789` (token required).",
    "## 7) Connect Your Channels\n\n### Telegram\n\n```bash\nopenclaw pairing list telegram\nopenclaw pairing approve telegram <CODE>\n```\n\n### WhatsApp\n\n```bash\nopenclaw channels login whatsapp\n# Scan QR code\n```\n\nSee [Channels](/channels) for other providers.\n\n---",
    "## Optimizations for 1GB RAM\n\nThe $6 droplet only has 1GB RAM. To keep things running smoothly:\n\n### Add swap (recommended)\n\n```bash\nfallocate -l 2G /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap sw 0 0' >> /etc/fstab\n```\n\n### Use a lighter model\n\nIf you're hitting OOMs, consider:\n\n- Using API-based models (Claude, GPT) instead of local models\n- Setting `agents.defaults.model.primary` to a smaller model\n\n### Monitor memory\n\n```bash\nfree -h\nhtop\n```\n\n---",
    "## Persistence\n\nAll state lives in:\n\n- `~/.openclaw/` â€” config, credentials, session data\n- `~/.openclaw/workspace/` â€” workspace (SOUL.md, memory, etc.)\n\nThese survive reboots. Back them up periodically:\n\n```bash\ntar -czvf openclaw-backup.tar.gz ~/.openclaw ~/.openclaw/workspace\n```\n\n---",
    "## Oracle Cloud Free Alternative\n\nOracle Cloud offers **Always Free** ARM instances that are significantly more powerful than any paid option here â€” for $0/month.\n\n| What you get      | Specs                  |\n| ----------------- | ---------------------- |\n| **4 OCPUs**       | ARM Ampere A1          |\n| **24GB RAM**      | More than enough       |\n| **200GB storage** | Block volume           |\n| **Forever free**  | No credit card charges |\n\n**Caveats:**\n\n- Signup can be finicky (retry if it fails)\n- ARM architecture â€” most things work, but some binaries need ARM builds\n\nFor the full setup guide, see [Oracle Cloud](/platforms/oracle). For signup tips and troubleshooting the enrollment process, see this [community guide](https://gist.github.com/rssnyder/51e3cfedd730e7dd5f4a816143b25dbd).\n\n---",
    "## Troubleshooting\n\n### Gateway won't start\n\n```bash\nopenclaw gateway status\nopenclaw doctor --non-interactive\njournalctl -u openclaw --no-pager -n 50\n```\n\n### Port already in use\n\n```bash\nlsof -i :18789\nkill <PID>\n```\n\n### Out of memory\n\n```bash\n# Check memory\nfree -h\n\n# Add more swap\n# Or upgrade to $12/mo droplet (2GB RAM)\n```\n\n---",
    "## See Also\n\n- [Hetzner guide](/install/hetzner) â€” cheaper, more powerful\n- [Docker install](/install/docker) â€” containerized setup\n- [Tailscale](/gateway/tailscale) â€” secure remote access\n- [Configuration](/gateway/configuration) â€” full config reference",
    "---\nsummary: \"CLI reference for `openclaw directory` (self, peers, groups)\"\nread_when:\n  - You want to look up contacts/groups/self ids for a channel\n  - You are developing a channel directory adapter\ntitle: \"directory\"\n---\n\n# `openclaw directory`\n\nDirectory lookups for channels that support it (contacts/peers, groups, and â€œmeâ€).",
    "## Common flags\n\n- `--channel <name>`: channel id/alias (required when multiple channels are configured; auto when only one is configured)\n- `--account <id>`: account id (default: channel default)\n- `--json`: output JSON",
    "## Notes\n\n- `directory` is meant to help you find IDs you can paste into other commands (especially `openclaw message send --target ...`).\n- For many channels, results are config-backed (allowlists / configured groups) rather than a live provider directory.\n- Default output is `id` (and sometimes `name`) separated by a tab; use `--json` for scripting.",
    "## Using results with `message send`\n\n```bash\nopenclaw directory peers list --channel slack --query \"U0\"\nopenclaw message send --channel slack --target user:U012ABCDEF --message \"hello\"\n```",
    "## ID formats (by channel)\n\n- WhatsApp: `+15551234567` (DM), `1234567890-1234567890@g.us` (group)\n- Telegram: `@username` or numeric chat id; groups are numeric ids\n- Slack: `user:Uâ€¦` and `channel:Câ€¦`\n- Discord: `user:<id>` and `channel:<id>`\n- Matrix (plugin): `user:@user:server`, `room:!roomId:server`, or `#alias:server`\n- Microsoft Teams (plugin): `user:<id>` and `conversation:<id>`\n- Zalo (plugin): user id (Bot API)\n- Zalo Personal / `zalouser` (plugin): thread id (DM/group) from `zca` (`me`, `friend list`, `group list`)",
    "## Self (â€œmeâ€)\n\n```bash\nopenclaw directory self --channel zalouser\n```",
    "## Peers (contacts/users)\n\n```bash\nopenclaw directory peers list --channel zalouser\nopenclaw directory peers list --channel zalouser --query \"name\"\nopenclaw directory peers list --channel zalouser --limit 50\n```",
    "## Groups\n\n```bash\nopenclaw directory groups list --channel zalouser\nopenclaw directory groups list --channel zalouser --query \"work\"\nopenclaw directory groups members --channel zalouser --group-id <id>\n```",
    "---\nsummary: \"Discord bot support status, capabilities, and configuration\"\nread_when:\n  - Working on Discord channel features\ntitle: \"Discord\"\n---\n\n# Discord (Bot API)\n\nStatus: ready for DM and guild text channels via the official Discord bot gateway.",
    "## Quick setup (beginner)\n\n1. Create a Discord bot and copy the bot token.\n2. In the Discord app settings, enable **Message Content Intent** (and **Server Members Intent** if you plan to use allowlists or name lookups).\n3. Set the token for OpenClaw:\n   - Env: `DISCORD_BOT_TOKEN=...`\n   - Or config: `channels.discord.token: \"...\"`.\n   - If both are set, config takes precedence (env fallback is default-account only).\n4. Invite the bot to your server with message permissions (create a private server if you just want DMs).\n5. Start the gateway.\n6. DM access is pairing by default; approve the pairing code on first contact.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    discord: {\n      enabled: true,\n      token: \"YOUR_BOT_TOKEN\",\n    },\n  },\n}\n```",
    "## Goals\n\n- Talk to OpenClaw via Discord DMs or guild channels.\n- Direct chats collapse into the agent's main session (default `agent:main:main`); guild channels stay isolated as `agent:<agentId>:discord:channel:<channelId>` (display names use `discord:<guildSlug>#<channelSlug>`).\n- Group DMs are ignored by default; enable via `channels.discord.dm.groupEnabled` and optionally restrict by `channels.discord.dm.groupChannels`.\n- Keep routing deterministic: replies always go back to the channel they arrived on.",
    "## How it works",
    "1. Create a Discord application â†’ Bot, enable the intents you need (DMs + guild messages + message content), and grab the bot token.\n2. Invite the bot to your server with the permissions required to read/send messages where you want to use it.\n3. Configure OpenClaw with `channels.discord.token` (or `DISCORD_BOT_TOKEN` as a fallback).\n4. Run the gateway; it auto-starts the Discord channel when a token is available (config first, env fallback) and `channels.discord.enabled` is not `false`.\n   - If you prefer env vars, set `DISCORD_BOT_TOKEN` (a config block is optional).\n5. Direct chats: use `user:<id>` (or a `<@id>` mention) when delivering; all turns land in the shared `main` session. Bare numeric IDs are ambiguous and rejected.\n6. Guild channels: use `channel:<channelId>` for delivery. Mentions are required by default and can be set per guild or per channel.\n7. Direct chats: secure by default via `channels.discord.dm.policy` (default: `\"pairing\"`). Unknown senders get a pairing code (expires after 1 hour); approve via `openclaw pairing approve discord <code>`.\n   - To keep old â€œopen to anyoneâ€ behavior: set `channels.discord.dm.policy=\"open\"` and `channels.discord.dm.allowFrom=[\"*\"]`.\n   - To hard-allowlist: set `channels.discord.dm.policy=\"allowlist\"` and list senders in `channels.discord.dm.allowFrom`.\n   - To ignore all DMs: set `channels.discord.dm.enabled=false` or `channels.discord.dm.policy=\"disabled\"`.\n8. Group DMs are ignored by default; enable via `channels.discord.dm.groupEnabled` and optionally restrict by `channels.discord.dm.groupChannels`.\n9. Optional guild rules: set `channels.discord.guilds` keyed by guild id (preferred) or slug, with per-channel rules.\n10. Optional native commands: `commands.native` defaults to `\"auto\"` (on for Discord/Telegram, off for Slack). Override with `channels.discord.commands.native: true|false|\"auto\"`; `false` clears previously registered commands. Text commands are controlled by `commands.text` and must be sent as standalone `/...` messages. Use `commands.useAccessGroups: false` to bypass access-group checks for commands.\n    - Full command list + config: [Slash commands](/tools/slash-commands)\n11. Optional guild context history: set `channels.discord.historyLimit` (default 20, falls back to `messages.groupChat.historyLimit`) to include the last N guild messages as context when replying to a mention. Set `0` to disable.\n12. Reactions: the agent can trigger reactions via the `discord` tool (gated by `channels.discord.actions.*`).\n    - Reaction removal semantics: see [/tools/reactions](/tools/reactions).\n    - The `discord` tool is only exposed when the current channel is Discord.\n13. Native commands use isolated session keys (`agent:<agentId>:discord:slash:<userId>`) rather than the shared `main` session.",
    "Note: Name â†’ id resolution uses guild member search and requires Server Members Intent; if the bot canâ€™t search members, use ids or `<@id>` mentions.\nNote: Slugs are lowercase with spaces replaced by `-`. Channel names are slugged without the leading `#`.\nNote: Guild context `[from:]` lines include `author.tag` + `id` to make ping-ready replies easy.",
    "## Config writes\n\nBy default, Discord is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { discord: { configWrites: false } },\n}\n```",
    "## How to create your own bot\n\nThis is the â€œDiscord Developer Portalâ€ setup for running OpenClaw in a server (guild) channel like `#help`.\n\n### 1) Create the Discord app + bot user\n\n1. Discord Developer Portal â†’ **Applications** â†’ **New Application**\n2. In your app:\n   - **Bot** â†’ **Add Bot**\n   - Copy the **Bot Token** (this is what you put in `DISCORD_BOT_TOKEN`)\n\n### 2) Enable the gateway intents OpenClaw needs\n\nDiscord blocks â€œprivileged intentsâ€ unless you explicitly enable them.\n\nIn **Bot** â†’ **Privileged Gateway Intents**, enable:\n\n- **Message Content Intent** (required to read message text in most guilds; without it youâ€™ll see â€œUsed disallowed intentsâ€ or the bot will connect but not react to messages)\n- **Server Members Intent** (recommended; required for some member/user lookups and allowlist matching in guilds)",
    "You usually do **not** need **Presence Intent**. Setting the bot's own presence (`setPresence` action) uses gateway OP3 and does not require this intent; it is only needed if you want to receive presence updates about other guild members.\n\n### 3) Generate an invite URL (OAuth2 URL Generator)\n\nIn your app: **OAuth2** â†’ **URL Generator**\n\n**Scopes**\n\n- âœ… `bot`\n- âœ… `applications.commands` (required for native commands)\n\n**Bot Permissions** (minimal baseline)\n\n- âœ… View Channels\n- âœ… Send Messages\n- âœ… Read Message History\n- âœ… Embed Links\n- âœ… Attach Files\n- âœ… Add Reactions (optional but recommended)\n- âœ… Use External Emojis / Stickers (optional; only if you want them)\n\nAvoid **Administrator** unless youâ€™re debugging and fully trust the bot.\n\nCopy the generated URL, open it, pick your server, and install the bot.\n\n### 4) Get the ids (guild/user/channel)\n\nDiscord uses numeric ids everywhere; OpenClaw config prefers ids.",
    "1. Discord (desktop/web) â†’ **User Settings** â†’ **Advanced** â†’ enable **Developer Mode**\n2. Right-click:\n   - Server name â†’ **Copy Server ID** (guild id)\n   - Channel (e.g. `#help`) â†’ **Copy Channel ID**\n   - Your user â†’ **Copy User ID**\n\n### 5) Configure OpenClaw\n\n#### Token\n\nSet the bot token via env var (recommended on servers):\n\n- `DISCORD_BOT_TOKEN=...`\n\nOr via config:\n\n```json5\n{\n  channels: {\n    discord: {\n      enabled: true,\n      token: \"YOUR_BOT_TOKEN\",\n    },\n  },\n}\n```\n\nMulti-account support: use `channels.discord.accounts` with per-account tokens and optional `name`. See [`gateway/configuration`](/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts) for the shared pattern.\n\n#### Allowlist + channel routing\n\nExample â€œsingle server, only allow me, only allow #helpâ€:",
    "```json5\n{\n  channels: {\n    discord: {\n      enabled: true,\n      dm: { enabled: false },\n      guilds: {\n        YOUR_GUILD_ID: {\n          users: [\"YOUR_USER_ID\"],\n          requireMention: true,\n          channels: {\n            help: { allow: true, requireMention: true },\n          },\n        },\n      },\n      retry: {\n        attempts: 3,\n        minDelayMs: 500,\n        maxDelayMs: 30000,\n        jitter: 0.1,\n      },\n    },\n  },\n}\n```\n\nNotes:",
    "- `requireMention: true` means the bot only replies when mentioned (recommended for shared channels).\n- `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`) also count as mentions for guild messages.\n- Multi-agent override: set per-agent patterns on `agents.list[].groupChat.mentionPatterns`.\n- If `channels` is present, any channel not listed is denied by default.\n- Use a `\"*\"` channel entry to apply defaults across all channels; explicit channel entries override the wildcard.\n- Threads inherit parent channel config (allowlist, `requireMention`, skills, prompts, etc.) unless you add the thread channel id explicitly.\n- Owner hint: when a per-guild or per-channel `users` allowlist matches the sender, OpenClaw treats that sender as the owner in the system prompt. For a global owner across channels, set `commands.ownerAllowFrom`.\n- Bot-authored messages are ignored by default; set `channels.discord.allowBots=true` to allow them (own messages remain filtered).\n- Warning: If you allow replies to other bots (`channels.discord.allowBots=true`), prevent bot-to-bot reply loops with `requireMention`, `channels.discord.guilds.*.channels.<id>.users` allowlists, and/or clear guardrails in `AGENTS.md` and `SOUL.md`.",
    "### 6) Verify it works\n\n1. Start the gateway.\n2. In your server channel, send: `@Krill hello` (or whatever your bot name is).\n3. If nothing happens: check **Troubleshooting** below.\n\n### Troubleshooting",
    "- First: run `openclaw doctor` and `openclaw channels status --probe` (actionable warnings + quick audits).\n- **â€œUsed disallowed intentsâ€**: enable **Message Content Intent** (and likely **Server Members Intent**) in the Developer Portal, then restart the gateway.\n- **Bot connects but never replies in a guild channel**:\n  - Missing **Message Content Intent**, or\n  - The bot lacks channel permissions (View/Send/Read History), or\n  - Your config requires mentions and you didnâ€™t mention it, or\n  - Your guild/channel allowlist denies the channel/user.\n- **`requireMention: false` but still no replies**:\n- `channels.discord.groupPolicy` defaults to **allowlist**; set it to `\"open\"` or add a guild entry under `channels.discord.guilds` (optionally list channels under `channels.discord.guilds.<id>.channels` to restrict).\n  - If you only set `DISCORD_BOT_TOKEN` and never create a `channels.discord` section, the runtime\n    defaults `groupPolicy` to `open`. Add `channels.discord.groupPolicy`,\n    `channels.defaults.groupPolicy`, or a guild/channel allowlist to lock it down.\n- `requireMention` must live under `channels.discord.guilds` (or a specific channel). `channels.discord.requireMention` at the top level is ignored.\n- **Permission audits** (`channels status --probe`) only check numeric channel IDs. If you use slugs/names as `channels.discord.guilds.*.channels` keys, the audit canâ€™t verify permissions.\n- **DMs donâ€™t work**: `channels.discord.dm.enabled=false`, `channels.discord.dm.policy=\"disabled\"`, or you havenâ€™t been approved yet (`channels.discord.dm.policy=\"pairing\"`).\n- **Exec approvals in Discord**: Discord supports a **button UI** for exec approvals in DMs (Allow once / Always allow / Deny). `/approve <id> ...` is only for forwarded approvals and wonâ€™t resolve Discordâ€™s button prompts. If you see `âŒ Failed to submit approval: Error: unknown approval id` or the UI never shows up, check:\n  - `channels.discord.execApprovals.enabled: true` in your config.\n  - Your Discord user ID is listed in `channels.discord.execApprovals.approvers` (the UI is only sent to approvers).\n  - Use the buttons in the DM prompt (**Allow once**, **Always allow**, **Deny**).\n  - See [Exec approvals](/tools/exec-approvals) and [Slash commands](/tools/slash-commands) for the broader approvals and command flow.",
    "## Capabilities & limits\n\n- DMs and guild text channels (threads are treated as separate channels; voice not supported).\n- Typing indicators sent best-effort; message chunking uses `channels.discord.textChunkLimit` (default 2000) and splits tall replies by line count (`channels.discord.maxLinesPerMessage`, default 17).\n- Optional newline chunking: set `channels.discord.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- File uploads supported up to the configured `channels.discord.mediaMaxMb` (default 8 MB).\n- Mention-gated guild replies by default to avoid noisy bots.\n- Reply context is injected when a message references another message (quoted content + ids).\n- Native reply threading is **off by default**; enable with `channels.discord.replyToMode` and reply tags.",
    "## Retry policy\n\nOutbound Discord API calls retry on rate limits (429) using Discord `retry_after` when available, with exponential backoff and jitter. Configure via `channels.discord.retry`. See [Retry policy](/concepts/retry).",
    "## Config",
    "```json5\n{\n  channels: {\n    discord: {\n      enabled: true,\n      token: \"abc.123\",\n      groupPolicy: \"allowlist\",\n      guilds: {\n        \"*\": {\n          channels: {\n            general: { allow: true },\n          },\n        },\n      },\n      mediaMaxMb: 8,\n      actions: {\n        reactions: true,\n        stickers: true,\n        emojiUploads: true,\n        stickerUploads: true,\n        polls: true,\n        permissions: true,\n        messages: true,\n        threads: true,\n        pins: true,\n        search: true,\n        memberInfo: true,\n        roleInfo: true,\n        roles: false,\n        channelInfo: true,\n        channels: true,\n        voiceStatus: true,\n        events: true,\n        moderation: false,\n        presence: false,\n      },\n      replyToMode: \"off\",\n      dm: {\n        enabled: true,\n        policy: \"pairing\", // pairing | allowlist | open | disabled\n        allowFrom: [\"123456789012345678\", \"steipete\"],\n        groupEnabled: false,\n        groupChannels: [\"openclaw-dm\"],\n      },\n      guilds: {\n        \"*\": { requireMention: true },\n        \"123456789012345678\": {\n          slug: \"friends-of-openclaw\",\n          requireMention: false,\n          reactionNotifications: \"own\",\n          users: [\"987654321098765432\", \"steipete\"],\n          channels: {\n            general: { allow: true },\n            help: {\n              allow: true,\n              requireMention: true,\n              users: [\"987654321098765432\"],\n              skills: [\"search\", \"docs\"],\n              systemPrompt: \"Keep answers short.\",\n            },\n          },\n        },\n      },\n    },\n  },\n}\n```",
    "Ack reactions are controlled globally via `messages.ackReaction` +\n`messages.ackReactionScope`. Use `messages.removeAckAfterReply` to clear the\nack reaction after the bot replies.",
    "- `dm.enabled`: set `false` to ignore all DMs (default `true`).\n- `dm.policy`: DM access control (`pairing` recommended). `\"open\"` requires `dm.allowFrom=[\"*\"]`.\n- `dm.allowFrom`: DM allowlist (user ids or names). Used by `dm.policy=\"allowlist\"` and for `dm.policy=\"open\"` validation. The wizard accepts usernames and resolves them to ids when the bot can search members.\n- `dm.groupEnabled`: enable group DMs (default `false`).\n- `dm.groupChannels`: optional allowlist for group DM channel ids or slugs.\n- `groupPolicy`: controls guild channel handling (`open|disabled|allowlist`); `allowlist` requires channel allowlists.\n- `guilds`: per-guild rules keyed by guild id (preferred) or slug.\n- `guilds.\"*\"`: default per-guild settings applied when no explicit entry exists.\n- `guilds.<id>.slug`: optional friendly slug used for display names.\n- `guilds.<id>.users`: optional per-guild user allowlist (ids or names).\n- `guilds.<id>.tools`: optional per-guild tool policy overrides (`allow`/`deny`/`alsoAllow`) used when the channel override is missing.\n- `guilds.<id>.toolsBySender`: optional per-sender tool policy overrides at the guild level (applies when the channel override is missing; `\"*\"` wildcard supported).\n- `guilds.<id>.channels.<channel>.allow`: allow/deny the channel when `groupPolicy=\"allowlist\"`.\n- `guilds.<id>.channels.<channel>.requireMention`: mention gating for the channel.\n- `guilds.<id>.channels.<channel>.tools`: optional per-channel tool policy overrides (`allow`/`deny`/`alsoAllow`).\n- `guilds.<id>.channels.<channel>.toolsBySender`: optional per-sender tool policy overrides within the channel (`\"*\"` wildcard supported).\n- `guilds.<id>.channels.<channel>.users`: optional per-channel user allowlist.\n- `guilds.<id>.channels.<channel>.skills`: skill filter (omit = all skills, empty = none).\n- `guilds.<id>.channels.<channel>.systemPrompt`: extra system prompt for the channel. Discord channel topics are injected as **untrusted** context (not system prompt).\n- `guilds.<id>.channels.<channel>.enabled`: set `false` to disable the channel.\n- `guilds.<id>.channels`: channel rules (keys are channel slugs or ids).\n- `guilds.<id>.requireMention`: per-guild mention requirement (overridable per channel).\n- `guilds.<id>.reactionNotifications`: reaction system event mode (`off`, `own`, `all`, `allowlist`).\n- `textChunkLimit`: outbound text chunk size (chars). Default: 2000.\n- `chunkMode`: `length` (default) splits only when exceeding `textChunkLimit`; `newline` splits on blank lines (paragraph boundaries) before length chunking.\n- `maxLinesPerMessage`: soft max line count per message. Default: 17.\n- `mediaMaxMb`: clamp inbound media saved to disk.\n- `historyLimit`: number of recent guild messages to include as context when replying to a mention (default 20; falls back to `messages.groupChat.historyLimit`; `0` disables).\n- `dmHistoryLimit`: DM history limit in user turns. Per-user overrides: `dms[\"<user_id>\"].historyLimit`.\n- `retry`: retry policy for outbound Discord API calls (attempts, minDelayMs, maxDelayMs, jitter).\n- `pluralkit`: resolve PluralKit proxied messages so system members appear as distinct senders.\n- `actions`: per-action tool gates; omit to allow all (set `false` to disable).\n  - `reactions` (covers react + read reactions)\n  - `stickers`, `emojiUploads`, `stickerUploads`, `polls`, `permissions`, `messages`, `threads`, `pins`, `search`\n  - `memberInfo`, `roleInfo`, `channelInfo`, `voiceStatus`, `events`\n  - `channels` (create/edit/delete channels + categories + permissions)\n  - `roles` (role add/remove, default `false`)\n  - `moderation` (timeout/kick/ban, default `false`)\n  - `presence` (bot status/activity, default `false`)\n- `execApprovals`: Discord-only exec approval DMs (button UI). Supports `enabled`, `approvers`, `agentFilter`, `sessionFilter`.",
    "Reaction notifications use `guilds.<id>.reactionNotifications`:\n\n- `off`: no reaction events.\n- `own`: reactions on the bot's own messages (default).\n- `all`: all reactions on all messages.\n- `allowlist`: reactions from `guilds.<id>.users` on all messages (empty list disables).\n\n### PluralKit (PK) support\n\nEnable PK lookups so proxied messages resolve to the underlying system + member.\nWhen enabled, OpenClaw uses the member identity for allowlists and labels the\nsender as `Member (PK:System)` to avoid accidental Discord pings.\n\n```json5\n{\n  channels: {\n    discord: {\n      pluralkit: {\n        enabled: true,\n        token: \"pk_live_...\", // optional; required for private systems\n      },\n    },\n  },\n}\n```\n\nAllowlist notes (PK-enabled):",
    "- Use `pk:<memberId>` in `dm.allowFrom`, `guilds.<id>.users`, or per-channel `users`.\n- Member display names are also matched by name/slug.\n- Lookups use the **original** Discord message ID (the pre-proxy message), so\n  the PK API only resolves it within its 30-minute window.\n- If PK lookups fail (e.g., private system without a token), proxied messages\n  are treated as bot messages and are dropped unless `channels.discord.allowBots=true`.\n\n### Tool action defaults",
    "| Action group   | Default  | Notes                              |\n| -------------- | -------- | ---------------------------------- |\n| reactions      | enabled  | React + list reactions + emojiList |\n| stickers       | enabled  | Send stickers                      |\n| emojiUploads   | enabled  | Upload emojis                      |\n| stickerUploads | enabled  | Upload stickers                    |\n| polls          | enabled  | Create polls                       |\n| permissions    | enabled  | Channel permission snapshot        |\n| messages       | enabled  | Read/send/edit/delete              |\n| threads        | enabled  | Create/list/reply                  |\n| pins           | enabled  | Pin/unpin/list                     |\n| search         | enabled  | Message search (preview feature)   |\n| memberInfo     | enabled  | Member info                        |\n| roleInfo       | enabled  | Role list                          |\n| channelInfo    | enabled  | Channel info + list                |\n| channels       | enabled  | Channel/category management        |\n| voiceStatus    | enabled  | Voice state lookup                 |\n| events         | enabled  | List/create scheduled events       |\n| roles          | disabled | Role add/remove                    |\n| moderation     | disabled | Timeout/kick/ban                   |\n| presence       | disabled | Bot status/activity (setPresence)  |",
    "- `replyToMode`: `off` (default), `first`, or `all`. Applies only when the model includes a reply tag.",
    "## Reply tags\n\nTo request a threaded reply, the model can include one tag in its output:\n\n- `[[reply_to_current]]` â€” reply to the triggering Discord message.\n- `[[reply_to:<id>]]` â€” reply to a specific message id from context/history.\n  Current message ids are appended to prompts as `[message_id: â€¦]`; history entries already include ids.\n\nBehavior is controlled by `channels.discord.replyToMode`:\n\n- `off`: ignore tags.\n- `first`: only the first outbound chunk/attachment is a reply.\n- `all`: every outbound chunk/attachment is a reply.\n\nAllowlist matching notes:",
    "- `allowFrom`/`users`/`groupChannels` accept ids, names, tags, or mentions like `<@id>`.\n- Prefixes like `discord:`/`user:` (users) and `channel:` (group DMs) are supported.\n- Use `*` to allow any sender/channel.\n- When `guilds.<id>.channels` is present, channels not listed are denied by default.\n- When `guilds.<id>.channels` is omitted, all channels in the allowlisted guild are allowed.\n- To allow **no channels**, set `channels.discord.groupPolicy: \"disabled\"` (or keep an empty allowlist).\n- The configure wizard accepts `Guild/Channel` names (public + private) and resolves them to IDs when possible.\n- On startup, OpenClaw resolves channel/user names in allowlists to IDs (when the bot can search members)\n  and logs the mapping; unresolved entries are kept as typed.\n\nNative command notes:",
    "- The registered commands mirror OpenClawâ€™s chat commands.\n- Native commands honor the same allowlists as DMs/guild messages (`channels.discord.dm.allowFrom`, `channels.discord.guilds`, per-channel rules).\n- Slash commands may still be visible in Discord UI to users who arenâ€™t allowlisted; OpenClaw enforces allowlists on execution and replies â€œnot authorizedâ€.",
    "## Tool actions\n\nThe agent can call `discord` with actions like:\n\n- `react` / `reactions` (add or list reactions)\n- `sticker`, `poll`, `permissions`\n- `readMessages`, `sendMessage`, `editMessage`, `deleteMessage`\n- Read/search/pin tool payloads include normalized `timestampMs` (UTC epoch ms) and `timestampUtc` alongside raw Discord `timestamp`.\n- `threadCreate`, `threadList`, `threadReply`\n- `pinMessage`, `unpinMessage`, `listPins`\n- `searchMessages`, `memberInfo`, `roleInfo`, `roleAdd`, `roleRemove`, `emojiList`\n- `channelInfo`, `channelList`, `voiceStatus`, `eventList`, `eventCreate`\n- `timeout`, `kick`, `ban`\n- `setPresence` (bot activity and online status)\n\nDiscord message ids are surfaced in the injected context (`[discord message id: â€¦]` and history lines) so the agent can target them.\nEmoji can be unicode (e.g., `âœ…`) or custom emoji syntax like `<:party_blob:1234567890>`.",
    "## Safety & ops\n\n- Treat the bot token like a password; prefer the `DISCORD_BOT_TOKEN` env var on supervised hosts or lock down the config file permissions.\n- Only grant the bot permissions it needs (typically Read/Send Messages).\n- If the bot is stuck or rate limited, restart the gateway (`openclaw gateway --force`) after confirming no other processes own the Discord session.",
    "---\nread_when:\n  - å®ç°æˆ–æ›´æ”¹ Bonjour å‘ç°/å¹¿æ’­\n  - è°ƒæ•´è¿œç¨‹è¿æ¥æ¨¡å¼ï¼ˆç›´è¿ vs SSHï¼‰\n  - è®¾è®¡è¿œç¨‹èŠ‚ç‚¹çš„èŠ‚ç‚¹å‘ç° + é…å¯¹\nsummary: ç”¨äºå‘ç° Gateway ç½‘å…³çš„èŠ‚ç‚¹å‘ç°å’Œä¼ è¾“åè®®ï¼ˆBonjourã€Tailscaleã€SSHï¼‰\ntitle: è®¾å¤‡å‘ç° + ä¼ è¾“åè®®\nx-i18n:\n  generated_at: \"2026-02-03T10:06:11Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: e12172c181515bfa6aab8625ed3fbc335b80ba92e2b516c02c6066aeeb9f884c\n  source_path: gateway/discovery.md\n  workflow: 15\n---\n\n# è®¾å¤‡å‘ç° & ä¼ è¾“åè®®\n\nOpenClaw æœ‰ä¸¤ä¸ªè¡¨é¢ä¸Šçœ‹èµ·æ¥ç›¸ä¼¼çš„ä¸åŒé—®é¢˜ï¼š\n\n1. **æ“ä½œå‘˜è¿œç¨‹æ§åˆ¶**ï¼šmacOS èœå•æ åº”ç”¨æ§åˆ¶è¿è¡Œåœ¨å…¶ä»–åœ°æ–¹çš„ Gateway ç½‘å…³ã€‚\n2. **èŠ‚ç‚¹é…å¯¹**ï¼šiOS/Androidï¼ˆä»¥åŠæœªæ¥çš„èŠ‚ç‚¹ï¼‰å‘ç° Gateway ç½‘å…³å¹¶å®‰å…¨é…å¯¹ã€‚\n\nè®¾è®¡ç›®æ ‡æ˜¯å°†æ‰€æœ‰ç½‘ç»œå‘ç°/å¹¿æ’­ä¿ç•™åœ¨ **Node Gateway ç½‘å…³**ï¼ˆ`openclaw gateway`ï¼‰ä¸­ï¼Œå¹¶è®©å®¢æˆ·ç«¯ï¼ˆmac åº”ç”¨ã€iOSï¼‰ä½œä¸ºæ¶ˆè´¹è€…ã€‚",
    "## æœ¯è¯­\n\n- **Gateway ç½‘å…³**ï¼šä¸€ä¸ªé•¿æœŸè¿è¡Œçš„ Gateway ç½‘å…³è¿›ç¨‹ï¼Œæ‹¥æœ‰çŠ¶æ€ï¼ˆä¼šè¯ã€é…å¯¹ã€èŠ‚ç‚¹æ³¨å†Œè¡¨ï¼‰å¹¶è¿è¡Œæ¸ é“ã€‚å¤§å¤šæ•°è®¾ç½®æ¯å°ä¸»æœºä½¿ç”¨ä¸€ä¸ªï¼›ä¹Ÿå¯ä»¥è¿›è¡Œéš”ç¦»çš„å¤š Gateway ç½‘å…³è®¾ç½®ã€‚\n- **Gateway ç½‘å…³ WSï¼ˆæ§åˆ¶å¹³é¢ï¼‰**ï¼šé»˜è®¤åœ¨ `127.0.0.1:18789` ä¸Šçš„ WebSocket ç«¯ç‚¹ï¼›å¯é€šè¿‡ `gateway.bind` ç»‘å®šåˆ° LAN/tailnetã€‚\n- **ç›´è¿ WS ä¼ è¾“**ï¼šé¢å‘ LAN/tailnet çš„ Gateway ç½‘å…³ WS ç«¯ç‚¹ï¼ˆæ—  SSHï¼‰ã€‚\n- **SSH ä¼ è¾“ï¼ˆå›é€€ï¼‰**ï¼šé€šè¿‡ SSH è½¬å‘ `127.0.0.1:18789` è¿›è¡Œè¿œç¨‹æ§åˆ¶ã€‚\n- **æ—§ç‰ˆ TCP æ¡¥æ¥ï¼ˆå·²å¼ƒç”¨/ç§»é™¤ï¼‰**ï¼šæ—§çš„èŠ‚ç‚¹ä¼ è¾“ï¼ˆå‚è§ [æ¡¥æ¥åè®®](/gateway/bridge-protocol)ï¼‰ï¼›ä¸å†ç”¨äºå‘ç°å¹¿æ’­ã€‚\n\nåè®®è¯¦æƒ…ï¼š\n\n- [Gateway ç½‘å…³åè®®](/gateway/protocol)\n- [æ¡¥æ¥åè®®ï¼ˆæ—§ç‰ˆï¼‰](/gateway/bridge-protocol)",
    "## ä¸ºä»€ä¹ˆæˆ‘ä»¬åŒæ—¶ä¿ç•™\"ç›´è¿\"å’Œ SSH\n\n- **ç›´è¿ WS** åœ¨åŒä¸€ç½‘ç»œå’Œ tailnet å†…æä¾›æœ€ä½³ç”¨æˆ·ä½“éªŒï¼š\n  - é€šè¿‡ Bonjour åœ¨ LAN ä¸Šè‡ªåŠ¨å‘ç°\n  - é…å¯¹ä»¤ç‰Œ + ACL ç”± Gateway ç½‘å…³ç®¡ç†\n  - æ— éœ€ shell è®¿é—®ï¼›åè®®è¡¨é¢å¯ä¿æŒç´§å‡‘å’Œå¯å®¡è®¡\n- **SSH** ä»ç„¶æ˜¯é€šç”¨å›é€€æ–¹æ¡ˆï¼š\n  - åªè¦ä½ æœ‰ SSH è®¿é—®æƒé™å°±èƒ½å·¥ä½œï¼ˆå³ä½¿è·¨è¶Šä¸ç›¸å…³çš„ç½‘ç»œï¼‰\n  - èƒ½åº”å¯¹å¤šæ’­/mDNS é—®é¢˜\n  - é™¤ SSH å¤–æ— éœ€æ–°çš„å…¥ç«™ç«¯å£",
    "## å‘ç°è¾“å…¥ï¼ˆå®¢æˆ·ç«¯å¦‚ä½•äº†è§£ Gateway ç½‘å…³ä½ç½®ï¼‰\n\n### 1ï¼‰Bonjour / mDNSï¼ˆä»…é™ LANï¼‰\n\nBonjour æ˜¯å°½åŠ›è€Œä¸ºçš„ï¼Œä¸ä¼šè·¨ç½‘ç»œã€‚å®ƒä»…ç”¨äº\"åŒä¸€ LAN\"çš„ä¾¿åˆ©æ€§ã€‚\n\nç›®æ ‡æ–¹å‘ï¼š\n\n- **Gateway ç½‘å…³**é€šè¿‡ Bonjour å¹¿æ’­å…¶ WS ç«¯ç‚¹ã€‚\n- å®¢æˆ·ç«¯æµè§ˆå¹¶æ˜¾ç¤º\"é€‰æ‹©ä¸€ä¸ª Gateway ç½‘å…³\"åˆ—è¡¨ï¼Œç„¶åå­˜å‚¨é€‰å®šçš„ç«¯ç‚¹ã€‚\n\næ•…éšœæ’é™¤å’Œä¿¡æ ‡è¯¦æƒ…ï¼š[Bonjour](/gateway/bonjour)ã€‚\n\n#### æœåŠ¡ä¿¡æ ‡è¯¦æƒ…\n\n- æœåŠ¡ç±»å‹ï¼š\n  - `_openclaw-gw._tcp`ï¼ˆGateway ç½‘å…³ä¼ è¾“ä¿¡æ ‡ï¼‰\n- TXT é”®ï¼ˆéæœºå¯†ï¼‰ï¼š\n  - `role=gateway`\n  - `lanHost=<hostname>.local`\n  - `sshPort=22`ï¼ˆæˆ–å¹¿æ’­çš„ç«¯å£ï¼‰\n  - `gatewayPort=18789`ï¼ˆGateway ç½‘å…³ WS + HTTPï¼‰\n  - `gatewayTls=1`ï¼ˆä»…å½“å¯ç”¨ TLS æ—¶ï¼‰\n  - `gatewayTlsSha256=<sha256>`ï¼ˆä»…å½“å¯ç”¨ TLS ä¸”æŒ‡çº¹å¯ç”¨æ—¶ï¼‰\n  - `canvasPort=18793`ï¼ˆé»˜è®¤ç”»å¸ƒä¸»æœºç«¯å£ï¼›æœåŠ¡äº `/__openclaw__/canvas/`ï¼‰\n  - `cliPath=<path>`ï¼ˆå¯é€‰ï¼›å¯è¿è¡Œçš„ `openclaw` å…¥å£ç‚¹æˆ–äºŒè¿›åˆ¶æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼‰\n  - `tailnetDns=<magicdns>`ï¼ˆå¯é€‰æç¤ºï¼›å½“ Tailscale å¯ç”¨æ—¶è‡ªåŠ¨æ£€æµ‹ï¼‰\n\nç¦ç”¨/è¦†ç›–ï¼š\n\n- `OPENCLAW_DISABLE_BONJOUR=1` ç¦ç”¨å¹¿æ’­ã€‚\n- `~/.openclaw/openclaw.json` ä¸­çš„ `gateway.bind` æ§åˆ¶ Gateway ç½‘å…³ç»‘å®šæ¨¡å¼ã€‚\n- `OPENCLAW_SSH_PORT` è¦†ç›– TXT ä¸­å¹¿æ’­çš„ SSH ç«¯å£ï¼ˆé»˜è®¤ä¸º 22ï¼‰ã€‚\n- `OPENCLAW_TAILNET_DNS` å‘å¸ƒ `tailnetDns` æç¤ºï¼ˆMagicDNSï¼‰ã€‚\n- `OPENCLAW_CLI_PATH` è¦†ç›–å¹¿æ’­çš„ CLI è·¯å¾„ã€‚\n\n### 2ï¼‰Tailnetï¼ˆè·¨ç½‘ç»œï¼‰\n\nå¯¹äºä¼¦æ•¦/ç»´ä¹Ÿçº³é£æ ¼çš„è®¾ç½®ï¼ŒBonjour æ— æ³•å¸®åŠ©ã€‚æ¨èçš„\"ç›´è¿\"ç›®æ ‡æ˜¯ï¼š",
    "- Tailscale MagicDNS åç§°ï¼ˆé¦–é€‰ï¼‰æˆ–ç¨³å®šçš„ tailnet IPã€‚\n\nå¦‚æœ Gateway ç½‘å…³èƒ½æ£€æµ‹åˆ°å®ƒæ­£åœ¨ Tailscale ä¸‹è¿è¡Œï¼Œå®ƒä¼šå‘å¸ƒ `tailnetDns` ä½œä¸ºå®¢æˆ·ç«¯çš„å¯é€‰æç¤ºï¼ˆåŒ…æ‹¬å¹¿åŸŸä¿¡æ ‡ï¼‰ã€‚\n\n### 3ï¼‰æ‰‹åŠ¨ / SSH ç›®æ ‡\n\nå½“æ²¡æœ‰ç›´è¿è·¯ç”±ï¼ˆæˆ–ç›´è¿è¢«ç¦ç”¨ï¼‰æ—¶ï¼Œå®¢æˆ·ç«¯å§‹ç»ˆå¯ä»¥é€šè¿‡ SSH è½¬å‘æœ¬åœ°å›ç¯ Gateway ç½‘å…³ç«¯å£æ¥è¿æ¥ã€‚\n\nå‚è§ [è¿œç¨‹è®¿é—®](/gateway/remote)ã€‚",
    "## ä¼ è¾“é€‰æ‹©ï¼ˆå®¢æˆ·ç«¯ç­–ç•¥ï¼‰\n\næ¨èçš„å®¢æˆ·ç«¯è¡Œä¸ºï¼š\n\n1. å¦‚æœå·²é…ç½®ä¸”å¯è¾¾å·²é…å¯¹çš„ç›´è¿ç«¯ç‚¹ï¼Œä½¿ç”¨å®ƒã€‚\n2. å¦åˆ™ï¼Œå¦‚æœ Bonjour åœ¨ LAN ä¸Šæ‰¾åˆ° Gateway ç½‘å…³ï¼Œæä¾›ä¸€é”®\"ä½¿ç”¨æ­¤ Gateway ç½‘å…³\"é€‰æ‹©å¹¶å°†å…¶ä¿å­˜ä¸ºç›´è¿ç«¯ç‚¹ã€‚\n3. å¦åˆ™ï¼Œå¦‚æœé…ç½®äº† tailnet DNS/IPï¼Œå°è¯•ç›´è¿ã€‚\n4. å¦åˆ™ï¼Œå›é€€åˆ° SSHã€‚",
    "## é…å¯¹ + è®¤è¯ï¼ˆç›´è¿ä¼ è¾“ï¼‰\n\nGateway ç½‘å…³æ˜¯èŠ‚ç‚¹/å®¢æˆ·ç«¯å‡†å…¥çš„å”¯ä¸€æƒå¨æ¥æºã€‚\n\n- é…å¯¹è¯·æ±‚åœ¨ Gateway ç½‘å…³ä¸­åˆ›å»º/æ‰¹å‡†/æ‹’ç»ï¼ˆå‚è§ [Gateway ç½‘å…³é…å¯¹](/gateway/pairing)ï¼‰ã€‚\n- Gateway ç½‘å…³å¼ºåˆ¶æ‰§è¡Œï¼š\n  - è®¤è¯ï¼ˆä»¤ç‰Œ / å¯†é’¥å¯¹ï¼‰\n  - ä½œç”¨åŸŸ/ACLï¼ˆGateway ç½‘å…³ä¸æ˜¯æ¯ä¸ªæ–¹æ³•çš„åŸå§‹ä»£ç†ï¼‰\n  - é€Ÿç‡é™åˆ¶",
    "## å„ç»„ä»¶èŒè´£\n\n- **Gateway ç½‘å…³**ï¼šå¹¿æ’­å‘ç°ä¿¡æ ‡ï¼Œæ‹¥æœ‰é…å¯¹å†³ç­–æƒï¼Œå¹¶æ‰˜ç®¡ WS ç«¯ç‚¹ã€‚\n- **macOS åº”ç”¨**ï¼šå¸®åŠ©ä½ é€‰æ‹© Gateway ç½‘å…³ï¼Œæ˜¾ç¤ºé…å¯¹æç¤ºï¼Œä»…å°† SSH ä½œä¸ºå›é€€æ–¹æ¡ˆã€‚\n- **iOS/Android èŠ‚ç‚¹**ï¼šå°† Bonjour æµè§ˆä½œä¸ºä¾¿åˆ©åŠŸèƒ½ï¼Œè¿æ¥åˆ°å·²é…å¯¹çš„ Gateway ç½‘å…³ WSã€‚",
    "---\nsummary: \"CLI reference for `openclaw dns` (wide-area discovery helpers)\"\nread_when:\n  - You want wide-area discovery (DNS-SD) via Tailscale + CoreDNS\n  - Youâ€™re setting up split DNS for a custom discovery domain (example: openclaw.internal)\ntitle: \"dns\"\n---\n\n# `openclaw dns`\n\nDNS helpers for wide-area discovery (Tailscale + CoreDNS). Currently focused on macOS + Homebrew CoreDNS.\n\nRelated:\n\n- Gateway discovery: [Discovery](/gateway/discovery)\n- Wide-area discovery config: [Configuration](/gateway/configuration)",
    "## Setup\n\n```bash\nopenclaw dns setup\nopenclaw dns setup --apply\n```",
    "---\nread_when:\n  - ä½ æƒ³è¦å®¹å™¨åŒ–çš„ Gateway ç½‘å…³è€Œä¸æ˜¯æœ¬åœ°å®‰è£…\n  - ä½ æ­£åœ¨éªŒè¯ Docker æµç¨‹\nsummary: OpenClaw çš„å¯é€‰ Docker è®¾ç½®å’Œæ–°æ‰‹å¼•å¯¼\ntitle: Docker\nx-i18n:\n  generated_at: \"2026-02-03T07:51:20Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: bd823e49b6ce76fe1136a42bf48f436b316ed1cd2f9612e3f4919f1e6b2cdee9\n  source_path: install/docker.md\n  workflow: 15\n---\n\n# Dockerï¼ˆå¯é€‰ï¼‰\n\nDocker æ˜¯**å¯é€‰çš„**ã€‚ä»…å½“ä½ æƒ³è¦å®¹å™¨åŒ–çš„ Gateway ç½‘å…³æˆ–éªŒè¯ Docker æµç¨‹æ—¶æ‰ä½¿ç”¨å®ƒã€‚",
    "## Docker é€‚åˆæˆ‘å—ï¼Ÿ\n\n- **æ˜¯**ï¼šä½ æƒ³è¦ä¸€ä¸ªéš”ç¦»çš„ã€å¯ä¸¢å¼ƒçš„ Gateway ç½‘å…³ç¯å¢ƒï¼Œæˆ–åœ¨æ²¡æœ‰æœ¬åœ°å®‰è£…çš„ä¸»æœºä¸Šè¿è¡Œ OpenClawã€‚\n- **å¦**ï¼šä½ åœ¨è‡ªå·±çš„æœºå™¨ä¸Šè¿è¡Œï¼Œåªæƒ³è¦æœ€å¿«çš„å¼€å‘å¾ªç¯ã€‚è¯·æ”¹ç”¨æ­£å¸¸çš„å®‰è£…æµç¨‹ã€‚\n- **æ²™ç®±æ³¨æ„äº‹é¡¹**ï¼šæ™ºèƒ½ä½“æ²™ç®±éš”ç¦»ä¹Ÿä½¿ç”¨ Dockerï¼Œä½†å®ƒ**ä¸éœ€è¦**å®Œæ•´çš„ Gateway ç½‘å…³åœ¨ Docker ä¸­è¿è¡Œã€‚å‚é˜…[æ²™ç®±éš”ç¦»](/gateway/sandboxing)ã€‚\n\næœ¬æŒ‡å—æ¶µç›–ï¼š\n\n- å®¹å™¨åŒ– Gateway ç½‘å…³ï¼ˆå®Œæ•´çš„ OpenClaw åœ¨ Docker ä¸­ï¼‰\n- æ¯ä¼šè¯æ™ºèƒ½ä½“æ²™ç®±ï¼ˆä¸»æœº Gateway ç½‘å…³ + Docker éš”ç¦»çš„æ™ºèƒ½ä½“å·¥å…·ï¼‰\n\næ²™ç®±éš”ç¦»è¯¦æƒ…ï¼š[æ²™ç®±éš”ç¦»](/gateway/sandboxing)",
    "## è¦æ±‚\n\n- Docker Desktopï¼ˆæˆ– Docker Engineï¼‰+ Docker Compose v2\n- è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ç”¨äºé•œåƒ + æ—¥å¿—",
    "## å®¹å™¨åŒ– Gateway ç½‘å…³ï¼ˆDocker Composeï¼‰\n\n### å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰\n\nä»ä»“åº“æ ¹ç›®å½•ï¼š\n\n```bash\n./docker-setup.sh\n```\n\næ­¤è„šæœ¬ï¼š\n\n- æ„å»º Gateway ç½‘å…³é•œåƒ\n- è¿è¡Œæ–°æ‰‹å¼•å¯¼å‘å¯¼\n- æ‰“å°å¯é€‰çš„æä¾›å•†è®¾ç½®æç¤º\n- é€šè¿‡ Docker Compose å¯åŠ¨ Gateway ç½‘å…³\n- ç”Ÿæˆ Gateway ç½‘å…³ä»¤ç‰Œå¹¶å†™å…¥ `.env`\n\nå¯é€‰ç¯å¢ƒå˜é‡ï¼š\n\n- `OPENCLAW_DOCKER_APT_PACKAGES` â€” åœ¨æ„å»ºæœŸé—´å®‰è£…é¢å¤–çš„ apt åŒ…\n- `OPENCLAW_EXTRA_MOUNTS` â€” æ·»åŠ é¢å¤–çš„ä¸»æœºç»‘å®šæŒ‚è½½\n- `OPENCLAW_HOME_VOLUME` â€” åœ¨å‘½åå·ä¸­æŒä¹…åŒ– `/home/node`\n\nå®Œæˆåï¼š\n\n- åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://127.0.0.1:18789/`ã€‚\n- å°†ä»¤ç‰Œç²˜è´´åˆ°æ§åˆ¶ UIï¼ˆè®¾ç½® â†’ tokenï¼‰ã€‚\n- éœ€è¦å†æ¬¡è·å–å¸¦ä»¤ç‰Œçš„ URLï¼Ÿè¿è¡Œ `docker compose run --rm openclaw-cli dashboard --no-open`ã€‚\n\nå®ƒåœ¨ä¸»æœºä¸Šå†™å…¥é…ç½®/å·¥ä½œåŒºï¼š\n\n- `~/.openclaw/`\n- `~/.openclaw/workspace`\n\nåœ¨ VPS ä¸Šè¿è¡Œï¼Ÿå‚é˜… [Hetznerï¼ˆDocker VPSï¼‰](/install/hetzner)ã€‚\n\n### æ‰‹åŠ¨æµç¨‹ï¼ˆcomposeï¼‰\n\n```bash\ndocker build -t openclaw:local -f Dockerfile .\ndocker compose run --rm openclaw-cli onboard\ndocker compose up -d openclaw-gateway\n```\n\næ³¨æ„ï¼šä»ä»“åº“æ ¹ç›®å½•è¿è¡Œ `docker compose ...`ã€‚å¦‚æœä½ å¯ç”¨äº† `OPENCLAW_EXTRA_MOUNTS` æˆ– `OPENCLAW_HOME_VOLUME`ï¼Œè®¾ç½®è„šæœ¬ä¼šå†™å…¥ `docker-compose.extra.yml`ï¼›åœ¨å…¶ä»–åœ°æ–¹è¿è¡Œ Compose æ—¶åŒ…å«å®ƒï¼š",
    "```bash\ndocker compose -f docker-compose.yml -f docker-compose.extra.yml <command>\n```\n\n### æ§åˆ¶ UI ä»¤ç‰Œ + é…å¯¹ï¼ˆDockerï¼‰\n\nå¦‚æœä½ çœ‹åˆ°\"unauthorized\"æˆ–\"disconnected (1008): pairing required\"ï¼Œè·å–æ–°çš„ä»ªè¡¨æ¿é“¾æ¥å¹¶æ‰¹å‡†æµè§ˆå™¨è®¾å¤‡ï¼š\n\n```bash\ndocker compose run --rm openclaw-cli dashboard --no-open\ndocker compose run --rm openclaw-cli devices list\ndocker compose run --rm openclaw-cli devices approve <requestId>\n```\n\næ›´å¤šè¯¦æƒ…ï¼š[ä»ªè¡¨æ¿](/web/dashboard)ï¼Œ[è®¾å¤‡](/cli/devices)ã€‚\n\n### é¢å¤–æŒ‚è½½ï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ æƒ³å°†é¢å¤–çš„ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œåœ¨è¿è¡Œ `docker-setup.sh` ä¹‹å‰è®¾ç½® `OPENCLAW_EXTRA_MOUNTS`ã€‚è¿™æ¥å—é€—å·åˆ†éš”çš„ Docker ç»‘å®šæŒ‚è½½åˆ—è¡¨ï¼Œå¹¶é€šè¿‡ç”Ÿæˆ `docker-compose.extra.yml` å°†å®ƒä»¬åº”ç”¨åˆ° `openclaw-gateway` å’Œ `openclaw-cli`ã€‚\n\nç¤ºä¾‹ï¼š\n\n```bash\nexport OPENCLAW_EXTRA_MOUNTS=\"$HOME/.codex:/home/node/.codex:ro,$HOME/github:/home/node/github:rw\"\n./docker-setup.sh\n```\n\næ³¨æ„ï¼š\n\n- è·¯å¾„å¿…é¡»åœ¨ macOS/Windows ä¸Šä¸ Docker Desktop å…±äº«ã€‚\n- å¦‚æœä½ ç¼–è¾‘ `OPENCLAW_EXTRA_MOUNTS`ï¼Œé‡æ–°è¿è¡Œ `docker-setup.sh` ä»¥é‡æ–°ç”Ÿæˆé¢å¤–çš„ compose æ–‡ä»¶ã€‚\n- `docker-compose.extra.yml` æ˜¯ç”Ÿæˆçš„ã€‚ä¸è¦æ‰‹åŠ¨ç¼–è¾‘å®ƒã€‚\n\n### æŒä¹…åŒ–æ•´ä¸ªå®¹å™¨ homeï¼ˆå¯é€‰ï¼‰",
    "å¦‚æœä½ æƒ³è®© `/home/node` åœ¨å®¹å™¨é‡å»ºåæŒä¹…åŒ–ï¼Œé€šè¿‡ `OPENCLAW_HOME_VOLUME` è®¾ç½®ä¸€ä¸ªå‘½åå·ã€‚è¿™ä¼šåˆ›å»ºä¸€ä¸ª Docker å·å¹¶å°†å…¶æŒ‚è½½åˆ° `/home/node`ï¼ŒåŒæ—¶ä¿æŒæ ‡å‡†çš„é…ç½®/å·¥ä½œåŒºç»‘å®šæŒ‚è½½ã€‚è¿™é‡Œä½¿ç”¨å‘½åå·ï¼ˆä¸æ˜¯ç»‘å®šè·¯å¾„ï¼‰ï¼›å¯¹äºç»‘å®šæŒ‚è½½ï¼Œä½¿ç”¨ `OPENCLAW_EXTRA_MOUNTS`ã€‚\n\nç¤ºä¾‹ï¼š\n\n```bash\nexport OPENCLAW_HOME_VOLUME=\"openclaw_home\"\n./docker-setup.sh\n```\n\nä½ å¯ä»¥å°†å…¶ä¸é¢å¤–æŒ‚è½½ç»“åˆä½¿ç”¨ï¼š\n\n```bash\nexport OPENCLAW_HOME_VOLUME=\"openclaw_home\"\nexport OPENCLAW_EXTRA_MOUNTS=\"$HOME/.codex:/home/node/.codex:ro,$HOME/github:/home/node/github:rw\"\n./docker-setup.sh\n```\n\næ³¨æ„ï¼š\n\n- å¦‚æœä½ æ›´æ”¹ `OPENCLAW_HOME_VOLUME`ï¼Œé‡æ–°è¿è¡Œ `docker-setup.sh` ä»¥é‡æ–°ç”Ÿæˆé¢å¤–çš„ compose æ–‡ä»¶ã€‚\n- å‘½åå·ä¼šæŒä¹…åŒ–ç›´åˆ°ä½¿ç”¨ `docker volume rm <name>` åˆ é™¤ã€‚\n\n### å®‰è£…é¢å¤–çš„ apt åŒ…ï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ éœ€è¦é•œåƒå†…çš„ç³»ç»ŸåŒ…ï¼ˆä¾‹å¦‚æ„å»ºå·¥å…·æˆ–åª’ä½“åº“ï¼‰ï¼Œåœ¨è¿è¡Œ `docker-setup.sh` ä¹‹å‰è®¾ç½® `OPENCLAW_DOCKER_APT_PACKAGES`ã€‚è¿™ä¼šåœ¨é•œåƒæ„å»ºæœŸé—´å®‰è£…åŒ…ï¼Œå› æ­¤å³ä½¿å®¹å™¨è¢«åˆ é™¤å®ƒä»¬ä¹Ÿä¼šæŒä¹…åŒ–ã€‚\n\nç¤ºä¾‹ï¼š\n\n```bash\nexport OPENCLAW_DOCKER_APT_PACKAGES=\"ffmpeg build-essential\"\n./docker-setup.sh\n```\n\næ³¨æ„ï¼š\n\n- è¿™æ¥å—ç©ºæ ¼åˆ†éš”çš„ apt åŒ…åç§°åˆ—è¡¨ã€‚\n- å¦‚æœä½ æ›´æ”¹ `OPENCLAW_DOCKER_APT_PACKAGES`ï¼Œé‡æ–°è¿è¡Œ `docker-setup.sh` ä»¥é‡å»ºé•œåƒã€‚\n\n### é«˜çº§ç”¨æˆ·/åŠŸèƒ½å®Œæ•´çš„å®¹å™¨ï¼ˆé€‰æ‹©åŠ å…¥ï¼‰\n\né»˜è®¤çš„ Docker é•œåƒæ˜¯**å®‰å…¨ä¼˜å…ˆ**çš„ï¼Œä»¥é root çš„ `node` ç”¨æˆ·è¿è¡Œã€‚è¿™ä¿æŒäº†è¾ƒå°çš„æ”»å‡»é¢ï¼Œä½†è¿™æ„å‘³ç€ï¼š",
    "- è¿è¡Œæ—¶æ— æ³•å®‰è£…ç³»ç»ŸåŒ…\n- é»˜è®¤æ²¡æœ‰ Homebrew\n- æ²¡æœ‰æ†ç»‘çš„ Chromium/Playwright æµè§ˆå™¨\n\nå¦‚æœä½ æƒ³è¦åŠŸèƒ½æ›´å®Œæ•´çš„å®¹å™¨ï¼Œä½¿ç”¨è¿™äº›é€‰æ‹©åŠ å…¥é€‰é¡¹ï¼š\n\n1. **æŒä¹…åŒ– `/home/node`** ä»¥ä¾¿æµè§ˆå™¨ä¸‹è½½å’Œå·¥å…·ç¼“å­˜èƒ½å¤Ÿä¿ç•™ï¼š\n\n```bash\nexport OPENCLAW_HOME_VOLUME=\"openclaw_home\"\n./docker-setup.sh\n```\n\n2. **å°†ç³»ç»Ÿä¾èµ–çƒ˜ç„™åˆ°é•œåƒä¸­**ï¼ˆå¯é‡å¤ + æŒä¹…åŒ–ï¼‰ï¼š\n\n```bash\nexport OPENCLAW_DOCKER_APT_PACKAGES=\"git curl jq\"\n./docker-setup.sh\n```\n\n3. **ä¸ä½¿ç”¨ `npx` å®‰è£… Playwright æµè§ˆå™¨**ï¼ˆé¿å… npm è¦†ç›–å†²çªï¼‰ï¼š\n\n```bash\ndocker compose run --rm openclaw-cli \\\n  node /app/node_modules/playwright-core/cli.js install chromium\n```\n\nå¦‚æœä½ éœ€è¦ Playwright å®‰è£…ç³»ç»Ÿä¾èµ–ï¼Œä½¿ç”¨ `OPENCLAW_DOCKER_APT_PACKAGES` é‡å»ºé•œåƒï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨ `--with-deps`ã€‚\n\n4. **æŒä¹…åŒ– Playwright æµè§ˆå™¨ä¸‹è½½**ï¼š\n\n- åœ¨ `docker-compose.yml` ä¸­è®¾ç½® `PLAYWRIGHT_BROWSERS_PATH=/home/node/.cache/ms-playwright`ã€‚\n- ç¡®ä¿ `/home/node` é€šè¿‡ `OPENCLAW_HOME_VOLUME` æŒä¹…åŒ–ï¼Œæˆ–é€šè¿‡ `OPENCLAW_EXTRA_MOUNTS` æŒ‚è½½ `/home/node/.cache/ms-playwright`ã€‚\n\n### æƒé™ + EACCES\n\né•œåƒä»¥ `node`ï¼ˆuid 1000ï¼‰è¿è¡Œã€‚å¦‚æœä½ åœ¨ `/home/node/.openclaw` ä¸Šçœ‹åˆ°æƒé™é”™è¯¯ï¼Œç¡®ä¿ä½ çš„ä¸»æœºç»‘å®šæŒ‚è½½ç”± uid 1000 æ‹¥æœ‰ã€‚\n\nç¤ºä¾‹ï¼ˆLinux ä¸»æœºï¼‰ï¼š",
    "```bash\nsudo chown -R 1000:1000 /path/to/openclaw-config /path/to/openclaw-workspace\n```\n\nå¦‚æœä½ é€‰æ‹©ä»¥ root è¿è¡Œä»¥æ–¹ä¾¿ä½¿ç”¨ï¼Œä½ æ¥å—äº†å®‰å…¨æƒè¡¡ã€‚\n\n### æ›´å¿«çš„é‡å»ºï¼ˆæ¨èï¼‰\n\nè¦åŠ é€Ÿé‡å»ºï¼Œæ’åºä½ çš„ Dockerfile ä»¥ä¾¿ä¾èµ–å±‚è¢«ç¼“å­˜ã€‚è¿™é¿å…äº†é™¤éé”æ–‡ä»¶æ›´æ”¹å¦åˆ™é‡æ–°è¿è¡Œ `pnpm install`ï¼š\n\n```dockerfile\nFROM node:22-bookworm\n\n# å®‰è£… Bunï¼ˆæ„å»ºè„šæœ¬éœ€è¦ï¼‰\nRUN curl -fsSL https://bun.sh/install | bash\nENV PATH=\"/root/.bun/bin:${PATH}\"\n\nRUN corepack enable\n\nWORKDIR /app\n\n# ç¼“å­˜ä¾èµ–ï¼Œé™¤éåŒ…å…ƒæ•°æ®æ›´æ”¹\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml .npmrc ./\nCOPY ui/package.json ./ui/package.json\nCOPY scripts ./scripts\n\nRUN pnpm install --frozen-lockfile\n\nCOPY . .\nRUN pnpm build\nRUN pnpm ui:install\nRUN pnpm ui:build\n\nENV NODE_ENV=production\n\nCMD [\"node\",\"dist/index.js\"]\n```\n\n### æ¸ é“è®¾ç½®ï¼ˆå¯é€‰ï¼‰\n\nä½¿ç”¨ CLI å®¹å™¨é…ç½®æ¸ é“ï¼Œç„¶ååœ¨éœ€è¦æ—¶é‡å¯ Gateway ç½‘å…³ã€‚\n\nWhatsAppï¼ˆQRï¼‰ï¼š\n\n```bash\ndocker compose run --rm openclaw-cli channels login\n```\n\nTelegramï¼ˆbot tokenï¼‰ï¼š\n\n```bash\ndocker compose run --rm openclaw-cli channels add --channel telegram --token \"<token>\"\n```\n\nDiscordï¼ˆbot tokenï¼‰ï¼š",
    "```bash\ndocker compose run --rm openclaw-cli channels add --channel discord --token \"<token>\"\n```\n\næ–‡æ¡£ï¼š[WhatsApp](/channels/whatsapp)ï¼Œ[Telegram](/channels/telegram)ï¼Œ[Discord](/channels/discord)\n\n### OpenAI Codex OAuthï¼ˆæ— å¤´ Dockerï¼‰\n\nå¦‚æœä½ åœ¨å‘å¯¼ä¸­é€‰æ‹© OpenAI Codex OAuthï¼Œå®ƒä¼šæ‰“å¼€æµè§ˆå™¨ URL å¹¶å°è¯•åœ¨ `http://127.0.0.1:1455/auth/callback` æ•è·å›è°ƒã€‚åœ¨ Docker æˆ–æ— å¤´è®¾ç½®ä¸­ï¼Œè¯¥å›è°ƒå¯èƒ½æ˜¾ç¤ºæµè§ˆå™¨é”™è¯¯ã€‚å¤åˆ¶ä½ åˆ°è¾¾çš„å®Œæ•´é‡å®šå‘ URL å¹¶å°†å…¶ç²˜è´´å›å‘å¯¼ä»¥å®Œæˆè®¤è¯ã€‚\n\n### å¥åº·æ£€æŸ¥\n\n```bash\ndocker compose exec openclaw-gateway node dist/index.js health --token \"$OPENCLAW_GATEWAY_TOKEN\"\n```\n\n### E2E å†’çƒŸæµ‹è¯•ï¼ˆDockerï¼‰\n\n```bash\nscripts/e2e/onboard-docker.sh\n```\n\n### QR å¯¼å…¥å†’çƒŸæµ‹è¯•ï¼ˆDockerï¼‰\n\n```bash\npnpm test:docker:qr\n```\n\n### æ³¨æ„\n\n- Gateway ç½‘å…³ç»‘å®šé»˜è®¤ä¸º `lan` ç”¨äºå®¹å™¨ä½¿ç”¨ã€‚\n- Dockerfile CMD ä½¿ç”¨ `--allow-unconfigured`ï¼›æŒ‚è½½çš„é…ç½®å¦‚æœ `gateway.mode` ä¸æ˜¯ `local` ä»ä¼šå¯åŠ¨ã€‚è¦†ç›– CMD ä»¥å¼ºåˆ¶æ‰§è¡Œæ£€æŸ¥ã€‚\n- Gateway ç½‘å…³å®¹å™¨æ˜¯ä¼šè¯çš„çœŸå®æ¥æºï¼ˆ`~/.openclaw/agents/<agentId>/sessions/`ï¼‰ã€‚",
    "## æ™ºèƒ½ä½“æ²™ç®±ï¼ˆä¸»æœº Gateway ç½‘å…³ + Docker å·¥å…·ï¼‰\n\næ·±å…¥äº†è§£ï¼š[æ²™ç®±éš”ç¦»](/gateway/sandboxing)\n\n### å®ƒåšä»€ä¹ˆ\n\nå½“å¯ç”¨ `agents.defaults.sandbox` æ—¶ï¼Œ**éä¸»ä¼šè¯**åœ¨ Docker å®¹å™¨å†…è¿è¡Œå·¥å…·ã€‚Gateway ç½‘å…³ä¿æŒåœ¨ä½ çš„ä¸»æœºä¸Šï¼Œä½†å·¥å…·æ‰§è¡Œæ˜¯éš”ç¦»çš„ï¼š\n\n- scopeï¼šé»˜è®¤ä¸º `\"agent\"`ï¼ˆæ¯ä¸ªæ™ºèƒ½ä½“ä¸€ä¸ªå®¹å™¨ + å·¥ä½œåŒºï¼‰\n- scopeï¼š`\"session\"` ç”¨äºæ¯ä¼šè¯éš”ç¦»\n- æ¯ä½œç”¨åŸŸå·¥ä½œåŒºæ–‡ä»¶å¤¹æŒ‚è½½åœ¨ `/workspace`\n- å¯é€‰çš„æ™ºèƒ½ä½“å·¥ä½œåŒºè®¿é—®ï¼ˆ`agents.defaults.sandbox.workspaceAccess`ï¼‰\n- å…è®¸/æ‹’ç»å·¥å…·ç­–ç•¥ï¼ˆæ‹’ç»ä¼˜å…ˆï¼‰\n- å…¥ç«™åª’ä½“è¢«å¤åˆ¶åˆ°æ´»åŠ¨æ²™ç®±å·¥ä½œåŒºï¼ˆ`media/inbound/*`ï¼‰ï¼Œä»¥ä¾¿å·¥å…·å¯ä»¥è¯»å–å®ƒï¼ˆä½¿ç”¨ `workspaceAccess: \"rw\"` æ—¶ï¼Œè¿™ä¼šè½åœ¨æ™ºèƒ½ä½“å·¥ä½œåŒºä¸­ï¼‰\n\nè­¦å‘Šï¼š`scope: \"shared\"` ç¦ç”¨è·¨ä¼šè¯éš”ç¦»ã€‚æ‰€æœ‰ä¼šè¯å…±äº«ä¸€ä¸ªå®¹å™¨å’Œä¸€ä¸ªå·¥ä½œåŒºã€‚\n\n### æ¯æ™ºèƒ½ä½“æ²™ç®±é…ç½®æ–‡ä»¶ï¼ˆå¤šæ™ºèƒ½ä½“ï¼‰\n\nå¦‚æœä½ ä½¿ç”¨å¤šæ™ºèƒ½ä½“è·¯ç”±ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥è¦†ç›–æ²™ç®± + å·¥å…·è®¾ç½®ï¼š`agents.list[].sandbox` å’Œ `agents.list[].tools`ï¼ˆåŠ ä¸Š `agents.list[].tools.sandbox.tools`ï¼‰ã€‚è¿™è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ª Gateway ç½‘å…³ä¸­è¿è¡Œæ··åˆè®¿é—®çº§åˆ«ï¼š\n\n- å®Œå…¨è®¿é—®ï¼ˆä¸ªäººæ™ºèƒ½ä½“ï¼‰\n- åªè¯»å·¥å…· + åªè¯»å·¥ä½œåŒºï¼ˆå®¶åº­/å·¥ä½œæ™ºèƒ½ä½“ï¼‰\n- æ— æ–‡ä»¶ç³»ç»Ÿ/shell å·¥å…·ï¼ˆå…¬å…±æ™ºèƒ½ä½“ï¼‰\n\nå‚é˜…[å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools)äº†è§£ç¤ºä¾‹ã€ä¼˜å…ˆçº§å’Œæ•…éšœæ’é™¤ã€‚\n\n### é»˜è®¤è¡Œä¸º",
    "- é•œåƒï¼š`openclaw-sandbox:bookworm-slim`\n- æ¯ä¸ªæ™ºèƒ½ä½“ä¸€ä¸ªå®¹å™¨\n- æ™ºèƒ½ä½“å·¥ä½œåŒºè®¿é—®ï¼š`workspaceAccess: \"none\"`ï¼ˆé»˜è®¤ï¼‰ä½¿ç”¨ `~/.openclaw/sandboxes`\n  - `\"ro\"` ä¿æŒæ²™ç®±å·¥ä½œåŒºåœ¨ `/workspace` å¹¶å°†æ™ºèƒ½ä½“å·¥ä½œåŒºåªè¯»æŒ‚è½½åœ¨ `/agent`ï¼ˆç¦ç”¨ `write`/`edit`/`apply_patch`ï¼‰\n  - `\"rw\"` å°†æ™ºèƒ½ä½“å·¥ä½œåŒºè¯»å†™æŒ‚è½½åœ¨ `/workspace`\n- è‡ªåŠ¨æ¸…ç†ï¼šç©ºé—² > 24h æˆ– å¹´é¾„ > 7d\n- ç½‘ç»œï¼šé»˜è®¤ä¸º `none`ï¼ˆå¦‚æœéœ€è¦å‡ºç«™åˆ™æ˜ç¡®é€‰æ‹©åŠ å…¥ï¼‰\n- é»˜è®¤å…è®¸ï¼š`exec`ã€`process`ã€`read`ã€`write`ã€`edit`ã€`sessions_list`ã€`sessions_history`ã€`sessions_send`ã€`sessions_spawn`ã€`session_status`\n- é»˜è®¤æ‹’ç»ï¼š`browser`ã€`canvas`ã€`nodes`ã€`cron`ã€`discord`ã€`gateway`\n\n### å¯ç”¨æ²™ç®±éš”ç¦»\n\nå¦‚æœä½ è®¡åˆ’åœ¨ `setupCommand` ä¸­å®‰è£…åŒ…ï¼Œè¯·æ³¨æ„ï¼š\n\n- é»˜è®¤ `docker.network` æ˜¯ `\"none\"`ï¼ˆæ— å‡ºç«™ï¼‰ã€‚\n- `readOnlyRoot: true` é˜»æ­¢åŒ…å®‰è£…ã€‚\n- `user` å¿…é¡»æ˜¯ root æ‰èƒ½è¿è¡Œ `apt-get`ï¼ˆçœç•¥ `user` æˆ–è®¾ç½® `user: \"0:0\"`ï¼‰ã€‚\n  å½“ `setupCommand`ï¼ˆæˆ– docker é…ç½®ï¼‰æ›´æ”¹æ—¶ï¼ŒOpenClaw ä¼šè‡ªåŠ¨é‡å»ºå®¹å™¨ï¼Œé™¤éå®¹å™¨æ˜¯**æœ€è¿‘ä½¿ç”¨çš„**ï¼ˆåœ¨çº¦ 5 åˆ†é’Ÿå†…ï¼‰ã€‚çƒ­å®¹å™¨ä¼šè®°å½•è­¦å‘Šï¼ŒåŒ…å«ç¡®åˆ‡çš„ `openclaw sandbox recreate ...` å‘½ä»¤ã€‚",
    "```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\", // off | non-main | all\n        scope: \"agent\", // session | agent | sharedï¼ˆé»˜è®¤ä¸º agentï¼‰\n        workspaceAccess: \"none\", // none | ro | rw\n        workspaceRoot: \"~/.openclaw/sandboxes\",\n        docker: {\n          image: \"openclaw-sandbox:bookworm-slim\",\n          workdir: \"/workspace\",\n          readOnlyRoot: true,\n          tmpfs: [\"/tmp\", \"/var/tmp\", \"/run\"],\n          network: \"none\",\n          user: \"1000:1000\",\n          capDrop: [\"ALL\"],\n          env: { LANG: \"C.UTF-8\" },\n          setupCommand: \"apt-get update && apt-get install -y git curl jq\",\n          pidsLimit: 256,\n          memory: \"1g\",\n          memorySwap: \"2g\",\n          cpus: 1,\n          ulimits: {\n            nofile: { soft: 1024, hard: 2048 },\n            nproc: 256,\n          },\n          seccompProfile: \"/path/to/seccomp.json\",\n          apparmorProfile: \"openclaw-sandbox\",\n          dns: [\"1.1.1.1\", \"8.8.8.8\"],\n          extraHosts: [\"internal.service:10.0.0.5\"],\n        },\n        prune: {\n          idleHours: 24, // 0 ç¦ç”¨ç©ºé—²æ¸…ç†\n          maxAgeDays: 7, // 0 ç¦ç”¨æœ€å¤§å¹´é¾„æ¸…ç†\n        },\n      },\n    },\n  },\n  tools: {\n    sandbox: {\n      tools: {\n        allow: [\n          \"exec\",\n          \"process\",\n          \"read\",\n          \"write\",\n          \"edit\",\n          \"sessions_list\",\n          \"sessions_history\",\n          \"sessions_send\",\n          \"sessions_spawn\",\n          \"session_status\",\n        ],\n        deny: [\"browser\", \"canvas\", \"nodes\", \"cron\", \"discord\", \"gateway\"],\n      },\n    },\n  },\n}\n```",
    "åŠ å›ºé€‰é¡¹ä½äº `agents.defaults.sandbox.docker` ä¸‹ï¼š`network`ã€`user`ã€`pidsLimit`ã€`memory`ã€`memorySwap`ã€`cpus`ã€`ulimits`ã€`seccompProfile`ã€`apparmorProfile`ã€`dns`ã€`extraHosts`ã€‚\n\nå¤šæ™ºèƒ½ä½“ï¼šé€šè¿‡ `agents.list[].sandbox.{docker,browser,prune}.*` æŒ‰æ™ºèƒ½ä½“è¦†ç›– `agents.defaults.sandbox.{docker,browser,prune}.*`ï¼ˆå½“ `agents.defaults.sandbox.scope` / `agents.list[].sandbox.scope` æ˜¯ `\"shared\"` æ—¶å¿½ç•¥ï¼‰ã€‚\n\n### æ„å»ºé»˜è®¤æ²™ç®±é•œåƒ\n\n```bash\nscripts/sandbox-setup.sh\n```\n\nè¿™ä½¿ç”¨ `Dockerfile.sandbox` æ„å»º `openclaw-sandbox:bookworm-slim`ã€‚\n\n### æ²™ç®±é€šç”¨é•œåƒï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ æƒ³è¦ä¸€ä¸ªå¸¦æœ‰å¸¸è§æ„å»ºå·¥å…·ï¼ˆNodeã€Goã€Rust ç­‰ï¼‰çš„æ²™ç®±é•œåƒï¼Œæ„å»ºé€šç”¨é•œåƒï¼š\n\n```bash\nscripts/sandbox-common-setup.sh\n```\n\nè¿™æ„å»º `openclaw-sandbox-common:bookworm-slim`ã€‚è¦ä½¿ç”¨å®ƒï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: { docker: { image: \"openclaw-sandbox-common:bookworm-slim\" } },\n    },\n  },\n}\n```\n\n### æ²™ç®±æµè§ˆå™¨é•œåƒ\n\nè¦åœ¨æ²™ç®±å†…è¿è¡Œæµè§ˆå™¨å·¥å…·ï¼Œæ„å»ºæµè§ˆå™¨é•œåƒï¼š\n\n```bash\nscripts/sandbox-browser-setup.sh\n```\n\nè¿™ä½¿ç”¨ `Dockerfile.sandbox-browser` æ„å»º `openclaw-sandbox-browser:bookworm-slim`ã€‚å®¹å™¨è¿è¡Œå¯ç”¨ CDP çš„ Chromium å’Œå¯é€‰çš„ noVNC è§‚å¯Ÿå™¨ï¼ˆé€šè¿‡ Xvfb æœ‰å¤´ï¼‰ã€‚\n\næ³¨æ„ï¼š",
    "- æœ‰å¤´ï¼ˆXvfbï¼‰æ¯”æ— å¤´å‡å°‘æœºå™¨äººé˜»æ­¢ã€‚\n- é€šè¿‡è®¾ç½® `agents.defaults.sandbox.browser.headless=true` ä»ç„¶å¯ä»¥ä½¿ç”¨æ— å¤´æ¨¡å¼ã€‚\n- ä¸éœ€è¦å®Œæ•´çš„æ¡Œé¢ç¯å¢ƒï¼ˆGNOMEï¼‰ï¼›Xvfb æä¾›æ˜¾ç¤ºã€‚\n\nä½¿ç”¨é…ç½®ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        browser: { enabled: true },\n      },\n    },\n  },\n}\n```\n\nè‡ªå®šä¹‰æµè§ˆå™¨é•œåƒï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: { browser: { image: \"my-openclaw-browser\" } },\n    },\n  },\n}\n```\n\nå¯ç”¨åï¼Œæ™ºèƒ½ä½“æ¥æ”¶ï¼š\n\n- æ²™ç®±æµè§ˆå™¨æ§åˆ¶ URLï¼ˆç”¨äº `browser` å·¥å…·ï¼‰\n- noVNC URLï¼ˆå¦‚æœå¯ç”¨ä¸” headless=falseï¼‰\n\nè®°ä½ï¼šå¦‚æœä½ ä½¿ç”¨å·¥å…·å…è®¸åˆ—è¡¨ï¼Œæ·»åŠ  `browser`ï¼ˆå¹¶ä»æ‹’ç»ä¸­ç§»é™¤å®ƒï¼‰å¦åˆ™å·¥å…·ä»ç„¶è¢«é˜»æ­¢ã€‚\næ¸…ç†è§„åˆ™ï¼ˆ`agents.defaults.sandbox.prune`ï¼‰ä¹Ÿé€‚ç”¨äºæµè§ˆå™¨å®¹å™¨ã€‚\n\n### è‡ªå®šä¹‰æ²™ç®±é•œåƒ\n\næ„å»ºä½ è‡ªå·±çš„é•œåƒå¹¶å°†é…ç½®æŒ‡å‘å®ƒï¼š\n\n```bash\ndocker build -t my-openclaw-sbx -f Dockerfile.sandbox .\n```\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: { docker: { image: \"my-openclaw-sbx\" } },\n    },\n  },\n}\n```\n\n### å·¥å…·ç­–ç•¥ï¼ˆå…è®¸/æ‹’ç»ï¼‰\n\n- `deny` ä¼˜å…ˆäº `allow`ã€‚\n- å¦‚æœ `allow` ä¸ºç©ºï¼šæ‰€æœ‰å·¥å…·ï¼ˆé™¤äº† denyï¼‰éƒ½å¯ç”¨ã€‚\n- å¦‚æœ `allow` éç©ºï¼šåªæœ‰ `allow` ä¸­çš„å·¥å…·å¯ç”¨ï¼ˆå‡å» denyï¼‰ã€‚\n\n### æ¸…ç†ç­–ç•¥\n\nä¸¤ä¸ªé€‰é¡¹ï¼š\n\n- `prune.idleHours`ï¼šç§»é™¤ X å°æ—¶æœªä½¿ç”¨çš„å®¹å™¨ï¼ˆ0 = ç¦ç”¨ï¼‰\n- `prune.maxAgeDays`ï¼šç§»é™¤è¶…è¿‡ X å¤©çš„å®¹å™¨ï¼ˆ0 = ç¦ç”¨ï¼‰\n\nç¤ºä¾‹ï¼š",
    "- ä¿ç•™ç¹å¿™ä¼šè¯ä½†é™åˆ¶ç”Ÿå‘½å‘¨æœŸï¼š\n  `idleHours: 24`ã€`maxAgeDays: 7`\n- æ°¸ä¸æ¸…ç†ï¼š\n  `idleHours: 0`ã€`maxAgeDays: 0`\n\n### å®‰å…¨æ³¨æ„äº‹é¡¹\n\n- ç¡¬éš”ç¦»ä»…é€‚ç”¨äº**å·¥å…·**ï¼ˆexec/read/write/edit/apply_patchï¼‰ã€‚\n- ä»…ä¸»æœºå·¥å…·å¦‚ browser/camera/canvas é»˜è®¤è¢«é˜»æ­¢ã€‚\n- åœ¨æ²™ç®±ä¸­å…è®¸ `browser` **ä¼šç ´åéš”ç¦»**ï¼ˆæµè§ˆå™¨åœ¨ä¸»æœºä¸Šè¿è¡Œï¼‰ã€‚",
    "## æ•…éšœæ’é™¤\n\n- é•œåƒç¼ºå¤±ï¼šä½¿ç”¨ [`scripts/sandbox-setup.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/sandbox-setup.sh) æ„å»ºæˆ–è®¾ç½® `agents.defaults.sandbox.docker.image`ã€‚\n- å®¹å™¨æœªè¿è¡Œï¼šå®ƒä¼šæŒ‰éœ€ä¸ºæ¯ä¸ªä¼šè¯è‡ªåŠ¨åˆ›å»ºã€‚\n- æ²™ç®±ä¸­çš„æƒé™é”™è¯¯ï¼šå°† `docker.user` è®¾ç½®ä¸ºä¸ä½ æŒ‚è½½çš„å·¥ä½œåŒºæ‰€æœ‰æƒåŒ¹é…çš„ UID:GIDï¼ˆæˆ– chown å·¥ä½œåŒºæ–‡ä»¶å¤¹ï¼‰ã€‚\n- æ‰¾ä¸åˆ°è‡ªå®šä¹‰å·¥å…·ï¼šOpenClaw ä½¿ç”¨ `sh -lc`ï¼ˆç™»å½• shellï¼‰è¿è¡Œå‘½ä»¤ï¼Œè¿™ä¼š source `/etc/profile` å¹¶å¯èƒ½é‡ç½® PATHã€‚è®¾ç½® `docker.env.PATH` ä»¥åœ¨å‰é¢æ·»åŠ ä½ çš„è‡ªå®šä¹‰å·¥å…·è·¯å¾„ï¼ˆä¾‹å¦‚ `/custom/bin:/usr/local/share/npm-global/bin`ï¼‰ï¼Œæˆ–åœ¨ä½ çš„ Dockerfile ä¸­åœ¨ `/etc/profile.d/` ä¸‹æ·»åŠ è„šæœ¬ã€‚",
    "---\nsummary: \"Curated links to the most used OpenClaw docs.\"\nread_when:\n  - You want quick access to key docs pages\ntitle: \"Docs directory\"\n---\n\n<Note>\nThis page is a curated index. If you are new, start with [Getting Started](/start/getting-started).\nFor a complete map of the docs, see [Docs hubs](/start/hubs).\n</Note>",
    "## Start here\n\n- [Docs hubs (all pages linked)](/start/hubs)\n- [Help](/help)\n- [Configuration](/gateway/configuration)\n- [Configuration examples](/gateway/configuration-examples)\n- [Slash commands](/tools/slash-commands)\n- [Multi-agent routing](/concepts/multi-agent)\n- [Updating and rollback](/install/updating)\n- [Pairing (DM and nodes)](/start/pairing)\n- [Nix mode](/install/nix)\n- [OpenClaw assistant setup](/start/openclaw)\n- [Skills](/tools/skills)\n- [Skills config](/tools/skills-config)\n- [Workspace templates](/reference/templates/AGENTS)\n- [RPC adapters](/reference/rpc)\n- [Gateway runbook](/gateway)\n- [Nodes (iOS and Android)](/nodes)\n- [Web surfaces (Control UI)](/web)\n- [Discovery and transports](/gateway/discovery)\n- [Remote access](/gateway/remote)",
    "## Providers and UX\n\n- [WebChat](/web/webchat)\n- [Control UI (browser)](/web/control-ui)\n- [Telegram](/channels/telegram)\n- [Discord](/channels/discord)\n- [Mattermost (plugin)](/channels/mattermost)\n- [BlueBubbles (iMessage)](/channels/bluebubbles)\n- [iMessage (legacy)](/channels/imessage)\n- [Groups](/concepts/groups)\n- [WhatsApp group messages](/concepts/group-messages)\n- [Media images](/nodes/images)\n- [Media audio](/nodes/audio)",
    "## Companion apps\n\n- [macOS app](/platforms/macos)\n- [iOS app](/platforms/ios)\n- [Android app](/platforms/android)\n- [Windows (WSL2)](/platforms/windows)\n- [Linux app](/platforms/linux)",
    "## Operations and safety\n\n- [Sessions](/concepts/session)\n- [Cron jobs](/automation/cron-jobs)\n- [Webhooks](/automation/webhook)\n- [Gmail hooks (Pub/Sub)](/automation/gmail-pubsub)\n- [Security](/gateway/security)\n- [Troubleshooting](/gateway/troubleshooting)",
    "---\nsummary: \"CLI reference for `openclaw docs` (search the live docs index)\"\nread_when:\n  - You want to search the live OpenClaw docs from the terminal\ntitle: \"docs\"\n---\n\n# `openclaw docs`\n\nSearch the live docs index.\n\n```bash\nopenclaw docs browser extension\nopenclaw docs sandbox allowHostControl\n```",
    "---\nsummary: \"CLI reference for `openclaw doctor` (health checks + guided repairs)\"\nread_when:\n  - You have connectivity/auth issues and want guided fixes\n  - You updated and want a sanity check\ntitle: \"doctor\"\n---\n\n# `openclaw doctor`\n\nHealth checks + quick fixes for the gateway and channels.\n\nRelated:\n\n- Troubleshooting: [Troubleshooting](/gateway/troubleshooting)\n- Security audit: [Security](/gateway/security)",
    "## Examples\n\n```bash\nopenclaw doctor\nopenclaw doctor --repair\nopenclaw doctor --deep\n```\n\nNotes:\n\n- Interactive prompts (like keychain/OAuth fixes) only run when stdin is a TTY and `--non-interactive` is **not** set. Headless runs (cron, Telegram, no terminal) will skip prompts.\n- `--fix` (alias for `--repair`) writes a backup to `~/.openclaw/openclaw.json.bak` and drops unknown config keys, listing each removal.",
    "## macOS: `launchctl` env overrides\n\nIf you previously ran `launchctl setenv OPENCLAW_GATEWAY_TOKEN ...` (or `...PASSWORD`), that value overrides your config file and can cause persistent â€œunauthorizedâ€ errors.\n\n```bash\nlaunchctl getenv OPENCLAW_GATEWAY_TOKEN\nlaunchctl getenv OPENCLAW_GATEWAY_PASSWORD\n\nlaunchctl unsetenv OPENCLAW_GATEWAY_TOKEN\nlaunchctl unsetenv OPENCLAW_GATEWAY_PASSWORD\n```",
    "---\nsummary: \"Elevated exec mode and /elevated directives\"\nread_when:\n  - Adjusting elevated mode defaults, allowlists, or slash command behavior\ntitle: \"Elevated Mode\"\n---\n\n# Elevated Mode (/elevated directives)",
    "## What it does\n\n- `/elevated on` runs on the gateway host and keeps exec approvals (same as `/elevated ask`).\n- `/elevated full` runs on the gateway host **and** auto-approves exec (skips exec approvals).\n- `/elevated ask` runs on the gateway host but keeps exec approvals (same as `/elevated on`).\n- `on`/`ask` do **not** force `exec.security=full`; configured security/ask policy still applies.\n- Only changes behavior when the agent is **sandboxed** (otherwise exec already runs on the host).\n- Directive forms: `/elevated on|off|ask|full`, `/elev on|off|ask|full`.\n- Only `on|off|ask|full` are accepted; anything else returns a hint and does not change state.",
    "## What it controls (and what it doesnâ€™t)",
    "- **Availability gates**: `tools.elevated` is the global baseline. `agents.list[].tools.elevated` can further restrict elevated per agent (both must allow).\n- **Per-session state**: `/elevated on|off|ask|full` sets the elevated level for the current session key.\n- **Inline directive**: `/elevated on|ask|full` inside a message applies to that message only.\n- **Groups**: In group chats, elevated directives are only honored when the agent is mentioned. Command-only messages that bypass mention requirements are treated as mentioned.\n- **Host execution**: elevated forces `exec` onto the gateway host; `full` also sets `security=full`.\n- **Approvals**: `full` skips exec approvals; `on`/`ask` honor them when allowlist/ask rules require.\n- **Unsandboxed agents**: no-op for location; only affects gating, logging, and status.\n- **Tool policy still applies**: if `exec` is denied by tool policy, elevated cannot be used.\n- **Separate from `/exec`**: `/exec` adjusts per-session defaults for authorized senders and does not require elevated.",
    "## Resolution order\n\n1. Inline directive on the message (applies only to that message).\n2. Session override (set by sending a directive-only message).\n3. Global default (`agents.defaults.elevatedDefault` in config).",
    "## Setting a session default\n\n- Send a message that is **only** the directive (whitespace allowed), e.g. `/elevated full`.\n- Confirmation reply is sent (`Elevated mode set to full...` / `Elevated mode disabled.`).\n- If elevated access is disabled or the sender is not on the approved allowlist, the directive replies with an actionable error and does not change session state.\n- Send `/elevated` (or `/elevated:`) with no argument to see the current elevated level.",
    "## Availability + allowlists\n\n- Feature gate: `tools.elevated.enabled` (default can be off via config even if the code supports it).\n- Sender allowlist: `tools.elevated.allowFrom` with per-provider allowlists (e.g. `discord`, `whatsapp`).\n- Per-agent gate: `agents.list[].tools.elevated.enabled` (optional; can only further restrict).\n- Per-agent allowlist: `agents.list[].tools.elevated.allowFrom` (optional; when set, the sender must match **both** global + per-agent allowlists).\n- Discord fallback: if `tools.elevated.allowFrom.discord` is omitted, the `channels.discord.dm.allowFrom` list is used as a fallback. Set `tools.elevated.allowFrom.discord` (even `[]`) to override. Per-agent allowlists do **not** use the fallback.\n- All gates must pass; otherwise elevated is treated as unavailable.",
    "## Logging + status\n\n- Elevated exec calls are logged at info level.\n- Session status includes elevated mode (e.g. `elevated=ask`, `elevated=full`).",
    "---\nsummary: \"Where OpenClaw loads environment variables and the precedence order\"\nread_when:\n  - You need to know which env vars are loaded, and in what order\n  - You are debugging missing API keys in the Gateway\n  - You are documenting provider auth or deployment environments\ntitle: \"Environment Variables\"\n---\n\n# Environment variables\n\nOpenClaw pulls environment variables from multiple sources. The rule is **never override existing values**.",
    "## Precedence (highest â†’ lowest)\n\n1. **Process environment** (what the Gateway process already has from the parent shell/daemon).\n2. **`.env` in the current working directory** (dotenv default; does not override).\n3. **Global `.env`** at `~/.openclaw/.env` (aka `$OPENCLAW_STATE_DIR/.env`; does not override).\n4. **Config `env` block** in `~/.openclaw/openclaw.json` (applied only if missing).\n5. **Optional login-shell import** (`env.shellEnv.enabled` or `OPENCLAW_LOAD_SHELL_ENV=1`), applied only for missing expected keys.\n\nIf the config file is missing entirely, step 4 is skipped; shell import still runs if enabled.",
    "## Config `env` block\n\nTwo equivalent ways to set inline env vars (both are non-overriding):\n\n```json5\n{\n  env: {\n    OPENROUTER_API_KEY: \"sk-or-...\",\n    vars: {\n      GROQ_API_KEY: \"gsk-...\",\n    },\n  },\n}\n```",
    "## Shell env import\n\n`env.shellEnv` runs your login shell and imports only **missing** expected keys:\n\n```json5\n{\n  env: {\n    shellEnv: {\n      enabled: true,\n      timeoutMs: 15000,\n    },\n  },\n}\n```\n\nEnv var equivalents:\n\n- `OPENCLAW_LOAD_SHELL_ENV=1`\n- `OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000`",
    "## Env var substitution in config\n\nYou can reference env vars directly in config string values using `${VAR_NAME}` syntax:\n\n```json5\n{\n  models: {\n    providers: {\n      \"vercel-gateway\": {\n        apiKey: \"${VERCEL_GATEWAY_API_KEY}\",\n      },\n    },\n  },\n}\n```\n\nSee [Configuration: Env var substitution](/gateway/configuration#env-var-substitution-in-config) for full details.",
    "## Related\n\n- [Gateway configuration](/gateway/configuration)\n- [FAQ: env vars and .env loading](/help/faq#env-vars-and-env-loading)\n- [Models overview](/concepts/models)",
    "---\nread_when:\n  - ä½ æƒ³è¦ä¸€ä¸ªä¾¿å®œçš„å¸¸é©» Linux ä¸»æœºæ¥è¿è¡Œ Gateway ç½‘å…³\n  - ä½ æƒ³è¦è¿œç¨‹æ§åˆ¶ UI è®¿é—®è€Œæ— éœ€è¿è¡Œè‡ªå·±çš„ VPS\nsummary: åœ¨ exe.dev ä¸Šè¿è¡Œ OpenClaw Gateway ç½‘å…³ï¼ˆVM + HTTPS ä»£ç†ï¼‰ä»¥å®ç°è¿œç¨‹è®¿é—®\ntitle: exe.dev\nx-i18n:\n  generated_at: \"2026-02-03T07:51:36Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 8d57ee7dd6029f0b778465c147092b824a0f1b0680af13032aaf116ff3d4d671\n  source_path: platforms/exe-dev.md\n  workflow: 15\n---\n\n# exe.dev\n\nç›®æ ‡ï¼šOpenClaw Gateway ç½‘å…³è¿è¡Œåœ¨ exe.dev VM ä¸Šï¼Œå¯ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š`https://<vm-name>.exe.xyz`\n\næœ¬é¡µå‡è®¾ä½¿ç”¨ exe.dev çš„é»˜è®¤ **exeuntu** é•œåƒã€‚å¦‚æœä½ é€‰æ‹©äº†ä¸åŒçš„å‘è¡Œç‰ˆï¼Œè¯·ç›¸åº”åœ°æ˜ å°„è½¯ä»¶åŒ…ã€‚",
    "## æ–°æ‰‹å¿«é€Ÿè·¯å¾„\n\n1. [https://exe.new/openclaw](https://exe.new/openclaw)\n2. æ ¹æ®éœ€è¦å¡«å†™ä½ çš„è®¤è¯å¯†é’¥/ä»¤ç‰Œ\n3. ç‚¹å‡» VM æ—è¾¹çš„\"Agent\"ï¼Œç„¶åç­‰å¾…...\n4. ???\n5. å®Œæˆ",
    "## ä½ éœ€è¦ä»€ä¹ˆ\n\n- exe.dev è´¦æˆ·\n- `ssh exe.dev` è®¿é—® [exe.dev](https://exe.dev) è™šæ‹Ÿæœºï¼ˆå¯é€‰ï¼‰",
    "## ä½¿ç”¨ Shelley è‡ªåŠ¨å®‰è£…\n\nShelleyï¼Œ[exe.dev](https://exe.dev) çš„æ™ºèƒ½ä½“ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„æç¤ºç«‹å³å®‰è£… OpenClawã€‚ä½¿ç”¨çš„æç¤ºå¦‚ä¸‹ï¼š\n\n```\nSet up OpenClaw (https://docs.openclaw.ai/install) on this VM. Use the non-interactive and accept-risk flags for openclaw onboarding. Add the supplied auth or token as needed. Configure nginx to forward from the default port 18789 to the root location on the default enabled site config, making sure to enable Websocket support. Pairing is done by \"openclaw devices list\" and \"openclaw device approve <request id>\". Make sure the dashboard shows that OpenClaw's health is OK. exe.dev handles forwarding from port 8000 to port 80/443 and HTTPS for us, so the final \"reachable\" should be <vm-name>.exe.xyz, without port specification.\n```",
    "## æ‰‹åŠ¨å®‰è£…",
    "## 1) åˆ›å»º VM\n\nä»ä½ çš„è®¾å¤‡ï¼š\n\n```bash\nssh exe.dev new\n```\n\nç„¶åè¿æ¥ï¼š\n\n```bash\nssh <vm-name>.exe.xyz\n```\n\næç¤ºï¼šä¿æŒæ­¤ VM **æœ‰çŠ¶æ€**ã€‚OpenClaw åœ¨ `~/.openclaw/` å’Œ `~/.openclaw/workspace/` ä¸‹å­˜å‚¨çŠ¶æ€ã€‚",
    "## 2) å®‰è£…å…ˆå†³æ¡ä»¶ï¼ˆåœ¨ VM ä¸Šï¼‰\n\n```bash\nsudo apt-get update\nsudo apt-get install -y git curl jq ca-certificates openssl\n```",
    "## 3) å®‰è£… OpenClaw\n\nè¿è¡Œ OpenClaw å®‰è£…è„šæœ¬ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash\n```",
    "## 4) è®¾ç½® nginx å°† OpenClaw ä»£ç†åˆ°ç«¯å£ 8000\n\nç¼–è¾‘ `/etc/nginx/sites-enabled/default`ï¼š\n\n```\nserver {\n    listen 80 default_server;\n    listen [::]:80 default_server;\n    listen 8000;\n    listen [::]:8000;\n\n    server_name _;\n\n    location / {\n        proxy_pass http://127.0.0.1:18789;\n        proxy_http_version 1.1;\n\n        # WebSocket æ”¯æŒ\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n\n        # æ ‡å‡†ä»£ç†å¤´\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # é•¿è¿æ¥è¶…æ—¶è®¾ç½®\n        proxy_read_timeout 86400s;\n        proxy_send_timeout 86400s;\n    }\n}\n```",
    "## 5) è®¿é—® OpenClaw å¹¶æˆäºˆæƒé™\n\nè®¿é—® `https://<vm-name>.exe.xyz/?token=YOUR-TOKEN-FROM-TERMINAL`ï¼ˆå‚é˜…æ–°æ‰‹å¼•å¯¼ä¸­çš„æ§åˆ¶ UI è¾“å‡ºï¼‰ã€‚ä½¿ç”¨ `openclaw devices list` å’Œ `openclaw devices approve <requestId>` æ‰¹å‡†è®¾å¤‡ã€‚å¦‚æœ‰ç–‘é—®ï¼Œä»æµè§ˆå™¨ä½¿ç”¨ Shelleyï¼",
    "## è¿œç¨‹è®¿é—®\n\nè¿œç¨‹è®¿é—®ç”± [exe.dev](https://exe.dev) çš„è®¤è¯å¤„ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¥è‡ªç«¯å£ 8000 çš„ HTTP æµé‡é€šè¿‡ç”µå­é‚®ä»¶è®¤è¯è½¬å‘åˆ° `https://<vm-name>.exe.xyz`ã€‚",
    "## æ›´æ–°\n\n```bash\nnpm i -g openclaw@latest\nopenclaw doctor\nopenclaw gateway restart\nopenclaw health\n```\n\næŒ‡å—ï¼š[æ›´æ–°](/install/updating)",
    "---\nsummary: \"Exec approvals, allowlists, and sandbox escape prompts\"\nread_when:\n  - Configuring exec approvals or allowlists\n  - Implementing exec approval UX in the macOS app\n  - Reviewing sandbox escape prompts and implications\ntitle: \"Exec Approvals\"\n---\n\n# Exec approvals\n\nExec approvals are the **companion app / node host guardrail** for letting a sandboxed agent run\ncommands on a real host (`gateway` or `node`). Think of it like a safety interlock:\ncommands are allowed only when policy + allowlist + (optional) user approval all agree.\nExec approvals are **in addition** to tool policy and elevated gating (unless elevated is set to `full`, which skips approvals).\nEffective policy is the **stricter** of `tools.exec.*` and approvals defaults; if an approvals field is omitted, the `tools.exec` value is used.\n\nIf the companion app UI is **not available**, any request that requires a prompt is\nresolved by the **ask fallback** (default: deny).",
    "## Where it applies\n\nExec approvals are enforced locally on the execution host:\n\n- **gateway host** â†’ `openclaw` process on the gateway machine\n- **node host** â†’ node runner (macOS companion app or headless node host)\n\nmacOS split:\n\n- **node host service** forwards `system.run` to the **macOS app** over local IPC.\n- **macOS app** enforces approvals + executes the command in UI context.",
    "## Settings and storage\n\nApprovals live in a local JSON file on the execution host:\n\n`~/.openclaw/exec-approvals.json`\n\nExample schema:\n\n```json\n{\n  \"version\": 1,\n  \"socket\": {\n    \"path\": \"~/.openclaw/exec-approvals.sock\",\n    \"token\": \"base64url-token\"\n  },\n  \"defaults\": {\n    \"security\": \"deny\",\n    \"ask\": \"on-miss\",\n    \"askFallback\": \"deny\",\n    \"autoAllowSkills\": false\n  },\n  \"agents\": {\n    \"main\": {\n      \"security\": \"allowlist\",\n      \"ask\": \"on-miss\",\n      \"askFallback\": \"deny\",\n      \"autoAllowSkills\": true,\n      \"allowlist\": [\n        {\n          \"id\": \"B0C8C0B3-2C2D-4F8A-9A3C-5A4B3C2D1E0F\",\n          \"pattern\": \"~/Projects/**/bin/rg\",\n          \"lastUsedAt\": 1737150000000,\n          \"lastUsedCommand\": \"rg -n TODO\",\n          \"lastResolvedPath\": \"/Users/user/Projects/.../bin/rg\"\n        }\n      ]\n    }\n  }\n}\n```",
    "## Policy knobs\n\n### Security (`exec.security`)\n\n- **deny**: block all host exec requests.\n- **allowlist**: allow only allowlisted commands.\n- **full**: allow everything (equivalent to elevated).\n\n### Ask (`exec.ask`)\n\n- **off**: never prompt.\n- **on-miss**: prompt only when allowlist does not match.\n- **always**: prompt on every command.\n\n### Ask fallback (`askFallback`)\n\nIf a prompt is required but no UI is reachable, fallback decides:\n\n- **deny**: block.\n- **allowlist**: allow only if allowlist matches.\n- **full**: allow.",
    "## Allowlist (per agent)\n\nAllowlists are **per agent**. If multiple agents exist, switch which agent youâ€™re\nediting in the macOS app. Patterns are **case-insensitive glob matches**.\nPatterns should resolve to **binary paths** (basename-only entries are ignored).\nLegacy `agents.default` entries are migrated to `agents.main` on load.\n\nExamples:\n\n- `~/Projects/**/bin/bird`\n- `~/.local/bin/*`\n- `/opt/homebrew/bin/rg`\n\nEach allowlist entry tracks:\n\n- **id** stable UUID used for UI identity (optional)\n- **last used** timestamp\n- **last used command**\n- **last resolved path**",
    "## Auto-allow skill CLIs\n\nWhen **Auto-allow skill CLIs** is enabled, executables referenced by known skills\nare treated as allowlisted on nodes (macOS node or headless node host). This uses\n`skills.bins` over the Gateway RPC to fetch the skill bin list. Disable this if you want strict manual allowlists.",
    "## Safe bins (stdin-only)\n\n`tools.exec.safeBins` defines a small list of **stdin-only** binaries (for example `jq`)\nthat can run in allowlist mode **without** explicit allowlist entries. Safe bins reject\npositional file args and path-like tokens, so they can only operate on the incoming stream.\nShell chaining and redirections are not auto-allowed in allowlist mode.\n\nShell chaining (`&&`, `||`, `;`) is allowed when every top-level segment satisfies the allowlist\n(including safe bins or skill auto-allow). Redirections remain unsupported in allowlist mode.\nCommand substitution (`$()` / backticks) is rejected during allowlist parsing, including inside\ndouble quotes; use single quotes if you need literal `$()` text.\n\nDefault safe bins: `jq`, `grep`, `cut`, `sort`, `uniq`, `head`, `tail`, `tr`, `wc`.",
    "## Control UI editing\n\nUse the **Control UI â†’ Nodes â†’ Exec approvals** card to edit defaults, perâ€‘agent\noverrides, and allowlists. Pick a scope (Defaults or an agent), tweak the policy,\nadd/remove allowlist patterns, then **Save**. The UI shows **last used** metadata\nper pattern so you can keep the list tidy.\n\nThe target selector chooses **Gateway** (local approvals) or a **Node**. Nodes\nmust advertise `system.execApprovals.get/set` (macOS app or headless node host).\nIf a node does not advertise exec approvals yet, edit its local\n`~/.openclaw/exec-approvals.json` directly.\n\nCLI: `openclaw approvals` supports gateway or node editing (see [Approvals CLI](/cli/approvals)).",
    "## Approval flow\n\nWhen a prompt is required, the gateway broadcasts `exec.approval.requested` to operator clients.\nThe Control UI and macOS app resolve it via `exec.approval.resolve`, then the gateway forwards the\napproved request to the node host.\n\nWhen approvals are required, the exec tool returns immediately with an approval id. Use that id to\ncorrelate later system events (`Exec finished` / `Exec denied`). If no decision arrives before the\ntimeout, the request is treated as an approval timeout and surfaced as a denial reason.\n\nThe confirmation dialog includes:\n\n- command + args\n- cwd\n- agent id\n- resolved executable path\n- host + policy metadata\n\nActions:\n\n- **Allow once** â†’ run now\n- **Always allow** â†’ add to allowlist + run\n- **Deny** â†’ block",
    "## Approval forwarding to chat channels\n\nYou can forward exec approval prompts to any chat channel (including plugin channels) and approve\nthem with `/approve`. This uses the normal outbound delivery pipeline.\n\nConfig:\n\n```json5\n{\n  approvals: {\n    exec: {\n      enabled: true,\n      mode: \"session\", // \"session\" | \"targets\" | \"both\"\n      agentFilter: [\"main\"],\n      sessionFilter: [\"discord\"], // substring or regex\n      targets: [\n        { channel: \"slack\", to: \"U12345678\" },\n        { channel: \"telegram\", to: \"123456789\" },\n      ],\n    },\n  },\n}\n```\n\nReply in chat:\n\n```\n/approve <id> allow-once\n/approve <id> allow-always\n/approve <id> deny\n```\n\n### macOS IPC flow\n\n```\nGateway -> Node Service (WS)\n                 |  IPC (UDS + token + HMAC + TTL)\n                 v\n             Mac App (UI + approvals + system.run)\n```\n\nSecurity notes:",
    "- Unix socket mode `0600`, token stored in `exec-approvals.json`.\n- Same-UID peer check.\n- Challenge/response (nonce + HMAC token + request hash) + short TTL.",
    "## System events\n\nExec lifecycle is surfaced as system messages:\n\n- `Exec running` (only if the command exceeds the running notice threshold)\n- `Exec finished`\n- `Exec denied`\n\nThese are posted to the agentâ€™s session after the node reports the event.\nGateway-host exec approvals emit the same lifecycle events when the command finishes (and optionally when running longer than the threshold).\nApproval-gated execs reuse the approval id as the `runId` in these messages for easy correlation.",
    "## Implications\n\n- **full** is powerful; prefer allowlists when possible.\n- **ask** keeps you in the loop while still allowing fast approvals.\n- Per-agent allowlists prevent one agentâ€™s approvals from leaking into others.\n- Approvals only apply to host exec requests from **authorized senders**. Unauthorized senders cannot issue `/exec`.\n- `/exec security=full` is a session-level convenience for authorized operators and skips approvals by design.\n  To hard-block host exec, set approvals security to `deny` or deny the `exec` tool via tool policy.\n\nRelated:\n\n- [Exec tool](/tools/exec)\n- [Elevated mode](/tools/elevated)\n- [Skills](/tools/skills)",
    "---\nsummary: \"Refactor plan: exec host routing, node approvals, and headless runner\"\nread_when:\n  - Designing exec host routing or exec approvals\n  - Implementing node runner + UI IPC\n  - Adding exec host security modes and slash commands\ntitle: \"Exec Host Refactor\"\n---\n\n# Exec host refactor plan",
    "## Goals\n\n- Add `exec.host` + `exec.security` to route execution across **sandbox**, **gateway**, and **node**.\n- Keep defaults **safe**: no cross-host execution unless explicitly enabled.\n- Split execution into a **headless runner service** with optional UI (macOS app) via local IPC.\n- Provide **per-agent** policy, allowlist, ask mode, and node binding.\n- Support **ask modes** that work _with_ or _without_ allowlists.\n- Cross-platform: Unix socket + token auth (macOS/Linux/Windows parity).",
    "## Non-goals\n\n- No legacy allowlist migration or legacy schema support.\n- No PTY/streaming for node exec (aggregated output only).\n- No new network layer beyond the existing Bridge + Gateway.",
    "## Decisions (locked)\n\n- **Config keys:** `exec.host` + `exec.security` (per-agent override allowed).\n- **Elevation:** keep `/elevated` as an alias for gateway full access.\n- **Ask default:** `on-miss`.\n- **Approvals store:** `~/.openclaw/exec-approvals.json` (JSON, no legacy migration).\n- **Runner:** headless system service; UI app hosts a Unix socket for approvals.\n- **Node identity:** use existing `nodeId`.\n- **Socket auth:** Unix socket + token (cross-platform); split later if needed.\n- **Node host state:** `~/.openclaw/node.json` (node id + pairing token).\n- **macOS exec host:** run `system.run` inside the macOS app; node host service forwards requests over local IPC.\n- **No XPC helper:** stick to Unix socket + token + peer checks.",
    "## Key concepts\n\n### Host\n\n- `sandbox`: Docker exec (current behavior).\n- `gateway`: exec on gateway host.\n- `node`: exec on node runner via Bridge (`system.run`).\n\n### Security mode\n\n- `deny`: always block.\n- `allowlist`: allow only matches.\n- `full`: allow everything (equivalent to elevated).\n\n### Ask mode\n\n- `off`: never ask.\n- `on-miss`: ask only when allowlist does not match.\n- `always`: ask every time.\n\nAsk is **independent** of allowlist; allowlist can be used with `always` or `on-miss`.\n\n### Policy resolution (per exec)\n\n1. Resolve `exec.host` (tool param â†’ agent override â†’ global default).\n2. Resolve `exec.security` and `exec.ask` (same precedence).\n3. If host is `sandbox`, proceed with local sandbox exec.\n4. If host is `gateway` or `node`, apply security + ask policy on that host.",
    "## Default safety\n\n- Default `exec.host = sandbox`.\n- Default `exec.security = deny` for `gateway` and `node`.\n- Default `exec.ask = on-miss` (only relevant if security allows).\n- If no node binding is set, **agent may target any node**, but only if policy allows it.",
    "## Config surface\n\n### Tool parameters\n\n- `exec.host` (optional): `sandbox | gateway | node`.\n- `exec.security` (optional): `deny | allowlist | full`.\n- `exec.ask` (optional): `off | on-miss | always`.\n- `exec.node` (optional): node id/name to use when `host=node`.\n\n### Config keys (global)\n\n- `tools.exec.host`\n- `tools.exec.security`\n- `tools.exec.ask`\n- `tools.exec.node` (default node binding)\n\n### Config keys (per agent)\n\n- `agents.list[].tools.exec.host`\n- `agents.list[].tools.exec.security`\n- `agents.list[].tools.exec.ask`\n- `agents.list[].tools.exec.node`\n\n### Alias\n\n- `/elevated on` = set `tools.exec.host=gateway`, `tools.exec.security=full` for the agent session.\n- `/elevated off` = restore previous exec settings for the agent session.",
    "## Approvals store (JSON)\n\nPath: `~/.openclaw/exec-approvals.json`\n\nPurpose:\n\n- Local policy + allowlists for the **execution host** (gateway or node runner).\n- Ask fallback when no UI is available.\n- IPC credentials for UI clients.\n\nProposed schema (v1):\n\n```json\n{\n  \"version\": 1,\n  \"socket\": {\n    \"path\": \"~/.openclaw/exec-approvals.sock\",\n    \"token\": \"base64-opaque-token\"\n  },\n  \"defaults\": {\n    \"security\": \"deny\",\n    \"ask\": \"on-miss\",\n    \"askFallback\": \"deny\"\n  },\n  \"agents\": {\n    \"agent-id-1\": {\n      \"security\": \"allowlist\",\n      \"ask\": \"on-miss\",\n      \"allowlist\": [\n        {\n          \"pattern\": \"~/Projects/**/bin/rg\",\n          \"lastUsedAt\": 0,\n          \"lastUsedCommand\": \"rg -n TODO\",\n          \"lastResolvedPath\": \"/Users/user/Projects/.../bin/rg\"\n        }\n      ]\n    }\n  }\n}\n```\n\nNotes:\n\n- No legacy allowlist formats.\n- `askFallback` applies only when `ask` is required and no UI is reachable.\n- File permissions: `0600`.",
    "## Runner service (headless)\n\n### Role\n\n- Enforce `exec.security` + `exec.ask` locally.\n- Execute system commands and return output.\n- Emit Bridge events for exec lifecycle (optional but recommended).\n\n### Service lifecycle\n\n- Launchd/daemon on macOS; system service on Linux/Windows.\n- Approvals JSON is local to the execution host.\n- UI hosts a local Unix socket; runners connect on demand.",
    "## UI integration (macOS app)\n\n### IPC\n\n- Unix socket at `~/.openclaw/exec-approvals.sock` (0600).\n- Token stored in `exec-approvals.json` (0600).\n- Peer checks: same-UID only.\n- Challenge/response: nonce + HMAC(token, request-hash) to prevent replay.\n- Short TTL (e.g., 10s) + max payload + rate limit.\n\n### Ask flow (macOS app exec host)\n\n1. Node service receives `system.run` from gateway.\n2. Node service connects to the local socket and sends the prompt/exec request.\n3. App validates peer + token + HMAC + TTL, then shows dialog if needed.\n4. App executes the command in UI context and returns output.\n5. Node service returns output to gateway.\n\nIf UI missing:\n\n- Apply `askFallback` (`deny|allowlist|full`).\n\n### Diagram (SCI)\n\n```\nAgent -> Gateway -> Bridge -> Node Service (TS)\n                         |  IPC (UDS + token + HMAC + TTL)\n                         v\n                     Mac App (UI + TCC + system.run)\n```",
    "## Node identity + binding\n\n- Use existing `nodeId` from Bridge pairing.\n- Binding model:\n  - `tools.exec.node` restricts the agent to a specific node.\n  - If unset, agent can pick any node (policy still enforces defaults).\n- Node selection resolution:\n  - `nodeId` exact match\n  - `displayName` (normalized)\n  - `remoteIp`\n  - `nodeId` prefix (>= 6 chars)",
    "## Eventing\n\n### Who sees events\n\n- System events are **per session** and shown to the agent on the next prompt.\n- Stored in the gateway in-memory queue (`enqueueSystemEvent`).\n\n### Event text\n\n- `Exec started (node=<id>, id=<runId>)`\n- `Exec finished (node=<id>, id=<runId>, code=<code>)` + optional output tail\n- `Exec denied (node=<id>, id=<runId>, <reason>)`\n\n### Transport\n\nOption A (recommended):\n\n- Runner sends Bridge `event` frames `exec.started` / `exec.finished`.\n- Gateway `handleBridgeEvent` maps these into `enqueueSystemEvent`.\n\nOption B:\n\n- Gateway `exec` tool handles lifecycle directly (synchronous only).",
    "## Exec flows\n\n### Sandbox host\n\n- Existing `exec` behavior (Docker or host when unsandboxed).\n- PTY supported in non-sandbox mode only.\n\n### Gateway host\n\n- Gateway process executes on its own machine.\n- Enforces local `exec-approvals.json` (security/ask/allowlist).\n\n### Node host\n\n- Gateway calls `node.invoke` with `system.run`.\n- Runner enforces local approvals.\n- Runner returns aggregated stdout/stderr.\n- Optional Bridge events for start/finish/deny.",
    "## Output caps\n\n- Cap combined stdout+stderr at **200k**; keep **tail 20k** for events.\n- Truncate with a clear suffix (e.g., `\"â€¦ (truncated)\"`).",
    "## Slash commands\n\n- `/exec host=<sandbox|gateway|node> security=<deny|allowlist|full> ask=<off|on-miss|always> node=<id>`\n- Per-agent, per-session overrides; non-persistent unless saved via config.\n- `/elevated on|off|ask|full` remains a shortcut for `host=gateway security=full` (with `full` skipping approvals).",
    "## Cross-platform story\n\n- The runner service is the portable execution target.\n- UI is optional; if missing, `askFallback` applies.\n- Windows/Linux support the same approvals JSON + socket protocol.",
    "## Implementation phases\n\n### Phase 1: config + exec routing\n\n- Add config schema for `exec.host`, `exec.security`, `exec.ask`, `exec.node`.\n- Update tool plumbing to respect `exec.host`.\n- Add `/exec` slash command and keep `/elevated` alias.\n\n### Phase 2: approvals store + gateway enforcement\n\n- Implement `exec-approvals.json` reader/writer.\n- Enforce allowlist + ask modes for `gateway` host.\n- Add output caps.\n\n### Phase 3: node runner enforcement\n\n- Update node runner to enforce allowlist + ask.\n- Add Unix socket prompt bridge to macOS app UI.\n- Wire `askFallback`.\n\n### Phase 4: events\n\n- Add node â†’ gateway Bridge events for exec lifecycle.\n- Map to `enqueueSystemEvent` for agent prompts.\n\n### Phase 5: UI polish\n\n- Mac app: allowlist editor, per-agent switcher, ask policy UI.\n- Node binding controls (optional).",
    "## Testing plan\n\n- Unit tests: allowlist matching (glob + case-insensitive).\n- Unit tests: policy resolution precedence (tool param â†’ agent override â†’ global).\n- Integration tests: node runner deny/allow/ask flows.\n- Bridge event tests: node event â†’ system event routing.",
    "## Open risks\n\n- UI unavailability: ensure `askFallback` is respected.\n- Long-running commands: rely on timeout + output caps.\n- Multi-node ambiguity: error unless node binding or explicit node param.",
    "## Related docs\n\n- [Exec tool](/tools/exec)\n- [Exec approvals](/tools/exec-approvals)\n- [Nodes](/nodes)\n- [Elevated mode](/tools/elevated)",
    "---\nsummary: \"Exec tool usage, stdin modes, and TTY support\"\nread_when:\n  - Using or modifying the exec tool\n  - Debugging stdin or TTY behavior\ntitle: \"Exec Tool\"\n---\n\n# Exec tool\n\nRun shell commands in the workspace. Supports foreground + background execution via `process`.\nIf `process` is disallowed, `exec` runs synchronously and ignores `yieldMs`/`background`.\nBackground sessions are scoped per agent; `process` only sees sessions from the same agent.",
    "## Parameters\n\n- `command` (required)\n- `workdir` (defaults to cwd)\n- `env` (key/value overrides)\n- `yieldMs` (default 10000): auto-background after delay\n- `background` (bool): background immediately\n- `timeout` (seconds, default 1800): kill on expiry\n- `pty` (bool): run in a pseudo-terminal when available (TTY-only CLIs, coding agents, terminal UIs)\n- `host` (`sandbox | gateway | node`): where to execute\n- `security` (`deny | allowlist | full`): enforcement mode for `gateway`/`node`\n- `ask` (`off | on-miss | always`): approval prompts for `gateway`/`node`\n- `node` (string): node id/name for `host=node`\n- `elevated` (bool): request elevated mode (gateway host); `security=full` is only forced when elevated resolves to `full`\n\nNotes:",
    "- `host` defaults to `sandbox`.\n- `elevated` is ignored when sandboxing is off (exec already runs on the host).\n- `gateway`/`node` approvals are controlled by `~/.openclaw/exec-approvals.json`.\n- `node` requires a paired node (companion app or headless node host).\n- If multiple nodes are available, set `exec.node` or `tools.exec.node` to select one.\n- On non-Windows hosts, exec uses `SHELL` when set; if `SHELL` is `fish`, it prefers `bash` (or `sh`)\n  from `PATH` to avoid fish-incompatible scripts, then falls back to `SHELL` if neither exists.\n- Host execution (`gateway`/`node`) rejects `env.PATH` and loader overrides (`LD_*`/`DYLD_*`) to\n  prevent binary hijacking or injected code.\n- Important: sandboxing is **off by default**. If sandboxing is off, `host=sandbox` runs directly on\n  the gateway host (no container) and **does not require approvals**. To require approvals, run with\n  `host=gateway` and configure exec approvals (or enable sandboxing).",
    "## Config\n\n- `tools.exec.notifyOnExit` (default: true): when true, backgrounded exec sessions enqueue a system event and request a heartbeat on exit.\n- `tools.exec.approvalRunningNoticeMs` (default: 10000): emit a single â€œrunningâ€ notice when an approval-gated exec runs longer than this (0 disables).\n- `tools.exec.host` (default: `sandbox`)\n- `tools.exec.security` (default: `deny` for sandbox, `allowlist` for gateway + node when unset)\n- `tools.exec.ask` (default: `on-miss`)\n- `tools.exec.node` (default: unset)\n- `tools.exec.pathPrepend`: list of directories to prepend to `PATH` for exec runs.\n- `tools.exec.safeBins`: stdin-only safe binaries that can run without explicit allowlist entries.\n\nExample:\n\n```json5\n{\n  tools: {\n    exec: {\n      pathPrepend: [\"~/bin\", \"/opt/oss/bin\"],\n    },\n  },\n}\n```\n\n### PATH handling",
    "- `host=gateway`: merges your login-shell `PATH` into the exec environment. `env.PATH` overrides are\n  rejected for host execution. The daemon itself still runs with a minimal `PATH`:\n  - macOS: `/opt/homebrew/bin`, `/usr/local/bin`, `/usr/bin`, `/bin`\n  - Linux: `/usr/local/bin`, `/usr/bin`, `/bin`\n- `host=sandbox`: runs `sh -lc` (login shell) inside the container, so `/etc/profile` may reset `PATH`.\n  OpenClaw prepends `env.PATH` after profile sourcing via an internal env var (no shell interpolation);\n  `tools.exec.pathPrepend` applies here too.\n- `host=node`: only non-blocked env overrides you pass are sent to the node. `env.PATH` overrides are\n  rejected for host execution. Headless node hosts accept `PATH` only when it prepends the node host\n  PATH (no replacement). macOS nodes drop `PATH` overrides entirely.\n\nPer-agent node binding (use the agent list index in config):",
    "```bash\nopenclaw config get agents.list\nopenclaw config set agents.list[0].tools.exec.node \"node-id-or-name\"\n```\n\nControl UI: the Nodes tab includes a small â€œExec node bindingâ€ panel for the same settings.",
    "## Session overrides (`/exec`)\n\nUse `/exec` to set **per-session** defaults for `host`, `security`, `ask`, and `node`.\nSend `/exec` with no arguments to show the current values.\n\nExample:\n\n```\n/exec host=gateway security=allowlist ask=on-miss node=mac-1\n```",
    "## Authorization model\n\n`/exec` is only honored for **authorized senders** (channel allowlists/pairing plus `commands.useAccessGroups`).\nIt updates **session state only** and does not write config. To hard-disable exec, deny it via tool\npolicy (`tools.deny: [\"exec\"]` or per-agent). Host approvals still apply unless you explicitly set\n`security=full` and `ask=off`.",
    "## Exec approvals (companion app / node host)\n\nSandboxed agents can require per-request approval before `exec` runs on the gateway or node host.\nSee [Exec approvals](/tools/exec-approvals) for the policy, allowlist, and UI flow.\n\nWhen approvals are required, the exec tool returns immediately with\n`status: \"approval-pending\"` and an approval id. Once approved (or denied / timed out),\nthe Gateway emits system events (`Exec finished` / `Exec denied`). If the command is still\nrunning after `tools.exec.approvalRunningNoticeMs`, a single `Exec running` notice is emitted.",
    "## Allowlist + safe bins\n\nAllowlist enforcement matches **resolved binary paths only** (no basename matches). When\n`security=allowlist`, shell commands are auto-allowed only if every pipeline segment is\nallowlisted or a safe bin. Chaining (`;`, `&&`, `||`) and redirections are rejected in\nallowlist mode.",
    "## Examples\n\nForeground:\n\n```json\n{ \"tool\": \"exec\", \"command\": \"ls -la\" }\n```\n\nBackground + poll:\n\n```json\n{\"tool\":\"exec\",\"command\":\"npm run build\",\"yieldMs\":1000}\n{\"tool\":\"process\",\"action\":\"poll\",\"sessionId\":\"<id>\"}\n```\n\nSend keys (tmux-style):\n\n```json\n{\"tool\":\"process\",\"action\":\"send-keys\",\"sessionId\":\"<id>\",\"keys\":[\"Enter\"]}\n{\"tool\":\"process\",\"action\":\"send-keys\",\"sessionId\":\"<id>\",\"keys\":[\"C-c\"]}\n{\"tool\":\"process\",\"action\":\"send-keys\",\"sessionId\":\"<id>\",\"keys\":[\"Up\",\"Up\",\"Enter\"]}\n```\n\nSubmit (send CR only):\n\n```json\n{ \"tool\": \"process\", \"action\": \"submit\", \"sessionId\": \"<id>\" }\n```\n\nPaste (bracketed by default):\n\n```json\n{ \"tool\": \"process\", \"action\": \"paste\", \"sessionId\": \"<id>\", \"text\": \"line1\\nline2\\n\" }\n```",
    "## apply_patch (experimental)\n\n`apply_patch` is a subtool of `exec` for structured multi-file edits.\nEnable it explicitly:\n\n```json5\n{\n  tools: {\n    exec: {\n      applyPatch: { enabled: true, allowModels: [\"gpt-5.2\"] },\n    },\n  },\n}\n```\n\nNotes:\n\n- Only available for OpenAI/OpenAI Codex models.\n- Tool policy still applies; `allow: [\"exec\"]` implicitly allows `apply_patch`.\n- Config lives under `tools.exec.applyPatch`.",
    "---\nsummary: å…³äº OpenClaw å®‰è£…ã€é…ç½®å’Œä½¿ç”¨çš„å¸¸è§é—®é¢˜\ntitle: å¸¸è§é—®é¢˜\nx-i18n:\n  generated_at: \"2026-02-01T21:32:04Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 5a611f2fda3325b1c7a9ec518616d87c78be41e2bfbe86244ae4f48af3815a26\n  source_path: help/faq.md\n  workflow: 15\n---\n\n# å¸¸è§é—®é¢˜\n\nå¿«é€Ÿè§£ç­”åŠé’ˆå¯¹å®é™…éƒ¨ç½²åœºæ™¯ï¼ˆæœ¬åœ°å¼€å‘ã€VPSã€å¤šæ™ºèƒ½ä½“ã€OAuth/API å¯†é’¥ã€æ¨¡å‹æ•…éšœè½¬ç§»ï¼‰çš„æ·±å…¥æ•…éšœæ’é™¤ã€‚è¿è¡Œæ—¶è¯Šæ–­è¯·å‚é˜…[æ•…éšœæ’é™¤](/gateway/troubleshooting)ã€‚å®Œæ•´é…ç½®å‚è€ƒè¯·å‚é˜…[é…ç½®](/gateway/configuration)ã€‚",
    "## ç›®å½•",
    "- [å¿«é€Ÿå¼€å§‹ä¸é¦–æ¬¡è¿è¡Œè®¾ç½®](#quick-start-and-firstrun-setup)\n  - [æˆ‘å¡ä½äº†ï¼Œæœ€å¿«çš„æ’éšœæ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ](#im-stuck-whats-the-fastest-way-to-get-unstuck)\n  - [å®‰è£…å’Œè®¾ç½® OpenClaw çš„æ¨èæ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ](#whats-the-recommended-way-to-install-and-set-up-openclaw)\n  - [æ–°æ‰‹å¼•å¯¼åå¦‚ä½•æ‰“å¼€ä»ªè¡¨æ¿ï¼Ÿ](#how-do-i-open-the-dashboard-after-onboarding)\n  - [å¦‚ä½•åœ¨æœ¬åœ°å’Œè¿œç¨‹ç¯å¢ƒä¸­éªŒè¯ä»ªè¡¨æ¿ï¼ˆä»¤ç‰Œï¼‰ï¼Ÿ](#how-do-i-authenticate-the-dashboard-token-on-localhost-vs-remote)\n  - [æˆ‘éœ€è¦ä»€ä¹ˆè¿è¡Œæ—¶ï¼Ÿ](#what-runtime-do-i-need)\n  - [èƒ½åœ¨ Raspberry Pi ä¸Šè¿è¡Œå—ï¼Ÿ](#does-it-run-on-raspberry-pi)\n  - [Raspberry Pi å®‰è£…æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ](#any-tips-for-raspberry-pi-installs)\n  - [å¡åœ¨ \"wake up my friend\" / æ–°æ‰‹å¼•å¯¼æ— æ³•å¯åŠ¨ï¼Œæ€ä¹ˆåŠï¼Ÿ](#it-is-stuck-on-wake-up-my-friend-onboarding-will-not-hatch-what-now)\n  - [èƒ½å¦å°†æˆ‘çš„è®¾ç½®è¿ç§»åˆ°æ–°æœºå™¨ï¼ˆMac miniï¼‰è€Œä¸é‡æ–°è¿›è¡Œæ–°æ‰‹å¼•å¯¼ï¼Ÿ](#can-i-migrate-my-setup-to-a-new-machine-mac-mini-without-redoing-onboarding)\n  - [åœ¨å“ªé‡ŒæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ï¼Ÿ](#where-do-i-see-whats-new-in-the-latest-version)\n  - [æ— æ³•è®¿é—® docs.openclaw.aiï¼ˆSSL é”™è¯¯ï¼‰ï¼Œæ€ä¹ˆåŠï¼Ÿ](#i-cant-access-docsopenclawai-ssl-error-what-now)\n  - [stable å’Œ beta æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#whats-the-difference-between-stable-and-beta)\n- [å¦‚ä½•å®‰è£… beta ç‰ˆæœ¬ï¼Œbeta å’Œ dev æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#how-do-i-install-the-beta-version-and-whats-the-difference-between-beta-and-dev)\n  - [å¦‚ä½•è¯•ç”¨æœ€æ–°ä»£ç ï¼Ÿ](#how-do-i-try-the-latest-bits)\n  - [å®‰è£…å’Œæ–°æ‰‹å¼•å¯¼é€šå¸¸éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ](#how-long-does-install-and-onboarding-usually-take)\n  - [å®‰è£…ç¨‹åºå¡ä½äº†ï¼Ÿå¦‚ä½•è·å–æ›´å¤šåé¦ˆï¼Ÿ](#installer-stuck-how-do-i-get-more-feedback)\n  - [Windows å®‰è£…æç¤ºæ‰¾ä¸åˆ° git æˆ–æ— æ³•è¯†åˆ« openclaw](#windows-install-says-git-not-found-or-openclaw-not-recognized)\n  - [æ–‡æ¡£æ²¡æœ‰è§£ç­”æˆ‘çš„é—®é¢˜â€”â€”å¦‚ä½•è·å¾—æ›´å¥½çš„ç­”æ¡ˆï¼Ÿ](#the-docs-didnt-answer-my-question-how-do-i-get-a-better-answer)\n  - [å¦‚ä½•åœ¨ Linux ä¸Šå®‰è£… OpenClawï¼Ÿ](#how-do-i-install-openclaw-on-linux)\n  - [å¦‚ä½•åœ¨ VPS ä¸Šå®‰è£… OpenClawï¼Ÿ](#how-do-i-install-openclaw-on-a-vps)\n  - [äº‘/VPS å®‰è£…æŒ‡å—åœ¨å“ªé‡Œï¼Ÿ](#where-are-the-cloudvps-install-guides)\n  - [å¯ä»¥è®© OpenClaw è‡ªè¡Œæ›´æ–°å—ï¼Ÿ](#can-i-ask-openclaw-to-update-itself)\n  - [æ–°æ‰‹å¼•å¯¼å‘å¯¼å…·ä½“åšäº†ä»€ä¹ˆï¼Ÿ](#what-does-the-onboarding-wizard-actually-do)\n  - [è¿è¡Œ OpenClaw éœ€è¦ Claude æˆ– OpenAI è®¢é˜…å—ï¼Ÿ](#do-i-need-a-claude-or-openai-subscription-to-run-this)\n  - [èƒ½å¦ä½¿ç”¨ Claude Max è®¢é˜…è€Œä¸éœ€è¦ API å¯†é’¥ï¼Ÿ](#can-i-use-claude-max-subscription-without-an-api-key)\n  - [Anthropic \"setup-token\" è®¤è¯å¦‚ä½•å·¥ä½œï¼Ÿ](#how-does-anthropic-setuptoken-auth-work)\n  - [åœ¨å“ªé‡Œè·å– Anthropic setup-tokenï¼Ÿ](#where-do-i-find-an-anthropic-setuptoken)\n  - [æ˜¯å¦æ”¯æŒ Claude è®¢é˜…è®¤è¯ï¼ˆClaude Code OAuthï¼‰ï¼Ÿ](#do-you-support-claude-subscription-auth-claude-code-oauth)\n  - [ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ° `HTTP 429: rate_limit_error`ï¼ˆæ¥è‡ª Anthropicï¼‰ï¼Ÿ](#why-am-i-seeing-http-429-ratelimiterror-from-anthropic)\n  - [æ”¯æŒ AWS Bedrock å—ï¼Ÿ](#is-aws-bedrock-supported)\n  - [Codex è®¤è¯å¦‚ä½•å·¥ä½œï¼Ÿ](#how-does-codex-auth-work)\n  - [æ˜¯å¦æ”¯æŒ OpenAI è®¢é˜…è®¤è¯ï¼ˆCodex OAuthï¼‰ï¼Ÿ](#do-you-support-openai-subscription-auth-codex-oauth)\n  - [å¦‚ä½•è®¾ç½® Gemini CLI OAuthï¼Ÿ](#how-do-i-set-up-gemini-cli-oauth)\n  - [æœ¬åœ°æ¨¡å‹é€‚åˆæ—¥å¸¸èŠå¤©å—ï¼Ÿ](#is-a-local-model-ok-for-casual-chats)\n  - [å¦‚ä½•å°†æ‰˜ç®¡æ¨¡å‹æµé‡é™åˆ¶åœ¨ç‰¹å®šåŒºåŸŸï¼Ÿ](#how-do-i-keep-hosted-model-traffic-in-a-specific-region)\n  - [æˆ‘å¿…é¡»è´­ä¹° Mac Mini æ‰èƒ½å®‰è£…å—ï¼Ÿ](#do-i-have-to-buy-a-mac-mini-to-install-this)\n  - [iMessage æ”¯æŒéœ€è¦ Mac mini å—ï¼Ÿ](#do-i-need-a-mac-mini-for-imessage-support)\n  - [å¦‚æœæˆ‘ä¹°äº† Mac mini è¿è¡Œ OpenClawï¼Œèƒ½è¿æ¥åˆ°æˆ‘çš„ MacBook Pro å—ï¼Ÿ](#if-i-buy-a-mac-mini-to-run-openclaw-can-i-connect-it-to-my-macbook-pro)\n  - [å¯ä»¥ä½¿ç”¨ Bun å—ï¼Ÿ](#can-i-use-bun)\n  - [Telegramï¼š`allowFrom` å¡«ä»€ä¹ˆï¼Ÿ](#telegram-what-goes-in-allowfrom)\n  - [å¤šäººèƒ½å¦ä½¿ç”¨åŒä¸€ä¸ª WhatsApp å·ç é…åˆä¸åŒçš„ OpenClaw å®ä¾‹ï¼Ÿ](#can-multiple-people-use-one-whatsapp-number-with-different-openclaw-instances)\n  - [èƒ½å¦åŒæ—¶è¿è¡Œä¸€ä¸ªâ€œå¿«é€ŸèŠå¤©â€æ™ºèƒ½ä½“å’Œä¸€ä¸ªâ€œç”¨ Opus ç¼–ç¨‹â€çš„æ™ºèƒ½ä½“ï¼Ÿ](#can-i-run-a-fast-chat-agent-and-an-opus-for-coding-agent)\n  - [Homebrew åœ¨ Linux ä¸Šå¯ç”¨å—ï¼Ÿ](#does-homebrew-work-on-linux)\n  - [å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…å’Œ npm å®‰è£…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#whats-the-difference-between-the-hackable-git-install-and-npm-install)\n  - [ä¹‹åå¯ä»¥åœ¨ npm å’Œ git å®‰è£…ä¹‹é—´åˆ‡æ¢å—ï¼Ÿ](#can-i-switch-between-npm-and-git-installs-later)\n  - [åº”è¯¥åœ¨ç¬”è®°æœ¬ç”µè„‘è¿˜æ˜¯ VPS ä¸Šè¿è¡Œ Gateway ç½‘å…³ï¼Ÿ](#should-i-run-the-gateway-on-my-laptop-or-a-vps)\n  - [åœ¨ä¸“ç”¨æœºå™¨ä¸Šè¿è¡Œ OpenClaw æœ‰å¤šé‡è¦ï¼Ÿ](#how-important-is-it-to-run-openclaw-on-a-dedicated-machine)\n  - [VPS çš„æœ€ä½è¦æ±‚å’Œæ¨èæ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Ÿ](#what-are-the-minimum-vps-requirements-and-recommended-os)\n  - [å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œ OpenClaw å—ï¼Ÿæœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ](#can-i-run-openclaw-in-a-vm-and-what-are-the-requirements)\n- [ä»€ä¹ˆæ˜¯ OpenClawï¼Ÿ](#what-is-openclaw)\n  - [ç”¨ä¸€æ®µè¯æè¿° OpenClawï¼Ÿ](#what-is-openclaw-in-one-paragraph)\n  - [ä»·å€¼ä¸»å¼ æ˜¯ä»€ä¹ˆï¼Ÿ](#whats-the-value-proposition)\n  - [åˆšè®¾ç½®å¥½ï¼Œåº”è¯¥å…ˆåšä»€ä¹ˆï¼Ÿ](#i-just-set-it-up-what-should-i-do-first)\n  - [OpenClaw æ—¥å¸¸æœ€å¸¸ç”¨çš„äº”ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ](#what-are-the-top-five-everyday-use-cases-for-openclaw)\n  - [OpenClaw èƒ½å¦å¸®åŠ© SaaS è¿›è¡Œè·å®¢ã€å¤–è”ã€å¹¿å‘Šå’Œåšå®¢ï¼Ÿ](#can-openclaw-help-with-lead-gen-outreach-ads-and-blogs-for-a-saas)\n  - [ç›¸æ¯” Claude Codeï¼Œåœ¨ Web å¼€å‘æ–¹é¢æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ](#what-are-the-advantages-vs-claude-code-for-web-development)\n- [Skills ä¸è‡ªåŠ¨åŒ–](#skills-and-automation)\n  - [å¦‚ä½•è‡ªå®šä¹‰ Skills è€Œä¸å¼„è„ä»“åº“ï¼Ÿ](#how-do-i-customize-skills-without-keeping-the-repo-dirty)\n  - [å¯ä»¥ä»è‡ªå®šä¹‰æ–‡ä»¶å¤¹åŠ è½½ Skills å—ï¼Ÿ](#can-i-load-skills-from-a-custom-folder)\n  - [å¦‚ä½•ä¸ºä¸åŒä»»åŠ¡ä½¿ç”¨ä¸åŒæ¨¡å‹ï¼Ÿ](#how-can-i-use-different-models-for-different-tasks)\n  - [æœºå™¨äººåœ¨æ‰§è¡Œç¹é‡å·¥ä½œæ—¶å¡ä½äº†ï¼Œå¦‚ä½•å¸è½½ä»»åŠ¡ï¼Ÿ](#the-bot-freezes-while-doing-heavy-work-how-do-i-offload-that)\n  - [å®šæ—¶ä»»åŠ¡æˆ–æé†’æ²¡æœ‰è§¦å‘ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆï¼Ÿ](#cron-or-reminders-do-not-fire-what-should-i-check)\n  - [å¦‚ä½•åœ¨ Linux ä¸Šå®‰è£… Skillsï¼Ÿ](#how-do-i-install-skills-on-linux)\n  - [OpenClaw èƒ½å¦æŒ‰è®¡åˆ’æˆ–åœ¨åå°æŒç»­è¿è¡Œä»»åŠ¡ï¼Ÿ](#can-openclaw-run-tasks-on-a-schedule-or-continuously-in-the-background)\n  - [èƒ½å¦ä» Linux è¿è¡Œä»…é™ Apple/macOS çš„ Skillsï¼Ÿ](#can-i-run-applemacosonly-skills-from-linux)\n  - [æœ‰ Notion æˆ– HeyGen é›†æˆå—ï¼Ÿ](#do-you-have-a-notion-or-heygen-integration)\n  - [å¦‚ä½•å®‰è£…ç”¨äºæµè§ˆå™¨æ¥ç®¡çš„ Chrome æ‰©å±•ï¼Ÿ](#how-do-i-install-the-chrome-extension-for-browser-takeover)\n- [æ²™ç®±ä¸è®°å¿†](#sandboxing-and-memory)\n  - [æœ‰ä¸“é—¨çš„æ²™ç®±æ–‡æ¡£å—ï¼Ÿ](#is-there-a-dedicated-sandboxing-doc)\n  - [å¦‚ä½•å°†ä¸»æœºæ–‡ä»¶å¤¹ç»‘å®šåˆ°æ²™ç®±ä¸­ï¼Ÿ](#how-do-i-bind-a-host-folder-into-the-sandbox)\n  - [è®°å¿†æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ](#how-does-memory-work)\n  - [è®°å¿†æ€»æ˜¯é—å¿˜ï¼Œå¦‚ä½•è®©å®ƒæŒä¹…ä¿å­˜ï¼Ÿ](#memory-keeps-forgetting-things-how-do-i-make-it-stick)\n  - [è®°å¿†æ˜¯å¦æ°¸ä¹…ä¿ç•™ï¼Ÿæœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ](#does-memory-persist-forever-what-are-the-limits)\n  - [è¯­ä¹‰è®°å¿†æœç´¢éœ€è¦ OpenAI API å¯†é’¥å—ï¼Ÿ](#does-semantic-memory-search-require-an-openai-api-key)\n- [ç£ç›˜ä¸Šçš„æ–‡ä»¶ä½ç½®](#where-things-live-on-disk)\n  - [OpenClaw ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨æœ¬åœ°å—ï¼Ÿ](#is-all-data-used-with-openclaw-saved-locally)\n  - [OpenClaw å°†æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ](#where-does-openclaw-store-its-data)\n  - [AGENTS.md / SOUL.md / USER.md / MEMORY.md åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ](#where-should-agentsmd-soulmd-usermd-memorymd-live)\n  - [æ¨èçš„å¤‡ä»½ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ](#whats-the-recommended-backup-strategy)\n  - [å¦‚ä½•å®Œå…¨å¸è½½ OpenClawï¼Ÿ](#how-do-i-completely-uninstall-openclaw)\n  - [æ™ºèƒ½ä½“å¯ä»¥åœ¨å·¥ä½œåŒºå¤–å·¥ä½œå—ï¼Ÿ](#can-agents-work-outside-the-workspace)\n  - [æˆ‘å¤„äºè¿œç¨‹æ¨¡å¼â€”â€”ä¼šè¯å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ](#im-in-remote-mode-where-is-the-session-store)\n- [é…ç½®åŸºç¡€](#config-basics)\n  - [é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿåœ¨å“ªé‡Œï¼Ÿ](#what-format-is-the-config-where-is-it)\n  - [æˆ‘è®¾ç½®äº† `gateway.bind: \"lan\"`ï¼ˆæˆ– `\"tailnet\"`ï¼‰ï¼Œç°åœ¨ä»€ä¹ˆéƒ½ç›‘å¬ä¸äº† / UI æ˜¾ç¤ºæœªæˆæƒ](#i-set-gatewaybind-lan-or-tailnet-and-now-nothing-listens-the-ui-says-unauthorized)\n  - [ä¸ºä»€ä¹ˆç°åœ¨åœ¨ localhost ä¹Ÿéœ€è¦ä»¤ç‰Œï¼Ÿ](#why-do-i-need-a-token-on-localhost-now)\n  - [æ›´æ”¹é…ç½®åéœ€è¦é‡å¯å—ï¼Ÿ](#do-i-have-to-restart-after-changing-config)\n  - [å¦‚ä½•å¯ç”¨ç½‘ç»œæœç´¢ï¼ˆå’Œç½‘é¡µæŠ“å–ï¼‰ï¼Ÿ](#how-do-i-enable-web-search-and-web-fetch)\n  - [config.apply æ¸…ç©ºäº†æˆ‘çš„é…ç½®ï¼Œå¦‚ä½•æ¢å¤å’Œé¿å…ï¼Ÿ](#configapply-wiped-my-config-how-do-i-recover-and-avoid-this)\n  - [å¦‚ä½•è¿è¡Œä¸€ä¸ªä¸­å¿ƒ Gateway ç½‘å…³é…åˆè·¨è®¾å¤‡çš„ä¸“ç”¨å·¥ä½œèŠ‚ç‚¹ï¼Ÿ](#how-do-i-run-a-central-gateway-with-specialized-workers-across-devices)\n  - [OpenClaw æµè§ˆå™¨å¯ä»¥æ— å¤´è¿è¡Œå—ï¼Ÿ](#can-the-openclaw-browser-run-headless)\n  - [å¦‚ä½•ä½¿ç”¨ Brave è¿›è¡Œæµè§ˆå™¨æ§åˆ¶ï¼Ÿ](#how-do-i-use-brave-for-browser-control)\n- [è¿œç¨‹ Gateway ç½‘å…³ä¸èŠ‚ç‚¹](#remote-gateways-nodes)\n  - [å‘½ä»¤å¦‚ä½•åœ¨ Telegramã€Gateway ç½‘å…³å’ŒèŠ‚ç‚¹ä¹‹é—´ä¼ æ’­ï¼Ÿ](#how-do-commands-propagate-between-telegram-the-gateway-and-nodes)\n  - [å¦‚æœ Gateway ç½‘å…³æ‰˜ç®¡åœ¨è¿œç¨‹ï¼Œæˆ‘çš„æ™ºèƒ½ä½“å¦‚ä½•è®¿é—®æˆ‘çš„ç”µè„‘ï¼Ÿ](#how-can-my-agent-access-my-computer-if-the-gateway-is-hosted-remotely)\n  - [Tailscale å·²è¿æ¥ä½†æ”¶ä¸åˆ°å›å¤ï¼Œæ€ä¹ˆåŠï¼Ÿ](#tailscale-is-connected-but-i-get-no-replies-what-now)\n  - [ä¸¤ä¸ª OpenClaw å®ä¾‹ï¼ˆæœ¬åœ° + VPSï¼‰å¯ä»¥äº’ç›¸é€šä¿¡å—ï¼Ÿ](#can-two-openclaw-instances-talk-to-each-other-local-vps)\n  - [å¤šä¸ªæ™ºèƒ½ä½“éœ€è¦ç‹¬ç«‹çš„ VPS å—ï¼Ÿ](#do-i-need-separate-vpses-for-multiple-agents)\n  - [åœ¨ä¸ªäººç¬”è®°æœ¬ç”µè„‘ä¸Šä½¿ç”¨èŠ‚ç‚¹è€Œä¸æ˜¯ä» VPS SSH æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ](#is-there-a-benefit-to-using-a-node-on-my-personal-laptop-instead-of-ssh-from-a-vps)\n  - [èŠ‚ç‚¹ä¼šè¿è¡Œ Gateway ç½‘å…³æœåŠ¡å—ï¼Ÿ](#do-nodes-run-a-gateway-service)\n  - [æœ‰ API / RPC æ–¹å¼æ¥åº”ç”¨é…ç½®å—ï¼Ÿ](#is-there-an-api-rpc-way-to-apply-config)\n  - [é¦–æ¬¡å®‰è£…çš„æœ€å°â€œåˆç†â€é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ](#whats-a-minimal-sane-config-for-a-first-install)\n  - [å¦‚ä½•åœ¨ VPS ä¸Šè®¾ç½® Tailscale å¹¶ä» Mac è¿æ¥ï¼Ÿ](#how-do-i-set-up-tailscale-on-a-vps-and-connect-from-my-mac)\n  - [å¦‚ä½•å°† Mac èŠ‚ç‚¹è¿æ¥åˆ°è¿œç¨‹ Gateway ç½‘å…³ï¼ˆTailscale Serveï¼‰ï¼Ÿ](#how-do-i-connect-a-mac-node-to-a-remote-gateway-tailscale-serve)\n  - [åº”è¯¥åœ¨ç¬¬äºŒå°ç¬”è®°æœ¬ä¸Šå®‰è£…è¿˜æ˜¯åªæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Ÿ](#should-i-install-on-a-second-laptop-or-just-add-a-node)\n- [ç¯å¢ƒå˜é‡å’Œ .env åŠ è½½](#env-vars-and-env-loading)\n  - [OpenClaw å¦‚ä½•åŠ è½½ç¯å¢ƒå˜é‡ï¼Ÿ](#how-does-openclaw-load-environment-variables)\n  - [â€œæˆ‘é€šè¿‡æœåŠ¡å¯åŠ¨äº† Gateway ç½‘å…³ï¼Œä½†ç¯å¢ƒå˜é‡æ¶ˆå¤±äº†ã€‚â€æ€ä¹ˆåŠï¼Ÿ](#i-started-the-gateway-via-the-service-and-my-env-vars-disappeared-what-now)\n  - [æˆ‘è®¾ç½®äº† `COPILOT_GITHUB_TOKEN`ï¼Œä½† models status æ˜¾ç¤º\"Shell env: off\"ï¼Œä¸ºä»€ä¹ˆï¼Ÿ](#i-set-copilotgithubtoken-but-models-status-shows-shell-env-off-why)\n- [ä¼šè¯ä¸å¤šèŠå¤©](#sessions-multiple-chats)\n  - [å¦‚ä½•å¼€å§‹ä¸€ä¸ªæ–°å¯¹è¯ï¼Ÿ](#how-do-i-start-a-fresh-conversation)\n  - [å¦‚æœæˆ‘ä»ä¸å‘é€ `/new`ï¼Œä¼šè¯ä¼šè‡ªåŠ¨é‡ç½®å—ï¼Ÿ](#do-sessions-reset-automatically-if-i-never-send-new)\n  - [èƒ½å¦åˆ›å»ºä¸€ä¸ª OpenClaw å®ä¾‹å›¢é˜Ÿâ€”â€”ä¸€ä¸ª CEO å’Œå¤šä¸ªæ™ºèƒ½ä½“ï¼Ÿ](#is-there-a-way-to-make-a-team-of-openclaw-instances-one-ceo-and-many-agents)\n  - [ä¸ºä»€ä¹ˆä¸Šä¸‹æ–‡åœ¨ä»»åŠ¡ä¸­é€”è¢«æˆªæ–­äº†ï¼Ÿå¦‚ä½•é˜²æ­¢ï¼Ÿ](#why-did-context-get-truncated-midtask-how-do-i-prevent-it)\n  - [å¦‚ä½•å®Œå…¨é‡ç½® OpenClaw ä½†ä¿ç•™å®‰è£…ï¼Ÿ](#how-do-i-completely-reset-openclaw-but-keep-it-installed)\n  - [æˆ‘é‡åˆ°äº†\"context too large\"é”™è¯¯â€”â€”å¦‚ä½•é‡ç½®æˆ–å‹ç¼©ï¼Ÿ](#im-getting-context-too-large-errors-how-do-i-reset-or-compact)\n  - [ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°\"LLM request rejected: messages.N.content.X.tool_use.input: Field required\"ï¼Ÿ](#why-am-i-seeing-llm-request-rejected-messagesncontentxtooluseinput-field-required)\n  - [ä¸ºä»€ä¹ˆæ¯ 30 åˆ†é’Ÿæ”¶åˆ°ä¸€æ¬¡å¿ƒè·³æ¶ˆæ¯ï¼Ÿ](#why-am-i-getting-heartbeat-messages-every-30-minutes)\n  - [éœ€è¦åœ¨ WhatsApp ç¾¤ç»„ä¸­æ·»åŠ â€œæœºå™¨äººè´¦å·â€å—ï¼Ÿ](#do-i-need-to-add-a-bot-account-to-a-whatsapp-group)\n  - [å¦‚ä½•è·å– WhatsApp ç¾¤ç»„çš„ JIDï¼Ÿ](#how-do-i-get-the-jid-of-a-whatsapp-group)\n  - [ä¸ºä»€ä¹ˆ OpenClaw ä¸åœ¨ç¾¤ç»„ä¸­å›å¤ï¼Ÿ](#why-doesnt-openclaw-reply-in-a-group)\n  - [ç¾¤ç»„/çº¿ç¨‹ä¸ç§èŠå…±äº«ä¸Šä¸‹æ–‡å—ï¼Ÿ](#do-groupsthreads-share-context-with-dms)\n  - [å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªå·¥ä½œåŒºå’Œæ™ºèƒ½ä½“ï¼Ÿ](#how-many-workspaces-and-agents-can-i-create)\n  - [å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªæœºå™¨äººæˆ–èŠå¤©ï¼ˆSlackï¼‰å—ï¼Ÿåº”è¯¥å¦‚ä½•è®¾ç½®ï¼Ÿ](#can-i-run-multiple-bots-or-chats-at-the-same-time-slack-and-how-should-i-set-that-up)\n- [æ¨¡å‹ï¼šé»˜è®¤å€¼ã€é€‰æ‹©ã€åˆ«åã€åˆ‡æ¢](#models-defaults-selection-aliases-switching)\n  - [ä»€ä¹ˆæ˜¯â€œé»˜è®¤æ¨¡å‹â€ï¼Ÿ](#what-is-the-default-model)\n  - [æ¨èä»€ä¹ˆæ¨¡å‹ï¼Ÿ](#what-model-do-you-recommend)\n  - [å¦‚ä½•åœ¨ä¸æ¸…ç©ºé…ç½®çš„æƒ…å†µä¸‹åˆ‡æ¢æ¨¡å‹ï¼Ÿ](#how-do-i-switch-models-without-wiping-my-config)\n  - [å¯ä»¥ä½¿ç”¨è‡ªæ‰˜ç®¡æ¨¡å‹ï¼ˆllama.cppã€vLLMã€Ollamaï¼‰å—ï¼Ÿ](#can-i-use-selfhosted-models-llamacpp-vllm-ollama)\n  - [OpenClawã€Flawd å’Œ Krill ä½¿ç”¨ä»€ä¹ˆæ¨¡å‹ï¼Ÿ](#what-do-openclaw-flawd-and-krill-use-for-models)\n  - [å¦‚ä½•åœ¨è¿è¡Œä¸­åˆ‡æ¢æ¨¡å‹ï¼ˆæ— éœ€é‡å¯ï¼‰ï¼Ÿ](#how-do-i-switch-models-on-the-fly-without-restarting)\n  - [èƒ½å¦æ—¥å¸¸ä»»åŠ¡ç”¨ GPT 5.2ï¼Œç¼–ç¨‹ç”¨ Codex 5.2ï¼Ÿ](#can-i-use-gpt-52-for-daily-tasks-and-codex-52-for-coding)\n  - [ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°\"Model â€¦ is not allowed\"ç„¶åæ²¡æœ‰å›å¤ï¼Ÿ](#why-do-i-see-model-is-not-allowed-and-then-no-reply)\n  - [ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°\"Unknown model: minimax/MiniMax-M2.1\"ï¼Ÿ](#why-do-i-see-unknown-model-minimaxminimaxm21)\n  - [èƒ½å¦å°† MiniMax è®¾ä¸ºé»˜è®¤ï¼Œå¤æ‚ä»»åŠ¡ç”¨ OpenAIï¼Ÿ](#can-i-use-minimax-as-my-default-and-openai-for-complex-tasks)\n  - [opus / sonnet / gpt æ˜¯å†…ç½®å¿«æ·æ–¹å¼å—ï¼Ÿ](#are-opus-sonnet-gpt-builtin-shortcuts)\n  - [å¦‚ä½•å®šä¹‰/è¦†ç›–æ¨¡å‹å¿«æ·æ–¹å¼ï¼ˆåˆ«åï¼‰ï¼Ÿ](#how-do-i-defineoverride-model-shortcuts-aliases)\n  - [å¦‚ä½•æ·»åŠ å…¶ä»–æä¾›å•†ï¼ˆå¦‚ OpenRouter æˆ– Z.AIï¼‰çš„æ¨¡å‹ï¼Ÿ](#how-do-i-add-models-from-other-providers-like-openrouter-or-zai)\n- [æ¨¡å‹æ•…éšœè½¬ç§»ä¸\"All models failed\"](#model-failover-and-all-models-failed)\n  - [æ•…éšœè½¬ç§»æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ](#how-does-failover-work)\n  - [è¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ](#what-does-this-error-mean)\n  - [`No credentials found for profile \"anthropic:default\"` çš„ä¿®å¤æ¸…å•](#fix-checklist-for-no-credentials-found-for-profile-anthropicdefault)\n  - [ä¸ºä»€ä¹ˆè¿˜å°è¯•äº† Google Gemini å¹¶ä¸”å¤±è´¥äº†ï¼Ÿ](#why-did-it-also-try-google-gemini-and-fail)\n- [è®¤è¯é…ç½®æ–‡ä»¶ï¼šæ¦‚å¿µå’Œç®¡ç†æ–¹å¼](#auth-profiles-what-they-are-and-how-to-manage-them)\n  - [ä»€ä¹ˆæ˜¯è®¤è¯é…ç½®æ–‡ä»¶ï¼Ÿ](#what-is-an-auth-profile)\n  - [å…¸å‹çš„é…ç½®æ–‡ä»¶ ID æœ‰å“ªäº›ï¼Ÿ](#what-are-typical-profile-ids)\n  - [å¯ä»¥æ§åˆ¶é¦–å…ˆå°è¯•å“ªä¸ªè®¤è¯é…ç½®æ–‡ä»¶å—ï¼Ÿ](#can-i-control-which-auth-profile-is-tried-first)\n  - [OAuth ä¸ API å¯†é’¥ï¼šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#oauth-vs-api-key-whats-the-difference)\n- [Gateway ç½‘å…³ï¼šç«¯å£ã€â€œå·²åœ¨è¿è¡Œâ€å’Œè¿œç¨‹æ¨¡å¼](#gateway-ports-already-running-and-remote-mode)\n  - [Gateway ç½‘å…³ä½¿ç”¨ä»€ä¹ˆç«¯å£ï¼Ÿ](#what-port-does-the-gateway-use)\n  - [ä¸ºä»€ä¹ˆ `openclaw gateway status` æ˜¾ç¤º `Runtime: running` ä½† `RPC probe: failed`ï¼Ÿ](#why-does-openclaw-gateway-status-say-runtime-running-but-rpc-probe-failed)\n  - [ä¸ºä»€ä¹ˆ `openclaw gateway status` æ˜¾ç¤º `Config (cli)` å’Œ `Config (service)` ä¸åŒï¼Ÿ](#why-does-openclaw-gateway-status-show-config-cli-and-config-service-different)\n  - [\"another gateway instance is already listening\"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ](#what-does-another-gateway-instance-is-already-listening-mean)\n  - [å¦‚ä½•ä»¥è¿œç¨‹æ¨¡å¼è¿è¡Œ OpenClawï¼ˆå®¢æˆ·ç«¯è¿æ¥åˆ°å…¶ä»–ä½ç½®çš„ Gateway ç½‘å…³ï¼‰ï¼Ÿ](#how-do-i-run-openclaw-in-remote-mode-client-connects-to-a-gateway-elsewhere)\n  - [æ§åˆ¶ UI æ˜¾ç¤º\"unauthorized\"ï¼ˆæˆ–æŒç»­é‡è¿ï¼‰ï¼Œæ€ä¹ˆåŠï¼Ÿ](#the-control-ui-says-unauthorized-or-keeps-reconnecting-what-now)\n  - [æˆ‘è®¾ç½®äº† `gateway.bind: \"tailnet\"` ä½†æ— æ³•ç»‘å®š / ä»€ä¹ˆéƒ½æ²¡ç›‘å¬](#i-set-gatewaybind-tailnet-but-it-cant-bind-nothing-listens)\n  - [å¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šè¿è¡Œå¤šä¸ª Gateway ç½‘å…³å—ï¼Ÿ](#can-i-run-multiple-gateways-on-the-same-host)\n  - [\"invalid handshake\" / code 1008 æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ](#what-does-invalid-handshake-code-1008-mean)\n- [æ—¥å¿—ä¸è°ƒè¯•](#logging-and-debugging)\n  - [æ—¥å¿—åœ¨å“ªé‡Œï¼Ÿ](#where-are-logs)\n  - [å¦‚ä½•å¯åŠ¨/åœæ­¢/é‡å¯ Gateway ç½‘å…³æœåŠ¡ï¼Ÿ](#how-do-i-startstoprestart-the-gateway-service)\n  - [æˆ‘åœ¨ Windows ä¸Šå…³é—­äº†ç»ˆç«¯â€”â€”å¦‚ä½•é‡å¯ OpenClawï¼Ÿ](#i-closed-my-terminal-on-windows-how-do-i-restart-openclaw)\n  - [Gateway ç½‘å…³å·²å¯åŠ¨ä½†å›å¤å§‹ç»ˆä¸åˆ°è¾¾ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆï¼Ÿ](#the-gateway-is-up-but-replies-never-arrive-what-should-i-check)\n  - [\"Disconnected from gateway: no reason\"â€”â€”æ€ä¹ˆåŠï¼Ÿ](#disconnected-from-gateway-no-reason-what-now)\n  - [Telegram setMyCommands å› ç½‘ç»œé”™è¯¯å¤±è´¥ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆï¼Ÿ](#telegram-setmycommands-fails-with-network-errors-what-should-i-check)\n  - [TUI æ²¡æœ‰è¾“å‡ºï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆï¼Ÿ](#tui-shows-no-output-what-should-i-check)\n  - [å¦‚ä½•å®Œå…¨åœæ­¢ç„¶åå¯åŠ¨ Gateway ç½‘å…³ï¼Ÿ](#how-do-i-completely-stop-then-start-the-gateway)\n  - [é€šä¿—è§£é‡Šï¼š`openclaw gateway restart` ä¸ `openclaw gateway`](#eli5-openclaw-gateway-restart-vs-openclaw-gateway)\n  - [å‡ºç°æ•…éšœæ—¶è·å–æ›´å¤šè¯¦æƒ…çš„æœ€å¿«æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ](#whats-the-fastest-way-to-get-more-details-when-something-fails)\n- [åª’ä½“ä¸é™„ä»¶](#media-attachments)\n  - [æˆ‘çš„ Skills ç”Ÿæˆäº†å›¾ç‰‡/PDFï¼Œä½†ä»€ä¹ˆéƒ½æ²¡å‘é€](#my-skill-generated-an-imagepdf-but-nothing-was-sent)\n- [å®‰å…¨ä¸è®¿é—®æ§åˆ¶](#security-and-access-control)\n  - [å°† OpenClaw æš´éœ²ç»™å…¥ç«™ç§ä¿¡å®‰å…¨å—ï¼Ÿ](#is-it-safe-to-expose-openclaw-to-inbound-dms)\n  - [æç¤ºæ³¨å…¥åªå¯¹å…¬å¼€æœºå™¨äººæœ‰å½±å“å—ï¼Ÿ](#is-prompt-injection-only-a-concern-for-public-bots)\n  - [æˆ‘çš„æœºå™¨äººåº”è¯¥æœ‰è‡ªå·±çš„é‚®ç®±ã€GitHub è´¦æˆ·æˆ–ç”µè¯å·ç å—ï¼Ÿ](#should-my-bot-have-its-own-email-github-account-or-phone-number)\n  - [æˆ‘èƒ½è®©å®ƒè‡ªä¸»ç®¡ç†æˆ‘çš„çŸ­ä¿¡å—ï¼Ÿè¿™å®‰å…¨å—ï¼Ÿ](#can-i-give-it-autonomy-over-my-text-messages-and-is-that-safe)\n  - [ä¸ªäººåŠ©ç†ä»»åŠ¡å¯ä»¥ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹å—ï¼Ÿ](#can-i-use-cheaper-models-for-personal-assistant-tasks)\n  - [æˆ‘åœ¨ Telegram ä¸­è¿è¡Œäº† `/start` ä½†æ²¡æ”¶åˆ°é…å¯¹ç ](#i-ran-start-in-telegram-but-didnt-get-a-pairing-code)\n  - [WhatsAppï¼šä¼šç»™æˆ‘çš„è”ç³»äººå‘æ¶ˆæ¯å—ï¼Ÿé…å¯¹å¦‚ä½•å·¥ä½œï¼Ÿ](#whatsapp-will-it-message-my-contacts-how-does-pairing-work)\n- [èŠå¤©å‘½ä»¤ã€ä¸­æ­¢ä»»åŠ¡å’Œâ€œåœä¸ä¸‹æ¥â€](#chat-commands-aborting-tasks-and-it-wont-stop)\n  - [å¦‚ä½•é˜»æ­¢å†…éƒ¨ç³»ç»Ÿæ¶ˆæ¯æ˜¾ç¤ºåœ¨èŠå¤©ä¸­ï¼Ÿ](#how-do-i-stop-internal-system-messages-from-showing-in-chat)\n  - [å¦‚ä½•åœæ­¢/å–æ¶ˆæ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ï¼Ÿ](#how-do-i-stopcancel-a-running-task)\n  - [å¦‚ä½•ä» Telegram å‘é€ Discord æ¶ˆæ¯ï¼Ÿï¼ˆ\"Cross-context messaging denied\"ï¼‰](#how-do-i-send-a-discord-message-from-telegram-crosscontext-messaging-denied)\n  - [ä¸ºä»€ä¹ˆæ„Ÿè§‰æœºå™¨äººâ€œå¿½ç•¥â€äº†å¿«é€Ÿè¿å‘çš„æ¶ˆæ¯ï¼Ÿ](#why-does-it-feel-like-the-bot-ignores-rapidfire-messages)",
    "## å‡ºé—®é¢˜åçš„æœ€åˆå…­åç§’\n\n1. **å¿«é€ŸçŠ¶æ€ï¼ˆé¦–å…ˆæ£€æŸ¥ï¼‰**\n\n   ```bash\n   openclaw status\n   ```\n\n   å¿«é€Ÿæœ¬åœ°æ‘˜è¦ï¼šæ“ä½œç³»ç»Ÿ + æ›´æ–°ã€Gateway ç½‘å…³/æœåŠ¡å¯è¾¾æ€§ã€æ™ºèƒ½ä½“/ä¼šè¯ã€æä¾›å•†é…ç½® + è¿è¡Œæ—¶é—®é¢˜ï¼ˆGateway ç½‘å…³å¯è¾¾æ—¶ï¼‰ã€‚\n\n2. **å¯ç²˜è´´çš„æŠ¥å‘Šï¼ˆå¯å®‰å…¨åˆ†äº«ï¼‰**\n\n   ```bash\n   openclaw status --all\n   ```\n\n   åªè¯»è¯Šæ–­ï¼Œé™„å¸¦æ—¥å¿—å°¾éƒ¨ï¼ˆä»¤ç‰Œå·²è„±æ•ï¼‰ã€‚\n\n3. **å®ˆæŠ¤è¿›ç¨‹ + ç«¯å£çŠ¶æ€**\n\n   ```bash\n   openclaw gateway status\n   ```\n\n   æ˜¾ç¤º supervisor è¿è¡ŒçŠ¶æ€ä¸ RPC å¯è¾¾æ€§ã€æ¢æµ‹ç›®æ ‡ URLï¼Œä»¥åŠæœåŠ¡å¯èƒ½ä½¿ç”¨çš„é…ç½®ã€‚\n\n4. **æ·±åº¦æ¢æµ‹**\n\n   ```bash\n   openclaw status --deep\n   ```\n\n   è¿è¡Œ Gateway ç½‘å…³å¥åº·æ£€æŸ¥ + æä¾›å•†æ¢æµ‹ï¼ˆéœ€è¦å¯è¾¾çš„ Gateway ç½‘å…³ï¼‰ã€‚å‚é˜…[å¥åº·æ£€æŸ¥](/gateway/health)ã€‚\n\n5. **è·Ÿè¸ªæœ€æ–°æ—¥å¿—**\n\n   ```bash\n   openclaw logs --follow\n   ```\n\n   å¦‚æœ RPC ä¸å¯ç”¨ï¼Œå›é€€åˆ°ï¼š\n\n   ```bash\n   tail -f \"$(ls -t /tmp/openclaw/openclaw-*.log | head -1)\"\n   ```\n\n   æ–‡ä»¶æ—¥å¿—ä¸æœåŠ¡æ—¥å¿—æ˜¯åˆ†å¼€çš„ï¼›å‚é˜…[æ—¥å¿—](/logging)å’Œ[æ•…éšœæ’é™¤](/gateway/troubleshooting)ã€‚\n\n6. **è¿è¡Œ doctorï¼ˆä¿®å¤ï¼‰**\n\n   ```bash\n   openclaw doctor\n   ```\n\n   ä¿®å¤/è¿ç§»é…ç½®/çŠ¶æ€ + è¿è¡Œå¥åº·æ£€æŸ¥ã€‚å‚é˜… [Doctor](/gateway/doctor)ã€‚",
    "7. **Gateway ç½‘å…³å¿«ç…§**\n   ```bash\n   openclaw health --json\n   openclaw health --verbose   # å‡ºé”™æ—¶æ˜¾ç¤ºç›®æ ‡ URL + é…ç½®è·¯å¾„\n   ```\n   å‘è¿è¡Œä¸­çš„ Gateway ç½‘å…³è¯·æ±‚å®Œæ•´å¿«ç…§ï¼ˆä»… WSï¼‰ã€‚å‚é˜…[å¥åº·æ£€æŸ¥](/gateway/health)ã€‚",
    "## å¿«é€Ÿå¼€å§‹ä¸é¦–æ¬¡è¿è¡Œè®¾ç½®\n\n### æˆ‘å¡ä½äº†ï¼Œæœ€å¿«çš„æ’éšœæ–¹æ³•æ˜¯ä»€ä¹ˆ\n\nä½¿ç”¨èƒ½**çœ‹åˆ°ä½ æœºå™¨**çš„æœ¬åœ° AI æ™ºèƒ½ä½“ã€‚è¿™æ¯”åœ¨ Discord ä¸Šæé—®æœ‰æ•ˆå¾—å¤šï¼Œå› ä¸ºå¤§å¤šæ•°â€œå¡ä½äº†â€çš„æƒ…å†µéƒ½æ˜¯**æœ¬åœ°é…ç½®æˆ–ç¯å¢ƒé—®é¢˜**ï¼Œè¿œç¨‹å¸®åŠ©è€…æ— æ³•æ£€æŸ¥ã€‚\n\n- **Claude Code**ï¼šhttps://www.anthropic.com/claude-code/\n- **OpenAI Codex**ï¼šhttps://openai.com/codex/\n\nè¿™äº›å·¥å…·å¯ä»¥è¯»å–ä»“åº“ã€è¿è¡Œå‘½ä»¤ã€æ£€æŸ¥æ—¥å¿—ï¼Œå¹¶å¸®åŠ©ä¿®å¤ä½ çš„æœºå™¨çº§åˆ«è®¾ç½®ï¼ˆPATHã€æœåŠ¡ã€æƒé™ã€è®¤è¯æ–‡ä»¶ï¼‰ã€‚é€šè¿‡å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…æä¾›**å®Œæ•´æºä»£ç **ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --install-method git\n```\n\nè¿™ä¼šä» **git checkout** å®‰è£… OpenClawï¼Œè¿™æ ·æ™ºèƒ½ä½“å¯ä»¥è¯»å–ä»£ç  + æ–‡æ¡£ï¼Œå¹¶æ¨ç†ä½ æ­£åœ¨è¿è¡Œçš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚ä½ å¯ä»¥éšæ—¶é€šè¿‡ä¸å¸¦ `--install-method git` é‡æ–°è¿è¡Œå®‰è£…ç¨‹åºåˆ‡å›ç¨³å®šç‰ˆã€‚\n\næç¤ºï¼šè¦æ±‚æ™ºèƒ½ä½“**è®¡åˆ’å¹¶ç›‘ç£**ä¿®å¤ï¼ˆé€æ­¥è¿›è¡Œï¼‰ï¼Œç„¶ååªæ‰§è¡Œå¿…è¦çš„å‘½ä»¤ã€‚è¿™æ ·æ”¹åŠ¨è¾ƒå°ï¼Œæ›´å®¹æ˜“å®¡æŸ¥ã€‚\n\nå¦‚æœä½ å‘ç°äº†çœŸæ­£çš„ bug æˆ–ä¿®å¤æ–¹æ¡ˆï¼Œè¯·æäº¤ GitHub issue æˆ–å‘é€ PRï¼š\nhttps://github.com/openclaw/openclaw/issues\nhttps://github.com/openclaw/openclaw/pulls\n\nä»ä»¥ä¸‹å‘½ä»¤å¼€å§‹ï¼ˆåœ¨å¯»æ±‚å¸®åŠ©æ—¶åˆ†äº«è¾“å‡ºï¼‰ï¼š\n\n```bash\nopenclaw status\nopenclaw models status\nopenclaw doctor\n```\n\nå®ƒä»¬çš„ä½œç”¨ï¼š\n\n- `openclaw status`ï¼šGateway ç½‘å…³/æ™ºèƒ½ä½“å¥åº·çŠ¶å†µ + åŸºæœ¬é…ç½®çš„å¿«é€Ÿå¿«ç…§ã€‚\n- `openclaw models status`ï¼šæ£€æŸ¥æä¾›å•†è®¤è¯ + æ¨¡å‹å¯ç”¨æ€§ã€‚\n- `openclaw doctor`ï¼šéªŒè¯å¹¶ä¿®å¤å¸¸è§çš„é…ç½®/çŠ¶æ€é—®é¢˜ã€‚",
    "å…¶ä»–æœ‰ç”¨çš„ CLI æ£€æŸ¥ï¼š`openclaw status --all`ã€`openclaw logs --follow`ã€\n`openclaw gateway status`ã€`openclaw health --verbose`ã€‚\n\nå¿«é€Ÿè°ƒè¯•æµç¨‹ï¼š[å‡ºé—®é¢˜åçš„æœ€åˆå…­åç§’](#first-60-seconds-if-somethings-broken)ã€‚\nå®‰è£…æ–‡æ¡£ï¼š[å®‰è£…](/install)ã€[å®‰è£…ç¨‹åºæ ‡å¿—](/install/installer)ã€[æ›´æ–°](/install/updating)ã€‚\n\n### å®‰è£…å’Œè®¾ç½® OpenClaw çš„æ¨èæ–¹å¼æ˜¯ä»€ä¹ˆ\n\nä»“åº“æ¨èä»æºç è¿è¡Œå¹¶ä½¿ç”¨æ–°æ‰‹å¼•å¯¼å‘å¯¼ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash\nopenclaw onboard --install-daemon\n```\n\nå‘å¯¼è¿˜å¯ä»¥è‡ªåŠ¨æ„å»º UI èµ„æºã€‚æ–°æ‰‹å¼•å¯¼åï¼Œé€šå¸¸åœ¨ç«¯å£ **18789** ä¸Šè¿è¡Œ Gateway ç½‘å…³ã€‚\n\nä»æºç å®‰è£…ï¼ˆè´¡çŒ®è€…/å¼€å‘è€…ï¼‰ï¼š\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\npnpm install\npnpm build\npnpm ui:build # é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨å®‰è£… UI ä¾èµ–\nopenclaw onboard\n```\n\nå¦‚æœä½ è¿˜æ²¡æœ‰å…¨å±€å®‰è£…ï¼Œé€šè¿‡ `pnpm openclaw onboard` è¿è¡Œã€‚\n\n### æ–°æ‰‹å¼•å¯¼åå¦‚ä½•æ‰“å¼€ä»ªè¡¨æ¿\n\nå‘å¯¼ç°åœ¨ä¼šåœ¨æ–°æ‰‹å¼•å¯¼å®Œæˆåç«‹å³ä½¿ç”¨å¸¦ä»¤ç‰Œçš„ä»ªè¡¨æ¿ URL æ‰“å¼€æµè§ˆå™¨ï¼Œå¹¶åœ¨æ‘˜è¦ä¸­æ‰“å°å®Œæ•´é“¾æ¥ï¼ˆå¸¦ä»¤ç‰Œï¼‰ã€‚ä¿æŒè¯¥æ ‡ç­¾é¡µæ‰“å¼€ï¼›å¦‚æœæ²¡æœ‰è‡ªåŠ¨å¯åŠ¨ï¼Œè¯·åœ¨åŒä¸€å°æœºå™¨ä¸Šå¤åˆ¶/ç²˜è´´æ‰“å°çš„ URLã€‚ä»¤ç‰Œä¿æŒåœ¨æœ¬åœ°ä¸»æœºä¸Šâ€”â€”ä¸ä¼šä»æµè§ˆå™¨è·å–ä»»ä½•å†…å®¹ã€‚\n\n### å¦‚ä½•åœ¨æœ¬åœ°å’Œè¿œç¨‹ç¯å¢ƒä¸­éªŒè¯ä»ªè¡¨æ¿ä»¤ç‰Œ\n\n**æœ¬åœ°ï¼ˆåŒä¸€å°æœºå™¨ï¼‰ï¼š**",
    "- æ‰“å¼€ `http://127.0.0.1:18789/`ã€‚\n- å¦‚æœè¦æ±‚è®¤è¯ï¼Œè¿è¡Œ `openclaw dashboard` å¹¶ä½¿ç”¨å¸¦ä»¤ç‰Œçš„é“¾æ¥ï¼ˆ`?token=...`ï¼‰ã€‚\n- ä»¤ç‰Œä¸ `gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰çš„å€¼ç›¸åŒï¼ŒUI åœ¨é¦–æ¬¡åŠ è½½åä¼šå­˜å‚¨å®ƒã€‚\n\n**éæœ¬åœ°ç¯å¢ƒï¼š**\n\n- **Tailscale Serve**ï¼ˆæ¨èï¼‰ï¼šä¿æŒç»‘å®š loopbackï¼Œè¿è¡Œ `openclaw gateway --tailscale serve`ï¼Œæ‰“å¼€ `https://<magicdns>/`ã€‚å¦‚æœ `gateway.auth.allowTailscale` ä¸º `true`ï¼Œèº«ä»½æ ‡å¤´æ»¡è¶³è®¤è¯è¦æ±‚ï¼ˆæ— éœ€ä»¤ç‰Œï¼‰ã€‚\n- **Tailnet ç»‘å®š**ï¼šè¿è¡Œ `openclaw gateway --bind tailnet --token \"<token>\"`ï¼Œæ‰“å¼€ `http://<tailscale-ip>:18789/`ï¼Œåœ¨ä»ªè¡¨æ¿è®¾ç½®ä¸­ç²˜è´´ä»¤ç‰Œã€‚\n- **SSH éš§é“**ï¼š`ssh -N -L 18789:127.0.0.1:18789 user@host`ï¼Œç„¶åä» `openclaw dashboard` æ‰“å¼€ `http://127.0.0.1:18789/?token=...`ã€‚\n\nå‚é˜…[ä»ªè¡¨æ¿](/web/dashboard)å’Œ [Web ç•Œé¢](/web)äº†è§£ç»‘å®šæ¨¡å¼å’Œè®¤è¯è¯¦æƒ…ã€‚\n\n### æˆ‘éœ€è¦ä»€ä¹ˆè¿è¡Œæ—¶\n\nNode **>= 22** æ˜¯å¿…éœ€çš„ã€‚æ¨èä½¿ç”¨ `pnpm`ã€‚**ä¸æ¨è**ä½¿ç”¨ Bun è¿è¡Œ Gateway ç½‘å…³ã€‚\n\n### èƒ½åœ¨ Raspberry Pi ä¸Šè¿è¡Œå—\n\nå¯ä»¥ã€‚Gateway ç½‘å…³æ˜¯è½»é‡çº§çš„â€”â€”æ–‡æ¡£åˆ—å‡º **512MB-1GB RAM**ã€**1 æ ¸**å’Œçº¦ **500MB** ç£ç›˜ç©ºé—´è¶³å¤Ÿä¸ªäººä½¿ç”¨ï¼Œå¹¶æŒ‡å‡º **Raspberry Pi 4 å¯ä»¥è¿è¡Œ**ã€‚\n\nå¦‚æœä½ éœ€è¦é¢å¤–çš„ä½™é‡ï¼ˆæ—¥å¿—ã€åª’ä½“ã€å…¶ä»–æœåŠ¡ï¼‰ï¼Œ**æ¨è 2GB**ï¼Œä½†è¿™ä¸æ˜¯ç¡¬æ€§æœ€ä½è¦æ±‚ã€‚\n\næç¤ºï¼šå°å‹ Pi/VPS å¯ä»¥æ‰˜ç®¡ Gateway ç½‘å…³ï¼Œä½ å¯ä»¥åœ¨ç¬”è®°æœ¬/æ‰‹æœºä¸Šé…å¯¹**èŠ‚ç‚¹**ä»¥è·å–æœ¬åœ°å±å¹•/æ‘„åƒå¤´/ç”»å¸ƒæˆ–å‘½ä»¤æ‰§è¡Œèƒ½åŠ›ã€‚å‚é˜…[èŠ‚ç‚¹](/nodes)ã€‚",
    "### Raspberry Pi å®‰è£…æœ‰ä»€ä¹ˆå»ºè®®\n\nç®€çŸ­å›ç­”ï¼šå¯ä»¥è¿è¡Œï¼Œä½†é¢„æœŸä¼šæœ‰ä¸€äº›ç²—ç³™ä¹‹å¤„ã€‚\n\n- ä½¿ç”¨ **64 ä½**æ“ä½œç³»ç»Ÿå¹¶ä¿æŒ Node >= 22ã€‚\n- ä¼˜å…ˆé€‰æ‹©**å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…**ï¼Œä»¥ä¾¿æŸ¥çœ‹æ—¥å¿—å’Œå¿«é€Ÿæ›´æ–°ã€‚\n- å…ˆä¸å¯ç”¨æ¸ é“/Skillsï¼Œç„¶åé€ä¸ªæ·»åŠ ã€‚\n- å¦‚æœé‡åˆ°å¥‡æ€ªçš„äºŒè¿›åˆ¶é—®é¢˜ï¼Œé€šå¸¸æ˜¯ **ARM å…¼å®¹æ€§**é—®é¢˜ã€‚\n\næ–‡æ¡£ï¼š[Linux](/platforms/linux)ã€[å®‰è£…](/install)ã€‚\n\n### å¡åœ¨ wake up my friend / æ–°æ‰‹å¼•å¯¼æ— æ³•å¯åŠ¨ï¼Œæ€ä¹ˆåŠ\n\nè¯¥ç•Œé¢ä¾èµ–äº Gateway ç½‘å…³å¯è¾¾ä¸”å·²è®¤è¯ã€‚TUI ä¹Ÿä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨å‘é€\"Wake up, my friend!\"ã€‚å¦‚æœä½ çœ‹åˆ°è¯¥è¡Œä½†**æ²¡æœ‰å›å¤**ä¸”ä»¤ç‰Œä¿æŒä¸º 0ï¼Œè¯´æ˜æ™ºèƒ½ä½“ä»æœªè¿è¡Œã€‚\n\n1. é‡å¯ Gateway ç½‘å…³ï¼š\n\n```bash\nopenclaw gateway restart\n```\n\n2. æ£€æŸ¥çŠ¶æ€å’Œè®¤è¯ï¼š\n\n```bash\nopenclaw status\nopenclaw models status\nopenclaw logs --follow\n```\n\n3. å¦‚æœä»ç„¶æŒ‚èµ·ï¼Œè¿è¡Œï¼š\n\n```bash\nopenclaw doctor\n```\n\nå¦‚æœ Gateway ç½‘å…³åœ¨è¿œç¨‹ï¼Œç¡®ä¿éš§é“/Tailscale è¿æ¥æ­£å¸¸ï¼Œä¸” UI æŒ‡å‘æ­£ç¡®çš„ Gateway ç½‘å…³ã€‚å‚é˜…[è¿œç¨‹è®¿é—®](/gateway/remote)ã€‚\n\n### èƒ½å¦å°†æˆ‘çš„è®¾ç½®è¿ç§»åˆ°æ–°æœºå™¨ï¼ˆMac miniï¼‰è€Œä¸é‡æ–°è¿›è¡Œæ–°æ‰‹å¼•å¯¼\n\nå¯ä»¥ã€‚å¤åˆ¶**çŠ¶æ€ç›®å½•**å’Œ**å·¥ä½œåŒº**ï¼Œç„¶åè¿è¡Œä¸€æ¬¡ Doctorã€‚åªè¦ä½ åŒæ—¶å¤åˆ¶**ä¸¤ä¸ª**ä½ç½®ï¼Œå°±èƒ½ä¿æŒä½ çš„æœºå™¨äººâ€œå®Œå…¨ä¸€æ ·â€ï¼ˆè®°å¿†ã€ä¼šè¯å†å²ã€è®¤è¯å’Œæ¸ é“çŠ¶æ€ï¼‰ï¼š\n\n1. åœ¨æ–°æœºå™¨ä¸Šå®‰è£… OpenClawã€‚\n2. ä»æ—§æœºå™¨å¤åˆ¶ `$OPENCLAW_STATE_DIR`ï¼ˆé»˜è®¤ï¼š`~/.openclaw`ï¼‰ã€‚\n3. å¤åˆ¶ä½ çš„å·¥ä½œåŒºï¼ˆé»˜è®¤ï¼š`~/.openclaw/workspace`ï¼‰ã€‚\n4. è¿è¡Œ `openclaw doctor` å¹¶é‡å¯ Gateway ç½‘å…³æœåŠ¡ã€‚\n\nè¿™ä¼šä¿ç•™é…ç½®ã€è®¤è¯é…ç½®æ–‡ä»¶ã€WhatsApp å‡­æ®ã€ä¼šè¯å’Œè®°å¿†ã€‚å¦‚æœä½ å¤„äºè¿œç¨‹æ¨¡å¼ï¼Œè¯·è®°ä½ Gateway ç½‘å…³ä¸»æœºæ‹¥æœ‰ä¼šè¯å­˜å‚¨å’Œå·¥ä½œåŒºã€‚",
    "**é‡è¦ï¼š** å¦‚æœä½ åªå°†å·¥ä½œåŒºæäº¤/æ¨é€åˆ° GitHubï¼Œä½ åªå¤‡ä»½äº†**è®°å¿† + å¼•å¯¼æ–‡ä»¶**ï¼Œä½†**ä¸åŒ…æ‹¬**ä¼šè¯å†å²æˆ–è®¤è¯ã€‚å®ƒä»¬ä½äº `~/.openclaw/` ä¸‹ï¼ˆä¾‹å¦‚ `~/.openclaw/agents/<agentId>/sessions/`ï¼‰ã€‚\n\nç›¸å…³ï¼š[è¿ç§»](/install/migrating)ã€[ç£ç›˜ä¸Šçš„æ–‡ä»¶ä½ç½®](/help/faq#where-does-openclaw-store-its-data)ã€\n[æ™ºèƒ½ä½“å·¥ä½œåŒº](/concepts/agent-workspace)ã€[Doctor](/gateway/doctor)ã€\n[è¿œç¨‹æ¨¡å¼](/gateway/remote)ã€‚\n\n### åœ¨å“ªé‡ŒæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹\n\næŸ¥çœ‹ GitHub å˜æ›´æ—¥å¿—ï¼š\nhttps://github.com/openclaw/openclaw/blob/main/CHANGELOG.md\n\næœ€æ–°æ¡ç›®åœ¨é¡¶éƒ¨ã€‚å¦‚æœé¡¶éƒ¨éƒ¨åˆ†æ ‡è®°ä¸º **Unreleased**ï¼Œåˆ™ä¸‹ä¸€ä¸ªå¸¦æ—¥æœŸçš„éƒ¨åˆ†æ˜¯æœ€æ–°å‘å¸ƒç‰ˆæœ¬ã€‚æ¡ç›®æŒ‰**äº®ç‚¹**ã€**å˜æ›´**å’Œ**ä¿®å¤**åˆ†ç»„ï¼ˆéœ€è¦æ—¶è¿˜æœ‰æ–‡æ¡£/å…¶ä»–éƒ¨åˆ†ï¼‰ã€‚\n\n### æ— æ³•è®¿é—® docs.openclaw.aiï¼ˆSSL é”™è¯¯ï¼‰ï¼Œæ€ä¹ˆåŠ\n\nä¸€äº› Comcast/Xfinity è¿æ¥é€šè¿‡ Xfinity Advanced Security é”™è¯¯åœ°æ‹¦æˆªäº† `docs.openclaw.ai`ã€‚ç¦ç”¨è¯¥åŠŸèƒ½æˆ–å°† `docs.openclaw.ai` åŠ å…¥ç™½åå•ï¼Œç„¶åé‡è¯•ã€‚æ›´å¤šè¯¦æƒ…ï¼š[æ•…éšœæ’é™¤](/help/troubleshooting#docsopenclawai-shows-an-ssl-error-comcastxfinity)ã€‚\nè¯·å¸®åŠ©æˆ‘ä»¬åœ¨æ­¤å¤„æŠ¥å‘Šä»¥è§£é™¤å°é”ï¼šhttps://spa.xfinity.com/check_url_statusã€‚\n\nå¦‚æœä»ç„¶æ— æ³•è®¿é—®è¯¥ç½‘ç«™ï¼Œæ–‡æ¡£åœ¨ GitHub ä¸Šæœ‰é•œåƒï¼š\nhttps://github.com/openclaw/openclaw/tree/main/docs\n\n### stable å’Œ beta æœ‰ä»€ä¹ˆåŒºåˆ«\n\n**Stable** å’Œ **beta** æ˜¯ **npm dist-tags**ï¼Œä¸æ˜¯ç‹¬ç«‹çš„ä»£ç åˆ†æ”¯ï¼š\n\n- `latest` = stable\n- `beta` = ç”¨äºæµ‹è¯•çš„æ—©æœŸæ„å»º",
    "æˆ‘ä»¬å°†æ„å»ºå‘å¸ƒåˆ° **beta**ï¼Œæµ‹è¯•åï¼Œä¸€æ—¦æ„å»ºç¨³å®šï¼Œå°±ä¼š**å°†åŒä¸€ç‰ˆæœ¬æå‡ä¸º `latest`**ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ beta å’Œ stable å¯ä»¥æŒ‡å‘**ç›¸åŒç‰ˆæœ¬**ã€‚\n\næŸ¥çœ‹å˜æ›´ï¼š\nhttps://github.com/openclaw/openclaw/blob/main/CHANGELOG.md\n\n### å¦‚ä½•å®‰è£… beta ç‰ˆæœ¬ï¼Œbeta å’Œ dev æœ‰ä»€ä¹ˆåŒºåˆ«\n\n**Beta** æ˜¯ npm dist-tag `beta`ï¼ˆå¯èƒ½ä¸ `latest` ç›¸åŒï¼‰ã€‚\n**Dev** æ˜¯ `main` çš„æ»šåŠ¨å¤´éƒ¨ï¼ˆgitï¼‰ï¼›å‘å¸ƒæ—¶ä½¿ç”¨ npm dist-tag `dev`ã€‚\n\nä¸€è¡Œå‘½ä»¤ï¼ˆmacOS/Linuxï¼‰ï¼š\n\n```bash\ncurl -fsSL --proto '=https' --tlsv1.2 https://openclaw.ai/install.sh | bash -s -- --beta\n```\n\n```bash\ncurl -fsSL --proto '=https' --tlsv1.2 https://openclaw.ai/install.sh | bash -s -- --install-method git\n```\n\nWindows å®‰è£…ç¨‹åºï¼ˆPowerShellï¼‰ï¼š\nhttps://openclaw.ai/install.ps1\n\næ›´å¤šè¯¦æƒ…ï¼š[å¼€å‘æ¸ é“](/install/development-channels)å’Œ[å®‰è£…ç¨‹åºæ ‡å¿—](/install/installer)ã€‚\n\n### å®‰è£…å’Œæ–°æ‰‹å¼•å¯¼é€šå¸¸éœ€è¦å¤šé•¿æ—¶é—´\n\nå¤§è‡´æŒ‡å—ï¼š\n\n- **å®‰è£…ï¼š** 2-5 åˆ†é’Ÿ\n- **æ–°æ‰‹å¼•å¯¼ï¼š** 5-15 åˆ†é’Ÿï¼Œå–å†³äºé…ç½®å¤šå°‘æ¸ é“/æ¨¡å‹\n\nå¦‚æœæŒ‚èµ·ï¼Œè¯·å‚é˜…[å®‰è£…ç¨‹åºå¡ä½](/help/faq#installer-stuck-how-do-i-get-more-feedback)å’Œ[æˆ‘å¡ä½äº†](/help/faq#im-stuck--whats-the-fastest-way-to-get-unstuck)ä¸­çš„å¿«é€Ÿè°ƒè¯•æµç¨‹ã€‚\n\n### å¦‚ä½•è¯•ç”¨æœ€æ–°ä»£ç \n\nä¸¤ä¸ªé€‰é¡¹ï¼š\n\n1. **Dev æ¸ é“ï¼ˆgit checkoutï¼‰ï¼š**\n\n```bash\nopenclaw update --channel dev\n```",
    "è¿™ä¼šåˆ‡æ¢åˆ° `main` åˆ†æ”¯å¹¶ä»æºç æ›´æ–°ã€‚\n\n2. **å¯ç¼–è¾‘å®‰è£…ï¼ˆä»å®‰è£…ç¨‹åºç½‘ç«™ï¼‰ï¼š**\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --install-method git\n```\n\nè¿™ä¼šç»™ä½ ä¸€ä¸ªå¯ç¼–è¾‘çš„æœ¬åœ°ä»“åº“ï¼Œç„¶åé€šè¿‡ git æ›´æ–°ã€‚\n\nå¦‚æœä½ æ›´å–œæ¬¢æ‰‹åŠ¨å…‹éš†ï¼Œä½¿ç”¨ï¼š\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\npnpm install\npnpm build\n```\n\næ–‡æ¡£ï¼š[æ›´æ–°](/cli/update)ã€[å¼€å‘æ¸ é“](/install/development-channels)ã€\n[å®‰è£…](/install)ã€‚\n\n### å®‰è£…ç¨‹åºå¡ä½äº†ï¼Ÿå¦‚ä½•è·å–æ›´å¤šåé¦ˆ\n\nä½¿ç”¨**è¯¦ç»†è¾“å‡º**é‡æ–°è¿è¡Œå®‰è£…ç¨‹åºï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --verbose\n```\n\nå¸¦è¯¦ç»†è¾“å‡ºçš„ Beta å®‰è£…ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --beta --verbose\n```\n\nå¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --install-method git --verbose\n```\n\næ›´å¤šé€‰é¡¹ï¼š[å®‰è£…ç¨‹åºæ ‡å¿—](/install/installer)ã€‚\n\n### Windows å®‰è£…æç¤ºæ‰¾ä¸åˆ° git æˆ–æ— æ³•è¯†åˆ« openclaw\n\nä¸¤ä¸ªå¸¸è§çš„ Windows é—®é¢˜ï¼š\n\n**1) npm error spawn git / git not found**\n\n- å®‰è£… **Git for Windows** å¹¶ç¡®ä¿ `git` åœ¨ä½ çš„ PATH ä¸­ã€‚\n- å…³é—­å¹¶é‡æ–°æ‰“å¼€ PowerShellï¼Œç„¶åé‡æ–°è¿è¡Œå®‰è£…ç¨‹åºã€‚\n\n**2) openclaw is not recognizedï¼ˆå®‰è£…åï¼‰**",
    "- ä½ çš„ npm å…¨å±€ bin æ–‡ä»¶å¤¹ä¸åœ¨ PATH ä¸­ã€‚\n- æ£€æŸ¥è·¯å¾„ï¼š\n  ```powershell\n  npm config get prefix\n  ```\n- ç¡®ä¿ `<prefix>\\\\bin` åœ¨ PATH ä¸­ï¼ˆåœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸Šæ˜¯ `%AppData%\\\\npm`ï¼‰ã€‚\n- æ›´æ–° PATH åå…³é—­å¹¶é‡æ–°æ‰“å¼€ PowerShellã€‚\n\nå¦‚æœä½ æƒ³è¦æœ€é¡ºç•…çš„ Windows è®¾ç½®ï¼Œè¯·ä½¿ç”¨ **WSL2** è€Œä¸æ˜¯åŸç”Ÿ Windowsã€‚\næ–‡æ¡£ï¼š[Windows](/platforms/windows)ã€‚\n\n### æ–‡æ¡£æ²¡æœ‰è§£ç­”æˆ‘çš„é—®é¢˜â€”â€”å¦‚ä½•è·å¾—æ›´å¥½çš„ç­”æ¡ˆ\n\nä½¿ç”¨**å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…**ï¼Œè¿™æ ·ä½ åœ¨æœ¬åœ°æ‹¥æœ‰å®Œæ•´çš„æºç å’Œæ–‡æ¡£ï¼Œç„¶åä»è¯¥æ–‡ä»¶å¤¹å‘ä½ çš„æœºå™¨äººï¼ˆæˆ– Claude/Codexï¼‰æé—®ï¼Œè¿™æ ·å®ƒå¯ä»¥è¯»å–ä»“åº“å¹¶ç²¾ç¡®å›ç­”ã€‚\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --install-method git\n```\n\næ›´å¤šè¯¦æƒ…ï¼š[å®‰è£…](/install)å’Œ[å®‰è£…ç¨‹åºæ ‡å¿—](/install/installer)ã€‚\n\n### å¦‚ä½•åœ¨ Linux ä¸Šå®‰è£… OpenClaw\n\nç®€çŸ­å›ç­”ï¼šæŒ‰ç…§ Linux æŒ‡å—æ“ä½œï¼Œç„¶åè¿è¡Œæ–°æ‰‹å¼•å¯¼å‘å¯¼ã€‚\n\n- Linux å¿«é€Ÿè·¯å¾„ + æœåŠ¡å®‰è£…ï¼š[Linux](/platforms/linux)ã€‚\n- å®Œæ•´æŒ‡å—ï¼š[å…¥é—¨](/start/getting-started)ã€‚\n- å®‰è£…å’Œæ›´æ–°ï¼š[å®‰è£…ä¸æ›´æ–°](/install/updating)ã€‚\n\n### å¦‚ä½•åœ¨ VPS ä¸Šå®‰è£… OpenClaw\n\nä»»ä½• Linux VPS éƒ½å¯ä»¥ã€‚åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ï¼Œç„¶åä½¿ç”¨ SSH/Tailscale è®¿é—® Gateway ç½‘å…³ã€‚\n\næŒ‡å—ï¼š[exe.dev](/install/exe-dev)ã€[Hetzner](/install/hetzner)ã€[Fly.io](/install/fly)ã€‚\nè¿œç¨‹è®¿é—®ï¼š[Gateway ç½‘å…³è¿œç¨‹](/gateway/remote)ã€‚\n\n### äº‘/VPS å®‰è£…æŒ‡å—åœ¨å“ªé‡Œ\n\næˆ‘ä»¬ç»´æŠ¤äº†ä¸€ä¸ª**æ‰˜ç®¡ä¸­å¿ƒ**ï¼Œæ¶µç›–å¸¸è§æä¾›å•†ã€‚é€‰æ‹©ä¸€ä¸ªå¹¶æŒ‰æŒ‡å—æ“ä½œï¼š",
    "- [VPS æ‰˜ç®¡](/vps)ï¼ˆæ‰€æœ‰æä¾›å•†æ±‡æ€»ï¼‰\n- [Fly.io](/install/fly)\n- [Hetzner](/install/hetzner)\n- [exe.dev](/install/exe-dev)\n\nåœ¨äº‘ç«¯çš„å·¥ä½œæ–¹å¼ï¼š**Gateway ç½‘å…³è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Š**ï¼Œä½ é€šè¿‡æ§åˆ¶ UIï¼ˆæˆ– Tailscale/SSHï¼‰ä»ç¬”è®°æœ¬/æ‰‹æœºè®¿é—®ã€‚ä½ çš„çŠ¶æ€ + å·¥ä½œåŒºä½äºæœåŠ¡å™¨ä¸Šï¼Œå› æ­¤å°†ä¸»æœºè§†ä¸ºæ•°æ®æ¥æºå¹¶åšå¥½å¤‡ä»½ã€‚\n\nä½ å¯ä»¥å°†**èŠ‚ç‚¹**ï¼ˆMac/iOS/Android/æ— å¤´ï¼‰é…å¯¹åˆ°äº‘ç«¯ Gateway ç½‘å…³ï¼Œä»¥è®¿é—®æœ¬åœ°å±å¹•/æ‘„åƒå¤´/ç”»å¸ƒæˆ–åœ¨ç¬”è®°æœ¬ä¸Šæ‰§è¡Œå‘½ä»¤ï¼ŒåŒæ—¶ Gateway ç½‘å…³ä¿æŒåœ¨äº‘ç«¯ã€‚\n\nä¸­å¿ƒï¼š[å¹³å°](/platforms)ã€‚è¿œç¨‹è®¿é—®ï¼š[Gateway ç½‘å…³è¿œç¨‹](/gateway/remote)ã€‚\nèŠ‚ç‚¹ï¼š[èŠ‚ç‚¹](/nodes)ã€[èŠ‚ç‚¹ CLI](/cli/nodes)ã€‚\n\n### å¯ä»¥è®© OpenClaw è‡ªè¡Œæ›´æ–°å—\n\nç®€çŸ­å›ç­”ï¼š**å¯ä»¥ï¼Œä½†ä¸æ¨è**ã€‚æ›´æ–°æµç¨‹å¯èƒ½é‡å¯ Gateway ç½‘å…³ï¼ˆè¿™ä¼šä¸­æ–­æ´»è·ƒä¼šè¯ï¼‰ï¼Œå¯èƒ½éœ€è¦å¹²å‡€çš„ git checkoutï¼Œå¹¶ä¸”å¯èƒ½æç¤ºç¡®è®¤ã€‚æ›´å®‰å…¨çš„åšæ³•ï¼šä½œä¸ºè¿ç»´äººå‘˜ä» shell è¿è¡Œæ›´æ–°ã€‚\n\nä½¿ç”¨ CLIï¼š\n\n```bash\nopenclaw update\nopenclaw update status\nopenclaw update --channel stable|beta|dev\nopenclaw update --tag <dist-tag|version>\nopenclaw update --no-restart\n```\n\nå¦‚æœå¿…é¡»ä»æ™ºèƒ½ä½“è‡ªåŠ¨åŒ–ï¼š\n\n```bash\nopenclaw update --yes --no-restart\nopenclaw gateway restart\n```\n\næ–‡æ¡£ï¼š[æ›´æ–°](/cli/update)ã€[æ›´æ–°æŒ‡å—](/install/updating)ã€‚\n\n### æ–°æ‰‹å¼•å¯¼å‘å¯¼å…·ä½“åšäº†ä»€ä¹ˆ\n\n`openclaw onboard` æ˜¯æ¨èçš„è®¾ç½®è·¯å¾„ã€‚åœ¨**æœ¬åœ°æ¨¡å¼**ä¸‹ï¼Œå®ƒå¼•å¯¼ä½ å®Œæˆï¼š",
    "- **æ¨¡å‹/è®¤è¯è®¾ç½®**ï¼ˆæ¨èä½¿ç”¨ Anthropic **setup-token** è¿›è¡Œ Claude è®¢é˜…ï¼Œæ”¯æŒ OpenAI Codex OAuthï¼ŒAPI å¯†é’¥å¯é€‰ï¼Œæ”¯æŒ LM Studio æœ¬åœ°æ¨¡å‹ï¼‰\n- **å·¥ä½œåŒº**ä½ç½® + å¼•å¯¼æ–‡ä»¶\n- **Gateway ç½‘å…³è®¾ç½®**ï¼ˆç»‘å®š/ç«¯å£/è®¤è¯/tailscaleï¼‰\n- **æ¸ é“**ï¼ˆWhatsAppã€Telegramã€Discordã€Mattermostï¼ˆæ’ä»¶ï¼‰ã€Signalã€iMessageï¼‰\n- **å®ˆæŠ¤è¿›ç¨‹å®‰è£…**ï¼ˆmacOS ä¸Šçš„ LaunchAgentï¼›Linux/WSL2 ä¸Šçš„ systemd ç”¨æˆ·å•å…ƒï¼‰\n- **å¥åº·æ£€æŸ¥**å’Œ**Skills**é€‰æ‹©\n\nå¦‚æœä½ é…ç½®çš„æ¨¡å‹æœªçŸ¥æˆ–ç¼ºå°‘è®¤è¯ï¼Œå®ƒè¿˜ä¼šå‘å‡ºè­¦å‘Šã€‚\n\n### è¿è¡Œ OpenClaw éœ€è¦ Claude æˆ– OpenAI è®¢é˜…å—\n\nä¸éœ€è¦ã€‚ä½ å¯ä»¥ä½¿ç”¨ **API å¯†é’¥**ï¼ˆAnthropic/OpenAI/å…¶ä»–ï¼‰æˆ–**çº¯æœ¬åœ°æ¨¡å‹**è¿è¡Œ OpenClawï¼Œè¿™æ ·ä½ çš„æ•°æ®ç•™åœ¨ä½ çš„è®¾å¤‡ä¸Šã€‚è®¢é˜…ï¼ˆClaude Pro/Max æˆ– OpenAI Codexï¼‰æ˜¯è¿™äº›æä¾›å•†çš„å¯é€‰è®¤è¯æ–¹å¼ã€‚\n\næ–‡æ¡£ï¼š[Anthropic](/providers/anthropic)ã€[OpenAI](/providers/openai)ã€\n[æœ¬åœ°æ¨¡å‹](/gateway/local-models)ã€[æ¨¡å‹](/concepts/models)ã€‚\n\n### èƒ½å¦ä½¿ç”¨ Claude Max è®¢é˜…è€Œä¸éœ€è¦ API å¯†é’¥\n\nå¯ä»¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ **setup-token** ä»£æ›¿ API å¯†é’¥è¿›è¡Œè®¤è¯ã€‚è¿™æ˜¯è®¢é˜…è·¯å¾„ã€‚\n\nClaude Pro/Max è®¢é˜…**ä¸åŒ…å« API å¯†é’¥**ï¼Œå› æ­¤è¿™æ˜¯è®¢é˜…è´¦æˆ·çš„æ­£ç¡®æ–¹å¼ã€‚é‡è¦æç¤ºï¼šä½ å¿…é¡»å‘ Anthropic ç¡®è®¤æ­¤ç”¨æ³•æ˜¯å¦ç¬¦åˆå…¶è®¢é˜…æ”¿ç­–å’Œæ¡æ¬¾ã€‚å¦‚æœä½ æƒ³è¦æœ€æ˜ç¡®ã€å—æ”¯æŒçš„æ–¹å¼ï¼Œè¯·ä½¿ç”¨ Anthropic API å¯†é’¥ã€‚\n\n### Anthropic setup-token è®¤è¯å¦‚ä½•å·¥ä½œ",
    "`claude setup-token` é€šè¿‡ Claude Code CLI ç”Ÿæˆä¸€ä¸ª**ä»¤ç‰Œå­—ç¬¦ä¸²**ï¼ˆåœ¨ Web æ§åˆ¶å°ä¸­ä¸å¯ç”¨ï¼‰ã€‚ä½ å¯ä»¥åœ¨**ä»»ä½•æœºå™¨**ä¸Šè¿è¡Œå®ƒã€‚åœ¨å‘å¯¼ä¸­é€‰æ‹© **Anthropic token (paste setup-token)** æˆ–ä½¿ç”¨ `openclaw models auth paste-token --provider anthropic` ç²˜è´´ã€‚ä»¤ç‰Œä½œä¸º **anthropic** æä¾›å•†çš„è®¤è¯é…ç½®æ–‡ä»¶å­˜å‚¨ï¼Œåƒ API å¯†é’¥ä¸€æ ·ä½¿ç”¨ï¼ˆæ— è‡ªåŠ¨åˆ·æ–°ï¼‰ã€‚æ›´å¤šè¯¦æƒ…ï¼š[OAuth](/concepts/oauth)ã€‚\n\n### åœ¨å“ªé‡Œè·å– Anthropic setup-token\n\nå®ƒ**ä¸åœ¨** Anthropic Console ä¸­ã€‚setup-token ç”± **Claude Code CLI** åœ¨**ä»»ä½•æœºå™¨**ä¸Šç”Ÿæˆï¼š\n\n```bash\nclaude setup-token\n```\n\nå¤åˆ¶å®ƒæ‰“å°çš„ä»¤ç‰Œï¼Œç„¶ååœ¨å‘å¯¼ä¸­é€‰æ‹© **Anthropic token (paste setup-token)**ã€‚å¦‚æœä½ æƒ³åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè¿è¡Œï¼Œä½¿ç”¨ `openclaw models auth setup-token --provider anthropic`ã€‚å¦‚æœä½ åœ¨å…¶ä»–åœ°æ–¹è¿è¡Œäº† `claude setup-token`ï¼Œåœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šä½¿ç”¨ `openclaw models auth paste-token --provider anthropic` ç²˜è´´ã€‚å‚é˜… [Anthropic](/providers/anthropic)ã€‚\n\n### æ˜¯å¦æ”¯æŒ Claude è®¢é˜…è®¤è¯ï¼ˆClaude Pro/Maxï¼‰\n\næ˜¯çš„â€”â€”é€šè¿‡ **setup-token**ã€‚OpenClaw ä¸å†å¤ç”¨ Claude Code CLI OAuth ä»¤ç‰Œï¼›è¯·ä½¿ç”¨ setup-token æˆ– Anthropic API å¯†é’¥ã€‚åœ¨ä»»ä½•åœ°æ–¹ç”Ÿæˆä»¤ç‰Œå¹¶åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šç²˜è´´ã€‚å‚é˜… [Anthropic](/providers/anthropic) å’Œ [OAuth](/concepts/oauth)ã€‚\n\næ³¨æ„ï¼šClaude è®¢é˜…è®¿é—®å— Anthropic æ¡æ¬¾çº¦æŸã€‚å¯¹äºç”Ÿäº§æˆ–å¤šç”¨æˆ·å·¥ä½œè´Ÿè½½ï¼ŒAPI å¯†é’¥é€šå¸¸æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚",
    "### ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ° HTTP 429 rate_limit_errorï¼ˆæ¥è‡ª Anthropicï¼‰\n\nè¿™æ„å‘³ç€ä½ å½“å‰çª—å£çš„ **Anthropic é…é¢/é€Ÿç‡é™åˆ¶**å·²è€—å°½ã€‚å¦‚æœä½ ä½¿ç”¨ **Claude è®¢é˜…**ï¼ˆsetup-token æˆ– Claude Code OAuthï¼‰ï¼Œè¯·ç­‰å¾…çª—å£é‡ç½®æˆ–å‡çº§ä½ çš„è®¡åˆ’ã€‚å¦‚æœä½ ä½¿ç”¨ **Anthropic API å¯†é’¥**ï¼Œè¯·åœ¨ Anthropic Console ä¸­æ£€æŸ¥ä½¿ç”¨é‡/è®¡è´¹å¹¶æ ¹æ®éœ€è¦æé«˜é™åˆ¶ã€‚\n\næç¤ºï¼šè®¾ç½®ä¸€ä¸ª**å¤‡ç”¨æ¨¡å‹**ï¼Œè¿™æ · OpenClaw åœ¨æŸä¸ªæä¾›å•†è¢«é™é€Ÿæ—¶ä»èƒ½ç»§ç»­å›å¤ã€‚\nå‚é˜…[æ¨¡å‹](/cli/models)å’Œ [OAuth](/concepts/oauth)ã€‚\n\n### æ”¯æŒ AWS Bedrock å—\n\næ˜¯çš„â€”â€”é€šè¿‡ pi-ai çš„ **Amazon Bedrock (Converse)** æä¾›å•†è¿›è¡Œ**æ‰‹åŠ¨é…ç½®**ã€‚ä½ å¿…é¡»åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šæä¾› AWS å‡­æ®/åŒºåŸŸï¼Œå¹¶åœ¨æ¨¡å‹é…ç½®ä¸­æ·»åŠ  Bedrock æä¾›å•†æ¡ç›®ã€‚å‚é˜… [Amazon Bedrock](/bedrock) å’Œ[æ¨¡å‹æä¾›å•†](/providers/models)ã€‚å¦‚æœä½ æ›´å–œæ¬¢æ‰˜ç®¡å¯†é’¥æµç¨‹ï¼Œåœ¨ Bedrock å‰é¢ä½¿ç”¨å…¼å®¹ OpenAI çš„ä»£ç†ä»ç„¶æ˜¯æœ‰æ•ˆé€‰é¡¹ã€‚\n\n### Codex è®¤è¯å¦‚ä½•å·¥ä½œ\n\nOpenClaw é€šè¿‡ OAuthï¼ˆChatGPT ç™»å½•ï¼‰æ”¯æŒ **OpenAI Code (Codex)**ã€‚å‘å¯¼å¯ä»¥è¿è¡Œ OAuth æµç¨‹ï¼Œå¹¶åœ¨é€‚å½“æ—¶å°†é»˜è®¤æ¨¡å‹è®¾ç½®ä¸º `openai-codex/gpt-5.2`ã€‚å‚é˜…[æ¨¡å‹æä¾›å•†](/concepts/model-providers)å’Œ[å‘å¯¼](/start/wizard)ã€‚\n\n### æ˜¯å¦æ”¯æŒ OpenAI è®¢é˜…è®¤è¯ï¼ˆCodex OAuthï¼‰\n\næ˜¯çš„ã€‚OpenClaw å®Œå…¨æ”¯æŒ **OpenAI Code (Codex) è®¢é˜… OAuth**ã€‚æ–°æ‰‹å¼•å¯¼å‘å¯¼å¯ä»¥ä¸ºä½ è¿è¡Œ OAuth æµç¨‹ã€‚\n\nå‚é˜… [OAuth](/concepts/oauth)ã€[æ¨¡å‹æä¾›å•†](/concepts/model-providers)å’Œ[å‘å¯¼](/start/wizard)ã€‚\n\n### å¦‚ä½•è®¾ç½® Gemini CLI OAuth",
    "Gemini CLI ä½¿ç”¨**æ’ä»¶è®¤è¯æµç¨‹**ï¼Œè€Œä¸æ˜¯ `openclaw.json` ä¸­çš„ client id æˆ– secretã€‚\n\næ­¥éª¤ï¼š\n\n1. å¯ç”¨æ’ä»¶ï¼š`openclaw plugins enable google-gemini-cli-auth`\n2. ç™»å½•ï¼š`openclaw models auth login --provider google-gemini-cli --set-default`\n\nè¿™ä¼šåœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šå°† OAuth ä»¤ç‰Œå­˜å‚¨ä¸ºè®¤è¯é…ç½®æ–‡ä»¶ã€‚è¯¦æƒ…ï¼š[æ¨¡å‹æä¾›å•†](/concepts/model-providers)ã€‚\n\n### æœ¬åœ°æ¨¡å‹é€‚åˆæ—¥å¸¸èŠå¤©å—\n\né€šå¸¸ä¸é€‚åˆã€‚OpenClaw éœ€è¦å¤§ä¸Šä¸‹æ–‡ + å¼ºå®‰å…¨æ€§ï¼›å°æ˜¾å¡ä¼šæˆªæ–­ä¸”æ³„æ¼ã€‚å¦‚æœå¿…é¡»ä½¿ç”¨ï¼Œè¯·åœ¨æœ¬åœ°è¿è¡Œä½ èƒ½è¿è¡Œçš„**æœ€å¤§** MiniMax M2.1 ç‰ˆæœ¬ï¼ˆLM Studioï¼‰ï¼Œå‚é˜… [/gateway/local-models](/gateway/local-models)ã€‚è¾ƒå°/é‡åŒ–çš„æ¨¡å‹ä¼šå¢åŠ æç¤ºæ³¨å…¥é£é™©â€”â€”å‚é˜…[å®‰å…¨](/gateway/security)ã€‚\n\n### å¦‚ä½•å°†æ‰˜ç®¡æ¨¡å‹æµé‡é™åˆ¶åœ¨ç‰¹å®šåŒºåŸŸ\n\né€‰æ‹©åŒºåŸŸå›ºå®šçš„ç«¯ç‚¹ã€‚OpenRouter ä¸º MiniMaxã€Kimi å’Œ GLM æä¾›ç¾å›½æ‰˜ç®¡é€‰é¡¹ï¼›é€‰æ‹©ç¾å›½æ‰˜ç®¡å˜ä½“ä»¥ä¿æŒæ•°æ®åœ¨åŒºåŸŸå†…ã€‚ä½ ä»ç„¶å¯ä»¥é€šè¿‡ä½¿ç”¨ `models.mode: \"merge\"` åœ¨è¿™äº›æ—è¾¹åˆ—å‡º Anthropic/OpenAIï¼Œè¿™æ ·æ•…éšœè½¬ç§»ä¿æŒå¯ç”¨ï¼ŒåŒæ—¶å°Šé‡ä½ é€‰æ‹©çš„åŒºåŸŸæä¾›å•†ã€‚\n\n### æˆ‘å¿…é¡»è´­ä¹° Mac Mini æ‰èƒ½å®‰è£…å—\n\nä¸éœ€è¦ã€‚OpenClaw è¿è¡Œåœ¨ macOS æˆ– Linux ä¸Šï¼ˆWindows é€šè¿‡ WSL2ï¼‰ã€‚Mac mini æ˜¯å¯é€‰çš„â€”â€”æœ‰äº›äººä¹°ä¸€å°ä½œä¸ºå¸¸å¼€ä¸»æœºï¼Œä½†å°å‹ VPSã€å®¶åº­æœåŠ¡å™¨æˆ– Raspberry Pi çº§åˆ«çš„è®¾å¤‡ä¹Ÿå¯ä»¥ã€‚\n\nä½ åªæœ‰åœ¨ä½¿ç”¨ **macOS ä¸“ç”¨å·¥å…·**æ—¶æ‰éœ€è¦ Macã€‚å¯¹äº iMessageï¼Œä½ å¯ä»¥å°† Gateway ç½‘å…³ä¿æŒåœ¨ Linux ä¸Šï¼Œé€šè¿‡å°† `channels.imessage.cliPath` æŒ‡å‘ SSH åŒ…è£…å™¨åœ¨ä»»ä½• Mac ä¸Šè¿è¡Œ `imsg`ã€‚å¦‚æœä½ éœ€è¦å…¶ä»– macOS ä¸“ç”¨å·¥å…·ï¼Œåœ¨ Mac ä¸Šè¿è¡Œ Gateway ç½‘å…³æˆ–é…å¯¹ä¸€ä¸ª macOS èŠ‚ç‚¹ã€‚",
    "æ–‡æ¡£ï¼š[iMessage](/channels/imessage)ã€[èŠ‚ç‚¹](/nodes)ã€[Mac è¿œç¨‹æ¨¡å¼](/platforms/mac/remote)ã€‚\n\n### iMessage æ”¯æŒéœ€è¦ Mac mini å—\n\nä½ éœ€è¦**æŸå°ç™»å½•äº† Messages çš„ macOS è®¾å¤‡**ã€‚å®ƒ**ä¸ä¸€å®š**æ˜¯ Mac miniâ€”â€”ä»»ä½• Mac éƒ½å¯ä»¥ã€‚OpenClaw çš„ iMessage é›†æˆåœ¨ macOS ä¸Šè¿è¡Œï¼ˆBlueBubbles æˆ– `imsg`ï¼‰ï¼Œè€Œ Gateway ç½‘å…³å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è¿è¡Œã€‚\n\nå¸¸è§è®¾ç½®ï¼š\n\n- åœ¨ Linux/VPS ä¸Šè¿è¡Œ Gateway ç½‘å…³ï¼Œå°† `channels.imessage.cliPath` æŒ‡å‘åœ¨ Mac ä¸Šè¿è¡Œ `imsg` çš„ SSH åŒ…è£…å™¨ã€‚\n- å¦‚æœä½ æƒ³è¦æœ€ç®€å•çš„å•æœºè®¾ç½®ï¼Œåœ¨ Mac ä¸Šè¿è¡Œæ‰€æœ‰ç»„ä»¶ã€‚\n\næ–‡æ¡£ï¼š[iMessage](/channels/imessage)ã€[BlueBubbles](/channels/bluebubbles)ã€\n[Mac è¿œç¨‹æ¨¡å¼](/platforms/mac/remote)ã€‚\n\n### å¦‚æœæˆ‘ä¹°äº† Mac mini è¿è¡Œ OpenClawï¼Œèƒ½è¿æ¥åˆ°æˆ‘çš„ MacBook Pro å—\n\nå¯ä»¥ã€‚**Mac mini å¯ä»¥è¿è¡Œ Gateway ç½‘å…³**ï¼Œä½ çš„ MacBook Pro å¯ä»¥ä½œä¸º**èŠ‚ç‚¹**ï¼ˆä¼´éšè®¾å¤‡ï¼‰è¿æ¥ã€‚èŠ‚ç‚¹ä¸è¿è¡Œ Gateway ç½‘å…³â€”â€”å®ƒä»¬æä¾›é¢å¤–åŠŸèƒ½ï¼Œå¦‚è¯¥è®¾å¤‡ä¸Šçš„å±å¹•/æ‘„åƒå¤´/ç”»å¸ƒå’Œ `system.run`ã€‚\n\nå¸¸è§æ¨¡å¼ï¼š\n\n- Gateway ç½‘å…³åœ¨ Mac mini ä¸Šï¼ˆå¸¸å¼€ï¼‰ã€‚\n- MacBook Pro è¿è¡Œ macOS åº”ç”¨æˆ–èŠ‚ç‚¹ä¸»æœºå¹¶é…å¯¹åˆ° Gateway ç½‘å…³ã€‚\n- ä½¿ç”¨ `openclaw nodes status` / `openclaw nodes list` æŸ¥çœ‹å®ƒã€‚\n\næ–‡æ¡£ï¼š[èŠ‚ç‚¹](/nodes)ã€[èŠ‚ç‚¹ CLI](/cli/nodes)ã€‚\n\n### å¯ä»¥ä½¿ç”¨ Bun å—\n\nBun **ä¸æ¨è**ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿è¡Œæ—¶ bugï¼Œç‰¹åˆ«æ˜¯åœ¨ WhatsApp å’Œ Telegram æ–¹é¢ã€‚\nä½¿ç”¨ **Node** ä»¥è·å¾—ç¨³å®šçš„ Gateway ç½‘å…³ã€‚",
    "å¦‚æœä½ ä»æƒ³å°è¯• Bunï¼Œè¯·åœ¨æ²¡æœ‰ WhatsApp/Telegram çš„éç”Ÿäº§ Gateway ç½‘å…³ä¸Šè¿›è¡Œã€‚\n\n### Telegramï¼šallowFrom å¡«ä»€ä¹ˆ\n\n`channels.telegram.allowFrom` æ˜¯**äººç±»å‘é€è€…çš„ Telegram ç”¨æˆ· ID**ï¼ˆæ•°å­—ï¼Œæ¨èï¼‰æˆ– `@username`ã€‚å®ƒä¸æ˜¯æœºå™¨äººç”¨æˆ·åã€‚\n\næ›´å®‰å…¨çš„æ–¹å¼ï¼ˆæ— éœ€ç¬¬ä¸‰æ–¹æœºå™¨äººï¼‰ï¼š\n\n- ç»™ä½ çš„æœºå™¨äººå‘ç§ä¿¡ï¼Œç„¶åè¿è¡Œ `openclaw logs --follow` å¹¶è¯»å– `from.id`ã€‚\n\nå®˜æ–¹ Bot APIï¼š\n\n- ç»™ä½ çš„æœºå™¨äººå‘ç§ä¿¡ï¼Œç„¶åè°ƒç”¨ `https://api.telegram.org/bot<bot_token>/getUpdates` å¹¶è¯»å– `message.from.id`ã€‚\n\nç¬¬ä¸‰æ–¹ï¼ˆéšç§æ€§è¾ƒä½ï¼‰ï¼š\n\n- ç»™ `@userinfobot` æˆ– `@getidsbot` å‘ç§ä¿¡ã€‚\n\nå‚é˜… [/channels/telegram](/channels/telegram#access-control-dms--groups)ã€‚\n\n### å¤šäººèƒ½å¦ä½¿ç”¨åŒä¸€ä¸ª WhatsApp å·ç é…åˆä¸åŒçš„ OpenClaw å®ä¾‹\n\nå¯ä»¥ï¼Œé€šè¿‡**å¤šæ™ºèƒ½ä½“è·¯ç”±**ã€‚å°†æ¯ä¸ªå‘é€è€…çš„ WhatsApp **ç§ä¿¡**ï¼ˆpeer `kind: \"dm\"`ï¼Œå‘é€è€… E.164 æ ¼å¼å¦‚ `+15551234567`ï¼‰ç»‘å®šåˆ°ä¸åŒçš„ `agentId`ï¼Œè¿™æ ·æ¯ä¸ªäººè·å¾—è‡ªå·±çš„å·¥ä½œåŒºå’Œä¼šè¯å­˜å‚¨ã€‚å›å¤ä»ç„¶æ¥è‡ª**åŒä¸€ä¸ª WhatsApp è´¦æˆ·**ï¼Œä¸”ç§ä¿¡è®¿é—®æ§åˆ¶ï¼ˆ`channels.whatsapp.dmPolicy` / `channels.whatsapp.allowFrom`ï¼‰å¯¹æ¯ä¸ª WhatsApp è´¦æˆ·æ˜¯å…¨å±€çš„ã€‚å‚é˜…[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)å’Œ [WhatsApp](/channels/whatsapp)ã€‚\n\n### èƒ½å¦åŒæ—¶è¿è¡Œä¸€ä¸ªâ€œå¿«é€ŸèŠå¤©â€æ™ºèƒ½ä½“å’Œä¸€ä¸ªâ€œç”¨ Opus ç¼–ç¨‹â€çš„æ™ºèƒ½ä½“",
    "å¯ä»¥ã€‚ä½¿ç”¨å¤šæ™ºèƒ½ä½“è·¯ç”±ï¼šä¸ºæ¯ä¸ªæ™ºèƒ½ä½“è®¾ç½®è‡ªå·±çš„é»˜è®¤æ¨¡å‹ï¼Œç„¶åå°†å…¥ç«™è·¯ç”±ï¼ˆæä¾›å•†è´¦æˆ·æˆ–ç‰¹å®šå¯¹ç­‰æ–¹ï¼‰ç»‘å®šåˆ°æ¯ä¸ªæ™ºèƒ½ä½“ã€‚ç¤ºä¾‹é…ç½®ä½äº[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)ã€‚å¦å‚é˜…[æ¨¡å‹](/concepts/models)å’Œ[é…ç½®](/gateway/configuration)ã€‚\n\n### Homebrew åœ¨ Linux ä¸Šå¯ç”¨å—\n\nå¯ä»¥ã€‚Homebrew æ”¯æŒ Linuxï¼ˆLinuxbrewï¼‰ã€‚å¿«é€Ÿè®¾ç½®ï¼š\n\n```bash\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\necho 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"' >> ~/.profile\neval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\nbrew install <formula>\n```\n\nå¦‚æœä½ é€šè¿‡ systemd è¿è¡Œ OpenClawï¼Œç¡®ä¿æœåŠ¡ PATH åŒ…å« `/home/linuxbrew/.linuxbrew/bin`ï¼ˆæˆ–ä½ çš„ brew å‰ç¼€ï¼‰ï¼Œä»¥ä¾¿ `brew` å®‰è£…çš„å·¥å…·åœ¨éç™»å½• shell ä¸­å¯è§£æã€‚\næœ€è¿‘çš„æ„å»ºè¿˜ä¼šåœ¨ Linux systemd æœåŠ¡ä¸Šè‡ªåŠ¨æ·»åŠ å¸¸è§çš„ç”¨æˆ· bin ç›®å½•ï¼ˆä¾‹å¦‚ `~/.local/bin`ã€`~/.npm-global/bin`ã€`~/.local/share/pnpm`ã€`~/.bun/bin`ï¼‰ï¼Œå¹¶åœ¨è®¾ç½®æ—¶å°Šé‡ `PNPM_HOME`ã€`NPM_CONFIG_PREFIX`ã€`BUN_INSTALL`ã€`VOLTA_HOME`ã€`ASDF_DATA_DIR`ã€`NVM_DIR` å’Œ `FNM_DIR`ã€‚\n\n### å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…å’Œ npm å®‰è£…æœ‰ä»€ä¹ˆåŒºåˆ«\n\n- **å¯ç¼–è¾‘ï¼ˆgitï¼‰å®‰è£…ï¼š** å®Œæ•´æºç  checkoutï¼Œå¯ç¼–è¾‘ï¼Œæœ€é€‚åˆè´¡çŒ®è€…ã€‚ä½ åœ¨æœ¬åœ°è¿è¡Œæ„å»ºå¹¶å¯ä»¥ä¿®è¡¥ä»£ç /æ–‡æ¡£ã€‚\n- **npm å®‰è£…ï¼š** å…¨å±€ CLI å®‰è£…ï¼Œæ— ä»“åº“ï¼Œæœ€é€‚åˆâ€œç›´æ¥è¿è¡Œâ€ã€‚æ›´æ–°æ¥è‡ª npm dist-tagsã€‚",
    "æ–‡æ¡£ï¼š[å…¥é—¨](/start/getting-started)ã€[æ›´æ–°](/install/updating)ã€‚\n\n### ä¹‹åå¯ä»¥åœ¨ npm å’Œ git å®‰è£…ä¹‹é—´åˆ‡æ¢å—\n\nå¯ä»¥ã€‚å®‰è£…å¦ä¸€ç§æ–¹å¼ï¼Œç„¶åè¿è¡Œ Doctor ä½¿ Gateway ç½‘å…³æœåŠ¡æŒ‡å‘æ–°çš„å…¥å£ç‚¹ã€‚\nè¿™**ä¸ä¼šåˆ é™¤ä½ çš„æ•°æ®**â€”â€”å®ƒåªæ”¹å˜ OpenClaw ä»£ç çš„å®‰è£…ä½ç½®ã€‚ä½ çš„çŠ¶æ€\nï¼ˆ`~/.openclaw`ï¼‰å’Œå·¥ä½œåŒºï¼ˆ`~/.openclaw/workspace`ï¼‰ä¿æŒä¸å˜ã€‚\n\nä» npm â†’ gitï¼š\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\npnpm install\npnpm build\nopenclaw doctor\nopenclaw gateway restart\n```\n\nä» git â†’ npmï¼š\n\n```bash\nnpm install -g openclaw@latest\nopenclaw doctor\nopenclaw gateway restart\n```\n\nDoctor ä¼šæ£€æµ‹ Gateway ç½‘å…³æœåŠ¡å…¥å£ç‚¹ä¸åŒ¹é…ï¼Œå¹¶æä¾›é‡å†™æœåŠ¡é…ç½®ä»¥åŒ¹é…å½“å‰å®‰è£…çš„é€‰é¡¹ï¼ˆåœ¨è‡ªåŠ¨åŒ–ä¸­ä½¿ç”¨ `--repair`ï¼‰ã€‚\n\nå¤‡ä»½æç¤ºï¼šå‚é˜…[å¤‡ä»½ç­–ç•¥](/help/faq#whats-the-recommended-backup-strategy)ã€‚\n\n### åº”è¯¥åœ¨ç¬”è®°æœ¬ç”µè„‘è¿˜æ˜¯ VPS ä¸Šè¿è¡Œ Gateway ç½‘å…³ç®€çŸ­å›ç­”ï¼š**å¦‚æœä½ æƒ³è¦ 24/7 å¯é æ€§ï¼Œä½¿ç”¨ VPS**ã€‚å¦‚æœä½ æƒ³è¦æœ€ä½æ‘©æ“¦ä¸”èƒ½æ¥å—ä¼‘çœ /é‡å¯ï¼Œåœ¨æœ¬åœ°è¿è¡Œã€‚\n\n**ç¬”è®°æœ¬ï¼ˆæœ¬åœ° Gateway ç½‘å…³ï¼‰**\n\n- **ä¼˜ç‚¹ï¼š** æ— æœåŠ¡å™¨æˆæœ¬ï¼Œç›´æ¥è®¿é—®æœ¬åœ°æ–‡ä»¶ï¼Œå®æ—¶æµè§ˆå™¨çª—å£ã€‚\n- **ç¼ºç‚¹ï¼š** ä¼‘çœ /ç½‘ç»œä¸­æ–­ = æ–­è¿ï¼Œæ“ä½œç³»ç»Ÿæ›´æ–°/é‡å¯ä¼šä¸­æ–­ï¼Œå¿…é¡»ä¿æŒå”¤é†’ã€‚\n\n**VPS / äº‘**\n\n- **ä¼˜ç‚¹ï¼š** å¸¸å¼€ï¼Œç½‘ç»œç¨³å®šï¼Œæ— ç¬”è®°æœ¬ä¼‘çœ é—®é¢˜ï¼Œæ›´å®¹æ˜“ä¿æŒè¿è¡Œã€‚\n- **ç¼ºç‚¹ï¼š** é€šå¸¸æ— å¤´è¿è¡Œï¼ˆä½¿ç”¨æˆªå›¾ï¼‰ï¼Œä»…è¿œç¨‹æ–‡ä»¶è®¿é—®ï¼Œæ›´æ–°éœ€è¦ SSHã€‚",
    "**OpenClaw ç‰¹å®šè¯´æ˜ï¼š** WhatsApp/Telegram/Slack/Mattermostï¼ˆæ’ä»¶ï¼‰/Discord åœ¨ VPS ä¸Šéƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚å”¯ä¸€çš„çœŸæ­£æƒè¡¡æ˜¯**æ— å¤´æµè§ˆå™¨**ä¸å¯è§çª—å£ã€‚å‚é˜…[æµè§ˆå™¨](/tools/browser)ã€‚\n\n**æ¨èé»˜è®¤å€¼ï¼š** å¦‚æœä¹‹å‰é‡åˆ°è¿‡ Gateway ç½‘å…³æ–­è¿ï¼Œä½¿ç”¨ VPSã€‚å½“ä½ æ­£åœ¨ç§¯æä½¿ç”¨ Mac å¹¶ä¸”éœ€è¦æœ¬åœ°æ–‡ä»¶è®¿é—®æˆ–å¯è§æµè§ˆå™¨çš„ UI è‡ªåŠ¨åŒ–æ—¶ï¼Œæœ¬åœ°è¿è¡Œå¾ˆå¥½ã€‚\n\n### åœ¨ä¸“ç”¨æœºå™¨ä¸Šè¿è¡Œ OpenClaw æœ‰å¤šé‡è¦\n\nä¸æ˜¯å¿…éœ€çš„ï¼Œä½†**æ¨èç”¨äºå¯é æ€§å’Œéš”ç¦»**ã€‚\n\n- **ä¸“ç”¨ä¸»æœºï¼ˆVPS/Mac mini/Piï¼‰ï¼š** å¸¸å¼€ï¼Œæ›´å°‘çš„ä¼‘çœ /é‡å¯ä¸­æ–­ï¼Œæ›´å¹²å‡€çš„æƒé™ï¼Œæ›´å®¹æ˜“ä¿æŒè¿è¡Œã€‚\n- **å…±äº«çš„ç¬”è®°æœ¬/å°å¼æœºï¼š** å®Œå…¨é€‚åˆæµ‹è¯•å’Œæ´»è·ƒä½¿ç”¨ï¼Œä½†å½“æœºå™¨ä¼‘çœ æˆ–æ›´æ–°æ—¶é¢„æœŸä¼šæœ‰æš‚åœã€‚\n\nå¦‚æœä½ æƒ³è¦ä¸¤å…¨å…¶ç¾ï¼Œå°† Gateway ç½‘å…³ä¿æŒåœ¨ä¸“ç”¨ä¸»æœºä¸Šï¼Œå¹¶å°†ç¬”è®°æœ¬é…å¯¹ä¸º**èŠ‚ç‚¹**ä»¥è·å–æœ¬åœ°å±å¹•/æ‘„åƒå¤´/æ‰§è¡Œå·¥å…·ã€‚å‚é˜…[èŠ‚ç‚¹](/nodes)ã€‚\nå®‰å…¨æŒ‡å—è¯·é˜…è¯»[å®‰å…¨](/gateway/security)ã€‚\n\n### VPS çš„æœ€ä½è¦æ±‚å’Œæ¨èæ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆ\n\nOpenClaw æ˜¯è½»é‡çº§çš„ã€‚å¯¹äºåŸºæœ¬çš„ Gateway ç½‘å…³ + ä¸€ä¸ªèŠå¤©æ¸ é“ï¼š\n\n- **ç»å¯¹æœ€ä½ï¼š** 1 vCPUï¼Œ1GB RAMï¼Œçº¦ 500MB ç£ç›˜ã€‚\n- **æ¨èï¼š** 1-2 vCPUï¼Œ2GB RAM æˆ–æ›´å¤šä»¥ç•™æœ‰ä½™é‡ï¼ˆæ—¥å¿—ã€åª’ä½“ã€å¤šæ¸ é“ï¼‰ã€‚èŠ‚ç‚¹å·¥å…·å’Œæµè§ˆå™¨è‡ªåŠ¨åŒ–å¯èƒ½æ¶ˆè€—è¾ƒå¤šèµ„æºã€‚\n\næ“ä½œç³»ç»Ÿï¼šä½¿ç”¨ **Ubuntu LTS**ï¼ˆæˆ–ä»»ä½•ç°ä»£ Debian/Ubuntuï¼‰ã€‚Linux å®‰è£…è·¯å¾„åœ¨é‚£é‡Œæµ‹è¯•å¾—æœ€å……åˆ†ã€‚\n\næ–‡æ¡£ï¼š[Linux](/platforms/linux)ã€[VPS æ‰˜ç®¡](/vps)ã€‚\n\n### å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œ OpenClaw å—ï¼Ÿæœ‰ä»€ä¹ˆè¦æ±‚\n\nå¯ä»¥ã€‚å°†è™šæ‹Ÿæœºè§†ä¸ºä¸ VPS ç›¸åŒï¼šå®ƒéœ€è¦å¸¸å¼€ã€å¯è¾¾ï¼Œå¹¶æœ‰è¶³å¤Ÿçš„ RAM ç”¨äº Gateway ç½‘å…³å’Œä½ å¯ç”¨çš„ä»»ä½•æ¸ é“ã€‚\n\nåŸºå‡†æŒ‡å—ï¼š\n\n- **ç»å¯¹æœ€ä½ï¼š** 1 vCPUï¼Œ1GB RAMã€‚\n- **æ¨èï¼š** 2GB RAM æˆ–æ›´å¤šï¼Œå¦‚æœä½ è¿è¡Œå¤šä¸ªæ¸ é“ã€æµè§ˆå™¨è‡ªåŠ¨åŒ–æˆ–åª’ä½“å·¥å…·ã€‚\n- **æ“ä½œç³»ç»Ÿï¼š** Ubuntu LTS æˆ–å…¶ä»–ç°ä»£ Debian/Ubuntuã€‚",
    "å¦‚æœä½ ä½¿ç”¨ Windowsï¼Œ**WSL2 æ˜¯æœ€ç®€å•çš„è™šæ‹Ÿæœºå¼è®¾ç½®**ï¼Œå…·æœ‰æœ€ä½³çš„å·¥å…·å…¼å®¹æ€§ã€‚å‚é˜… [Windows](/platforms/windows)ã€[VPS æ‰˜ç®¡](/vps)ã€‚\nå¦‚æœä½ åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œ macOSï¼Œå‚é˜… [macOS VM](/install/macos-vm)ã€‚",
    "## ä»€ä¹ˆæ˜¯ OpenClawï¼Ÿ\n\n### ç”¨ä¸€æ®µè¯æè¿° OpenClaw\n\nOpenClaw æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä½ è‡ªå·±è®¾å¤‡ä¸Šçš„ä¸ªäºº AI åŠ©æ‰‹ã€‚å®ƒåœ¨ä½ å·²ç»ä½¿ç”¨çš„æ¶ˆæ¯å¹³å°ä¸Šå›å¤ï¼ˆWhatsAppã€Telegramã€Slackã€Mattermostï¼ˆæ’ä»¶ï¼‰ã€Discordã€Google Chatã€Signalã€iMessageã€WebChatï¼‰ï¼Œè¿˜å¯ä»¥åœ¨æ”¯æŒçš„å¹³å°ä¸Šè¿›è¡Œè¯­éŸ³å’Œå®æ—¶ Canvasã€‚**Gateway ç½‘å…³** æ˜¯å¸¸å¼€çš„æ§åˆ¶å¹³é¢ï¼›åŠ©æ‰‹æ˜¯äº§å“ã€‚\n\n### ä»·å€¼ä¸»å¼ æ˜¯ä»€ä¹ˆ\n\nOpenClaw ä¸æ˜¯â€œåªæ˜¯ä¸€ä¸ª Claude åŒ…è£…å™¨â€ã€‚å®ƒæ˜¯ä¸€ä¸ª**æœ¬åœ°ä¼˜å…ˆçš„æ§åˆ¶å¹³é¢**ï¼Œè®©ä½ åœ¨**è‡ªå·±çš„ç¡¬ä»¶**ä¸Šè¿è¡Œå¼ºå¤§çš„åŠ©æ‰‹ï¼Œå¯ä»ä½ å·²ç»ä½¿ç”¨çš„èŠå¤©åº”ç”¨è®¿é—®ï¼Œå…·æœ‰æœ‰çŠ¶æ€ä¼šè¯ã€è®°å¿†å’Œå·¥å…·â€”â€”æ— éœ€å°†å·¥ä½œæµç¨‹çš„æ§åˆ¶æƒäº¤ç»™æ‰˜ç®¡ SaaSã€‚\n\näº®ç‚¹ï¼š\n\n- **ä½ çš„è®¾å¤‡ï¼Œä½ çš„æ•°æ®ï¼š** åœ¨ä»»ä½•ä½ æƒ³è¦çš„åœ°æ–¹è¿è¡Œ Gateway ç½‘å…³ï¼ˆMacã€Linuxã€VPSï¼‰ï¼Œå¹¶å°†å·¥ä½œåŒº + ä¼šè¯å†å²ä¿æŒåœ¨æœ¬åœ°ã€‚\n- **çœŸå®æ¸ é“ï¼Œè€Œé Web æ²™ç®±ï¼š** WhatsApp/Telegram/Slack/Discord/Signal/iMessage/ç­‰ï¼ŒåŠ ä¸Šæ”¯æŒå¹³å°ä¸Šçš„ç§»åŠ¨è¯­éŸ³å’Œ Canvasã€‚\n- **æ¨¡å‹æ— å…³ï¼š** ä½¿ç”¨ Anthropicã€OpenAIã€MiniMaxã€OpenRouter ç­‰ï¼Œæ”¯æŒæŒ‰æ™ºèƒ½ä½“è·¯ç”±å’Œæ•…éšœè½¬ç§»ã€‚\n- **çº¯æœ¬åœ°é€‰é¡¹ï¼š** è¿è¡Œæœ¬åœ°æ¨¡å‹ï¼Œè®©**æ‰€æœ‰æ•°æ®éƒ½ä¿ç•™åœ¨ä½ çš„è®¾å¤‡ä¸Š**ã€‚\n- **å¤šæ™ºèƒ½ä½“è·¯ç”±ï¼š** æŒ‰æ¸ é“ã€è´¦æˆ·æˆ–ä»»åŠ¡åˆ†é…ä¸åŒçš„æ™ºèƒ½ä½“ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„å·¥ä½œåŒºå’Œé»˜è®¤å€¼ã€‚\n- **å¼€æºä¸”å¯ç¼–è¾‘ï¼š** æ— ä¾›åº”å•†é”å®šåœ°æ£€æŸ¥ã€æ‰©å±•å’Œè‡ªæ‰˜ç®¡ã€‚\n\næ–‡æ¡£ï¼š[Gateway ç½‘å…³](/gateway)ã€[æ¸ é“](/channels)ã€[å¤šæ™ºèƒ½ä½“](/concepts/multi-agent)ã€\n[è®°å¿†](/concepts/memory)ã€‚\n\n### åˆšè®¾ç½®å¥½ï¼Œåº”è¯¥å…ˆåšä»€ä¹ˆ\n\nå¥½çš„å…¥é—¨é¡¹ç›®ï¼š\n\n- å»ºä¸€ä¸ªç½‘ç«™ï¼ˆWordPressã€Shopify æˆ–ç®€å•çš„é™æ€ç«™ç‚¹ï¼‰ã€‚\n- åšä¸€ä¸ªç§»åŠ¨åº”ç”¨åŸå‹ï¼ˆå¤§çº²ã€ç•Œé¢ã€API è®¡åˆ’ï¼‰ã€‚\n- æ•´ç†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆæ¸…ç†ã€å‘½åã€æ‰“æ ‡ç­¾ï¼‰ã€‚\n- è¿æ¥ Gmail å¹¶è‡ªåŠ¨åŒ–æ‘˜è¦æˆ–è·Ÿè¿›ã€‚\n\nå®ƒå¯ä»¥å¤„ç†å¤§å‹ä»»åŠ¡ï¼Œä½†æœ€å¥½å°†å…¶æ‹†åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œå¹¶ä½¿ç”¨å­æ™ºèƒ½ä½“è¿›è¡Œå¹¶è¡Œå·¥ä½œã€‚",
    "### OpenClaw æ—¥å¸¸æœ€å¸¸ç”¨çš„äº”ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆ\n\næ—¥å¸¸æ”¶ç›Šé€šå¸¸åŒ…æ‹¬ï¼š\n\n- **ä¸ªäººç®€æŠ¥ï¼š** æ”¶ä»¶ç®±ã€æ—¥å†å’Œä½ å…³å¿ƒçš„æ–°é—»æ‘˜è¦ã€‚\n- **ç ”ç©¶å’Œèµ·è‰ï¼š** å¿«é€Ÿç ”ç©¶ã€æ‘˜è¦ä»¥åŠé‚®ä»¶æˆ–æ–‡æ¡£çš„åˆç¨¿ã€‚\n- **æé†’å’Œè·Ÿè¿›ï¼š** å®šæ—¶ä»»åŠ¡æˆ–å¿ƒè·³é©±åŠ¨çš„æé†’å’Œæ£€æŸ¥æ¸…å•ã€‚\n- **æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼š** å¡«å†™è¡¨å•ã€æ”¶é›†æ•°æ®å’Œé‡å¤æ€§ç½‘é¡µä»»åŠ¡ã€‚\n- **è·¨è®¾å¤‡åè°ƒï¼š** ä»æ‰‹æœºå‘é€ä»»åŠ¡ï¼Œè®© Gateway ç½‘å…³åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œç„¶ååœ¨èŠå¤©ä¸­è·å–ç»“æœã€‚\n\n### OpenClaw èƒ½å¦å¸®åŠ© SaaS è¿›è¡Œè·å®¢ã€å¤–è”ã€å¹¿å‘Šå’Œåšå®¢\n\nå¯ä»¥ç”¨äº**è°ƒç ”ã€ç­›é€‰å’Œèµ·è‰**ã€‚å®ƒå¯ä»¥æ‰«æç½‘ç«™ã€å»ºç«‹å€™é€‰åå•ã€æ€»ç»“æ½œåœ¨å®¢æˆ·ï¼Œå¹¶æ’°å†™å¤–è”æˆ–å¹¿å‘Šæ–‡æ¡ˆè‰ç¨¿ã€‚\n\nå¯¹äº**å¤–è”æˆ–å¹¿å‘ŠæŠ•æ”¾**ï¼Œè¯·ä¿æŒäººå·¥å®¡æ ¸ã€‚é¿å…åƒåœ¾é‚®ä»¶ï¼Œéµå®ˆå½“åœ°æ³•å¾‹å’Œå¹³å°æ”¿ç­–ï¼Œåœ¨å‘é€ä¹‹å‰å®¡æŸ¥æ‰€æœ‰å†…å®¹ã€‚æœ€å®‰å…¨çš„æ¨¡å¼æ˜¯è®© OpenClaw èµ·è‰ï¼Œç”±ä½ æ‰¹å‡†ã€‚\n\næ–‡æ¡£ï¼š[å®‰å…¨](/gateway/security)ã€‚\n\n### ç›¸æ¯” Claude Codeï¼Œåœ¨ Web å¼€å‘æ–¹é¢æœ‰ä»€ä¹ˆä¼˜åŠ¿\n\nOpenClaw æ˜¯ä¸€ä¸ª**ä¸ªäººåŠ©æ‰‹**å’Œåè°ƒå±‚ï¼Œä¸æ˜¯ IDE æ›¿ä»£å“ã€‚ä½¿ç”¨ Claude Code æˆ– Codex åœ¨ä»“åº“ä¸­è¿›è¡Œæœ€å¿«çš„ç›´æ¥ç¼–ç å¾ªç¯ã€‚å½“ä½ éœ€è¦æŒä¹…è®°å¿†ã€è·¨è®¾å¤‡è®¿é—®å’Œå·¥å…·ç¼–æ’æ—¶ï¼Œä½¿ç”¨ OpenClawã€‚\n\nä¼˜åŠ¿ï¼š\n\n- è·¨ä¼šè¯çš„**æŒä¹…è®°å¿† + å·¥ä½œåŒº**\n- **å¤šå¹³å°è®¿é—®**ï¼ˆWhatsAppã€Telegramã€TUIã€WebChatï¼‰\n- **å·¥å…·ç¼–æ’**ï¼ˆæµè§ˆå™¨ã€æ–‡ä»¶ã€è°ƒåº¦ã€é’©å­ï¼‰\n- **å¸¸å¼€ Gateway ç½‘å…³**ï¼ˆåœ¨ VPS ä¸Šè¿è¡Œï¼Œä»ä»»ä½•åœ°æ–¹äº¤äº’ï¼‰\n- ç”¨äºæœ¬åœ°æµè§ˆå™¨/å±å¹•/æ‘„åƒå¤´/æ‰§è¡Œçš„**èŠ‚ç‚¹**\n\nå±•ç¤ºï¼šhttps://openclaw.ai/showcase",
    "## Skills ä¸è‡ªåŠ¨åŒ–\n\n### å¦‚ä½•è‡ªå®šä¹‰ Skills è€Œä¸å¼„è„ä»“åº“\n\nä½¿ç”¨æ‰˜ç®¡è¦†ç›–è€Œä¸æ˜¯ç¼–è¾‘ä»“åº“å‰¯æœ¬ã€‚å°†ä½ çš„æ›´æ”¹æ”¾åœ¨ `~/.openclaw/skills/<name>/SKILL.md`ï¼ˆæˆ–é€šè¿‡ `~/.openclaw/openclaw.json` ä¸­çš„ `skills.load.extraDirs` æ·»åŠ æ–‡ä»¶å¤¹ï¼‰ã€‚ä¼˜å…ˆçº§æ˜¯ `<workspace>/skills` > `~/.openclaw/skills` > å†…ç½®ï¼Œæ‰€ä»¥æ‰˜ç®¡è¦†ç›–ä¼˜å…ˆç”Ÿæ•ˆè€Œä¸ä¼šä¿®æ”¹ gitã€‚åªæœ‰å€¼å¾—ä¸Šæ¸¸åˆå¹¶çš„ç¼–è¾‘æ‰åº”è¯¥æ”¾åœ¨ä»“åº“ä¸­å¹¶ä½œä¸º PR æäº¤ã€‚\n\n### å¯ä»¥ä»è‡ªå®šä¹‰æ–‡ä»¶å¤¹åŠ è½½ Skills å—\n\nå¯ä»¥ã€‚é€šè¿‡ `~/.openclaw/openclaw.json` ä¸­çš„ `skills.load.extraDirs` æ·»åŠ é¢å¤–ç›®å½•ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ã€‚é»˜è®¤ä¼˜å…ˆçº§ä¿æŒä¸å˜ï¼š`<workspace>/skills` â†’ `~/.openclaw/skills` â†’ å†…ç½® â†’ `skills.load.extraDirs`ã€‚`clawhub` é»˜è®¤å®‰è£…åˆ° `./skills`ï¼ŒOpenClaw å°†å…¶è§†ä¸º `<workspace>/skills`ã€‚\n\n### å¦‚ä½•ä¸ºä¸åŒä»»åŠ¡ä½¿ç”¨ä¸åŒæ¨¡å‹\n\nç›®å‰æ”¯æŒçš„æ¨¡å¼æœ‰ï¼š\n\n- **å®šæ—¶ä»»åŠ¡**ï¼šéš”ç¦»çš„ä»»åŠ¡å¯ä»¥ä¸ºæ¯ä¸ªä»»åŠ¡è®¾ç½® `model` è¦†ç›–ã€‚\n- **å­æ™ºèƒ½ä½“**ï¼šå°†ä»»åŠ¡è·¯ç”±åˆ°å…·æœ‰ä¸åŒé»˜è®¤æ¨¡å‹çš„ç‹¬ç«‹æ™ºèƒ½ä½“ã€‚\n- **æŒ‰éœ€åˆ‡æ¢**ï¼šä½¿ç”¨ `/model` éšæ—¶åˆ‡æ¢å½“å‰ä¼šè¯æ¨¡å‹ã€‚\n\nå‚é˜…[å®šæ—¶ä»»åŠ¡](/automation/cron-jobs)ã€[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)å’Œ[æ–œæ å‘½ä»¤](/tools/slash-commands)ã€‚\n\n### æœºå™¨äººåœ¨æ‰§è¡Œç¹é‡å·¥ä½œæ—¶å¡ä½äº†ï¼Œå¦‚ä½•å¸è½½ä»»åŠ¡\n\nä½¿ç”¨**å­æ™ºèƒ½ä½“**å¤„ç†é•¿æ—¶é—´æˆ–å¹¶è¡Œä»»åŠ¡ã€‚å­æ™ºèƒ½ä½“åœ¨è‡ªå·±çš„ä¼šè¯ä¸­è¿è¡Œï¼Œè¿”å›æ‘˜è¦ï¼Œå¹¶ä¿æŒä½ çš„ä¸»èŠå¤©å“åº”ã€‚\n\nè¦æ±‚ä½ çš„æœºå™¨äººâ€œä¸ºè¿™ä¸ªä»»åŠ¡ç”Ÿæˆä¸€ä¸ªå­æ™ºèƒ½ä½“â€æˆ–ä½¿ç”¨ `/subagents`ã€‚\nåœ¨èŠå¤©ä¸­ä½¿ç”¨ `/status` æŸ¥çœ‹ Gateway ç½‘å…³å½“å‰æ­£åœ¨åšä»€ä¹ˆï¼ˆä»¥åŠæ˜¯å¦å¿™ç¢Œï¼‰ã€‚",
    "ä»¤ç‰Œæç¤ºï¼šé•¿ä»»åŠ¡å’Œå­æ™ºèƒ½ä½“éƒ½æ¶ˆè€—ä»¤ç‰Œã€‚å¦‚æœå…³æ³¨æˆæœ¬ï¼Œé€šè¿‡ `agents.defaults.subagents.model` ä¸ºå­æ™ºèƒ½ä½“è®¾ç½®æ›´ä¾¿å®œçš„æ¨¡å‹ã€‚\n\næ–‡æ¡£ï¼š[å­æ™ºèƒ½ä½“](/tools/subagents)ã€‚\n\n### å®šæ—¶ä»»åŠ¡æˆ–æé†’æ²¡æœ‰è§¦å‘ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆ\n\nå®šæ—¶ä»»åŠ¡åœ¨ Gateway ç½‘å…³è¿›ç¨‹å†…è¿è¡Œã€‚å¦‚æœ Gateway ç½‘å…³æ²¡æœ‰æŒç»­è¿è¡Œï¼Œè®¡åˆ’ä»»åŠ¡å°†ä¸ä¼šè¿è¡Œã€‚\n\næ£€æŸ¥æ¸…å•ï¼š\n\n- ç¡®è®¤ cron å·²å¯ç”¨ï¼ˆ`cron.enabled`ï¼‰ä¸”æœªè®¾ç½® `OPENCLAW_SKIP_CRON`ã€‚\n- æ£€æŸ¥ Gateway ç½‘å…³æ˜¯å¦ 24/7 è¿è¡Œï¼ˆæ— ä¼‘çœ /é‡å¯ï¼‰ã€‚\n- éªŒè¯ä»»åŠ¡çš„æ—¶åŒºè®¾ç½®ï¼ˆ`--tz` ä¸ä¸»æœºæ—¶åŒºï¼‰ã€‚\n\nè°ƒè¯•ï¼š\n\n```bash\nopenclaw cron run <jobId> --force\nopenclaw cron runs --id <jobId> --limit 50\n```\n\næ–‡æ¡£ï¼š[å®šæ—¶ä»»åŠ¡](/automation/cron-jobs)ã€[å®šæ—¶ä»»åŠ¡ vs å¿ƒè·³](/automation/cron-vs-heartbeat)ã€‚\n\n### å¦‚ä½•åœ¨ Linux ä¸Šå®‰è£… Skills\n\nä½¿ç”¨ **ClawHub**ï¼ˆCLIï¼‰æˆ–å°† Skills æ”¾å…¥ä½ çš„å·¥ä½œåŒºã€‚macOS Skills UI åœ¨ Linux ä¸Šä¸å¯ç”¨ã€‚\næµè§ˆ Skillsï¼šhttps://clawhub.comã€‚\n\nå®‰è£… ClawHub CLIï¼ˆé€‰æ‹©ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼‰ï¼š\n\n```bash\nnpm i -g clawhub\n```\n\n```bash\npnpm add -g clawhub\n```\n\n### OpenClaw èƒ½å¦æŒ‰è®¡åˆ’æˆ–åœ¨åå°æŒç»­è¿è¡Œä»»åŠ¡\n\nå¯ä»¥ã€‚ä½¿ç”¨ Gateway ç½‘å…³è°ƒåº¦å™¨ï¼š\n\n- **å®šæ—¶ä»»åŠ¡**ç”¨äºè®¡åˆ’æˆ–é‡å¤ä»»åŠ¡ï¼ˆè·¨é‡å¯æŒä¹…åŒ–ï¼‰ã€‚\n- **å¿ƒè·³**ç”¨äºâ€œä¸»ä¼šè¯â€å®šæœŸæ£€æŸ¥ã€‚\n- **éš”ç¦»ä»»åŠ¡**ç”¨äºè‡ªä¸»æ™ºèƒ½ä½“å‘å¸ƒæ‘˜è¦æˆ–æŠ•é€’åˆ°èŠå¤©ã€‚\n\næ–‡æ¡£ï¼š[å®šæ—¶ä»»åŠ¡](/automation/cron-jobs)ã€[å®šæ—¶ä»»åŠ¡ vs å¿ƒè·³](/automation/cron-vs-heartbeat)ã€\n[å¿ƒè·³](/gateway/heartbeat)ã€‚\n\n**èƒ½å¦ä» Linux è¿è¡Œä»…é™ Apple/macOS çš„ Skills**",
    "ä¸èƒ½ç›´æ¥è¿è¡Œã€‚macOS Skills å— `metadata.openclaw.os` å’Œæ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶é™åˆ¶ï¼ŒSkills åªæœ‰åœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸Šç¬¦åˆæ¡ä»¶æ—¶æ‰ä¼šå‡ºç°åœ¨ç³»ç»Ÿæç¤ºä¸­ã€‚åœ¨ Linux ä¸Šï¼Œ`darwin` ä¸“ç”¨ Skillsï¼ˆå¦‚ `apple-notes`ã€`apple-reminders`ã€`things-mac`ï¼‰ä¸ä¼šåŠ è½½ï¼Œé™¤éä½ è¦†ç›–é™åˆ¶ã€‚\n\nä½ æœ‰ä¸‰ç§æ”¯æŒçš„æ¨¡å¼ï¼š\n\n**æ–¹æ¡ˆ A - åœ¨ Mac ä¸Šè¿è¡Œ Gateway ç½‘å…³ï¼ˆæœ€ç®€å•ï¼‰ã€‚**\nåœ¨ macOS äºŒè¿›åˆ¶æ–‡ä»¶æ‰€åœ¨çš„åœ°æ–¹è¿è¡Œ Gateway ç½‘å…³ï¼Œç„¶åä» Linux é€šè¿‡[è¿œç¨‹æ¨¡å¼](#how-do-i-run-openclaw-in-remote-mode-client-connects-to-a-gateway-elsewhere)æˆ– Tailscale è¿æ¥ã€‚Skills æ­£å¸¸åŠ è½½ï¼Œå› ä¸º Gateway ç½‘å…³ä¸»æœºæ˜¯ macOSã€‚\n\n**æ–¹æ¡ˆ B - ä½¿ç”¨ macOS èŠ‚ç‚¹ï¼ˆæ— éœ€ SSHï¼‰ã€‚**\nåœ¨ Linux ä¸Šè¿è¡Œ Gateway ç½‘å…³ï¼Œé…å¯¹ä¸€ä¸ª macOS èŠ‚ç‚¹ï¼ˆèœå•æ åº”ç”¨ï¼‰ï¼Œå¹¶åœ¨ Mac ä¸Šå°†**èŠ‚ç‚¹è¿è¡Œå‘½ä»¤**è®¾ç½®ä¸ºâ€œå§‹ç»ˆè¯¢é—®â€æˆ–â€œå§‹ç»ˆå…è®¸â€ã€‚å½“æ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶å­˜åœ¨äºèŠ‚ç‚¹ä¸Šæ—¶ï¼ŒOpenClaw å¯ä»¥å°† macOS ä¸“ç”¨ Skills è§†ä¸ºç¬¦åˆæ¡ä»¶ã€‚æ™ºèƒ½ä½“é€šè¿‡ `nodes` å·¥å…·è¿è¡Œè¿™äº› Skillsã€‚å¦‚æœä½ é€‰æ‹©â€œå§‹ç»ˆè¯¢é—®â€ï¼Œåœ¨æç¤ºä¸­æ‰¹å‡†â€œå§‹ç»ˆå…è®¸â€ä¼šå°†è¯¥å‘½ä»¤æ·»åŠ åˆ°å…è®¸åˆ—è¡¨ã€‚\n\n**æ–¹æ¡ˆ C - é€šè¿‡ SSH ä»£ç† macOS äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆé«˜çº§ï¼‰ã€‚**\nä¿æŒ Gateway ç½‘å…³åœ¨ Linux ä¸Šï¼Œä½†ä½¿æ‰€éœ€çš„ CLI äºŒè¿›åˆ¶æ–‡ä»¶è§£æä¸ºåœ¨ Mac ä¸Šè¿è¡Œçš„ SSH åŒ…è£…å™¨ã€‚ç„¶åè¦†ç›– Skills ä»¥å…è®¸ Linux ä½¿å…¶ä¿æŒç¬¦åˆæ¡ä»¶ã€‚",
    "1. ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶åˆ›å»º SSH åŒ…è£…å™¨ï¼ˆç¤ºä¾‹ï¼š`imsg`ï¼‰ï¼š\n   ```bash\n   #!/usr/bin/env bash\n   set -euo pipefail\n   exec ssh -T user@mac-host /opt/homebrew/bin/imsg \"$@\"\n   ```\n2. å°†åŒ…è£…å™¨æ”¾åœ¨ Linux ä¸»æœºçš„ `PATH` ä¸Šï¼ˆä¾‹å¦‚ `~/bin/imsg`ï¼‰ã€‚\n3. è¦†ç›– Skills å…ƒæ•°æ®ï¼ˆå·¥ä½œåŒºæˆ– `~/.openclaw/skills`ï¼‰ä»¥å…è®¸ Linuxï¼š\n   ```markdown\n   ---\n   name: imsg\n   description: iMessage/SMS CLI for listing chats, history, watch, and sending.\n   metadata: { \"openclaw\": { \"os\": [\"darwin\", \"linux\"], \"requires\": { \"bins\": [\"imsg\"] } } }\n   ---\n   ```\n4. å¼€å§‹æ–°ä¼šè¯ä»¥åˆ·æ–° Skills å¿«ç…§ã€‚\n\nå¯¹äº iMessageï¼Œä½ ä¹Ÿå¯ä»¥å°† `channels.imessage.cliPath` æŒ‡å‘ SSH åŒ…è£…å™¨ï¼ˆOpenClaw åªéœ€è¦ stdioï¼‰ã€‚å‚é˜… [iMessage](/channels/imessage)ã€‚\n\n### æœ‰ Notion æˆ– HeyGen é›†æˆå—\n\nç›®å‰æ²¡æœ‰å†…ç½®é›†æˆã€‚\n\né€‰é¡¹ï¼š\n\n- **è‡ªå®šä¹‰ Skills / æ’ä»¶ï¼š** æœ€é€‚åˆå¯é çš„ API è®¿é—®ï¼ˆNotion/HeyGen éƒ½æœ‰ APIï¼‰ã€‚\n- **æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼š** æ— éœ€ç¼–ç ä½†æ›´æ…¢ä¸”æ›´è„†å¼±ã€‚\n\nå¦‚æœä½ æƒ³æŒ‰å®¢æˆ·ä¿ç•™ä¸Šä¸‹æ–‡ï¼ˆä»£ç†å·¥ä½œæµï¼‰ï¼Œä¸€ä¸ªç®€å•çš„æ¨¡å¼æ˜¯ï¼š\n\n- æ¯ä¸ªå®¢æˆ·ä¸€ä¸ª Notion é¡µé¢ï¼ˆä¸Šä¸‹æ–‡ + åå¥½ + å½“å‰å·¥ä½œï¼‰ã€‚\n- åœ¨ä¼šè¯å¼€å§‹æ—¶è¦æ±‚æ™ºèƒ½ä½“è·å–è¯¥é¡µé¢ã€‚\n\nå¦‚æœä½ æƒ³è¦åŸç”Ÿé›†æˆï¼Œè¯·æäº¤åŠŸèƒ½è¯·æ±‚æˆ–æ„å»ºä¸€ä¸ªé’ˆå¯¹è¿™äº› API çš„ Skillsã€‚\n\nå®‰è£… Skillsï¼š\n\n```bash\nclawhub install <skill-slug>\nclawhub update --all\n```",
    "ClawHub å®‰è£…åˆ°å½“å‰ç›®å½•ä¸‹çš„ `./skills`ï¼ˆæˆ–å›é€€åˆ°ä½ é…ç½®çš„ OpenClaw å·¥ä½œåŒºï¼‰ï¼›OpenClaw åœ¨ä¸‹ä¸€ä¸ªä¼šè¯ä¸­å°†å…¶è§†ä¸º `<workspace>/skills`ã€‚å¯¹äºè·¨æ™ºèƒ½ä½“å…±äº«çš„ Skillsï¼Œå°†å®ƒä»¬æ”¾åœ¨ `~/.openclaw/skills/<name>/SKILL.md`ã€‚æŸäº› Skills æœŸæœ›é€šè¿‡ Homebrew å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶ï¼›åœ¨ Linux ä¸Šæ„å‘³ç€ Linuxbrewï¼ˆå‚é˜…ä¸Šé¢çš„ Homebrew Linux å¸¸è§é—®é¢˜æ¡ç›®ï¼‰ã€‚å‚é˜…[Skills](/tools/skills)å’Œ [ClawHub](/tools/clawhub)ã€‚\n\n### å¦‚ä½•å®‰è£…ç”¨äºæµè§ˆå™¨æ¥ç®¡çš„ Chrome æ‰©å±•\n\nä½¿ç”¨å†…ç½®å®‰è£…ç¨‹åºï¼Œç„¶ååœ¨ Chrome ä¸­åŠ è½½æœªæ‰“åŒ…çš„æ‰©å±•ï¼š\n\n```bash\nopenclaw browser extension install\nopenclaw browser extension path\n```\n\nç„¶å Chrome â†’ `chrome://extensions` â†’ å¯ç”¨â€œå¼€å‘è€…æ¨¡å¼â€ â†’ â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€ â†’ é€‰æ‹©è¯¥æ–‡ä»¶å¤¹ã€‚\n\nå®Œæ•´æŒ‡å—ï¼ˆåŒ…æ‹¬è¿œç¨‹ Gateway ç½‘å…³ + å®‰å…¨æ³¨æ„äº‹é¡¹ï¼‰ï¼š[Chrome æ‰©å±•](/tools/chrome-extension)\n\nå¦‚æœ Gateway ç½‘å…³è¿è¡Œåœ¨ä¸ Chrome åŒä¸€å°æœºå™¨ä¸Šï¼ˆé»˜è®¤è®¾ç½®ï¼‰ï¼Œä½ é€šå¸¸**ä¸éœ€è¦**é¢å¤–é…ç½®ã€‚\nå¦‚æœ Gateway ç½‘å…³è¿è¡Œåœ¨å…¶ä»–åœ°æ–¹ï¼Œåœ¨è¿è¡Œæµè§ˆå™¨çš„æœºå™¨ä¸Šè¿è¡Œä¸€ä¸ªèŠ‚ç‚¹ä¸»æœºï¼Œä»¥ä¾¿ Gateway ç½‘å…³å¯ä»¥ä»£ç†æµè§ˆå™¨æ“ä½œã€‚\nä½ ä»ç„¶éœ€è¦åœ¨è¦æ§åˆ¶çš„æ ‡ç­¾é¡µä¸Šç‚¹å‡»æ‰©å±•æŒ‰é’®ï¼ˆå®ƒä¸ä¼šè‡ªåŠ¨é™„åŠ ï¼‰ã€‚",
    "## æ²™ç®±ä¸è®°å¿†\n\n### æœ‰ä¸“é—¨çš„æ²™ç®±æ–‡æ¡£å—\n\næœ‰ã€‚å‚é˜…[æ²™ç®±](/gateway/sandboxing)ã€‚å¯¹äº Docker ç‰¹å®šè®¾ç½®ï¼ˆå®Œæ•´ Gateway ç½‘å…³åœ¨ Docker ä¸­æˆ–æ²™ç®±é•œåƒï¼‰ï¼Œå‚é˜… [Docker](/install/docker)ã€‚\n\n**èƒ½å¦è®©ç§ä¿¡ä¿æŒç§å¯†ï¼Œä½†ç¾¤ç»„ç”¨ä¸€ä¸ªæ™ºèƒ½ä½“å…¬å¼€æ²™ç®±éš”ç¦»**\n\nå¯ä»¥â€”â€”å¦‚æœä½ çš„ç§å¯†æµé‡æ˜¯**ç§ä¿¡**è€Œå…¬å¼€æµé‡æ˜¯**ç¾¤ç»„**ã€‚\n\nä½¿ç”¨ `agents.defaults.sandbox.mode: \"non-main\"`ï¼Œè¿™æ ·ç¾¤ç»„/é¢‘é“ä¼šè¯ï¼ˆéä¸»é”®ï¼‰åœ¨ Docker ä¸­è¿è¡Œï¼Œè€Œä¸»ç§ä¿¡ä¼šè¯ä¿æŒåœ¨ä¸»æœºä¸Šã€‚ç„¶åé€šè¿‡ `tools.sandbox.tools` é™åˆ¶æ²™ç®±ä¼šè¯ä¸­å¯ç”¨çš„å·¥å…·ã€‚\n\nè®¾ç½®æŒ‡å— + ç¤ºä¾‹é…ç½®ï¼š[ç¾¤ç»„ï¼šä¸ªäººç§ä¿¡ + å…¬å¼€ç¾¤ç»„](/concepts/groups#pattern-personal-dms-public-groups-single-agent)\n\nå…³é”®é…ç½®å‚è€ƒï¼š[Gateway ç½‘å…³é…ç½®](/gateway/configuration#agentsdefaultssandbox)\n\n### å¦‚ä½•å°†ä¸»æœºæ–‡ä»¶å¤¹ç»‘å®šåˆ°æ²™ç®±ä¸­\n\nå°† `agents.defaults.sandbox.docker.binds` è®¾ç½®ä¸º `[\"host:path:mode\"]`ï¼ˆä¾‹å¦‚ `\"/home/user/src:/src:ro\"`ï¼‰ã€‚å…¨å±€ + æŒ‰æ™ºèƒ½ä½“çš„ç»‘å®šä¼šåˆå¹¶ï¼›å½“ `scope: \"shared\"` æ—¶æŒ‰æ™ºèƒ½ä½“çš„ç»‘å®šä¼šè¢«å¿½ç•¥ã€‚å¯¹äºæ•æ„Ÿå†…å®¹ä½¿ç”¨ `:ro`ï¼Œå¹¶è®°ä½ç»‘å®šä¼šç»•è¿‡æ²™ç®±æ–‡ä»¶ç³»ç»Ÿéš”ç¦»ã€‚å‚é˜…[æ²™ç®±](/gateway/sandboxing#custom-bind-mounts)å’Œ[æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ](/gateway/sandbox-vs-tool-policy-vs-elevated#bind-mounts-security-quick-check)äº†è§£ç¤ºä¾‹å’Œå®‰å…¨æ³¨æ„äº‹é¡¹ã€‚\n\n### è®°å¿†æ˜¯å¦‚ä½•å·¥ä½œçš„\n\nOpenClaw è®°å¿†å°±æ˜¯æ™ºèƒ½ä½“å·¥ä½œåŒºä¸­çš„ Markdown æ–‡ä»¶ï¼š\n\n- æ¯æ—¥ç¬”è®°åœ¨ `memory/YYYY-MM-DD.md`\n- ç²¾é€‰çš„é•¿æœŸç¬”è®°åœ¨ `MEMORY.md`ï¼ˆä»…é™ä¸»/ç§å¯†ä¼šè¯ï¼‰",
    "OpenClaw è¿˜ä¼šè¿è¡Œ**é™é»˜çš„é¢„å‹ç¼©è®°å¿†åˆ·æ–°**ï¼Œä»¥æé†’æ¨¡å‹åœ¨è‡ªåŠ¨å‹ç¼©ä¹‹å‰å†™å…¥æŒä¹…ç¬”è®°ã€‚è¿™åªåœ¨å·¥ä½œåŒºå¯å†™æ—¶è¿è¡Œï¼ˆåªè¯»æ²™ç®±ä¼šè·³è¿‡ï¼‰ã€‚å‚é˜…[è®°å¿†](/concepts/memory)ã€‚\n\n### è®°å¿†æ€»æ˜¯é—å¿˜ï¼Œå¦‚ä½•è®©å®ƒæŒä¹…ä¿å­˜\n\nè¦æ±‚æœºå™¨äºº**å°†äº‹å®å†™å…¥è®°å¿†**ã€‚é•¿æœŸç¬”è®°å±äº `MEMORY.md`ï¼ŒçŸ­æœŸä¸Šä¸‹æ–‡æ”¾å…¥ `memory/YYYY-MM-DD.md`ã€‚\n\nè¿™ä»ç„¶æ˜¯æˆ‘ä»¬æ­£åœ¨æ”¹è¿›çš„é¢†åŸŸã€‚æé†’æ¨¡å‹å­˜å‚¨è®°å¿†ä¼šæœ‰å¸®åŠ©ï¼›å®ƒä¼šçŸ¥é“å¦‚ä½•æ“ä½œã€‚å¦‚æœå®ƒæŒç»­é—å¿˜ï¼ŒéªŒè¯ Gateway ç½‘å…³æ¯æ¬¡è¿è¡Œæ—¶æ˜¯å¦ä½¿ç”¨ç›¸åŒçš„å·¥ä½œåŒºã€‚\n\næ–‡æ¡£ï¼š[è®°å¿†](/concepts/memory)ã€[æ™ºèƒ½ä½“å·¥ä½œåŒº](/concepts/agent-workspace)ã€‚\n\n### è¯­ä¹‰è®°å¿†æœç´¢éœ€è¦ OpenAI API å¯†é’¥å—\n\nåªæœ‰åœ¨ä½¿ç”¨ **OpenAI embeddings** æ—¶æ‰éœ€è¦ã€‚Codex OAuth è¦†ç›– chat/completions ä½†**ä¸**æˆäºˆ embeddings è®¿é—®æƒé™ï¼Œå› æ­¤**ä½¿ç”¨ Codex ç™»å½•ï¼ˆOAuth æˆ– Codex CLI ç™»å½•ï¼‰**å¯¹è¯­ä¹‰è®°å¿†æœç´¢æ²¡æœ‰å¸®åŠ©ã€‚OpenAI embeddings ä»ç„¶éœ€è¦çœŸæ­£çš„ API å¯†é’¥ï¼ˆ`OPENAI_API_KEY` æˆ– `models.providers.openai.apiKey`ï¼‰ã€‚\n\nå¦‚æœä½ æ²¡æœ‰æ˜ç¡®è®¾ç½®æä¾›å•†ï¼ŒOpenClaw ä¼šåœ¨èƒ½è§£æ API å¯†é’¥ï¼ˆè®¤è¯é…ç½®æ–‡ä»¶ã€`models.providers.*.apiKey` æˆ–ç¯å¢ƒå˜é‡ï¼‰æ—¶è‡ªåŠ¨é€‰æ‹©æä¾›å•†ã€‚å¦‚æœ OpenAI å¯†é’¥å¯è§£æåˆ™ä¼˜å…ˆä½¿ç”¨ OpenAIï¼Œå¦åˆ™å¦‚æœ Gemini å¯†é’¥å¯è§£æåˆ™ä½¿ç”¨ Geminiã€‚å¦‚æœä¸¤ä¸ªå¯†é’¥éƒ½ä¸å¯ç”¨ï¼Œè®°å¿†æœç´¢ä¿æŒç¦ç”¨ç›´åˆ°ä½ é…ç½®å®ƒã€‚å¦‚æœä½ é…ç½®äº†æœ¬åœ°æ¨¡å‹è·¯å¾„ä¸”å­˜åœ¨ï¼ŒOpenClaw ä¼˜å…ˆä½¿ç”¨ `local`ã€‚",
    "å¦‚æœä½ æ›´æƒ³ä¿æŒæœ¬åœ°è¿è¡Œï¼Œè®¾ç½® `memorySearch.provider = \"local\"`ï¼ˆå¯é€‰ `memorySearch.fallback = \"none\"`ï¼‰ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨ Gemini embeddingsï¼Œè®¾ç½® `memorySearch.provider = \"gemini\"` å¹¶æä¾› `GEMINI_API_KEY`ï¼ˆæˆ– `memorySearch.remote.apiKey`ï¼‰ã€‚æˆ‘ä»¬æ”¯æŒ **OpenAIã€Gemini æˆ–æœ¬åœ°** embedding æ¨¡å‹â€”â€”å‚é˜…[è®°å¿†](/concepts/memory)äº†è§£è®¾ç½®è¯¦æƒ…ã€‚\n\n### è®°å¿†æ˜¯å¦æ°¸ä¹…ä¿ç•™ï¼Ÿæœ‰ä»€ä¹ˆé™åˆ¶\n\nè®°å¿†æ–‡ä»¶ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼ŒæŒä¹…å­˜åœ¨ç›´åˆ°ä½ åˆ é™¤å®ƒä»¬ã€‚é™åˆ¶æ˜¯ä½ çš„å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸æ˜¯æ¨¡å‹ã€‚**ä¼šè¯ä¸Šä¸‹æ–‡**ä»ç„¶å—æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼Œæ‰€ä»¥é•¿å¯¹è¯å¯èƒ½ä¼šå‹ç¼©æˆ–æˆªæ–­ã€‚è¿™å°±æ˜¯è®°å¿†æœç´¢å­˜åœ¨çš„åŸå› â€”â€”å®ƒåªå°†ç›¸å…³éƒ¨åˆ†æ‹‰å›ä¸Šä¸‹æ–‡ã€‚\n\næ–‡æ¡£ï¼š[è®°å¿†](/concepts/memory)ã€[ä¸Šä¸‹æ–‡](/concepts/context)ã€‚",
    "## ç£ç›˜ä¸Šçš„æ–‡ä»¶ä½ç½®\n\n### OpenClaw ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨æœ¬åœ°å—\n\nä¸æ˜¯â€”â€”**OpenClaw çš„çŠ¶æ€æ˜¯æœ¬åœ°çš„**ï¼Œä½†**å¤–éƒ¨æœåŠ¡ä»ç„¶ä¼šçœ‹åˆ°ä½ å‘é€ç»™å®ƒä»¬çš„å†…å®¹**ã€‚\n\n- **é»˜è®¤æœ¬åœ°ï¼š** ä¼šè¯ã€è®°å¿†æ–‡ä»¶ã€é…ç½®å’Œå·¥ä½œåŒºä½äº Gateway ç½‘å…³ä¸»æœºä¸Šï¼ˆ`~/.openclaw` + ä½ çš„å·¥ä½œåŒºç›®å½•ï¼‰ã€‚\n- **å¿…ç„¶è¿œç¨‹ï¼š** ä½ å‘é€ç»™æ¨¡å‹æä¾›å•†ï¼ˆAnthropic/OpenAI/ç­‰ï¼‰çš„æ¶ˆæ¯ä¼šå‘é€åˆ°å®ƒä»¬çš„ APIï¼ŒèŠå¤©å¹³å°ï¼ˆWhatsApp/Telegram/Slack/ç­‰ï¼‰åœ¨å®ƒä»¬çš„æœåŠ¡å™¨ä¸Šå­˜å‚¨æ¶ˆæ¯æ•°æ®ã€‚\n- **ä½ æ§åˆ¶èŒƒå›´ï¼š** ä½¿ç”¨æœ¬åœ°æ¨¡å‹å¯ä»¥å°†æç¤ºä¿ç•™åœ¨ä½ çš„æœºå™¨ä¸Šï¼Œä½†æ¸ é“æµé‡ä»ç„¶é€šè¿‡æ¸ é“çš„æœåŠ¡å™¨ã€‚\n\nç›¸å…³ï¼š[æ™ºèƒ½ä½“å·¥ä½œåŒº](/concepts/agent-workspace)ã€[è®°å¿†](/concepts/memory)ã€‚\n\n### OpenClaw å°†æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œ\n\næ‰€æœ‰å†…å®¹ä½äº `$OPENCLAW_STATE_DIR`ï¼ˆé»˜è®¤ï¼š`~/.openclaw`ï¼‰ä¸‹ï¼š",
    "| è·¯å¾„                                                            | ç”¨é€”                                                 |\n| --------------------------------------------------------------- | ---------------------------------------------------- |\n| `$OPENCLAW_STATE_DIR/openclaw.json`                             | ä¸»é…ç½®ï¼ˆJSON5ï¼‰                                      |\n| `$OPENCLAW_STATE_DIR/credentials/oauth.json`                    | æ—§ç‰ˆ OAuth å¯¼å…¥ï¼ˆé¦–æ¬¡ä½¿ç”¨æ—¶å¤åˆ¶åˆ°è®¤è¯é…ç½®æ–‡ä»¶ï¼‰      |\n| `$OPENCLAW_STATE_DIR/agents/<agentId>/agent/auth-profiles.json` | è®¤è¯é…ç½®æ–‡ä»¶ï¼ˆOAuth + API å¯†é’¥ï¼‰                     |\n| `$OPENCLAW_STATE_DIR/agents/<agentId>/agent/auth.json`          | è¿è¡Œæ—¶è®¤è¯ç¼“å­˜ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼‰                           |\n| `$OPENCLAW_STATE_DIR/credentials/`                              | æä¾›å•†çŠ¶æ€ï¼ˆä¾‹å¦‚ `whatsapp/<accountId>/creds.json`ï¼‰ |\n| `$OPENCLAW_STATE_DIR/agents/`                                   | æŒ‰æ™ºèƒ½ä½“çš„çŠ¶æ€ï¼ˆagentDir + ä¼šè¯ï¼‰                    |\n| `$OPENCLAW_STATE_DIR/agents/<agentId>/sessions/`                | å¯¹è¯å†å²å’ŒçŠ¶æ€ï¼ˆæŒ‰æ™ºèƒ½ä½“ï¼‰                           |\n| `$OPENCLAW_STATE_DIR/agents/<agentId>/sessions/sessions.json`   | ä¼šè¯å…ƒæ•°æ®ï¼ˆæŒ‰æ™ºèƒ½ä½“ï¼‰                               |",
    "æ—§ç‰ˆå•æ™ºèƒ½ä½“è·¯å¾„ï¼š`~/.openclaw/agent/*`ï¼ˆé€šè¿‡ `openclaw doctor` è¿ç§»ï¼‰ã€‚\n\nä½ çš„**å·¥ä½œåŒº**ï¼ˆAGENTS.mdã€è®°å¿†æ–‡ä»¶ã€Skills ç­‰ï¼‰æ˜¯ç‹¬ç«‹çš„ï¼Œé€šè¿‡ `agents.defaults.workspace` é…ç½®ï¼ˆé»˜è®¤ï¼š`~/.openclaw/workspace`ï¼‰ã€‚\n\n### AGENTS.md / SOUL.md / USER.md / MEMORY.md åº”è¯¥æ”¾åœ¨å“ªé‡Œ\n\nè¿™äº›æ–‡ä»¶ä½äº**æ™ºèƒ½ä½“å·¥ä½œåŒº**ä¸­ï¼Œè€Œä¸æ˜¯ `~/.openclaw`ã€‚\n\n- **å·¥ä½œåŒºï¼ˆæŒ‰æ™ºèƒ½ä½“ï¼‰**ï¼š`AGENTS.md`ã€`SOUL.md`ã€`IDENTITY.md`ã€`USER.md`ã€\n  `MEMORY.md`ï¼ˆæˆ– `memory.md`ï¼‰ã€`memory/YYYY-MM-DD.md`ã€å¯é€‰çš„ `HEARTBEAT.md`ã€‚\n- **çŠ¶æ€ç›®å½•ï¼ˆ`~/.openclaw`ï¼‰**ï¼šé…ç½®ã€å‡­æ®ã€è®¤è¯é…ç½®æ–‡ä»¶ã€ä¼šè¯ã€æ—¥å¿—å’Œå…±äº« Skillsï¼ˆ`~/.openclaw/skills`ï¼‰ã€‚\n\né»˜è®¤å·¥ä½œåŒºæ˜¯ `~/.openclaw/workspace`ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š\n\n```json5\n{\n  agents: { defaults: { workspace: \"~/.openclaw/workspace\" } },\n}\n```\n\nå¦‚æœæœºå™¨äººåœ¨é‡å¯åâ€œå¿˜è®°â€äº†å†…å®¹ï¼Œç¡®è®¤ Gateway ç½‘å…³æ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä½¿ç”¨ç›¸åŒçš„å·¥ä½œåŒºï¼ˆè®°ä½ï¼šè¿œç¨‹æ¨¡å¼ä½¿ç”¨ **Gateway ç½‘å…³ä¸»æœºçš„**å·¥ä½œåŒºï¼Œè€Œä¸æ˜¯ä½ æœ¬åœ°ç¬”è®°æœ¬çš„ï¼‰ã€‚\n\næç¤ºï¼šå¦‚æœä½ æƒ³è¦ä¸€ä¸ªæŒä¹…çš„è¡Œä¸ºæˆ–åå¥½ï¼Œè¦æ±‚æœºå™¨äºº**å°†å…¶å†™å…¥ AGENTS.md æˆ– MEMORY.md**ï¼Œè€Œä¸æ˜¯ä¾èµ–èŠå¤©å†å²ã€‚\n\nå‚é˜…[æ™ºèƒ½ä½“å·¥ä½œåŒº](/concepts/agent-workspace)å’Œ[è®°å¿†](/concepts/memory)ã€‚\n\n### æ¨èçš„å¤‡ä»½ç­–ç•¥æ˜¯ä»€ä¹ˆ\n\nå°†ä½ çš„**æ™ºèƒ½ä½“å·¥ä½œåŒº**æ”¾å…¥ä¸€ä¸ª**ç§æœ‰** git ä»“åº“ï¼Œå¹¶å¤‡ä»½åˆ°æŸä¸ªç§æœ‰ä½ç½®ï¼ˆä¾‹å¦‚ GitHub ç§æœ‰ä»“åº“ï¼‰ã€‚è¿™ä¼šæ•è·è®°å¿† + AGENTS/SOUL/USER æ–‡ä»¶ï¼Œè®©ä½ ä»¥åå¯ä»¥æ¢å¤åŠ©æ‰‹çš„â€œæ€ç»´â€ã€‚",
    "**ä¸è¦**æäº¤ `~/.openclaw` ä¸‹çš„ä»»ä½•å†…å®¹ï¼ˆå‡­æ®ã€ä¼šè¯ã€ä»¤ç‰Œï¼‰ã€‚å¦‚æœä½ éœ€è¦å®Œæ•´æ¢å¤ï¼Œå°†å·¥ä½œåŒºå’ŒçŠ¶æ€ç›®å½•åˆ†åˆ«å¤‡ä»½ï¼ˆå‚é˜…ä¸Šé¢çš„è¿ç§»é—®é¢˜ï¼‰ã€‚\n\næ–‡æ¡£ï¼š[æ™ºèƒ½ä½“å·¥ä½œåŒº](/concepts/agent-workspace)ã€‚\n\n### å¦‚ä½•å®Œå…¨å¸è½½ OpenClaw\n\nå‚é˜…ä¸“é—¨æŒ‡å—ï¼š[å¸è½½](/install/uninstall)ã€‚\n\n### æ™ºèƒ½ä½“å¯ä»¥åœ¨å·¥ä½œåŒºå¤–å·¥ä½œå—\n\nå¯ä»¥ã€‚å·¥ä½œåŒºæ˜¯**é»˜è®¤ cwd** å’Œè®°å¿†é”šç‚¹ï¼Œä¸æ˜¯ç¡¬æ²™ç®±ã€‚ç›¸å¯¹è·¯å¾„åœ¨å·¥ä½œåŒºå†…è§£æï¼Œä½†ç»å¯¹è·¯å¾„å¯ä»¥è®¿é—®å…¶ä»–ä¸»æœºä½ç½®ï¼Œé™¤éå¯ç”¨äº†æ²™ç®±ã€‚å¦‚æœä½ éœ€è¦éš”ç¦»ï¼Œä½¿ç”¨ [`agents.defaults.sandbox`](/gateway/sandboxing) æˆ–æŒ‰æ™ºèƒ½ä½“çš„æ²™ç®±è®¾ç½®ã€‚å¦‚æœä½ å¸Œæœ›æŸä¸ªä»“åº“ä½œä¸ºé»˜è®¤å·¥ä½œç›®å½•ï¼Œå°†è¯¥æ™ºèƒ½ä½“çš„ `workspace` æŒ‡å‘ä»“åº“æ ¹ç›®å½•ã€‚OpenClaw ä»“åº“åªæ˜¯æºä»£ç ï¼›é™¤éä½ æœ‰æ„è¦è®©æ™ºèƒ½ä½“åœ¨å…¶ä¸­å·¥ä½œï¼Œå¦åˆ™ä¿æŒå·¥ä½œåŒºç‹¬ç«‹ã€‚\n\nç¤ºä¾‹ï¼ˆä»“åº“ä½œä¸ºé»˜è®¤ cwdï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      workspace: \"~/Projects/my-repo\",\n    },\n  },\n}\n```\n\n### æˆ‘å¤„äºè¿œç¨‹æ¨¡å¼â€”â€”ä¼šè¯å­˜å‚¨åœ¨å“ªé‡Œ\n\nä¼šè¯çŠ¶æ€å½’ **Gateway ç½‘å…³ä¸»æœº**æ‰€æœ‰ã€‚å¦‚æœä½ å¤„äºè¿œç¨‹æ¨¡å¼ï¼Œä½ å…³å¿ƒçš„ä¼šè¯å­˜å‚¨åœ¨è¿œç¨‹æœºå™¨ä¸Šï¼Œè€Œä¸æ˜¯ä½ çš„æœ¬åœ°ç¬”è®°æœ¬ä¸Šã€‚å‚é˜…[ä¼šè¯ç®¡ç†](/concepts/session)ã€‚",
    "## é…ç½®åŸºç¡€\n\n### é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿåœ¨å“ªé‡Œ\n\nOpenClaw ä» `$OPENCLAW_CONFIG_PATH`ï¼ˆé»˜è®¤ï¼š`~/.openclaw/openclaw.json`ï¼‰è¯»å–å¯é€‰çš„ **JSON5** é…ç½®ï¼š\n\n```\n$OPENCLAW_CONFIG_PATH\n```\n\nå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨å®‰å…¨çš„é»˜è®¤å€¼ï¼ˆåŒ…æ‹¬é»˜è®¤å·¥ä½œåŒº `~/.openclaw/workspace`ï¼‰ã€‚\n\n### æˆ‘è®¾ç½®äº† gateway.bind: \"lan\"ï¼ˆæˆ– \"tailnet\"ï¼‰ï¼Œç°åœ¨ä»€ä¹ˆéƒ½ç›‘å¬ä¸äº† / UI æ˜¾ç¤ºæœªæˆæƒ\n\né local loopback ç»‘å®š**éœ€è¦è®¤è¯**ã€‚é…ç½® `gateway.auth.mode` + `gateway.auth.token`ï¼ˆæˆ–ä½¿ç”¨ `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚\n\n```json5\n{\n  gateway: {\n    bind: \"lan\",\n    auth: {\n      mode: \"token\",\n      token: \"replace-me\",\n    },\n  },\n}\n```\n\næ³¨æ„ï¼š\n\n- `gateway.remote.token` ä»…ç”¨äº**è¿œç¨‹ CLI è°ƒç”¨**ï¼›å®ƒä¸å¯ç”¨æœ¬åœ° Gateway ç½‘å…³è®¤è¯ã€‚\n- æ§åˆ¶ UI é€šè¿‡ `connect.params.auth.token`ï¼ˆå­˜å‚¨åœ¨åº”ç”¨/UI è®¾ç½®ä¸­ï¼‰è¿›è¡Œè®¤è¯ã€‚é¿å…å°†ä»¤ç‰Œæ”¾åœ¨ URL ä¸­ã€‚\n\n### ä¸ºä»€ä¹ˆç°åœ¨åœ¨ localhost ä¹Ÿéœ€è¦ä»¤ç‰Œ\n\nå‘å¯¼é»˜è®¤ç”Ÿæˆ Gateway ç½‘å…³ä»¤ç‰Œï¼ˆå³ä½¿åœ¨ local loopback ä¸Šï¼‰ï¼Œå› æ­¤**æœ¬åœ° WS å®¢æˆ·ç«¯å¿…é¡»è®¤è¯**ã€‚è¿™é˜»æ­¢äº†å…¶ä»–æœ¬åœ°è¿›ç¨‹è°ƒç”¨ Gateway ç½‘å…³ã€‚åœ¨æ§åˆ¶ UI è®¾ç½®ï¼ˆæˆ–ä½ çš„å®¢æˆ·ç«¯é…ç½®ï¼‰ä¸­ç²˜è´´ä»¤ç‰Œä»¥è¿æ¥ã€‚\n\nå¦‚æœä½ **ç¡®å®**æƒ³è¦å¼€æ”¾ local loopbackï¼Œä»é…ç½®ä¸­ç§»é™¤ `gateway.auth`ã€‚Doctor å¯ä»¥éšæ—¶ä¸ºä½ ç”Ÿæˆä»¤ç‰Œï¼š`openclaw doctor --generate-gateway-token`ã€‚\n\n### æ›´æ”¹é…ç½®åéœ€è¦é‡å¯å—\n\nGateway ç½‘å…³ç›‘è§†é…ç½®æ–‡ä»¶å¹¶æ”¯æŒçƒ­é‡è½½ï¼š",
    "- `gateway.reload.mode: \"hybrid\"`ï¼ˆé»˜è®¤ï¼‰ï¼šå®‰å…¨æ›´æ”¹çƒ­åº”ç”¨ï¼Œå…³é”®æ›´æ”¹é‡å¯\n- ä¹Ÿæ”¯æŒ `hot`ã€`restart`ã€`off`\n\n### å¦‚ä½•å¯ç”¨ç½‘ç»œæœç´¢ï¼ˆå’Œç½‘é¡µæŠ“å–ï¼‰\n\n`web_fetch` æ— éœ€ API å¯†é’¥å³å¯å·¥ä½œã€‚`web_search` éœ€è¦ Brave Search API å¯†é’¥ã€‚**æ¨èï¼š** è¿è¡Œ `openclaw configure --section web` å°†å…¶å­˜å‚¨åœ¨ `tools.web.search.apiKey` ä¸­ã€‚ç¯å¢ƒå˜é‡æ›¿ä»£æ–¹æ¡ˆï¼šä¸º Gateway ç½‘å…³è¿›ç¨‹è®¾ç½® `BRAVE_API_KEY`ã€‚\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        enabled: true,\n        apiKey: \"BRAVE_API_KEY_HERE\",\n        maxResults: 5,\n      },\n      fetch: {\n        enabled: true,\n      },\n    },\n  },\n}\n```\n\næ³¨æ„ï¼š\n\n- å¦‚æœä½ ä½¿ç”¨å…è®¸åˆ—è¡¨ï¼Œæ·»åŠ  `web_search`/`web_fetch` æˆ– `group:web`ã€‚\n- `web_fetch` é»˜è®¤å¯ç”¨ï¼ˆé™¤éæ˜ç¡®ç¦ç”¨ï¼‰ã€‚\n- å®ˆæŠ¤è¿›ç¨‹ä» `~/.openclaw/.env`ï¼ˆæˆ–æœåŠ¡ç¯å¢ƒï¼‰è¯»å–ç¯å¢ƒå˜é‡ã€‚\n\næ–‡æ¡£ï¼š[Web å·¥å…·](/tools/web)ã€‚\n\n### config.apply æ¸…ç©ºäº†æˆ‘çš„é…ç½®ï¼Œå¦‚ä½•æ¢å¤å’Œé¿å…\n\n`config.apply` æ›¿æ¢**æ•´ä¸ªé…ç½®**ã€‚å¦‚æœä½ å‘é€éƒ¨åˆ†å¯¹è±¡ï¼Œå…¶ä»–æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«ç§»é™¤ã€‚\n\næ¢å¤ï¼š\n\n- ä»å¤‡ä»½æ¢å¤ï¼ˆgit æˆ–å¤åˆ¶çš„ `~/.openclaw/openclaw.json`ï¼‰ã€‚\n- å¦‚æœæ²¡æœ‰å¤‡ä»½ï¼Œé‡æ–°è¿è¡Œ `openclaw doctor` å¹¶é‡æ–°é…ç½®æ¸ é“/æ¨¡å‹ã€‚\n- å¦‚æœè¿™æ˜¯æ„å¤–æƒ…å†µï¼Œæäº¤ bug å¹¶é™„ä¸Šä½ æœ€åå·²çŸ¥çš„é…ç½®æˆ–ä»»ä½•å¤‡ä»½ã€‚\n- æœ¬åœ°ç¼–ç æ™ºèƒ½ä½“é€šå¸¸å¯ä»¥ä»æ—¥å¿—æˆ–å†å²ä¸­é‡å»ºå·¥ä½œé…ç½®ã€‚\n\né¿å…æ–¹æ³•ï¼š\n\n- å¯¹å°æ›´æ”¹ä½¿ç”¨ `openclaw config set`ã€‚\n- å¯¹äº¤äº’å¼ç¼–è¾‘ä½¿ç”¨ `openclaw configure`ã€‚",
    "æ–‡æ¡£ï¼š[Config](/cli/config)ã€[Configure](/cli/configure)ã€[Doctor](/gateway/doctor)ã€‚\n\n### å¦‚ä½•è¿è¡Œä¸€ä¸ªä¸­å¿ƒ Gateway ç½‘å…³é…åˆè·¨è®¾å¤‡çš„ä¸“ç”¨å·¥ä½œèŠ‚ç‚¹\n\nå¸¸è§æ¨¡å¼æ˜¯**ä¸€ä¸ª Gateway ç½‘å…³**ï¼ˆä¾‹å¦‚ Raspberry Piï¼‰åŠ ä¸Š**èŠ‚ç‚¹**å’Œ**æ™ºèƒ½ä½“**ï¼š\n\n- **Gateway ç½‘å…³ï¼ˆä¸­å¿ƒï¼‰ï¼š** æ‹¥æœ‰æ¸ é“ï¼ˆSignal/WhatsAppï¼‰ã€è·¯ç”±å’Œä¼šè¯ã€‚\n- **èŠ‚ç‚¹ï¼ˆè®¾å¤‡ï¼‰ï¼š** Mac/iOS/Android ä½œä¸ºå¤–å›´è®¾å¤‡è¿æ¥ï¼Œæš´éœ²æœ¬åœ°å·¥å…·ï¼ˆ`system.run`ã€`canvas`ã€`camera`ï¼‰ã€‚\n- **æ™ºèƒ½ä½“ï¼ˆå·¥ä½œè€…ï¼‰ï¼š** ç”¨äºç‰¹æ®Šè§’è‰²çš„ç‹¬ç«‹å¤§è„‘/å·¥ä½œåŒºï¼ˆä¾‹å¦‚â€œHetzner è¿ç»´â€ã€â€œä¸ªäººæ•°æ®â€ï¼‰ã€‚\n- **å­æ™ºèƒ½ä½“ï¼š** éœ€è¦å¹¶è¡Œå¤„ç†æ—¶ä»ä¸»æ™ºèƒ½ä½“ç”Ÿæˆåå°å·¥ä½œã€‚\n- **TUIï¼š** è¿æ¥åˆ° Gateway ç½‘å…³å¹¶åˆ‡æ¢æ™ºèƒ½ä½“/ä¼šè¯ã€‚\n\næ–‡æ¡£ï¼š[èŠ‚ç‚¹](/nodes)ã€[è¿œç¨‹è®¿é—®](/gateway/remote)ã€[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)ã€[å­æ™ºèƒ½ä½“](/tools/subagents)ã€[TUI](/tui)ã€‚\n\n### OpenClaw æµè§ˆå™¨å¯ä»¥æ— å¤´è¿è¡Œå—\n\nå¯ä»¥ã€‚è¿™æ˜¯ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼š\n\n```json5\n{\n  browser: { headless: true },\n  agents: {\n    defaults: {\n      sandbox: { browser: { headless: true } },\n    },\n  },\n}\n```\n\né»˜è®¤ä¸º `false`ï¼ˆæœ‰å¤´ï¼‰ã€‚æ— å¤´æ¨¡å¼åœ¨æŸäº›ç½‘ç«™ä¸Šæ›´å®¹æ˜“è§¦å‘åæœºå™¨äººæ£€æµ‹ã€‚å‚é˜…[æµè§ˆå™¨](/tools/browser)ã€‚\n\næ— å¤´æ¨¡å¼ä½¿ç”¨**ç›¸åŒçš„ Chromium å¼•æ“**ï¼Œé€‚ç”¨äºå¤§å¤šæ•°è‡ªåŠ¨åŒ–ï¼ˆè¡¨å•ã€ç‚¹å‡»ã€æŠ“å–ã€ç™»å½•ï¼‰ã€‚ä¸»è¦åŒºåˆ«ï¼š\n\n- æ²¡æœ‰å¯è§çš„æµè§ˆå™¨çª—å£ï¼ˆå¦‚æœéœ€è¦è§†è§‰æ•ˆæœä½¿ç”¨æˆªå›¾ï¼‰ã€‚\n- æŸäº›ç½‘ç«™åœ¨æ— å¤´æ¨¡å¼ä¸‹å¯¹è‡ªåŠ¨åŒ–æ›´ä¸¥æ ¼ï¼ˆéªŒè¯ç ã€åæœºå™¨äººï¼‰ã€‚ä¾‹å¦‚ï¼ŒX/Twitter ç»å¸¸é˜»æ­¢æ— å¤´ä¼šè¯ã€‚\n\n### å¦‚ä½•ä½¿ç”¨ Brave è¿›è¡Œæµè§ˆå™¨æ§åˆ¶",
    "å°† `browser.executablePath` è®¾ç½®ä¸ºä½ çš„ Brave äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæˆ–ä»»ä½•åŸºäº Chromium çš„æµè§ˆå™¨ï¼‰å¹¶é‡å¯ Gateway ç½‘å…³ã€‚\nå‚é˜…[æµè§ˆå™¨](/tools/browser#use-brave-or-another-chromium-based-browser)ä¸­çš„å®Œæ•´é…ç½®ç¤ºä¾‹ã€‚",
    "## è¿œç¨‹ Gateway ç½‘å…³ä¸èŠ‚ç‚¹\n\n### å‘½ä»¤å¦‚ä½•åœ¨ Telegramã€Gateway ç½‘å…³å’ŒèŠ‚ç‚¹ä¹‹é—´ä¼ æ’­\n\nTelegram æ¶ˆæ¯ç”± **Gateway ç½‘å…³** å¤„ç†ã€‚Gateway ç½‘å…³è¿è¡Œæ™ºèƒ½ä½“ï¼Œåªæœ‰åœ¨éœ€è¦èŠ‚ç‚¹å·¥å…·æ—¶æ‰é€šè¿‡ **Gateway ç½‘å…³ WebSocket** è°ƒç”¨èŠ‚ç‚¹ï¼š\n\nTelegram â†’ Gateway ç½‘å…³ â†’ æ™ºèƒ½ä½“ â†’ `node.*` â†’ èŠ‚ç‚¹ â†’ Gateway ç½‘å…³ â†’ Telegram\n\nèŠ‚ç‚¹ä¸ä¼šçœ‹åˆ°å…¥ç«™æä¾›å•†æµé‡ï¼›å®ƒä»¬åªæ¥æ”¶èŠ‚ç‚¹ RPC è°ƒç”¨ã€‚\n\n### å¦‚æœ Gateway ç½‘å…³æ‰˜ç®¡åœ¨è¿œç¨‹ï¼Œæˆ‘çš„æ™ºèƒ½ä½“å¦‚ä½•è®¿é—®æˆ‘çš„ç”µè„‘\n\nç®€çŸ­å›ç­”ï¼š**å°†ä½ çš„ç”µè„‘é…å¯¹ä¸ºèŠ‚ç‚¹**ã€‚Gateway ç½‘å…³è¿è¡Œåœ¨å…¶ä»–åœ°æ–¹ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡ Gateway ç½‘å…³ WebSocket åœ¨ä½ çš„æœ¬åœ°æœºå™¨ä¸Šè°ƒç”¨ `node.*` å·¥å…·ï¼ˆå±å¹•ã€æ‘„åƒå¤´ã€ç³»ç»Ÿï¼‰ã€‚\n\nå…¸å‹è®¾ç½®ï¼š\n\n1. åœ¨å¸¸å¼€ä¸»æœºï¼ˆVPS/å®¶åº­æœåŠ¡å™¨ï¼‰ä¸Šè¿è¡Œ Gateway ç½‘å…³ã€‚\n2. å°† Gateway ç½‘å…³ä¸»æœºå’Œä½ çš„ç”µè„‘æ”¾åœ¨åŒä¸€ä¸ª tailnet ä¸Šã€‚\n3. ç¡®ä¿ Gateway ç½‘å…³ WS å¯è¾¾ï¼ˆtailnet ç»‘å®šæˆ– SSH éš§é“ï¼‰ã€‚\n4. åœ¨æœ¬åœ°æ‰“å¼€ macOS åº”ç”¨å¹¶ä»¥**è¿œç¨‹ over SSH** æ¨¡å¼è¿æ¥ï¼ˆæˆ–ç›´æ¥ tailnetï¼‰ï¼Œä½¿å…¶å¯ä»¥æ³¨å†Œä¸ºèŠ‚ç‚¹ã€‚\n5. åœ¨ Gateway ç½‘å…³ä¸Šæ‰¹å‡†èŠ‚ç‚¹ï¼š\n   ```bash\n   openclaw nodes pending\n   openclaw nodes approve <requestId>\n   ```\n\nä¸éœ€è¦å•ç‹¬çš„ TCP æ¡¥æ¥ï¼›èŠ‚ç‚¹é€šè¿‡ Gateway ç½‘å…³ WebSocket è¿æ¥ã€‚\n\nå®‰å…¨æé†’ï¼šé…å¯¹ macOS èŠ‚ç‚¹å…è®¸åœ¨è¯¥æœºå™¨ä¸Šæ‰§è¡Œ `system.run`ã€‚åªé…å¯¹ä½ ä¿¡ä»»çš„è®¾å¤‡ï¼Œå¹¶æŸ¥é˜…[å®‰å…¨](/gateway/security)ã€‚\n\næ–‡æ¡£ï¼š[èŠ‚ç‚¹](/nodes)ã€[Gateway ç½‘å…³åè®®](/gateway/protocol)ã€[macOS è¿œç¨‹æ¨¡å¼](/platforms/mac/remote)ã€[å®‰å…¨](/gateway/security)ã€‚\n\n### Tailscale å·²è¿æ¥ä½†æ”¶ä¸åˆ°å›å¤ï¼Œæ€ä¹ˆåŠ\n\næ£€æŸ¥åŸºç¡€é¡¹ï¼š",
    "- Gateway ç½‘å…³æ­£åœ¨è¿è¡Œï¼š`openclaw gateway status`\n- Gateway ç½‘å…³å¥åº·ï¼š`openclaw status`\n- æ¸ é“å¥åº·ï¼š`openclaw channels status`\n\nç„¶åéªŒè¯è®¤è¯å’Œè·¯ç”±ï¼š\n\n- å¦‚æœä½ ä½¿ç”¨ Tailscale Serveï¼Œç¡®ä¿ `gateway.auth.allowTailscale` è®¾ç½®æ­£ç¡®ã€‚\n- å¦‚æœä½ é€šè¿‡ SSH éš§é“è¿æ¥ï¼Œç¡®è®¤æœ¬åœ°éš§é“å·²å¯åŠ¨å¹¶æŒ‡å‘æ­£ç¡®ç«¯å£ã€‚\n- ç¡®è®¤ä½ çš„å…è®¸åˆ—è¡¨ï¼ˆç§ä¿¡æˆ–ç¾¤ç»„ï¼‰åŒ…å«ä½ çš„è´¦æˆ·ã€‚\n\næ–‡æ¡£ï¼š[Tailscale](/gateway/tailscale)ã€[è¿œç¨‹è®¿é—®](/gateway/remote)ã€[æ¸ é“](/channels)ã€‚\n\n### ä¸¤ä¸ª OpenClaw å®ä¾‹ï¼ˆæœ¬åœ° + VPSï¼‰å¯ä»¥äº’ç›¸é€šä¿¡å—\n\nå¯ä»¥ã€‚æ²¡æœ‰å†…ç½®çš„â€œæœºå™¨äººå¯¹æœºå™¨äººâ€æ¡¥æ¥ï¼Œä½†ä½ å¯ä»¥é€šè¿‡å‡ ç§å¯é çš„æ–¹å¼å®ç°ï¼š\n\n**æœ€ç®€å•ï¼š** ä½¿ç”¨ä¸¤ä¸ªæœºå™¨äººéƒ½èƒ½è®¿é—®çš„æ™®é€šèŠå¤©æ¸ é“ï¼ˆTelegram/Slack/WhatsAppï¼‰ã€‚è®©æœºå™¨äºº A ç»™æœºå™¨äºº B å‘æ¶ˆæ¯ï¼Œç„¶åè®©æœºå™¨äºº B æ­£å¸¸å›å¤ã€‚\n\n**CLI æ¡¥æ¥ï¼ˆé€šç”¨ï¼‰ï¼š** è¿è¡Œä¸€ä¸ªè„šæœ¬è°ƒç”¨å¦ä¸€ä¸ª Gateway ç½‘å…³ï¼Œä½¿ç”¨ `openclaw agent --message ... --deliver`ï¼Œå®šå‘åˆ°å¦ä¸€ä¸ªæœºå™¨äººç›‘å¬çš„èŠå¤©ã€‚å¦‚æœä¸€ä¸ªæœºå™¨äººåœ¨è¿œç¨‹ VPS ä¸Šï¼Œé€šè¿‡ SSH/Tailscale å°†ä½ çš„ CLI æŒ‡å‘è¯¥è¿œç¨‹ Gateway ç½‘å…³ï¼ˆå‚é˜…[è¿œç¨‹è®¿é—®](/gateway/remote)ï¼‰ã€‚\n\nç¤ºä¾‹æ¨¡å¼ï¼ˆä»èƒ½åˆ°è¾¾ç›®æ ‡ Gateway ç½‘å…³çš„æœºå™¨ä¸Šè¿è¡Œï¼‰ï¼š\n\n```bash\nopenclaw agent --message \"Hello from local bot\" --deliver --channel telegram --reply-to <chat-id>\n```\n\næç¤ºï¼šæ·»åŠ æŠ¤æ é˜²æ­¢ä¸¤ä¸ªæœºå™¨äººæ— é™å¾ªç¯ï¼ˆä»…æåŠã€æ¸ é“å…è®¸åˆ—è¡¨æˆ–â€œä¸å›å¤æœºå™¨äººæ¶ˆæ¯â€è§„åˆ™ï¼‰ã€‚\n\næ–‡æ¡£ï¼š[è¿œç¨‹è®¿é—®](/gateway/remote)ã€[Agent CLI](/cli/agent)ã€[Agent send](/tools/agent-send)ã€‚\n\n### å¤šä¸ªæ™ºèƒ½ä½“éœ€è¦ç‹¬ç«‹çš„ VPS å—",
    "ä¸éœ€è¦ã€‚ä¸€ä¸ª Gateway ç½‘å…³å¯ä»¥æ‰˜ç®¡å¤šä¸ªæ™ºèƒ½ä½“ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„å·¥ä½œåŒºã€æ¨¡å‹é»˜è®¤å€¼å’Œè·¯ç”±ã€‚è¿™æ˜¯æ­£å¸¸è®¾ç½®ï¼Œæ¯”æ¯ä¸ªæ™ºèƒ½ä½“ä¸€ä¸ª VPS ä¾¿å®œä¸”ç®€å•å¾—å¤šã€‚\n\nåªæœ‰åœ¨éœ€è¦ç¡¬éš”ç¦»ï¼ˆå®‰å…¨è¾¹ç•Œï¼‰æˆ–éå¸¸ä¸åŒçš„é…ç½®ï¼ˆä½ ä¸æƒ³å…±äº«ï¼‰æ—¶æ‰ä½¿ç”¨ç‹¬ç«‹çš„ VPSã€‚å¦åˆ™ä¿æŒä¸€ä¸ª Gateway ç½‘å…³å¹¶ä½¿ç”¨å¤šä¸ªæ™ºèƒ½ä½“æˆ–å­æ™ºèƒ½ä½“ã€‚\n\n### åœ¨ä¸ªäººç¬”è®°æœ¬ç”µè„‘ä¸Šä½¿ç”¨èŠ‚ç‚¹è€Œä¸æ˜¯ä» VPS SSH æœ‰ä»€ä¹ˆå¥½å¤„\n\næœ‰â€”â€”èŠ‚ç‚¹æ˜¯ä»è¿œç¨‹ Gateway ç½‘å…³åˆ°è¾¾ä½ ç¬”è®°æœ¬çš„é¦–é€‰æ–¹å¼ï¼Œå®ƒä»¬è§£é”çš„ä¸ä»…ä»…æ˜¯ shell è®¿é—®ã€‚Gateway ç½‘å…³è¿è¡Œåœ¨ macOS/Linuxï¼ˆWindows é€šè¿‡ WSL2ï¼‰ä¸Šä¸”æ˜¯è½»é‡çº§çš„ï¼ˆå°å‹ VPS æˆ– Raspberry Pi çº§åˆ«çš„è®¾å¤‡å°±å¤Ÿç”¨ï¼›4 GB RAM è¶³å¤Ÿï¼‰ï¼Œæ‰€ä»¥å¸¸è§è®¾ç½®æ˜¯ä¸€ä¸ªå¸¸å¼€ä¸»æœºåŠ ä¸Šä½ çš„ç¬”è®°æœ¬ä½œä¸ºèŠ‚ç‚¹ã€‚\n\n- **æ— éœ€å…¥ç«™ SSHã€‚** èŠ‚ç‚¹å‘ Gateway ç½‘å…³ WebSocket å‘èµ·å‡ºç«™è¿æ¥å¹¶ä½¿ç”¨è®¾å¤‡é…å¯¹ã€‚\n- **æ›´å®‰å…¨çš„æ‰§è¡Œæ§åˆ¶ã€‚** `system.run` å—è¯¥ç¬”è®°æœ¬ä¸ŠèŠ‚ç‚¹å…è®¸åˆ—è¡¨/å®¡æ‰¹çš„é™åˆ¶ã€‚\n- **æ›´å¤šè®¾å¤‡å·¥å…·ã€‚** èŠ‚ç‚¹é™¤äº† `system.run` è¿˜æš´éœ² `canvas`ã€`camera` å’Œ `screen`ã€‚\n- **æœ¬åœ°æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€‚** å°† Gateway ç½‘å…³ä¿æŒåœ¨ VPS ä¸Šï¼Œä½†åœ¨æœ¬åœ°è¿è¡Œ Chrome å¹¶é€šè¿‡ Chrome æ‰©å±• + ç¬”è®°æœ¬ä¸Šçš„èŠ‚ç‚¹ä¸»æœºä¸­ç»§æ§åˆ¶ã€‚\n\nSSH å¯¹ä¸´æ—¶ shell è®¿é—®å¾ˆå¥½ï¼Œä½†èŠ‚ç‚¹å¯¹äºæŒç»­çš„æ™ºèƒ½ä½“å·¥ä½œæµå’Œè®¾å¤‡è‡ªåŠ¨åŒ–æ›´ç®€å•ã€‚\n\næ–‡æ¡£ï¼š[èŠ‚ç‚¹](/nodes)ã€[èŠ‚ç‚¹ CLI](/cli/nodes)ã€[Chrome æ‰©å±•](/tools/chrome-extension)ã€‚\n\n### åº”è¯¥åœ¨ç¬¬äºŒå°ç¬”è®°æœ¬ä¸Šå®‰è£…è¿˜æ˜¯åªæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹\n\nå¦‚æœä½ åªéœ€è¦ç¬¬äºŒå°ç¬”è®°æœ¬ä¸Šçš„**æœ¬åœ°å·¥å…·**ï¼ˆå±å¹•/æ‘„åƒå¤´/æ‰§è¡Œï¼‰ï¼Œå°†å…¶æ·»åŠ ä¸º**èŠ‚ç‚¹**ã€‚è¿™ä¿æŒå•ä¸€ Gateway ç½‘å…³å¹¶é¿å…é‡å¤é…ç½®ã€‚æœ¬åœ°èŠ‚ç‚¹å·¥å…·ç›®å‰ä»…é™ macOSï¼Œä½†æˆ‘ä»¬è®¡åˆ’æ‰©å±•åˆ°å…¶ä»–æ“ä½œç³»ç»Ÿã€‚\n\nåªæœ‰åœ¨éœ€è¦**ç¡¬éš”ç¦»**æˆ–ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„æœºå™¨äººæ—¶æ‰å®‰è£…ç¬¬äºŒä¸ª Gateway ç½‘å…³ã€‚\n\næ–‡æ¡£ï¼š[èŠ‚ç‚¹](/nodes)ã€[èŠ‚ç‚¹ CLI](/cli/nodes)ã€[å¤š Gateway ç½‘å…³](/gateway/multiple-gateways)ã€‚",
    "### èŠ‚ç‚¹ä¼šè¿è¡Œ Gateway ç½‘å…³æœåŠ¡å—\n\nä¸ä¼šã€‚æ¯å°ä¸»æœºä¸Šåº”è¯¥åªè¿è¡Œ**ä¸€ä¸ª Gateway ç½‘å…³**ï¼Œé™¤éä½ æœ‰æ„è¿è¡Œéš”ç¦»çš„é…ç½®æ–‡ä»¶ï¼ˆå‚é˜…[å¤š Gateway ç½‘å…³](/gateway/multiple-gateways)ï¼‰ã€‚èŠ‚ç‚¹æ˜¯è¿æ¥åˆ° Gateway ç½‘å…³çš„å¤–å›´è®¾å¤‡ï¼ˆiOS/Android èŠ‚ç‚¹ï¼Œæˆ– macOS èœå•æ åº”ç”¨çš„â€œèŠ‚ç‚¹æ¨¡å¼â€ï¼‰ã€‚å¯¹äºæ— å¤´èŠ‚ç‚¹ä¸»æœºå’Œ CLI æ§åˆ¶ï¼Œå‚é˜…[èŠ‚ç‚¹ä¸»æœº CLI](/cli/node)ã€‚\n\n`gateway`ã€`discovery` å’Œ `canvasHost` çš„æ›´æ”¹éœ€è¦å®Œå…¨é‡å¯ã€‚\n\n### æœ‰ API / RPC æ–¹å¼æ¥åº”ç”¨é…ç½®å—\n\næœ‰ã€‚`config.apply` éªŒè¯ + å†™å…¥å®Œæ•´é…ç½®ï¼Œå¹¶åœ¨æ“ä½œè¿‡ç¨‹ä¸­é‡å¯ Gateway ç½‘å…³ã€‚\n\n### é¦–æ¬¡å®‰è£…çš„æœ€å°â€œåˆç†â€é…ç½®æ˜¯ä»€ä¹ˆ\n\n```json5\n{\n  agents: { defaults: { workspace: \"~/.openclaw/workspace\" } },\n  channels: { whatsapp: { allowFrom: [\"+15555550123\"] } },\n}\n```\n\nè¿™è®¾ç½®äº†ä½ çš„å·¥ä½œåŒºå¹¶é™åˆ¶è°å¯ä»¥è§¦å‘æœºå™¨äººã€‚\n\n### å¦‚ä½•åœ¨ VPS ä¸Šè®¾ç½® Tailscale å¹¶ä» Mac è¿æ¥\n\næœ€ç®€æ­¥éª¤ï¼š\n\n1. **åœ¨ VPS ä¸Šå®‰è£…å¹¶ç™»å½•**\n   ```bash\n   curl -fsSL https://tailscale.com/install.sh | sh\n   sudo tailscale up\n   ```\n2. **åœ¨ Mac ä¸Šå®‰è£…å¹¶ç™»å½•**\n   - ä½¿ç”¨ Tailscale åº”ç”¨å¹¶ç™»å½•åˆ°åŒä¸€ä¸ª tailnetã€‚\n3. **å¯ç”¨ MagicDNSï¼ˆæ¨èï¼‰**\n   - åœ¨ Tailscale ç®¡ç†æ§åˆ¶å°ä¸­å¯ç”¨ MagicDNSï¼Œè¿™æ · VPS æœ‰ä¸€ä¸ªç¨³å®šçš„åç§°ã€‚\n4. **ä½¿ç”¨ tailnet ä¸»æœºå**\n   - SSHï¼š`ssh user@your-vps.tailnet-xxxx.ts.net`\n   - Gateway ç½‘å…³ WSï¼š`ws://your-vps.tailnet-xxxx.ts.net:18789`\n\nå¦‚æœä½ æƒ³è¦æ—  SSH çš„æ§åˆ¶ UIï¼Œåœ¨ VPS ä¸Šä½¿ç”¨ Tailscale Serveï¼š",
    "```bash\nopenclaw gateway --tailscale serve\n```\n\nè¿™ä¿æŒ Gateway ç½‘å…³ç»‘å®šåˆ° local loopback å¹¶é€šè¿‡ Tailscale æš´éœ² HTTPSã€‚å‚é˜… [Tailscale](/gateway/tailscale)ã€‚\n\n### å¦‚ä½•å°† Mac èŠ‚ç‚¹è¿æ¥åˆ°è¿œç¨‹ Gateway ç½‘å…³ï¼ˆTailscale Serveï¼‰\n\nServe æš´éœ² **Gateway ç½‘å…³æ§åˆ¶ UI + WS**ã€‚èŠ‚ç‚¹é€šè¿‡åŒä¸€ä¸ª Gateway ç½‘å…³ WS ç«¯ç‚¹è¿æ¥ã€‚\n\næ¨èè®¾ç½®ï¼š\n\n1. **ç¡®ä¿ VPS + Mac åœ¨åŒä¸€ä¸ª tailnet ä¸Š**ã€‚\n2. **ä½¿ç”¨ macOS åº”ç”¨çš„è¿œç¨‹æ¨¡å¼**ï¼ˆSSH ç›®æ ‡å¯ä»¥æ˜¯ tailnet ä¸»æœºåï¼‰ã€‚åº”ç”¨ä¼šéš§é“ Gateway ç½‘å…³ç«¯å£å¹¶ä½œä¸ºèŠ‚ç‚¹è¿æ¥ã€‚\n3. **åœ¨ Gateway ç½‘å…³ä¸Šæ‰¹å‡†èŠ‚ç‚¹**ï¼š\n   ```bash\n   openclaw nodes pending\n   openclaw nodes approve <requestId>\n   ```\n\næ–‡æ¡£ï¼š[Gateway ç½‘å…³åè®®](/gateway/protocol)ã€[å‘ç°](/gateway/discovery)ã€[macOS è¿œç¨‹æ¨¡å¼](/platforms/mac/remote)ã€‚",
    "## ç¯å¢ƒå˜é‡å’Œ .env åŠ è½½\n\n### OpenClaw å¦‚ä½•åŠ è½½ç¯å¢ƒå˜é‡\n\nOpenClaw ä»çˆ¶è¿›ç¨‹ï¼ˆshellã€launchd/systemdã€CI ç­‰ï¼‰è¯»å–ç¯å¢ƒå˜é‡ï¼Œå¹¶é¢å¤–åŠ è½½ï¼š\n\n- å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ `.env`\n- `~/.openclaw/.env`ï¼ˆå³ `$OPENCLAW_STATE_DIR/.env`ï¼‰çš„å…¨å±€å›é€€ `.env`\n\nä¸¤ä¸ª `.env` æ–‡ä»¶éƒ½ä¸ä¼šè¦†ç›–å·²æœ‰çš„ç¯å¢ƒå˜é‡ã€‚\n\nä½ ä¹Ÿå¯ä»¥åœ¨é…ç½®ä¸­å®šä¹‰å†…è”ç¯å¢ƒå˜é‡ï¼ˆä»…åœ¨è¿›ç¨‹ç¯å¢ƒä¸­ç¼ºå¤±æ—¶åº”ç”¨ï¼‰ï¼š\n\n```json5\n{\n  env: {\n    OPENROUTER_API_KEY: \"sk-or-...\",\n    vars: { GROQ_API_KEY: \"gsk-...\" },\n  },\n}\n```\n\nå‚é˜… [/environment](/environment) äº†è§£ä¼˜å…ˆçº§å’Œæ¥æºè¯¦æƒ…ã€‚\n\n### æˆ‘é€šè¿‡æœåŠ¡å¯åŠ¨äº† Gateway ç½‘å…³ï¼Œä½†ç¯å¢ƒå˜é‡æ¶ˆå¤±äº†ï¼Œæ€ä¹ˆåŠ\n\nä¸¤ä¸ªå¸¸è§ä¿®å¤æ–¹æ³•ï¼š\n\n1. å°†ç¼ºå¤±çš„å¯†é’¥æ”¾åœ¨ `~/.openclaw/.env` ä¸­ï¼Œè¿™æ ·å³ä½¿æœåŠ¡ä¸ç»§æ‰¿ä½ çš„ shell ç¯å¢ƒä¹Ÿèƒ½è¢«è·å–ã€‚\n2. å¯ç”¨ shell å¯¼å…¥ï¼ˆå¯é€‰çš„ä¾¿åˆ©åŠŸèƒ½ï¼‰ï¼š\n\n```json5\n{\n  env: {\n    shellEnv: {\n      enabled: true,\n      timeoutMs: 15000,\n    },\n  },\n}\n```\n\nè¿™ä¼šè¿è¡Œä½ çš„ç™»å½• shell å¹¶ä»…å¯¼å…¥ç¼ºå¤±çš„é¢„æœŸé”®åï¼ˆä»ä¸è¦†ç›–ï¼‰ã€‚ç¯å¢ƒå˜é‡ç­‰æ•ˆé¡¹ï¼š\n`OPENCLAW_LOAD_SHELL_ENV=1`ã€`OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000`ã€‚\n\n### æˆ‘è®¾ç½®äº† COPILOT_GITHUB_TOKENï¼Œä½† models status æ˜¾ç¤º\"Shell env: off\"ï¼Œä¸ºä»€ä¹ˆ\n\n`openclaw models status` æŠ¥å‘Šçš„æ˜¯ **shell ç¯å¢ƒå¯¼å…¥**æ˜¯å¦å¯ç”¨ã€‚\"Shell env: off\"**ä¸**æ„å‘³ç€ä½ çš„ç¯å¢ƒå˜é‡ç¼ºå¤±â€”â€”å®ƒåªæ„å‘³ç€ OpenClaw ä¸ä¼šè‡ªåŠ¨åŠ è½½ä½ çš„ç™»å½• shellã€‚\n\nå¦‚æœ Gateway ç½‘å…³ä½œä¸ºæœåŠ¡ï¼ˆlaunchd/systemdï¼‰è¿è¡Œï¼Œå®ƒä¸ä¼šç»§æ‰¿ä½ çš„ shell ç¯å¢ƒã€‚é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€ä¿®å¤ï¼š",
    "1. å°†ä»¤ç‰Œæ”¾åœ¨ `~/.openclaw/.env` ä¸­ï¼š\n   ```\n   COPILOT_GITHUB_TOKEN=...\n   ```\n2. æˆ–å¯ç”¨ shell å¯¼å…¥ï¼ˆ`env.shellEnv.enabled: true`ï¼‰ã€‚\n3. æˆ–å°†å…¶æ·»åŠ åˆ°é…ç½®çš„ `env` å—ä¸­ï¼ˆä»…åœ¨ç¼ºå¤±æ—¶åº”ç”¨ï¼‰ã€‚\n\nç„¶åé‡å¯ Gateway ç½‘å…³å¹¶é‡æ–°æ£€æŸ¥ï¼š\n\n```bash\nopenclaw models status\n```\n\nCopilot ä»¤ç‰Œä» `COPILOT_GITHUB_TOKEN` è¯»å–ï¼ˆä¹Ÿæ”¯æŒ `GH_TOKEN` / `GITHUB_TOKEN`ï¼‰ã€‚\nå‚é˜… [/concepts/model-providers](/concepts/model-providers) å’Œ [/environment](/environment)ã€‚",
    "## ä¼šè¯ä¸å¤šèŠå¤©\n\n### å¦‚ä½•å¼€å§‹ä¸€ä¸ªæ–°å¯¹è¯\n\nå‘é€ `/new` æˆ– `/reset` ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯ã€‚å‚é˜…[ä¼šè¯ç®¡ç†](/concepts/session)ã€‚\n\n### å¦‚æœæˆ‘ä»ä¸å‘é€ /newï¼Œä¼šè¯ä¼šè‡ªåŠ¨é‡ç½®å—\n\nä¼šã€‚ä¼šè¯åœ¨ `session.idleMinutes`ï¼ˆé»˜è®¤ **60**ï¼‰åè¿‡æœŸã€‚**ä¸‹ä¸€æ¡**æ¶ˆæ¯ä¼šä¸ºè¯¥èŠå¤©é”®å¼€å§‹ä¸€ä¸ªæ–°çš„ä¼šè¯ IDã€‚è¿™ä¸ä¼šåˆ é™¤è®°å½•â€”â€”åªæ˜¯å¼€å§‹ä¸€ä¸ªæ–°ä¼šè¯ã€‚\n\n```json5\n{\n  session: {\n    idleMinutes: 240,\n  },\n}\n```\n\n### èƒ½å¦åˆ›å»ºä¸€ä¸ª OpenClaw å®ä¾‹å›¢é˜Ÿâ€”â€”ä¸€ä¸ª CEO å’Œå¤šä¸ªæ™ºèƒ½ä½“\n\nå¯ä»¥ï¼Œé€šè¿‡**å¤šæ™ºèƒ½ä½“è·¯ç”±**å’Œ**å­æ™ºèƒ½ä½“**ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåè°ƒå™¨æ™ºèƒ½ä½“å’Œå¤šä¸ªå·¥ä½œè€…æ™ºèƒ½ä½“ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„å·¥ä½œåŒºå’Œæ¨¡å‹ã€‚\n\nè¯è™½å¦‚æ­¤ï¼Œæœ€å¥½å°†å…¶è§†ä¸ºä¸€ä¸ª**æœ‰è¶£çš„å®éªŒ**ã€‚å®ƒæ¶ˆè€—å¤§é‡ä»¤ç‰Œï¼Œé€šå¸¸ä¸å¦‚ä½¿ç”¨ä¸€ä¸ªæœºå™¨äººé…åˆä¸åŒä¼šè¯çš„æ•ˆç‡é«˜ã€‚æˆ‘ä»¬è®¾æƒ³çš„å…¸å‹æ¨¡å‹æ˜¯ä¸€ä¸ªä½ ä¸ä¹‹å¯¹è¯çš„æœºå™¨äººï¼Œç”¨ä¸åŒçš„ä¼šè¯è¿›è¡Œå¹¶è¡Œå·¥ä½œã€‚è¯¥æœºå™¨äººä¹Ÿå¯ä»¥åœ¨éœ€è¦æ—¶ç”Ÿæˆå­æ™ºèƒ½ä½“ã€‚\n\næ–‡æ¡£ï¼š[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)ã€[å­æ™ºèƒ½ä½“](/tools/subagents)ã€[æ™ºèƒ½ä½“ CLI](/cli/agents)ã€‚\n\n### ä¸ºä»€ä¹ˆä¸Šä¸‹æ–‡åœ¨ä»»åŠ¡ä¸­é€”è¢«æˆªæ–­äº†ï¼Ÿå¦‚ä½•é˜²æ­¢\n\nä¼šè¯ä¸Šä¸‹æ–‡å—æ¨¡å‹çª—å£é™åˆ¶ã€‚é•¿å¯¹è¯ã€å¤§é‡å·¥å…·è¾“å‡ºæˆ–è®¸å¤šæ–‡ä»¶å¯èƒ½è§¦å‘å‹ç¼©æˆ–æˆªæ–­ã€‚\n\næœ‰å¸®åŠ©çš„åšæ³•ï¼š\n\n- è¦æ±‚æœºå™¨äººæ€»ç»“å½“å‰çŠ¶æ€å¹¶å†™å…¥æ–‡ä»¶ã€‚\n- åœ¨é•¿ä»»åŠ¡ä¹‹å‰ä½¿ç”¨ `/compact`ï¼Œåˆ‡æ¢è¯é¢˜æ—¶ä½¿ç”¨ `/new`ã€‚\n- å°†é‡è¦ä¸Šä¸‹æ–‡ä¿å­˜åœ¨å·¥ä½œåŒºä¸­ï¼Œè¦æ±‚æœºå™¨äººè¯»å–ã€‚\n- å¯¹é•¿æ—¶é—´æˆ–å¹¶è¡Œå·¥ä½œä½¿ç”¨å­æ™ºèƒ½ä½“ï¼Œè¿™æ ·ä¸»èŠå¤©ä¿æŒè¾ƒå°ã€‚\n- å¦‚æœè¿™ç§æƒ…å†µç»å¸¸å‘ç”Ÿï¼Œé€‰æ‹©å…·æœ‰æ›´å¤§ä¸Šä¸‹æ–‡çª—å£çš„æ¨¡å‹ã€‚\n\n### å¦‚ä½•å®Œå…¨é‡ç½® OpenClaw ä½†ä¿ç•™å®‰è£…\n\nä½¿ç”¨é‡ç½®å‘½ä»¤ï¼š\n\n```bash\nopenclaw reset\n```\n\néäº¤äº’å¼å®Œæ•´é‡ç½®ï¼š\n\n```bash\nopenclaw reset --scope full --yes --non-interactive\n```\n\nç„¶åé‡æ–°è¿è¡Œæ–°æ‰‹å¼•å¯¼ï¼š\n\n```bash\nopenclaw onboard --install-daemon\n```\n\næ³¨æ„ï¼š",
    "- æ–°æ‰‹å¼•å¯¼å‘å¯¼åœ¨çœ‹åˆ°ç°æœ‰é…ç½®æ—¶ä¹Ÿæä¾›**é‡ç½®**é€‰é¡¹ã€‚å‚é˜…[å‘å¯¼](/start/wizard)ã€‚\n- å¦‚æœä½ ä½¿ç”¨äº†é…ç½®æ–‡ä»¶ï¼ˆ`--profile` / `OPENCLAW_PROFILE`ï¼‰ï¼Œé‡ç½®æ¯ä¸ªçŠ¶æ€ç›®å½•ï¼ˆé»˜è®¤ä¸º `~/.openclaw-<profile>`ï¼‰ã€‚\n- å¼€å‘é‡ç½®ï¼š`openclaw gateway --dev --reset`ï¼ˆä»…é™å¼€å‘ï¼›æ¸…é™¤å¼€å‘é…ç½® + å‡­æ® + ä¼šè¯ + å·¥ä½œåŒºï¼‰ã€‚\n\n### æˆ‘é‡åˆ°äº† context too large é”™è¯¯â€”â€”å¦‚ä½•é‡ç½®æˆ–å‹ç¼©\n\nä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€ï¼š\n\n- **å‹ç¼©**ï¼ˆä¿ç•™å¯¹è¯ä½†æ€»ç»“è¾ƒæ—©çš„è½®æ¬¡ï¼‰ï¼š\n\n  ```\n  /compact\n  ```\n\n  æˆ– `/compact <instructions>` æ¥å¼•å¯¼æ€»ç»“ã€‚\n\n- **é‡ç½®**ï¼ˆä¸ºåŒä¸€èŠå¤©é”®å¼€å§‹æ–°çš„ä¼šè¯ IDï¼‰ï¼š\n  ```\n  /new\n  /reset\n  ```\n\nå¦‚æœæŒç»­å‡ºç°ï¼š\n\n- å¯ç”¨æˆ–è°ƒæ•´**ä¼šè¯ä¿®å‰ª**ï¼ˆ`agents.defaults.contextPruning`ï¼‰ä»¥è£å‰ªæ—§çš„å·¥å…·è¾“å‡ºã€‚\n- ä½¿ç”¨å…·æœ‰æ›´å¤§ä¸Šä¸‹æ–‡çª—å£çš„æ¨¡å‹ã€‚\n\næ–‡æ¡£ï¼š[å‹ç¼©](/concepts/compaction)ã€[ä¼šè¯ä¿®å‰ª](/concepts/session-pruning)ã€[ä¼šè¯ç®¡ç†](/concepts/session)ã€‚\n\n### ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ° LLM request rejected: messages.N.content.X.tool_use.input: Field required\n\nè¿™æ˜¯ä¸€ä¸ªæä¾›å•†éªŒè¯é”™è¯¯ï¼šæ¨¡å‹å‘å‡ºäº†ä¸€ä¸ªæ²¡æœ‰å¿…éœ€ `input` çš„ `tool_use` å—ã€‚é€šå¸¸æ„å‘³ç€ä¼šè¯å†å²å·²è¿‡æ—¶æˆ–æŸåï¼ˆé€šå¸¸åœ¨é•¿çº¿ç¨‹æˆ–å·¥å…·/æ¨¡å¼å˜æ›´åå‘ç”Ÿï¼‰ã€‚\n\nä¿®å¤ï¼šä½¿ç”¨ `/new`ï¼ˆç‹¬ç«‹æ¶ˆæ¯ï¼‰å¼€å§‹æ–°ä¼šè¯ã€‚\n\n### ä¸ºä»€ä¹ˆæ¯ 30 åˆ†é’Ÿæ”¶åˆ°ä¸€æ¬¡å¿ƒè·³æ¶ˆæ¯\n\nå¿ƒè·³é»˜è®¤æ¯ **30 åˆ†é’Ÿ**è¿è¡Œä¸€æ¬¡ã€‚è°ƒæ•´æˆ–ç¦ç”¨ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      heartbeat: {\n        every: \"2h\", // æˆ– \"0m\" ç¦ç”¨\n      },\n    },\n  },\n}\n```",
    "å¦‚æœ `HEARTBEAT.md` å­˜åœ¨ä½†å®é™…ä¸Šä¸ºç©ºï¼ˆåªæœ‰ç©ºè¡Œå’Œ markdown æ ‡é¢˜å¦‚ `# Heading`ï¼‰ï¼ŒOpenClaw ä¼šè·³è¿‡å¿ƒè·³è¿è¡Œä»¥èŠ‚çœ API è°ƒç”¨ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¿ƒè·³ä»ç„¶è¿è¡Œï¼Œç”±æ¨¡å‹å†³å®šåšä»€ä¹ˆã€‚\n\næŒ‰æ™ºèƒ½ä½“è¦†ç›–ä½¿ç”¨ `agents.list[].heartbeat`ã€‚æ–‡æ¡£ï¼š[å¿ƒè·³](/gateway/heartbeat)ã€‚\n\n### éœ€è¦åœ¨ WhatsApp ç¾¤ç»„ä¸­æ·»åŠ â€œæœºå™¨äººè´¦å·â€å—\n\nä¸éœ€è¦ã€‚OpenClaw è¿è¡Œåœ¨**ä½ è‡ªå·±çš„è´¦æˆ·**ä¸Šï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨ç¾¤ç»„ä¸­ï¼ŒOpenClaw å°±èƒ½çœ‹åˆ°å®ƒã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œç¾¤ç»„å›å¤è¢«é˜»æ­¢ï¼Œç›´åˆ°ä½ å…è®¸å‘é€è€…ï¼ˆ`groupPolicy: \"allowlist\"`ï¼‰ã€‚\n\nå¦‚æœä½ åªæƒ³**ä½ è‡ªå·±**èƒ½è§¦å‘ç¾¤ç»„å›å¤ï¼š\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15551234567\"],\n    },\n  },\n}\n```\n\n### å¦‚ä½•è·å– WhatsApp ç¾¤ç»„çš„ JID\n\næ–¹æ³• 1ï¼ˆæœ€å¿«ï¼‰ï¼šè·Ÿè¸ªæ—¥å¿—å¹¶åœ¨ç¾¤ç»„ä¸­å‘é€æµ‹è¯•æ¶ˆæ¯ï¼š\n\n```bash\nopenclaw logs --follow --json\n```\n\næŸ¥æ‰¾ä»¥ `@g.us` ç»“å°¾çš„ `chatId`ï¼ˆæˆ– `from`ï¼‰ï¼Œå¦‚ï¼š\n`1234567890-1234567890@g.us`ã€‚\n\næ–¹æ³• 2ï¼ˆå¦‚æœå·²é…ç½®/åŠ å…¥å…è®¸åˆ—è¡¨ï¼‰ï¼šä»é…ç½®ä¸­åˆ—å‡ºç¾¤ç»„ï¼š\n\n```bash\nopenclaw directory groups list --channel whatsapp\n```\n\næ–‡æ¡£ï¼š[WhatsApp](/channels/whatsapp)ã€[ç›®å½•](/cli/directory)ã€[æ—¥å¿—](/cli/logs)ã€‚\n\n### ä¸ºä»€ä¹ˆ OpenClaw ä¸åœ¨ç¾¤ç»„ä¸­å›å¤\n\nä¸¤ä¸ªå¸¸è§åŸå› ï¼š\n\n- æåŠé™åˆ¶å·²å¼€å¯ï¼ˆé»˜è®¤ï¼‰ã€‚ä½ å¿…é¡» @æåŠæœºå™¨äººï¼ˆæˆ–åŒ¹é… `mentionPatterns`ï¼‰ã€‚\n- ä½ é…ç½®äº† `channels.whatsapp.groups` ä½†æ²¡æœ‰ `\"*\"` ä¸”è¯¥ç¾¤ç»„æœªåŠ å…¥å…è®¸åˆ—è¡¨ã€‚",
    "å‚é˜…[ç¾¤ç»„](/concepts/groups)å’Œ[ç¾¤ç»„æ¶ˆæ¯](/concepts/group-messages)ã€‚\n\n### ç¾¤ç»„/çº¿ç¨‹ä¸ç§èŠå…±äº«ä¸Šä¸‹æ–‡å—\n\nç›´æ¥èŠå¤©é»˜è®¤æŠ˜å åˆ°ä¸»ä¼šè¯ã€‚ç¾¤ç»„/é¢‘é“æœ‰è‡ªå·±çš„ä¼šè¯é”®ï¼ŒTelegram è¯é¢˜ / Discord çº¿ç¨‹æ˜¯ç‹¬ç«‹çš„ä¼šè¯ã€‚å‚é˜…[ç¾¤ç»„](/concepts/groups)å’Œ[ç¾¤ç»„æ¶ˆæ¯](/concepts/group-messages)ã€‚\n\n### å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªå·¥ä½œåŒºå’Œæ™ºèƒ½ä½“\n\næ²¡æœ‰ç¡¬æ€§é™åˆ¶ã€‚å‡ åä¸ªï¼ˆç”šè‡³å‡ ç™¾ä¸ªï¼‰éƒ½æ²¡é—®é¢˜ï¼Œä½†è¯·æ³¨æ„ï¼š\n\n- **ç£ç›˜å¢é•¿ï¼š** ä¼šè¯ + è®°å½•ä½äº `~/.openclaw/agents/<agentId>/sessions/` ä¸‹ã€‚\n- **ä»¤ç‰Œæˆæœ¬ï¼š** æ›´å¤šæ™ºèƒ½ä½“æ„å‘³ç€æ›´å¤šå¹¶å‘æ¨¡å‹ä½¿ç”¨ã€‚\n- **è¿ç»´å¼€é”€ï¼š** æŒ‰æ™ºèƒ½ä½“çš„è®¤è¯é…ç½®æ–‡ä»¶ã€å·¥ä½œåŒºå’Œæ¸ é“è·¯ç”±ã€‚\n\næç¤ºï¼š\n\n- æ¯ä¸ªæ™ºèƒ½ä½“ä¿æŒä¸€ä¸ª**æ´»è·ƒ**å·¥ä½œåŒºï¼ˆ`agents.defaults.workspace`ï¼‰ã€‚\n- å¦‚æœç£ç›˜å¢é•¿ï¼Œä¿®å‰ªæ—§ä¼šè¯ï¼ˆåˆ é™¤ JSONL æˆ–å­˜å‚¨æ¡ç›®ï¼‰ã€‚\n- ä½¿ç”¨ `openclaw doctor` å‘ç°æ— ç”¨çš„å·¥ä½œåŒºå’Œé…ç½®æ–‡ä»¶ä¸åŒ¹é…ã€‚\n\n### å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªæœºå™¨äººæˆ–èŠå¤©ï¼ˆSlackï¼‰å—ï¼Ÿåº”è¯¥å¦‚ä½•è®¾ç½®\n\nå¯ä»¥ã€‚ä½¿ç”¨**å¤šæ™ºèƒ½ä½“è·¯ç”±**è¿è¡Œå¤šä¸ªéš”ç¦»çš„æ™ºèƒ½ä½“ï¼Œå¹¶æŒ‰æ¸ é“/è´¦æˆ·/å¯¹ç­‰æ–¹è·¯ç”±å…¥ç«™æ¶ˆæ¯ã€‚Slack ä½œä¸ºæ¸ é“å—æ”¯æŒï¼Œå¯ä»¥ç»‘å®šåˆ°ç‰¹å®šæ™ºèƒ½ä½“ã€‚\n\næµè§ˆå™¨è®¿é—®åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä¸æ˜¯â€œèƒ½åšäººç±»èƒ½åšçš„ä¸€åˆ‡â€â€”â€”åæœºå™¨äººã€éªŒè¯ç å’Œ MFA ä»ç„¶å¯ä»¥é˜»æ­¢è‡ªåŠ¨åŒ–ã€‚ä¸ºäº†æœ€å¯é çš„æµè§ˆå™¨æ§åˆ¶ï¼Œåœ¨è¿è¡Œæµè§ˆå™¨çš„æœºå™¨ä¸Šä½¿ç”¨ Chrome æ‰©å±•ä¸­ç»§ï¼ˆGateway ç½‘å…³å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ï¼‰ã€‚\n\næœ€ä½³å®è·µè®¾ç½®ï¼š\n\n- å¸¸å¼€ Gateway ç½‘å…³ä¸»æœºï¼ˆVPS/Mac miniï¼‰ã€‚\n- æ¯ä¸ªè§’è‰²ä¸€ä¸ªæ™ºèƒ½ä½“ï¼ˆç»‘å®šï¼‰ã€‚\n- Slack æ¸ é“ç»‘å®šåˆ°è¿™äº›æ™ºèƒ½ä½“ã€‚\n- éœ€è¦æ—¶é€šè¿‡æ‰©å±•ä¸­ç»§ï¼ˆæˆ–èŠ‚ç‚¹ï¼‰ä½¿ç”¨æœ¬åœ°æµè§ˆå™¨ã€‚\n\næ–‡æ¡£ï¼š[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)ã€[Slack](/channels/slack)ã€\n[æµè§ˆå™¨](/tools/browser)ã€[Chrome æ‰©å±•](/tools/chrome-extension)ã€[èŠ‚ç‚¹](/nodes)ã€‚",
    "## æ¨¡å‹ï¼šé»˜è®¤å€¼ã€é€‰æ‹©ã€åˆ«åã€åˆ‡æ¢\n\n### ä»€ä¹ˆæ˜¯â€œé»˜è®¤æ¨¡å‹â€\n\nOpenClaw çš„é»˜è®¤æ¨¡å‹æ˜¯ä½ è®¾ç½®çš„ï¼š\n\n```\nagents.defaults.model.primary\n```\n\næ¨¡å‹ä»¥ `provider/model` å¼•ç”¨ï¼ˆç¤ºä¾‹ï¼š`anthropic/claude-opus-4-5`ï¼‰ã€‚å¦‚æœä½ çœç•¥æä¾›å•†ï¼ŒOpenClaw ç›®å‰å‡è®¾ `anthropic` ä½œä¸ºä¸´æ—¶å¼ƒç”¨å›é€€â€”â€”ä½†ä½ ä»ç„¶åº”è¯¥**æ˜ç¡®**è®¾ç½® `provider/model`ã€‚\n\n### æ¨èä»€ä¹ˆæ¨¡å‹\n\n**æ¨èé»˜è®¤ï¼š** `anthropic/claude-opus-4-5`ã€‚\n**å¥½çš„æ›¿ä»£ï¼š** `anthropic/claude-sonnet-4-5`ã€‚\n**å¯é ï¼ˆä¸ªæ€§è¾ƒå°‘ï¼‰ï¼š** `openai/gpt-5.2`â€”â€”å‡ ä¹å’Œ Opus ä¸€æ ·å¥½ï¼Œåªæ˜¯ä¸ªæ€§è¾ƒå°‘ã€‚\n**ç»æµï¼š** `zai/glm-4.7`ã€‚\n\nMiniMax M2.1 æœ‰è‡ªå·±çš„æ–‡æ¡£ï¼š[MiniMax](/providers/minimax) å’Œ\n[æœ¬åœ°æ¨¡å‹](/gateway/local-models)ã€‚\n\nç»éªŒæ³•åˆ™ï¼šé«˜é£é™©å·¥ä½œä½¿ç”¨ä½ èƒ½è´Ÿæ‹…çš„**æœ€å¥½çš„æ¨¡å‹**ï¼Œæ—¥å¸¸èŠå¤©æˆ–æ‘˜è¦ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹ã€‚ä½ å¯ä»¥æŒ‰æ™ºèƒ½ä½“è·¯ç”±æ¨¡å‹å¹¶ä½¿ç”¨å­æ™ºèƒ½ä½“å¹¶è¡Œå¤„ç†é•¿ä»»åŠ¡ï¼ˆæ¯ä¸ªå­æ™ºèƒ½ä½“æ¶ˆè€—ä»¤ç‰Œï¼‰ã€‚å‚é˜…[æ¨¡å‹](/concepts/models)å’Œ[å­æ™ºèƒ½ä½“](/tools/subagents)ã€‚\n\né‡è¦è­¦å‘Šï¼šè¾ƒå¼±/è¿‡åº¦é‡åŒ–çš„æ¨¡å‹æ›´å®¹æ˜“å—åˆ°æç¤ºæ³¨å…¥å’Œä¸å®‰å…¨è¡Œä¸ºçš„å½±å“ã€‚å‚é˜…[å®‰å…¨](/gateway/security)ã€‚\n\næ›´å¤šä¸Šä¸‹æ–‡ï¼š[æ¨¡å‹](/concepts/models)ã€‚\n\n### å¯ä»¥ä½¿ç”¨è‡ªæ‰˜ç®¡æ¨¡å‹ï¼ˆllama.cppã€vLLMã€Ollamaï¼‰å—\n\nå¯ä»¥ã€‚å¦‚æœä½ çš„æœ¬åœ°æœåŠ¡å™¨æš´éœ²äº†å…¼å®¹ OpenAI çš„ APIï¼Œä½ å¯ä»¥å°†è‡ªå®šä¹‰æä¾›å•†æŒ‡å‘å®ƒã€‚Ollama ç›´æ¥æ”¯æŒï¼Œæ˜¯æœ€ç®€å•çš„è·¯å¾„ã€‚\n\nå®‰å…¨è¯´æ˜ï¼šè¾ƒå°æˆ–å¤§å¹…é‡åŒ–çš„æ¨¡å‹æ›´å®¹æ˜“å—åˆ°æç¤ºæ³¨å…¥çš„å½±å“ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®å¯¹ä»»ä½•å¯ä»¥ä½¿ç”¨å·¥å…·çš„æœºå™¨äººä½¿ç”¨**å¤§å‹æ¨¡å‹**ã€‚å¦‚æœä½ ä»ç„¶æƒ³ä½¿ç”¨å°æ¨¡å‹ï¼Œå¯ç”¨æ²™ç®±å’Œä¸¥æ ¼çš„å·¥å…·å…è®¸åˆ—è¡¨ã€‚",
    "æ–‡æ¡£ï¼š[Ollama](/providers/ollama)ã€[æœ¬åœ°æ¨¡å‹](/gateway/local-models)ã€\n[æ¨¡å‹æä¾›å•†](/concepts/model-providers)ã€[å®‰å…¨](/gateway/security)ã€\n[æ²™ç®±](/gateway/sandboxing)ã€‚\n\n### å¦‚ä½•åœ¨ä¸æ¸…ç©ºé…ç½®çš„æƒ…å†µä¸‹åˆ‡æ¢æ¨¡å‹\n\nä½¿ç”¨**æ¨¡å‹å‘½ä»¤**æˆ–åªç¼–è¾‘**æ¨¡å‹**å­—æ®µã€‚é¿å…å®Œæ•´é…ç½®æ›¿æ¢ã€‚\n\nå®‰å…¨é€‰é¡¹ï¼š\n\n- èŠå¤©ä¸­çš„ `/model`ï¼ˆå¿«é€Ÿï¼ŒæŒ‰ä¼šè¯ï¼‰\n- `openclaw models set ...`ï¼ˆåªæ›´æ–°æ¨¡å‹é…ç½®ï¼‰\n- `openclaw configure --section models`ï¼ˆäº¤äº’å¼ï¼‰\n- ç¼–è¾‘ `~/.openclaw/openclaw.json` ä¸­çš„ `agents.defaults.model`\n\né¿å…ä½¿ç”¨éƒ¨åˆ†å¯¹è±¡æ‰§è¡Œ `config.apply`ï¼Œé™¤éä½ æ‰“ç®—æ›¿æ¢æ•´ä¸ªé…ç½®ã€‚å¦‚æœä½ ç¡®å®è¦†ç›–äº†é…ç½®ï¼Œä»å¤‡ä»½æ¢å¤æˆ–é‡æ–°è¿è¡Œ `openclaw doctor` æ¥ä¿®å¤ã€‚\n\næ–‡æ¡£ï¼š[æ¨¡å‹](/concepts/models)ã€[Configure](/cli/configure)ã€[Config](/cli/config)ã€[Doctor](/gateway/doctor)ã€‚\n\n### OpenClawã€Flawd å’Œ Krill ä½¿ç”¨ä»€ä¹ˆæ¨¡å‹\n\n- **OpenClaw + Flawdï¼š** Anthropic Opusï¼ˆ`anthropic/claude-opus-4-5`ï¼‰â€”â€”å‚é˜… [Anthropic](/providers/anthropic)ã€‚\n- **Krillï¼š** MiniMax M2.1ï¼ˆ`minimax/MiniMax-M2.1`ï¼‰â€”â€”å‚é˜… [MiniMax](/providers/minimax)ã€‚\n\n### å¦‚ä½•åœ¨è¿è¡Œä¸­åˆ‡æ¢æ¨¡å‹ï¼ˆæ— éœ€é‡å¯ï¼‰\n\nä½¿ç”¨ `/model` å‘½ä»¤ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯ï¼š\n\n```\n/model sonnet\n/model haiku\n/model opus\n/model gpt\n/model gpt-mini\n/model gemini\n/model gemini-flash\n```",
    "ä½ å¯ä»¥ä½¿ç”¨ `/model`ã€`/model list` æˆ– `/model status` åˆ—å‡ºå¯ç”¨æ¨¡å‹ã€‚\n\n`/model`ï¼ˆå’Œ `/model list`ï¼‰æ˜¾ç¤ºç´§å‡‘çš„ç¼–å·é€‰æ‹©å™¨ã€‚æŒ‰ç¼–å·é€‰æ‹©ï¼š\n\n```\n/model 3\n```\n\nä½ ä¹Ÿå¯ä»¥ä¸ºæä¾›å•†å¼ºåˆ¶æŒ‡å®šç‰¹å®šçš„è®¤è¯é…ç½®æ–‡ä»¶ï¼ˆæŒ‰ä¼šè¯ï¼‰ï¼š\n\n```\n/model opus@anthropic:default\n/model opus@anthropic:work\n```\n\næç¤ºï¼š`/model status` æ˜¾ç¤ºå“ªä¸ªæ™ºèƒ½ä½“æ˜¯æ´»è·ƒçš„ã€æ­£åœ¨ä½¿ç”¨å“ªä¸ª `auth-profiles.json` æ–‡ä»¶ï¼Œä»¥åŠæ¥ä¸‹æ¥å°†å°è¯•å“ªä¸ªè®¤è¯é…ç½®æ–‡ä»¶ã€‚\nå®ƒè¿˜æ˜¾ç¤ºé…ç½®çš„æä¾›å•†ç«¯ç‚¹ï¼ˆ`baseUrl`ï¼‰å’Œ API æ¨¡å¼ï¼ˆ`api`ï¼‰ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚\n\n**å¦‚ä½•å–æ¶ˆç”¨ @profile è®¾ç½®çš„é…ç½®æ–‡ä»¶å›ºå®š**\n\né‡æ–°è¿è¡Œ `/model` ä½†**ä¸å¸¦** `@profile` åç¼€ï¼š\n\n```\n/model anthropic/claude-opus-4-5\n```\n\nå¦‚æœä½ æƒ³è¿”å›é»˜è®¤å€¼ï¼Œä» `/model` ä¸­é€‰æ‹©ï¼ˆæˆ–å‘é€ `/model <default provider/model>`ï¼‰ã€‚\nä½¿ç”¨ `/model status` ç¡®è®¤å“ªä¸ªè®¤è¯é…ç½®æ–‡ä»¶æ˜¯æ´»è·ƒçš„ã€‚\n\n### èƒ½å¦æ—¥å¸¸ä»»åŠ¡ç”¨ GPT 5.2ï¼Œç¼–ç¨‹ç”¨ Codex 5.2\n\nå¯ä»¥ã€‚è®¾ç½®ä¸€ä¸ªä¸ºé»˜è®¤å¹¶æŒ‰éœ€åˆ‡æ¢ï¼š\n\n- **å¿«é€Ÿåˆ‡æ¢ï¼ˆæŒ‰ä¼šè¯ï¼‰ï¼š** æ—¥å¸¸ä»»åŠ¡ç”¨ `/model gpt-5.2`ï¼Œç¼–ç¨‹ç”¨ `/model gpt-5.2-codex`ã€‚\n- **é»˜è®¤ + åˆ‡æ¢ï¼š** å°† `agents.defaults.model.primary` è®¾ç½®ä¸º `openai-codex/gpt-5.2`ï¼Œç„¶åç¼–ç¨‹æ—¶åˆ‡æ¢åˆ° `openai-codex/gpt-5.2-codex`ï¼ˆæˆ–åè¿‡æ¥ï¼‰ã€‚\n- **å­æ™ºèƒ½ä½“ï¼š** å°†ç¼–ç¨‹ä»»åŠ¡è·¯ç”±åˆ°å…·æœ‰ä¸åŒé»˜è®¤æ¨¡å‹çš„å­æ™ºèƒ½ä½“ã€‚\n\nå‚é˜…[æ¨¡å‹](/concepts/models)å’Œ[æ–œæ å‘½ä»¤](/tools/slash-commands)ã€‚\n\n### ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°\"Model â€¦ is not allowed\"ç„¶åæ²¡æœ‰å›å¤",
    "å¦‚æœè®¾ç½®äº† `agents.defaults.models`ï¼Œå®ƒæˆä¸º `/model` å’Œä»»ä½•ä¼šè¯è¦†ç›–çš„**å…è®¸åˆ—è¡¨**ã€‚é€‰æ‹©ä¸åœ¨è¯¥åˆ—è¡¨ä¸­çš„æ¨¡å‹ä¼šè¿”å›ï¼š\n\n```\nModel \"provider/model\" is not allowed. Use /model to list available models.\n```\n\nè¯¥é”™è¯¯**ä»£æ›¿**æ­£å¸¸å›å¤è¿”å›ã€‚ä¿®å¤ï¼šå°†æ¨¡å‹æ·»åŠ åˆ° `agents.defaults.models`ï¼Œç§»é™¤å…è®¸åˆ—è¡¨ï¼Œæˆ–ä» `/model list` ä¸­é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ã€‚\n\n### ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°\"Unknown model: minimax/MiniMax-M2.1\"\n\nè¿™æ„å‘³ç€**æä¾›å•†æœªé…ç½®**ï¼ˆæœªæ‰¾åˆ° MiniMax æä¾›å•†é…ç½®æˆ–è®¤è¯é…ç½®æ–‡ä»¶ï¼‰ï¼Œå› æ­¤æ¨¡å‹æ— æ³•è§£æã€‚æ­¤æ£€æµ‹çš„ä¿®å¤åœ¨ **2026.1.12**ï¼ˆæ’°å†™æœ¬æ–‡æ—¶å°šæœªå‘å¸ƒï¼‰ä¸­ã€‚\n\nä¿®å¤æ¸…å•ï¼š\n\n1. å‡çº§åˆ° **2026.1.12**ï¼ˆæˆ–ä»æºç  `main` è¿è¡Œï¼‰ï¼Œç„¶åé‡å¯ Gateway ç½‘å…³ã€‚\n2. ç¡®ä¿ MiniMax å·²é…ç½®ï¼ˆå‘å¯¼æˆ– JSONï¼‰ï¼Œæˆ–è€… MiniMax API å¯†é’¥å­˜åœ¨äºç¯å¢ƒ/è®¤è¯é…ç½®æ–‡ä»¶ä¸­ä»¥ä¾¿æä¾›å•†å¯ä»¥è¢«æ³¨å…¥ã€‚\n3. ä½¿ç”¨ç²¾ç¡®çš„æ¨¡å‹ IDï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ï¼š`minimax/MiniMax-M2.1` æˆ– `minimax/MiniMax-M2.1-lightning`ã€‚\n4. è¿è¡Œï¼š\n   ```bash\n   openclaw models list\n   ```\n   å¹¶ä»åˆ—è¡¨ä¸­é€‰æ‹©ï¼ˆæˆ–åœ¨èŠå¤©ä¸­ä½¿ç”¨ `/model list`ï¼‰ã€‚\n\nå‚é˜… [MiniMax](/providers/minimax) å’Œ[æ¨¡å‹](/concepts/models)ã€‚\n\n### èƒ½å¦å°† MiniMax è®¾ä¸ºé»˜è®¤ï¼Œå¤æ‚ä»»åŠ¡ç”¨ OpenAI\n\nå¯ä»¥ã€‚ä½¿ç”¨ **MiniMax ä½œä¸ºé»˜è®¤**ï¼Œéœ€è¦æ—¶**æŒ‰ä¼šè¯**åˆ‡æ¢æ¨¡å‹ã€‚æ•…éšœè½¬ç§»ç”¨äº**é”™è¯¯**ï¼Œè€Œéâ€œå›°éš¾ä»»åŠ¡â€ï¼Œæ‰€ä»¥ä½¿ç”¨ `/model` æˆ–å•ç‹¬çš„æ™ºèƒ½ä½“ã€‚\n\n**æ–¹æ¡ˆ Aï¼šæŒ‰ä¼šè¯åˆ‡æ¢**",
    "```json5\n{\n  env: { MINIMAX_API_KEY: \"sk-...\", OPENAI_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"minimax/MiniMax-M2.1\" },\n      models: {\n        \"minimax/MiniMax-M2.1\": { alias: \"minimax\" },\n        \"openai/gpt-5.2\": { alias: \"gpt\" },\n      },\n    },\n  },\n}\n```\n\nç„¶åï¼š\n\n```\n/model gpt\n```\n\n**æ–¹æ¡ˆ Bï¼šåˆ†ç¦»æ™ºèƒ½ä½“**\n\n- æ™ºèƒ½ä½“ A é»˜è®¤ï¼šMiniMax\n- æ™ºèƒ½ä½“ B é»˜è®¤ï¼šOpenAI\n- æŒ‰æ™ºèƒ½ä½“è·¯ç”±æˆ–ä½¿ç”¨ `/agent` åˆ‡æ¢\n\næ–‡æ¡£ï¼š[æ¨¡å‹](/concepts/models)ã€[å¤šæ™ºèƒ½ä½“è·¯ç”±](/concepts/multi-agent)ã€[MiniMax](/providers/minimax)ã€[OpenAI](/providers/openai)ã€‚\n\n### opus / sonnet / gpt æ˜¯å†…ç½®å¿«æ·æ–¹å¼å—\n\næ˜¯çš„ã€‚OpenClaw å†…ç½®äº†ä¸€äº›é»˜è®¤ç®€å†™ï¼ˆä»…åœ¨æ¨¡å‹å­˜åœ¨äº `agents.defaults.models` ä¸­æ—¶åº”ç”¨ï¼‰ï¼š\n\n- `opus` â†’ `anthropic/claude-opus-4-5`\n- `sonnet` â†’ `anthropic/claude-sonnet-4-5`\n- `gpt` â†’ `openai/gpt-5.2`\n- `gpt-mini` â†’ `openai/gpt-5-mini`\n- `gemini` â†’ `google/gemini-3-pro-preview`\n- `gemini-flash` â†’ `google/gemini-3-flash-preview`\n\nå¦‚æœä½ è®¾ç½®äº†åŒåçš„è‡ªå®šä¹‰åˆ«åï¼Œä½ çš„å€¼ä¼˜å…ˆã€‚\n\n### å¦‚ä½•å®šä¹‰/è¦†ç›–æ¨¡å‹å¿«æ·æ–¹å¼ï¼ˆåˆ«åï¼‰\n\nåˆ«åæ¥è‡ª `agents.defaults.models.<modelId>.alias`ã€‚ç¤ºä¾‹ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"anthropic/claude-opus-4-5\" },\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"opus\" },\n        \"anthropic/claude-sonnet-4-5\": { alias: \"sonnet\" },\n        \"anthropic/claude-haiku-4-5\": { alias: \"haiku\" },\n      },\n    },\n  },\n}\n```\n\nç„¶å `/model sonnet`ï¼ˆæˆ–æ”¯æŒæ—¶çš„ `/<alias>`ï¼‰è§£æä¸ºè¯¥æ¨¡å‹ IDã€‚\n\n### å¦‚ä½•æ·»åŠ å…¶ä»–æä¾›å•†ï¼ˆå¦‚ OpenRouter æˆ– Z.AIï¼‰çš„æ¨¡å‹\n\nOpenRouterï¼ˆæŒ‰ä»¤ç‰Œä»˜è´¹ï¼›å¤šç§æ¨¡å‹ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"openrouter/anthropic/claude-sonnet-4-5\" },\n      models: { \"openrouter/anthropic/claude-sonnet-4-5\": {} },\n    },\n  },\n  env: { OPENROUTER_API_KEY: \"sk-or-...\" },\n}\n```\n\nZ.AIï¼ˆGLM æ¨¡å‹ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"zai/glm-4.7\" },\n      models: { \"zai/glm-4.7\": {} },\n    },\n  },\n  env: { ZAI_API_KEY: \"...\" },\n}\n```\n\nå¦‚æœä½ å¼•ç”¨äº† provider/model ä½†ç¼ºå°‘æ‰€éœ€çš„æä¾›å•†å¯†é’¥ï¼Œä½ ä¼šæ”¶åˆ°è¿è¡Œæ—¶è®¤è¯é”™è¯¯ï¼ˆä¾‹å¦‚ `No API key found for provider \"zai\"`ï¼‰ã€‚\n\n**æ·»åŠ æ–°æ™ºèƒ½ä½“åæç¤º No API key found for provider**",
    "è¿™é€šå¸¸æ„å‘³ç€**æ–°æ™ºèƒ½ä½“**çš„è®¤è¯å­˜å‚¨ä¸ºç©ºã€‚è®¤è¯æ˜¯æŒ‰æ™ºèƒ½ä½“çš„ï¼Œå­˜å‚¨åœ¨ï¼š\n\n```\n~/.openclaw/agents/<agentId>/agent/auth-profiles.json\n```\n\nä¿®å¤é€‰é¡¹ï¼š\n\n- è¿è¡Œ `openclaw agents add <id>` å¹¶åœ¨å‘å¯¼ä¸­é…ç½®è®¤è¯ã€‚\n- æˆ–ä»ä¸»æ™ºèƒ½ä½“çš„ `agentDir` å¤åˆ¶ `auth-profiles.json` åˆ°æ–°æ™ºèƒ½ä½“çš„ `agentDir`ã€‚\n\n**ä¸è¦**åœ¨æ™ºèƒ½ä½“ä¹‹é—´é‡ç”¨ `agentDir`ï¼›è¿™ä¼šå¯¼è‡´è®¤è¯/ä¼šè¯å†²çªã€‚",
    "## æ¨¡å‹æ•…éšœè½¬ç§»ä¸\"All models failed\"\n\n### æ•…éšœè½¬ç§»æ˜¯å¦‚ä½•å·¥ä½œçš„\n\næ•…éšœè½¬ç§»åˆ†ä¸¤ä¸ªé˜¶æ®µï¼š\n\n1. åŒä¸€æä¾›å•†å†…çš„**è®¤è¯é…ç½®æ–‡ä»¶è½®æ¢**ã€‚\n2. **æ¨¡å‹å›é€€**åˆ° `agents.defaults.model.fallbacks` ä¸­çš„ä¸‹ä¸€ä¸ªæ¨¡å‹ã€‚\n\nå†·å´æœŸé€‚ç”¨äºå¤±è´¥çš„é…ç½®æ–‡ä»¶ï¼ˆæŒ‡æ•°é€€é¿ï¼‰ï¼Œå› æ­¤ OpenClaw å³ä½¿åœ¨æä¾›å•†è¢«é™é€Ÿæˆ–ä¸´æ—¶å¤±è´¥æ—¶ä¹Ÿèƒ½ç»§ç»­å“åº”ã€‚\n\n### è¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆæ„æ€\n\n```\nNo credentials found for profile \"anthropic:default\"\n```\n\nè¿™æ„å‘³ç€ç³»ç»Ÿå°è¯•ä½¿ç”¨è®¤è¯é…ç½®æ–‡ä»¶ ID `anthropic:default`ï¼Œä½†åœ¨é¢„æœŸçš„è®¤è¯å­˜å‚¨ä¸­æ‰¾ä¸åˆ°å®ƒçš„å‡­æ®ã€‚\n\n### No credentials found for profile \"anthropic:default\" çš„ä¿®å¤æ¸…å•\n\n- **ç¡®è®¤è®¤è¯é…ç½®æ–‡ä»¶çš„ä½ç½®**ï¼ˆæ–°è·¯å¾„ vs æ—§è·¯å¾„ï¼‰\n  - å½“å‰ï¼š`~/.openclaw/agents/<agentId>/agent/auth-profiles.json`\n  - æ—§ç‰ˆï¼š`~/.openclaw/agent/*`ï¼ˆé€šè¿‡ `openclaw doctor` è¿ç§»ï¼‰\n- **ç¡®è®¤ç¯å¢ƒå˜é‡è¢« Gateway ç½‘å…³åŠ è½½**\n  - å¦‚æœä½ åœ¨ shell ä¸­è®¾ç½®äº† `ANTHROPIC_API_KEY` ä½†é€šè¿‡ systemd/launchd è¿è¡Œ Gateway ç½‘å…³ï¼Œå®ƒå¯èƒ½ä¸ä¼šç»§æ‰¿ã€‚å°†å…¶æ”¾åœ¨ `~/.openclaw/.env` ä¸­æˆ–å¯ç”¨ `env.shellEnv`ã€‚\n- **ç¡®ä¿ä½ ç¼–è¾‘çš„æ˜¯æ­£ç¡®çš„æ™ºèƒ½ä½“**\n  - å¤šæ™ºèƒ½ä½“è®¾ç½®æ„å‘³ç€å¯èƒ½æœ‰å¤šä¸ª `auth-profiles.json` æ–‡ä»¶ã€‚\n- **å®Œæ•´æ€§æ£€æŸ¥æ¨¡å‹/è®¤è¯çŠ¶æ€**\n  - ä½¿ç”¨ `openclaw models status` æŸ¥çœ‹å·²é…ç½®çš„æ¨¡å‹ä»¥åŠæä¾›å•†æ˜¯å¦å·²è®¤è¯ã€‚\n\n**No credentials found for profile \"anthropic\" çš„ä¿®å¤æ¸…å•**\n\nè¿™æ„å‘³ç€è¿è¡Œå›ºå®šåˆ° Anthropic è®¤è¯é…ç½®æ–‡ä»¶ï¼Œä½† Gateway ç½‘å…³åœ¨å…¶è®¤è¯å­˜å‚¨ä¸­æ‰¾ä¸åˆ°å®ƒã€‚",
    "- **ä½¿ç”¨ setup-token**\n  - è¿è¡Œ `claude setup-token`ï¼Œç„¶åç”¨ `openclaw models auth setup-token --provider anthropic` ç²˜è´´ã€‚\n  - å¦‚æœä»¤ç‰Œåœ¨å¦ä¸€å°æœºå™¨ä¸Šåˆ›å»ºï¼Œä½¿ç”¨ `openclaw models auth paste-token --provider anthropic`ã€‚\n- **å¦‚æœä½ æƒ³ä½¿ç”¨ API å¯†é’¥**\n  - åœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸Šå°† `ANTHROPIC_API_KEY` æ”¾å…¥ `~/.openclaw/.env`ã€‚\n  - æ¸…é™¤ä»»ä½•å¼ºåˆ¶ç¼ºå¤±é…ç½®æ–‡ä»¶çš„å›ºå®šé¡ºåºï¼š\n    ```bash\n    openclaw models auth order clear --provider anthropic\n    ```\n- **ç¡®è®¤ä½ åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè¿è¡Œå‘½ä»¤**\n  - åœ¨è¿œç¨‹æ¨¡å¼ä¸‹ï¼Œè®¤è¯é…ç½®æ–‡ä»¶ä½äº Gateway ç½‘å…³æœºå™¨ä¸Šï¼Œè€Œä¸æ˜¯ä½ çš„ç¬”è®°æœ¬ä¸Šã€‚\n\n### ä¸ºä»€ä¹ˆè¿˜å°è¯•äº† Google Gemini å¹¶ä¸”å¤±è´¥äº†\n\nå¦‚æœä½ çš„æ¨¡å‹é…ç½®åŒ…å« Google Gemini ä½œä¸ºå›é€€ï¼ˆæˆ–ä½ åˆ‡æ¢åˆ°äº† Gemini ç®€å†™ï¼‰ï¼ŒOpenClaw ä¼šåœ¨æ¨¡å‹å›é€€æœŸé—´å°è¯•å®ƒã€‚å¦‚æœä½ æ²¡æœ‰é…ç½® Google å‡­æ®ï¼Œä½ ä¼šçœ‹åˆ° `No API key found for provider \"google\"`ã€‚\n\nä¿®å¤ï¼šæä¾› Google è®¤è¯ï¼Œæˆ–ä» `agents.defaults.model.fallbacks` / åˆ«åä¸­ç§»é™¤/é¿å… Google æ¨¡å‹ï¼Œè¿™æ ·å›é€€ä¸ä¼šè·¯ç”±åˆ°é‚£é‡Œã€‚\n\n**LLM request rejected message thinking signature required google antigravity**\n\nåŸå› ï¼šä¼šè¯å†å²åŒ…å«**æ²¡æœ‰ç­¾åçš„ thinking å—**ï¼ˆé€šå¸¸æ¥è‡ªä¸­æ­¢/éƒ¨åˆ†æµï¼‰ã€‚Google Antigravity è¦æ±‚ thinking å—æœ‰ç­¾åã€‚\n\nä¿®å¤ï¼šOpenClaw ç°åœ¨ä¸º Google Antigravity Claude å‰¥ç¦»æœªç­¾åçš„ thinking å—ã€‚å¦‚æœä»ç„¶å‡ºç°ï¼Œå¼€å§‹**æ–°ä¼šè¯**æˆ–ä¸ºè¯¥æ™ºèƒ½ä½“è®¾ç½® `/thinking off`ã€‚",
    "## è®¤è¯é…ç½®æ–‡ä»¶ï¼šæ¦‚å¿µå’Œç®¡ç†æ–¹å¼\n\nç›¸å…³ï¼š[/concepts/oauth](/concepts/oauth)ï¼ˆOAuth æµç¨‹ã€ä»¤ç‰Œå­˜å‚¨ã€å¤šè´¦æˆ·æ¨¡å¼ï¼‰\n\n### ä»€ä¹ˆæ˜¯è®¤è¯é…ç½®æ–‡ä»¶\n\nè®¤è¯é…ç½®æ–‡ä»¶æ˜¯ç»‘å®šåˆ°æä¾›å•†çš„å‘½åå‡­æ®è®°å½•ï¼ˆOAuth æˆ– API å¯†é’¥ï¼‰ã€‚é…ç½®æ–‡ä»¶ä½äºï¼š\n\n```\n~/.openclaw/agents/<agentId>/agent/auth-profiles.json\n```\n\n### å…¸å‹çš„é…ç½®æ–‡ä»¶ ID æœ‰å“ªäº›\n\nOpenClaw ä½¿ç”¨æä¾›å•†å‰ç¼€çš„ IDï¼Œå¦‚ï¼š\n\n- `anthropic:default`ï¼ˆæ²¡æœ‰é‚®ç®±èº«ä»½æ—¶å¸¸è§ï¼‰\n- `anthropic:<email>`ï¼ˆç”¨äº OAuth èº«ä»½ï¼‰\n- ä½ è‡ªå®šä¹‰çš„ IDï¼ˆä¾‹å¦‚ `anthropic:work`ï¼‰\n\n### å¯ä»¥æ§åˆ¶é¦–å…ˆå°è¯•å“ªä¸ªè®¤è¯é…ç½®æ–‡ä»¶å—\n\nå¯ä»¥ã€‚é…ç½®æ”¯æŒé…ç½®æ–‡ä»¶çš„å¯é€‰å…ƒæ•°æ®å’ŒæŒ‰æä¾›å•†çš„æ’åºï¼ˆ`auth.order.<provider>`ï¼‰ã€‚è¿™**ä¸**å­˜å‚¨å¯†é’¥ï¼›å®ƒå°† ID æ˜ å°„åˆ° provider/mode å¹¶è®¾ç½®è½®æ¢é¡ºåºã€‚\n\nå¦‚æœæŸä¸ªé…ç½®æ–‡ä»¶å¤„äºçŸ­æœŸ**å†·å´**ï¼ˆé€Ÿç‡é™åˆ¶/è¶…æ—¶/è®¤è¯å¤±è´¥ï¼‰æˆ–è¾ƒé•¿çš„**ç¦ç”¨**çŠ¶æ€ï¼ˆè®¡è´¹/é¢åº¦ä¸è¶³ï¼‰ï¼ŒOpenClaw å¯èƒ½ä¼šä¸´æ—¶è·³è¿‡å®ƒã€‚è¦æ£€æŸ¥è¿™ä¸€ç‚¹ï¼Œè¿è¡Œ `openclaw models status --json` å¹¶æŸ¥çœ‹ `auth.unusableProfiles`ã€‚è°ƒä¼˜ï¼š`auth.cooldowns.billingBackoffHours*`ã€‚\n\nä½ ä¹Ÿå¯ä»¥é€šè¿‡ CLI è®¾ç½®**æŒ‰æ™ºèƒ½ä½“**çš„é¡ºåºè¦†ç›–ï¼ˆå­˜å‚¨åœ¨è¯¥æ™ºèƒ½ä½“çš„ `auth-profiles.json` ä¸­ï¼‰ï¼š\n\n```bash\n# é»˜è®¤ä¸ºé…ç½®çš„é»˜è®¤æ™ºèƒ½ä½“ï¼ˆçœç•¥ --agentï¼‰\nopenclaw models auth order get --provider anthropic\n\n# å°†è½®æ¢é”å®šåˆ°å•ä¸ªé…ç½®æ–‡ä»¶ï¼ˆåªå°è¯•è¿™ä¸€ä¸ªï¼‰\nopenclaw models auth order set --provider anthropic anthropic:default\n\n# æˆ–è®¾ç½®æ˜ç¡®çš„é¡ºåºï¼ˆæä¾›å•†å†…å›é€€ï¼‰\nopenclaw models auth order set --provider anthropic anthropic:work anthropic:default",
    "# æ¸…é™¤è¦†ç›–ï¼ˆå›é€€åˆ°é…ç½® auth.order / è½®æ¢ï¼‰\nopenclaw models auth order clear --provider anthropic\n```\n\nè¦é’ˆå¯¹ç‰¹å®šæ™ºèƒ½ä½“ï¼š\n\n```bash\nopenclaw models auth order set --provider anthropic --agent main anthropic:default\n```\n\n### OAuth ä¸ API å¯†é’¥ï¼šæœ‰ä»€ä¹ˆåŒºåˆ«\n\nOpenClaw ä¸¤è€…éƒ½æ”¯æŒï¼š\n\n- **OAuth** é€šå¸¸åˆ©ç”¨è®¢é˜…è®¿é—®ï¼ˆå¦‚é€‚ç”¨ï¼‰ã€‚\n- **API å¯†é’¥** ä½¿ç”¨æŒ‰ä»¤ç‰Œä»˜è´¹çš„è®¡è´¹ã€‚\n\nå‘å¯¼æ˜ç¡®æ”¯æŒ Anthropic setup-token å’Œ OpenAI Codex OAuthï¼Œä¹Ÿå¯ä»¥ä¸ºä½ å­˜å‚¨ API å¯†é’¥ã€‚",
    "## Gateway ç½‘å…³ï¼šç«¯å£ã€â€œå·²åœ¨è¿è¡Œâ€å’Œè¿œç¨‹æ¨¡å¼\n\n### Gateway ç½‘å…³ä½¿ç”¨ä»€ä¹ˆç«¯å£\n\n`gateway.port` æ§åˆ¶ç”¨äº WebSocket + HTTPï¼ˆæ§åˆ¶ UIã€é’©å­ç­‰ï¼‰çš„å•ä¸ªå¤ç”¨ç«¯å£ã€‚\n\nä¼˜å…ˆçº§ï¼š\n\n```\n--port > OPENCLAW_GATEWAY_PORT > gateway.port > é»˜è®¤ 18789\n```\n\n### ä¸ºä»€ä¹ˆ openclaw gateway status æ˜¾ç¤º Runtime: running ä½† RPC probe: failed\n\nå› ä¸º\"running\"æ˜¯ **supervisor** çš„è§†è§’ï¼ˆlaunchd/systemd/schtasksï¼‰ã€‚RPC æ¢æµ‹æ˜¯ CLI å®é™…è¿æ¥åˆ° Gateway ç½‘å…³ WebSocket å¹¶è°ƒç”¨ `status`ã€‚\n\nä½¿ç”¨ `openclaw gateway status` å¹¶å…³æ³¨è¿™äº›è¡Œï¼š\n\n- `Probe target:`ï¼ˆæ¢æµ‹å®é™…ä½¿ç”¨çš„ URLï¼‰\n- `Listening:`ï¼ˆç«¯å£ä¸Šå®é™…ç»‘å®šçš„å†…å®¹ï¼‰\n- `Last gateway error:`ï¼ˆè¿›ç¨‹å­˜æ´»ä½†ç«¯å£æœªç›‘å¬æ—¶çš„å¸¸è§æ ¹å› ï¼‰\n\n### ä¸ºä»€ä¹ˆ openclaw gateway status æ˜¾ç¤º Config (cli) å’Œ Config (service) ä¸åŒ\n\nä½ æ­£åœ¨ç¼–è¾‘ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè€ŒæœåŠ¡è¿è¡Œçš„æ˜¯å¦ä¸€ä¸ªï¼ˆé€šå¸¸æ˜¯ `--profile` / `OPENCLAW_STATE_DIR` ä¸åŒ¹é…ï¼‰ã€‚\n\nä¿®å¤ï¼š\n\n```bash\nopenclaw gateway install --force\n```\n\nä»ä½ å¸Œæœ›æœåŠ¡ä½¿ç”¨çš„ç›¸åŒ `--profile` / ç¯å¢ƒè¿è¡Œè¯¥å‘½ä»¤ã€‚\n\n### \"another gateway instance is already listening\"æ˜¯ä»€ä¹ˆæ„æ€\n\nOpenClaw é€šè¿‡åœ¨å¯åŠ¨æ—¶ç«‹å³ç»‘å®š WebSocket ç›‘å¬å™¨æ¥å¼ºåˆ¶è¿è¡Œæ—¶é”ï¼ˆé»˜è®¤ `ws://127.0.0.1:18789`ï¼‰ã€‚å¦‚æœç»‘å®šå›  `EADDRINUSE` å¤±è´¥ï¼Œå®ƒä¼šæŠ›å‡º `GatewayLockError` è¡¨ç¤ºå¦ä¸€ä¸ªå®ä¾‹å·²åœ¨ç›‘å¬ã€‚\n\nä¿®å¤ï¼šåœæ­¢å¦ä¸€ä¸ªå®ä¾‹ï¼Œé‡Šæ”¾ç«¯å£ï¼Œæˆ–ä½¿ç”¨ `openclaw gateway --port <port>` è¿è¡Œã€‚",
    "### å¦‚ä½•ä»¥è¿œç¨‹æ¨¡å¼è¿è¡Œ OpenClawï¼ˆå®¢æˆ·ç«¯è¿æ¥åˆ°å…¶ä»–ä½ç½®çš„ Gateway ç½‘å…³ï¼‰\n\nè®¾ç½® `gateway.mode: \"remote\"` å¹¶æŒ‡å‘è¿œç¨‹ WebSocket URLï¼Œå¯é€‰å¸¦ä»¤ç‰Œ/å¯†ç ï¼š\n\n```json5\n{\n  gateway: {\n    mode: \"remote\",\n    remote: {\n      url: \"ws://gateway.tailnet:18789\",\n      token: \"your-token\",\n      password: \"your-password\",\n    },\n  },\n}\n```\n\næ³¨æ„ï¼š\n\n- `openclaw gateway` ä»…åœ¨ `gateway.mode` ä¸º `local` æ—¶å¯åŠ¨ï¼ˆæˆ–ä½ ä¼ é€’è¦†ç›–æ ‡å¿—ï¼‰ã€‚\n- macOS åº”ç”¨ç›‘è§†é…ç½®æ–‡ä»¶ï¼Œå½“è¿™äº›å€¼æ›´æ”¹æ—¶å®æ—¶åˆ‡æ¢æ¨¡å¼ã€‚\n\n### æ§åˆ¶ UI æ˜¾ç¤º\"unauthorized\"æˆ–æŒç»­é‡è¿ï¼Œæ€ä¹ˆåŠ\n\nä½ çš„ Gateway ç½‘å…³è¿è¡Œæ—¶å¯ç”¨äº†è®¤è¯ï¼ˆ`gateway.auth.*`ï¼‰ï¼Œä½† UI æ²¡æœ‰å‘é€åŒ¹é…çš„ä»¤ç‰Œ/å¯†ç ã€‚\n\näº‹å®ï¼ˆæ¥è‡ªä»£ç ï¼‰ï¼š\n\n- æ§åˆ¶ UI å°†ä»¤ç‰Œå­˜å‚¨åœ¨æµè§ˆå™¨ localStorage é”® `openclaw.control.settings.v1` ä¸­ã€‚\n- UI å¯ä»¥å¯¼å…¥ä¸€æ¬¡ `?token=...`ï¼ˆå’Œ/æˆ– `?password=...`ï¼‰ï¼Œç„¶åä» URL ä¸­å‰¥ç¦»ã€‚\n\nä¿®å¤ï¼š",
    "- æœ€å¿«ï¼š`openclaw dashboard`ï¼ˆæ‰“å° + å¤åˆ¶å¸¦ä»¤ç‰Œçš„é“¾æ¥ï¼Œå°è¯•æ‰“å¼€ï¼›å¦‚æœæ— å¤´åˆ™æ˜¾ç¤º SSH æç¤ºï¼‰ã€‚\n- å¦‚æœä½ è¿˜æ²¡æœ‰ä»¤ç‰Œï¼š`openclaw doctor --generate-gateway-token`ã€‚\n- å¦‚æœæ˜¯è¿œç¨‹ï¼Œå…ˆå»ºéš§é“ï¼š`ssh -N -L 18789:127.0.0.1:18789 user@host` ç„¶åæ‰“å¼€ `http://127.0.0.1:18789/?token=...`ã€‚\n- åœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šè®¾ç½® `gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚\n- åœ¨æ§åˆ¶ UI è®¾ç½®ä¸­ç²˜è´´ç›¸åŒçš„ä»¤ç‰Œï¼ˆæˆ–ä½¿ç”¨ä¸€æ¬¡æ€§ `?token=...` é“¾æ¥åˆ·æ–°ï¼‰ã€‚\n- ä»ç„¶å¡ä½ï¼Ÿè¿è¡Œ `openclaw status --all` å¹¶æŒ‰[æ•…éšœæ’é™¤](/gateway/troubleshooting)æ“ä½œã€‚å‚é˜…[ä»ªè¡¨æ¿](/web/dashboard)äº†è§£è®¤è¯è¯¦æƒ…ã€‚\n\n### æˆ‘è®¾ç½®äº† gateway.bind: \"tailnet\" ä½†æ— æ³•ç»‘å®š / ä»€ä¹ˆéƒ½æ²¡ç›‘å¬\n\n`tailnet` ç»‘å®šä»ä½ çš„ç½‘ç»œæ¥å£ä¸­é€‰æ‹© Tailscale IPï¼ˆ100.64.0.0/10ï¼‰ã€‚å¦‚æœæœºå™¨æ²¡æœ‰åœ¨ Tailscale ä¸Šï¼ˆæˆ–æ¥å£å·²å…³é—­ï¼‰ï¼Œå°±æ²¡æœ‰å¯ç»‘å®šçš„åœ°å€ã€‚\n\nä¿®å¤ï¼š\n\n- åœ¨è¯¥ä¸»æœºä¸Šå¯åŠ¨ Tailscaleï¼ˆä½¿å…¶æ‹¥æœ‰ 100.x åœ°å€ï¼‰ï¼Œæˆ–\n- åˆ‡æ¢åˆ° `gateway.bind: \"loopback\"` / `\"lan\"`ã€‚\n\næ³¨æ„ï¼š`tailnet` æ˜¯æ˜ç¡®çš„ã€‚`auto` ä¼˜å…ˆ local loopbackï¼›å½“ä½ æƒ³è¦ä»… tailnet ç»‘å®šæ—¶ä½¿ç”¨ `gateway.bind: \"tailnet\"`ã€‚\n\n### å¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šè¿è¡Œå¤šä¸ª Gateway ç½‘å…³å—\n\né€šå¸¸ä¸éœ€è¦â€”â€”ä¸€ä¸ª Gateway ç½‘å…³å¯ä»¥è¿è¡Œå¤šä¸ªæ¶ˆæ¯æ¸ é“å’Œæ™ºèƒ½ä½“ã€‚ä»…åœ¨éœ€è¦å†—ä½™ï¼ˆä¾‹å¦‚æ•‘æ´æœºå™¨äººï¼‰æˆ–ç¡¬éš”ç¦»æ—¶ä½¿ç”¨å¤šä¸ª Gateway ç½‘å…³ã€‚\n\nå¯ä»¥ï¼Œä½†ä½ å¿…é¡»éš”ç¦»ï¼š\n\n- `OPENCLAW_CONFIG_PATH`ï¼ˆæ¯å®ä¾‹é…ç½®ï¼‰\n- `OPENCLAW_STATE_DIR`ï¼ˆæ¯å®ä¾‹çŠ¶æ€ï¼‰\n- `agents.defaults.workspace`ï¼ˆå·¥ä½œåŒºéš”ç¦»ï¼‰\n- `gateway.port`ï¼ˆå”¯ä¸€ç«¯å£ï¼‰",
    "å¿«é€Ÿè®¾ç½®ï¼ˆæ¨èï¼‰ï¼š\n\n- æ¯å®ä¾‹ä½¿ç”¨ `openclaw --profile <name> â€¦`ï¼ˆè‡ªåŠ¨åˆ›å»º `~/.openclaw-<name>`ï¼‰ã€‚\n- åœ¨æ¯ä¸ªé…ç½®æ–‡ä»¶é…ç½®ä¸­è®¾ç½®å”¯ä¸€çš„ `gateway.port`ï¼ˆæˆ–æ‰‹åŠ¨è¿è¡Œæ—¶ä¼  `--port`ï¼‰ã€‚\n- å®‰è£…æ¯é…ç½®æ–‡ä»¶çš„æœåŠ¡ï¼š`openclaw --profile <name> gateway install`ã€‚\n\né…ç½®æ–‡ä»¶è¿˜ä¼šä¸ºæœåŠ¡åç§°æ·»åŠ åç¼€ï¼ˆ`bot.molt.<profile>`ï¼›æ—§ç‰ˆ `com.openclaw.*`ã€`openclaw-gateway-<profile>.service`ã€`OpenClaw Gateway ç½‘å…³ (<profile>)`ï¼‰ã€‚\nå®Œæ•´æŒ‡å—ï¼š[å¤š Gateway ç½‘å…³](/gateway/multiple-gateways)ã€‚\n\n### \"invalid handshake\" / code 1008 æ˜¯ä»€ä¹ˆæ„æ€\n\nGateway ç½‘å…³æ˜¯ä¸€ä¸ª **WebSocket æœåŠ¡å™¨**ï¼Œå®ƒæœŸæœ›ç¬¬ä¸€æ¡æ¶ˆæ¯æ˜¯ `connect` å¸§ã€‚å¦‚æœæ”¶åˆ°å…¶ä»–å†…å®¹ï¼Œå®ƒä¼šä»¥ **code 1008**ï¼ˆç­–ç•¥è¿è§„ï¼‰å…³é—­è¿æ¥ã€‚\n\nå¸¸è§åŸå› ï¼š\n\n- ä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€äº† **HTTP** URLï¼ˆ`http://...`ï¼‰è€Œä¸æ˜¯ WS å®¢æˆ·ç«¯ã€‚\n- ä½ ä½¿ç”¨äº†é”™è¯¯çš„ç«¯å£æˆ–è·¯å¾„ã€‚\n- ä»£ç†æˆ–éš§é“å‰¥ç¦»äº†è®¤è¯å¤´æˆ–å‘é€äº†é Gateway ç½‘å…³è¯·æ±‚ã€‚\n\nå¿«é€Ÿä¿®å¤ï¼š\n\n1. ä½¿ç”¨ WS URLï¼š`ws://<host>:18789`ï¼ˆæˆ– `wss://...` å¦‚æœ HTTPSï¼‰ã€‚\n2. ä¸è¦åœ¨æ™®é€šæµè§ˆå™¨æ ‡ç­¾é¡µä¸­æ‰“å¼€ WS ç«¯å£ã€‚\n3. å¦‚æœè®¤è¯å·²å¯ç”¨ï¼Œåœ¨ `connect` å¸§ä¸­åŒ…å«ä»¤ç‰Œ/å¯†ç ã€‚\n\nå¦‚æœä½ ä½¿ç”¨ CLI æˆ– TUIï¼ŒURL åº”è¯¥ç±»ä¼¼ï¼š\n\n```\nopenclaw tui --url ws://<host>:18789 --token <token>\n```\n\nåè®®è¯¦æƒ…ï¼š[Gateway ç½‘å…³åè®®](/gateway/protocol)ã€‚",
    "## æ—¥å¿—ä¸è°ƒè¯•\n\n### æ—¥å¿—åœ¨å“ªé‡Œ\n\næ–‡ä»¶æ—¥å¿—ï¼ˆç»“æ„åŒ–ï¼‰ï¼š\n\n```\n/tmp/openclaw/openclaw-YYYY-MM-DD.log\n```\n\nä½ å¯ä»¥é€šè¿‡ `logging.file` è®¾ç½®ç¨³å®šè·¯å¾„ã€‚æ–‡ä»¶æ—¥å¿—çº§åˆ«ç”± `logging.level` æ§åˆ¶ã€‚æ§åˆ¶å°è¯¦ç»†åº¦ç”± `--verbose` å’Œ `logging.consoleLevel` æ§åˆ¶ã€‚\n\næœ€å¿«çš„æ—¥å¿—è·Ÿè¸ªï¼š\n\n```bash\nopenclaw logs --follow\n```\n\næœåŠ¡/supervisor æ—¥å¿—ï¼ˆå½“ Gateway ç½‘å…³é€šè¿‡ launchd/systemd è¿è¡Œæ—¶ï¼‰ï¼š\n\n- macOSï¼š`$OPENCLAW_STATE_DIR/logs/gateway.log` å’Œ `gateway.err.log`ï¼ˆé»˜è®¤ï¼š`~/.openclaw/logs/...`ï¼›é…ç½®æ–‡ä»¶ä½¿ç”¨ `~/.openclaw-<profile>/logs/...`ï¼‰\n- Linuxï¼š`journalctl --user -u openclaw-gateway[-<profile>].service -n 200 --no-pager`\n- Windowsï¼š`schtasks /Query /TN \"OpenClaw Gateway ç½‘å…³ (<profile>)\" /V /FO LIST`\n\nå‚é˜…[æ•…éšœæ’é™¤](/gateway/troubleshooting#log-locations)äº†è§£æ›´å¤šã€‚\n\n### å¦‚ä½•å¯åŠ¨/åœæ­¢/é‡å¯ Gateway ç½‘å…³æœåŠ¡\n\nä½¿ç”¨ Gateway ç½‘å…³è¾…åŠ©å‘½ä»¤ï¼š\n\n```bash\nopenclaw gateway status\nopenclaw gateway restart\n```\n\nå¦‚æœä½ æ‰‹åŠ¨è¿è¡Œ Gateway ç½‘å…³ï¼Œ`openclaw gateway --force` å¯ä»¥å›æ”¶ç«¯å£ã€‚å‚é˜… [Gateway ç½‘å…³](/gateway)ã€‚\n\n### æˆ‘åœ¨ Windows ä¸Šå…³é—­äº†ç»ˆç«¯â€”â€”å¦‚ä½•é‡å¯ OpenClaw\n\næœ‰**ä¸¤ç§ Windows å®‰è£…æ¨¡å¼**ï¼š\n\n**1) WSL2ï¼ˆæ¨èï¼‰ï¼š** Gateway ç½‘å…³è¿è¡Œåœ¨ Linux å†…éƒ¨ã€‚\n\næ‰“å¼€ PowerShellï¼Œè¿›å…¥ WSLï¼Œç„¶åé‡å¯ï¼š",
    "```powershell\nwsl\nopenclaw gateway status\nopenclaw gateway restart\n```\n\nå¦‚æœä½ ä»æœªå®‰è£…æœåŠ¡ï¼Œåœ¨å‰å°å¯åŠ¨ï¼š\n\n```bash\nopenclaw gateway run\n```\n\n**2) åŸç”Ÿ Windowsï¼ˆä¸æ¨èï¼‰ï¼š** Gateway ç½‘å…³ç›´æ¥åœ¨ Windows ä¸­è¿è¡Œã€‚\n\næ‰“å¼€ PowerShell å¹¶è¿è¡Œï¼š\n\n```powershell\nopenclaw gateway status\nopenclaw gateway restart\n```\n\nå¦‚æœä½ æ‰‹åŠ¨è¿è¡Œï¼ˆæ— æœåŠ¡ï¼‰ï¼Œä½¿ç”¨ï¼š\n\n```powershell\nopenclaw gateway run\n```\n\næ–‡æ¡£ï¼š[Windows (WSL2)](/platforms/windows)ã€[Gateway ç½‘å…³æœåŠ¡è¿ç»´æ‰‹å†Œ](/gateway)ã€‚\n\n### Gateway ç½‘å…³å·²å¯åŠ¨ä½†å›å¤å§‹ç»ˆä¸åˆ°è¾¾ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆ\n\nä»å¿«é€Ÿå¥åº·æ‰«æå¼€å§‹ï¼š\n\n```bash\nopenclaw status\nopenclaw models status\nopenclaw channels status\nopenclaw logs --follow\n```\n\nå¸¸è§åŸå› ï¼š\n\n- æ¨¡å‹è®¤è¯æœªåœ¨ **Gateway ç½‘å…³ä¸»æœº**ä¸ŠåŠ è½½ï¼ˆæ£€æŸ¥ `models status`ï¼‰ã€‚\n- æ¸ é“é…å¯¹/å…è®¸åˆ—è¡¨é˜»æ­¢å›å¤ï¼ˆæ£€æŸ¥æ¸ é“é…ç½® + æ—¥å¿—ï¼‰ã€‚\n- WebChat/ä»ªè¡¨æ¿æ‰“å¼€ä½†æ²¡æœ‰æ­£ç¡®çš„ä»¤ç‰Œã€‚\n\nå¦‚æœä½ åœ¨è¿œç¨‹ï¼Œç¡®è®¤éš§é“/Tailscale è¿æ¥æ­£å¸¸ä¸” Gateway ç½‘å…³ WebSocket å¯è¾¾ã€‚\n\næ–‡æ¡£ï¼š[æ¸ é“](/channels)ã€[æ•…éšœæ’é™¤](/gateway/troubleshooting)ã€[è¿œç¨‹è®¿é—®](/gateway/remote)ã€‚\n\n### \"Disconnected from gateway: no reason\"â€”â€”æ€ä¹ˆåŠ\n\nè¿™é€šå¸¸æ„å‘³ç€ UI ä¸¢å¤±äº† WebSocket è¿æ¥ã€‚æ£€æŸ¥ï¼š",
    "1. Gateway ç½‘å…³åœ¨è¿è¡Œå—ï¼Ÿ`openclaw gateway status`\n2. Gateway ç½‘å…³å¥åº·å—ï¼Ÿ`openclaw status`\n3. UI æœ‰æ­£ç¡®çš„ä»¤ç‰Œå—ï¼Ÿ`openclaw dashboard`\n4. å¦‚æœæ˜¯è¿œç¨‹ï¼Œéš§é“/Tailscale é“¾æ¥æ­£å¸¸å—ï¼Ÿ\n\nç„¶åè·Ÿè¸ªæ—¥å¿—ï¼š\n\n```bash\nopenclaw logs --follow\n```\n\næ–‡æ¡£ï¼š[ä»ªè¡¨æ¿](/web/dashboard)ã€[è¿œç¨‹è®¿é—®](/gateway/remote)ã€[æ•…éšœæ’é™¤](/gateway/troubleshooting)ã€‚\n\n### Telegram setMyCommands å› ç½‘ç»œé”™è¯¯å¤±è´¥ï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆ\n\nä»æ—¥å¿—å’Œæ¸ é“çŠ¶æ€å¼€å§‹ï¼š\n\n```bash\nopenclaw channels status\nopenclaw channels logs --channel telegram\n```\n\nå¦‚æœä½ åœ¨ VPS ä¸Šæˆ–ä»£ç†åé¢ï¼Œç¡®è®¤å‡ºç«™ HTTPS è¢«å…è®¸ä¸” DNS æ­£å¸¸å·¥ä½œã€‚\nå¦‚æœ Gateway ç½‘å…³åœ¨è¿œç¨‹ï¼Œç¡®ä¿ä½ åœ¨ Gateway ç½‘å…³ä¸»æœºä¸ŠæŸ¥çœ‹æ—¥å¿—ã€‚\n\næ–‡æ¡£ï¼š[Telegram](/channels/telegram)ã€[æ¸ é“æ•…éšœæ’é™¤](/channels/troubleshooting)ã€‚\n\n### TUI æ²¡æœ‰è¾“å‡ºï¼Œåº”è¯¥æ£€æŸ¥ä»€ä¹ˆ\n\né¦–å…ˆç¡®è®¤ Gateway ç½‘å…³å¯è¾¾ä¸”æ™ºèƒ½ä½“å¯ä»¥è¿è¡Œï¼š\n\n```bash\nopenclaw status\nopenclaw models status\nopenclaw logs --follow\n```\n\nåœ¨ TUI ä¸­ï¼Œä½¿ç”¨ `/status` æŸ¥çœ‹å½“å‰çŠ¶æ€ã€‚å¦‚æœä½ æœŸæœ›åœ¨èŠå¤©æ¸ é“ä¸­æ”¶åˆ°å›å¤ï¼Œç¡®ä¿æŠ•é€’å·²å¯ç”¨ï¼ˆ`/deliver on`ï¼‰ã€‚\n\næ–‡æ¡£ï¼š[TUI](/tui)ã€[æ–œæ å‘½ä»¤](/tools/slash-commands)ã€‚\n\n### å¦‚ä½•å®Œå…¨åœæ­¢ç„¶åå¯åŠ¨ Gateway ç½‘å…³å¦‚æœä½ å®‰è£…äº†æœåŠ¡ï¼š\n\n```bash\nopenclaw gateway stop\nopenclaw gateway start\n```\n\nè¿™ä¼šåœæ­¢/å¯åŠ¨**å—ç›‘ç®¡çš„æœåŠ¡**ï¼ˆmacOS ä¸Šçš„ launchdï¼ŒLinux ä¸Šçš„ systemdï¼‰ã€‚\nå½“ Gateway ç½‘å…³ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œæ—¶ä½¿ç”¨æ­¤å‘½ä»¤ã€‚",
    "å¦‚æœä½ åœ¨å‰å°è¿è¡Œï¼Œç”¨ Ctrlâ€‘C åœæ­¢ï¼Œç„¶åï¼š\n\n```bash\nopenclaw gateway run\n```\n\næ–‡æ¡£ï¼š[Gateway ç½‘å…³æœåŠ¡è¿ç»´æ‰‹å†Œ](/gateway)ã€‚\n\n### é€šä¿—è§£é‡Šï¼šopenclaw gateway restart ä¸ openclaw gateway\n\n- `openclaw gateway restart`ï¼šé‡å¯**åå°æœåŠ¡**ï¼ˆlaunchd/systemdï¼‰ã€‚\n- `openclaw gateway`ï¼šåœ¨è¿™ä¸ªç»ˆç«¯ä¼šè¯ä¸­**å‰å°**è¿è¡Œ Gateway ç½‘å…³ã€‚\n\nå¦‚æœä½ å®‰è£…äº†æœåŠ¡ï¼Œä½¿ç”¨ Gateway ç½‘å…³å‘½ä»¤ã€‚æƒ³è¦ä¸€æ¬¡æ€§å‰å°è¿è¡Œæ—¶ä½¿ç”¨ `openclaw gateway`ã€‚\n\n### å‡ºç°æ•…éšœæ—¶è·å–æ›´å¤šè¯¦æƒ…çš„æœ€å¿«æ–¹æ³•æ˜¯ä»€ä¹ˆ\n\nä½¿ç”¨ `--verbose` å¯åŠ¨ Gateway ç½‘å…³ä»¥è·å–æ›´å¤šæ§åˆ¶å°è¯¦æƒ…ã€‚ç„¶åæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ä¸­çš„æ¸ é“è®¤è¯ã€æ¨¡å‹è·¯ç”±å’Œ RPC é”™è¯¯ã€‚",
    "## åª’ä½“ä¸é™„ä»¶\n\n### æˆ‘çš„ Skills ç”Ÿæˆäº†å›¾ç‰‡/PDFï¼Œä½†ä»€ä¹ˆéƒ½æ²¡å‘é€\n\næ™ºèƒ½ä½“çš„å‡ºç«™é™„ä»¶å¿…é¡»åŒ…å« `MEDIA:<path-or-url>` è¡Œï¼ˆç‹¬å ä¸€è¡Œï¼‰ã€‚å‚é˜… [OpenClaw åŠ©æ‰‹è®¾ç½®](/start/openclaw)å’Œ [Agent send](/tools/agent-send)ã€‚\n\nCLI å‘é€ï¼š\n\n```bash\nopenclaw message send --target +15555550123 --message \"Here you go\" --media /path/to/file.png\n```\n\nè¿˜è¦æ£€æŸ¥ï¼š\n\n- ç›®æ ‡æ¸ é“æ”¯æŒå‡ºç«™åª’ä½“ä¸”æœªè¢«å…è®¸åˆ—è¡¨é˜»æ­¢ã€‚\n- æ–‡ä»¶åœ¨æä¾›å•†çš„å¤§å°é™åˆ¶å†…ï¼ˆå›¾ç‰‡ä¼šè°ƒæ•´åˆ°æœ€å¤§ 2048pxï¼‰ã€‚\n\nå‚é˜…[å›¾ç‰‡](/nodes/images)ã€‚",
    "## å®‰å…¨ä¸è®¿é—®æ§åˆ¶\n\n### å°† OpenClaw æš´éœ²ç»™å…¥ç«™ç§ä¿¡å®‰å…¨å—\n\nå°†å…¥ç«™ç§ä¿¡è§†ä¸ºä¸å¯ä¿¡è¾“å…¥ã€‚é»˜è®¤è®¾è®¡æ—¨åœ¨é™ä½é£é™©ï¼š\n\n- æ”¯æŒç§ä¿¡çš„æ¸ é“ä¸Šçš„é»˜è®¤è¡Œä¸ºæ˜¯**é…å¯¹**ï¼š\n  - æœªçŸ¥å‘é€è€…ä¼šæ”¶åˆ°é…å¯¹ç ï¼›æœºå™¨äººä¸å¤„ç†ä»–ä»¬çš„æ¶ˆæ¯ã€‚\n  - æ‰¹å‡†æ–¹å¼ï¼š`openclaw pairing approve <channel> <code>`\n  - æ¯ä¸ªæ¸ é“çš„å¾…å¤„ç†è¯·æ±‚ä¸Šé™ä¸º **3 ä¸ª**ï¼›å¦‚æœæ²¡æ”¶åˆ°ä»£ç ï¼Œæ£€æŸ¥ `openclaw pairing list <channel>`ã€‚\n- å…¬å¼€å¼€æ”¾ç§ä¿¡éœ€è¦æ˜ç¡®é€‰æ‹©åŠ å…¥ï¼ˆ`dmPolicy: \"open\"` ä¸”å…è®¸åˆ—è¡¨ `\"*\"`ï¼‰ã€‚\n\nè¿è¡Œ `openclaw doctor` ä»¥å‘ç°æœ‰é£é™©çš„ç§ä¿¡ç­–ç•¥ã€‚\n\n### æç¤ºæ³¨å…¥åªå¯¹å…¬å¼€æœºå™¨äººæœ‰å½±å“å—\n\nä¸æ˜¯ã€‚æç¤ºæ³¨å…¥æ˜¯å…³äº**ä¸å¯ä¿¡å†…å®¹**ï¼Œä¸ä»…ä»…æ˜¯è°èƒ½ç»™æœºå™¨äººå‘ç§ä¿¡ã€‚å¦‚æœä½ çš„åŠ©æ‰‹è¯»å–å¤–éƒ¨å†…å®¹ï¼ˆç½‘ç»œæœç´¢/æŠ“å–ã€æµè§ˆå™¨é¡µé¢ã€é‚®ä»¶ã€æ–‡æ¡£ã€é™„ä»¶ã€ç²˜è´´çš„æ—¥å¿—ï¼‰ï¼Œè¿™äº›å†…å®¹å¯èƒ½åŒ…å«è¯•å›¾åŠ«æŒæ¨¡å‹çš„æŒ‡ä»¤ã€‚å³ä½¿**ä½ æ˜¯å”¯ä¸€çš„å‘é€è€…**ï¼Œè¿™ä¹Ÿå¯èƒ½å‘ç”Ÿã€‚\n\næœ€å¤§çš„é£é™©æ˜¯åœ¨å¯ç”¨å·¥å…·æ—¶ï¼šæ¨¡å‹å¯èƒ½è¢«è¯±å¯¼æ³„éœ²ä¸Šä¸‹æ–‡æˆ–ä»£è¡¨ä½ è°ƒç”¨å·¥å…·ã€‚é€šè¿‡ä»¥ä¸‹æ–¹å¼å‡å°‘å½±å“èŒƒå›´ï¼š\n\n- ä½¿ç”¨åªè¯»æˆ–ç¦ç”¨å·¥å…·çš„â€œé˜…è¯»å™¨â€æ™ºèƒ½ä½“æ¥æ€»ç»“ä¸å¯ä¿¡å†…å®¹\n- å¯¹å¯ç”¨å·¥å…·çš„æ™ºèƒ½ä½“å…³é—­ `web_search` / `web_fetch` / `browser`\n- æ²™ç®±éš”ç¦»å’Œä¸¥æ ¼çš„å·¥å…·å…è®¸åˆ—è¡¨\n\nè¯¦æƒ…ï¼š[å®‰å…¨](/gateway/security)ã€‚\n\n### æˆ‘çš„æœºå™¨äººåº”è¯¥æœ‰è‡ªå·±çš„é‚®ç®±ã€GitHub è´¦æˆ·æˆ–ç”µè¯å·ç å—\n\næ˜¯çš„ï¼Œå¯¹äºå¤§å¤šæ•°è®¾ç½®æ¥è¯´ã€‚ç”¨ç‹¬ç«‹çš„è´¦æˆ·å’Œç”µè¯å·ç éš”ç¦»æœºå™¨äººå¯ä»¥åœ¨å‡ºé—®é¢˜æ—¶å‡å°‘å½±å“èŒƒå›´ã€‚è¿™ä¹Ÿä½¿å¾—è½®æ¢å‡­æ®æˆ–æ’¤é”€è®¿é—®æ›´å®¹æ˜“ï¼Œè€Œä¸å½±å“ä½ çš„ä¸ªäººè´¦æˆ·ã€‚\n\nä»å°å¤„å¼€å§‹ã€‚åªæˆäºˆä½ å®é™…éœ€è¦çš„å·¥å…·å’Œè´¦æˆ·çš„è®¿é—®æƒé™ï¼Œä»¥åéœ€è¦æ—¶å†æ‰©å±•ã€‚\n\næ–‡æ¡£ï¼š[å®‰å…¨](/gateway/security)ã€[é…å¯¹](/start/pairing)ã€‚\n\n### æˆ‘èƒ½è®©å®ƒè‡ªä¸»ç®¡ç†æˆ‘çš„çŸ­ä¿¡å—ï¼Ÿè¿™å®‰å…¨å—\n\næˆ‘ä»¬**ä¸å»ºè®®**å®Œå…¨è‡ªä¸»ç®¡ç†ä½ çš„ä¸ªäººæ¶ˆæ¯ã€‚æœ€å®‰å…¨çš„æ¨¡å¼æ˜¯ï¼š\n\n- å°†ç§ä¿¡ä¿æŒåœ¨**é…å¯¹æ¨¡å¼**æˆ–ä¸¥æ ¼çš„å…è®¸åˆ—è¡¨ä¸­ã€‚\n- å¦‚æœä½ å¸Œæœ›å®ƒä»£è¡¨ä½ å‘æ¶ˆæ¯ï¼Œä½¿ç”¨**ç‹¬ç«‹çš„å·ç æˆ–è´¦æˆ·**ã€‚\n- è®©å®ƒèµ·è‰ï¼Œç„¶å**å‘é€å‰æ‰¹å‡†**ã€‚",
    "å¦‚æœä½ æƒ³å®éªŒï¼Œåœ¨ä¸“ç”¨è´¦æˆ·ä¸Šè¿›è¡Œå¹¶ä¿æŒéš”ç¦»ã€‚å‚é˜…[å®‰å…¨](/gateway/security)ã€‚\n\n### ä¸ªäººåŠ©ç†ä»»åŠ¡å¯ä»¥ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹å—\n\nå¯ä»¥ï¼Œ**å¦‚æœ**æ™ºèƒ½ä½“ä»…ç”¨äºèŠå¤©ä¸”è¾“å…¥æ˜¯å¯ä¿¡çš„ã€‚è¾ƒå°çš„æ¨¡å‹æ›´å®¹æ˜“å—åˆ°æŒ‡ä»¤åŠ«æŒï¼Œå› æ­¤é¿å…å°†å®ƒä»¬ç”¨äºå¯ç”¨å·¥å…·çš„æ™ºèƒ½ä½“æˆ–è¯»å–ä¸å¯ä¿¡å†…å®¹æ—¶ã€‚å¦‚æœä½ å¿…é¡»ä½¿ç”¨è¾ƒå°çš„æ¨¡å‹ï¼Œé”å®šå·¥å…·å¹¶åœ¨æ²™ç®±ä¸­è¿è¡Œã€‚å‚é˜…[å®‰å…¨](/gateway/security)ã€‚\n\n### æˆ‘åœ¨ Telegram ä¸­è¿è¡Œäº† /start ä½†æ²¡æ”¶åˆ°é…å¯¹ç \n\né…å¯¹ç **ä»…åœ¨**æœªçŸ¥å‘é€è€…å‘æœºå™¨äººå‘æ¶ˆæ¯ä¸” `dmPolicy: \"pairing\"` å¯ç”¨æ—¶å‘é€ã€‚`/start` æœ¬èº«ä¸ä¼šç”Ÿæˆä»£ç ã€‚\n\næ£€æŸ¥å¾…å¤„ç†è¯·æ±‚ï¼š\n\n```bash\nopenclaw pairing list telegram\n```\n\nå¦‚æœä½ æƒ³ç«‹å³è·å¾—è®¿é—®æƒé™ï¼Œå°†ä½ çš„å‘é€è€… ID åŠ å…¥å…è®¸åˆ—è¡¨æˆ–ä¸ºè¯¥è´¦æˆ·è®¾ç½® `dmPolicy: \"open\"`ã€‚\n\n### WhatsAppï¼šä¼šç»™æˆ‘çš„è”ç³»äººå‘æ¶ˆæ¯å—ï¼Ÿé…å¯¹å¦‚ä½•å·¥ä½œ\n\nä¸ä¼šã€‚WhatsApp çš„é»˜è®¤ç§ä¿¡ç­–ç•¥æ˜¯**é…å¯¹**ã€‚æœªçŸ¥å‘é€è€…åªä¼šæ”¶åˆ°é…å¯¹ç ï¼Œä»–ä»¬çš„æ¶ˆæ¯**ä¸ä¼šè¢«å¤„ç†**ã€‚OpenClaw åªå›å¤å®ƒæ”¶åˆ°çš„èŠå¤©æˆ–ä½ æ˜ç¡®è§¦å‘çš„å‘é€ã€‚\n\næ‰¹å‡†é…å¯¹ï¼š\n\n```bash\nopenclaw pairing approve whatsapp <code>\n```\n\nåˆ—å‡ºå¾…å¤„ç†è¯·æ±‚ï¼š\n\n```bash\nopenclaw pairing list whatsapp\n```\n\nå‘å¯¼ç”µè¯å·ç æç¤ºï¼šå®ƒç”¨äºè®¾ç½®ä½ çš„**å…è®¸åˆ—è¡¨/æ‰€æœ‰è€…**ï¼Œä»¥ä¾¿ä½ è‡ªå·±çš„ç§ä¿¡è¢«å…è®¸ã€‚å®ƒä¸ç”¨äºè‡ªåŠ¨å‘é€ã€‚å¦‚æœä½ åœ¨ä¸ªäºº WhatsApp å·ç ä¸Šè¿è¡Œï¼Œä½¿ç”¨è¯¥å·ç å¹¶å¯ç”¨ `channels.whatsapp.selfChatMode`ã€‚",
    "## èŠå¤©å‘½ä»¤ã€ä¸­æ­¢ä»»åŠ¡å’Œâ€œåœä¸ä¸‹æ¥â€\n\n### å¦‚ä½•é˜»æ­¢å†…éƒ¨ç³»ç»Ÿæ¶ˆæ¯æ˜¾ç¤ºåœ¨èŠå¤©ä¸­\n\nå¤§å¤šæ•°å†…éƒ¨æˆ–å·¥å…·æ¶ˆæ¯åªåœ¨è¯¥ä¼šè¯å¯ç”¨äº† **verbose** æˆ– **reasoning** æ—¶æ‰å‡ºç°ã€‚\n\nåœ¨ä½ çœ‹åˆ°å®ƒçš„èŠå¤©ä¸­ä¿®å¤ï¼š\n\n```\n/verbose off\n/reasoning off\n```\n\nå¦‚æœä»ç„¶å˜ˆæ‚ï¼Œæ£€æŸ¥æ§åˆ¶ UI ä¸­çš„ä¼šè¯è®¾ç½®å¹¶å°† verbose è®¾ä¸º**ç»§æ‰¿**ã€‚åŒæ—¶ç¡®è®¤ä½ æ²¡æœ‰ä½¿ç”¨åœ¨é…ç½®ä¸­å°† `verboseDefault` è®¾ä¸º `on` çš„æœºå™¨äººé…ç½®æ–‡ä»¶ã€‚\n\næ–‡æ¡£ï¼š[æ€è€ƒå’Œè¯¦ç»†è¾“å‡º](/tools/thinking)ã€[å®‰å…¨](/gateway/security#reasoning--verbose-output-in-groups)ã€‚\n\n### å¦‚ä½•åœæ­¢/å–æ¶ˆæ­£åœ¨è¿è¡Œçš„ä»»åŠ¡\n\nå‘é€ä»¥ä¸‹ä»»ä¸€å†…å®¹ä½œä¸º**ç‹¬ç«‹æ¶ˆæ¯**ï¼ˆä¸å¸¦æ–œæ ï¼‰ï¼š\n\n```\nstop\nabort\nesc\nwait\nexit\ninterrupt\n```\n\nè¿™äº›æ˜¯ä¸­æ­¢è§¦å‘å™¨ï¼ˆä¸æ˜¯æ–œæ å‘½ä»¤ï¼‰ã€‚\n\nå¯¹äºåå°è¿›ç¨‹ï¼ˆæ¥è‡ª exec å·¥å…·ï¼‰ï¼Œä½ å¯ä»¥è¦æ±‚æ™ºèƒ½ä½“è¿è¡Œï¼š\n\n```\nprocess action:kill sessionId:XXX\n```\n\næ–œæ å‘½ä»¤æ¦‚è§ˆï¼šå‚é˜…[æ–œæ å‘½ä»¤](/tools/slash-commands)ã€‚\n\nå¤§å¤šæ•°å‘½ä»¤å¿…é¡»ä½œä¸ºä»¥ `/` å¼€å¤´çš„**ç‹¬ç«‹**æ¶ˆæ¯å‘é€ï¼Œä½†ä¸€äº›å¿«æ·æ–¹å¼ï¼ˆå¦‚ `/status`ï¼‰å¯¹å…è®¸åˆ—è¡¨ä¸­çš„å‘é€è€…ä¹Ÿæ”¯æŒå†…è”ä½¿ç”¨ã€‚\n\n### å¦‚ä½•ä» Telegram å‘é€ Discord æ¶ˆæ¯ï¼Ÿï¼ˆ\"Cross-context messaging denied\"ï¼‰\n\nOpenClaw é»˜è®¤é˜»æ­¢**è·¨æä¾›å•†**æ¶ˆæ¯ã€‚å¦‚æœå·¥å…·è°ƒç”¨ç»‘å®šåˆ° Telegramï¼Œé™¤éä½ æ˜ç¡®å…è®¸ï¼Œå¦åˆ™ä¸ä¼šå‘é€åˆ° Discordã€‚\n\nä¸ºæ™ºèƒ½ä½“å¯ç”¨è·¨æä¾›å•†æ¶ˆæ¯ï¼š",
    "```json5\n{\n  agents: {\n    defaults: {\n      tools: {\n        message: {\n          crossContext: {\n            allowAcrossProviders: true,\n            marker: { enabled: true, prefix: \"[from {channel}] \" },\n          },\n        },\n      },\n    },\n  },\n}\n```\n\nç¼–è¾‘é…ç½®åé‡å¯ Gateway ç½‘å…³ã€‚å¦‚æœä½ åªæƒ³ä¸ºå•ä¸ªæ™ºèƒ½ä½“è®¾ç½®ï¼Œå°†å…¶æ”¾åœ¨ `agents.list[].tools.message` ä¸‹ã€‚\n\n### ä¸ºä»€ä¹ˆæ„Ÿè§‰æœºå™¨äººâ€œå¿½ç•¥â€äº†å¿«é€Ÿè¿å‘çš„æ¶ˆæ¯\n\né˜Ÿåˆ—æ¨¡å¼æ§åˆ¶æ–°æ¶ˆæ¯å¦‚ä½•ä¸æ­£åœ¨è¿›è¡Œçš„è¿è¡Œäº¤äº’ã€‚ä½¿ç”¨ `/queue` æ›´æ”¹æ¨¡å¼ï¼š\n\n- `steer` - æ–°æ¶ˆæ¯é‡å®šå‘å½“å‰ä»»åŠ¡\n- `followup` - é€æ¡å¤„ç†æ¶ˆæ¯\n- `collect` - æ‰¹é‡æ¶ˆæ¯å¹¶å›å¤ä¸€æ¬¡ï¼ˆé»˜è®¤ï¼‰\n- `steer-backlog` - ç«‹å³è½¬å‘ï¼Œç„¶åå¤„ç†ç§¯å‹\n- `interrupt` - ä¸­æ­¢å½“å‰è¿è¡Œå¹¶é‡æ–°å¼€å§‹\n\nä½ å¯ä»¥ä¸º followup æ¨¡å¼æ·»åŠ é€‰é¡¹å¦‚ `debounce:2s cap:25 drop:summarize`ã€‚",
    "## ä»æˆªå›¾/èŠå¤©è®°å½•ä¸­å‡†ç¡®å›ç­”é—®é¢˜\n\n**é—®ï¼šâ€œä½¿ç”¨ API å¯†é’¥æ—¶ Anthropic çš„é»˜è®¤æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿâ€**\n\n**ç­”ï¼š** åœ¨ OpenClaw ä¸­ï¼Œå‡­æ®å’Œæ¨¡å‹é€‰æ‹©æ˜¯åˆ†å¼€çš„ã€‚è®¾ç½® `ANTHROPIC_API_KEY`ï¼ˆæˆ–åœ¨è®¤è¯é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨ Anthropic API å¯†é’¥ï¼‰å¯ç”¨è®¤è¯ï¼Œä½†å®é™…çš„é»˜è®¤æ¨¡å‹æ˜¯ä½ åœ¨ `agents.defaults.model.primary` ä¸­é…ç½®çš„ï¼ˆä¾‹å¦‚ `anthropic/claude-sonnet-4-5` æˆ– `anthropic/claude-opus-4-5`ï¼‰ã€‚å¦‚æœä½ çœ‹åˆ° `No credentials found for profile \"anthropic:default\"`ï¼Œæ„å‘³ç€ Gateway ç½‘å…³åœ¨æ­£åœ¨è¿è¡Œçš„æ™ºèƒ½ä½“çš„é¢„æœŸ `auth-profiles.json` ä¸­æ‰¾ä¸åˆ° Anthropic å‡­æ®ã€‚\n\n---\n\nä»ç„¶å¡ä½ï¼Ÿåœ¨ [Discord](https://discord.com/invite/clawd) ä¸­æé—®æˆ–å‘èµ· [GitHub è®¨è®º](https://github.com/openclaw/openclaw/discussions)ã€‚",
    "---\nsummary: \"OpenClaw capabilities across channels, routing, media, and UX.\"\nread_when:\n  - You want a full list of what OpenClaw supports\ntitle: \"Features\"\n---",
    "## Highlights\n\n<Columns>\n  <Card title=\"Channels\" icon=\"message-square\">\n    WhatsApp, Telegram, Discord, and iMessage with a single Gateway.\n  </Card>\n  <Card title=\"Plugins\" icon=\"plug\">\n    Add Mattermost and more with extensions.\n  </Card>\n  <Card title=\"Routing\" icon=\"route\">\n    Multi-agent routing with isolated sessions.\n  </Card>\n  <Card title=\"Media\" icon=\"image\">\n    Images, audio, and documents in and out.\n  </Card>\n  <Card title=\"Apps and UI\" icon=\"monitor\">\n    Web Control UI and macOS companion app.\n  </Card>\n  <Card title=\"Mobile nodes\" icon=\"smartphone\">\n    iOS and Android nodes with Canvas support.\n  </Card>\n</Columns>",
    "## Full list\n\n- WhatsApp integration via WhatsApp Web (Baileys)\n- Telegram bot support (grammY)\n- Discord bot support (channels.discord.js)\n- Mattermost bot support (plugin)\n- iMessage integration via local imsg CLI (macOS)\n- Agent bridge for Pi in RPC mode with tool streaming\n- Streaming and chunking for long responses\n- Multi-agent routing for isolated sessions per workspace or sender\n- Subscription auth for Anthropic and OpenAI via OAuth\n- Sessions: direct chats collapse into shared `main`; groups are isolated\n- Group chat support with mention based activation\n- Media support for images, audio, and documents\n- Optional voice note transcription hook\n- WebChat and macOS menu bar app\n- iOS node with pairing and Canvas surface\n- Android node with pairing, Canvas, chat, and camera\n\n<Note>\nLegacy Claude, Codex, Gemini, and Opencode paths have been removed. Pi is the only\ncoding agent path.\n</Note>",
    "---\nsummary: \"Feishu bot overview, features, and configuration\"\nread_when:\n  - You want to connect a Feishu/Lark bot\n  - You are configuring the Feishu channel\ntitle: Feishu\n---\n\n# Feishu bot\n\nFeishu (Lark) is a team chat platform used by companies for messaging and collaboration. This plugin connects OpenClaw to a Feishu/Lark bot using the platformâ€™s WebSocket event subscription so messages can be received without exposing a public webhook URL.\n\n---",
    "## Plugin required\n\nInstall the Feishu plugin:\n\n```bash\nopenclaw plugins install @openclaw/feishu\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/feishu\n```\n\n---",
    "## Quickstart\n\nThere are two ways to add the Feishu channel:\n\n### Method 1: onboarding wizard (recommended)\n\nIf you just installed OpenClaw, run the wizard:\n\n```bash\nopenclaw onboard\n```\n\nThe wizard guides you through:\n\n1. Creating a Feishu app and collecting credentials\n2. Configuring app credentials in OpenClaw\n3. Starting the gateway\n\nâœ… **After configuration**, check gateway status:\n\n- `openclaw gateway status`\n- `openclaw logs --follow`\n\n### Method 2: CLI setup\n\nIf you already completed initial install, add the channel via CLI:\n\n```bash\nopenclaw channels add\n```\n\nChoose **Feishu**, then enter the App ID and App Secret.\n\nâœ… **After configuration**, manage the gateway:\n\n- `openclaw gateway status`\n- `openclaw gateway restart`\n- `openclaw logs --follow`\n\n---",
    "## Step 1: Create a Feishu app\n\n### 1. Open Feishu Open Platform\n\nVisit [Feishu Open Platform](https://open.feishu.cn/app) and sign in.\n\nLark (global) tenants should use [https://open.larksuite.com/app](https://open.larksuite.com/app) and set `domain: \"lark\"` in the Feishu config.\n\n### 2. Create an app\n\n1. Click **Create enterprise app**\n2. Fill in the app name + description\n3. Choose an app icon\n\n![Create enterprise app](../images/feishu-step2-create-app.png)\n\n### 3. Copy credentials\n\nFrom **Credentials & Basic Info**, copy:\n\n- **App ID** (format: `cli_xxx`)\n- **App Secret**\n\nâ— **Important:** keep the App Secret private.\n\n![Get credentials](../images/feishu-step3-credentials.png)\n\n### 4. Configure permissions\n\nOn **Permissions**, click **Batch import** and paste:",
    "```json\n{\n  \"scopes\": {\n    \"tenant\": [\n      \"aily:file:read\",\n      \"aily:file:write\",\n      \"application:application.app_message_stats.overview:readonly\",\n      \"application:application:self_manage\",\n      \"application:bot.menu:write\",\n      \"contact:user.employee_id:readonly\",\n      \"corehr:file:download\",\n      \"event:ip_list\",\n      \"im:chat.access_event.bot_p2p_chat:read\",\n      \"im:chat.members:bot_access\",\n      \"im:message\",\n      \"im:message.group_at_msg:readonly\",\n      \"im:message.p2p_msg:readonly\",\n      \"im:message:readonly\",\n      \"im:message:send_as_bot\",\n      \"im:resource\"\n    ],\n    \"user\": [\"aily:file:read\", \"aily:file:write\", \"im:chat.access_event.bot_p2p_chat:read\"]\n  }\n}\n```\n\n![Configure permissions](../images/feishu-step4-permissions.png)\n\n### 5. Enable bot capability\n\nIn **App Capability** > **Bot**:\n\n1. Enable bot capability\n2. Set the bot name\n\n![Enable bot capability](../images/feishu-step5-bot-capability.png)\n\n### 6. Configure event subscription",
    "âš ï¸ **Important:** before setting event subscription, make sure:\n\n1. You already ran `openclaw channels add` for Feishu\n2. The gateway is running (`openclaw gateway status`)\n\nIn **Event Subscription**:\n\n1. Choose **Use long connection to receive events** (WebSocket)\n2. Add the event: `im.message.receive_v1`\n\nâš ï¸ If the gateway is not running, the long-connection setup may fail to save.\n\n![Configure event subscription](../images/feishu-step6-event-subscription.png)\n\n### 7. Publish the app\n\n1. Create a version in **Version Management & Release**\n2. Submit for review and publish\n3. Wait for admin approval (enterprise apps usually auto-approve)\n\n---",
    "## Step 2: Configure OpenClaw\n\n### Configure with the wizard (recommended)\n\n```bash\nopenclaw channels add\n```\n\nChoose **Feishu** and paste your App ID + App Secret.\n\n### Configure via config file\n\nEdit `~/.openclaw/openclaw.json`:\n\n```json5\n{\n  channels: {\n    feishu: {\n      enabled: true,\n      dmPolicy: \"pairing\",\n      accounts: {\n        main: {\n          appId: \"cli_xxx\",\n          appSecret: \"xxx\",\n          botName: \"My AI assistant\",\n        },\n      },\n    },\n  },\n}\n```\n\n### Configure via environment variables\n\n```bash\nexport FEISHU_APP_ID=\"cli_xxx\"\nexport FEISHU_APP_SECRET=\"xxx\"\n```\n\n### Lark (global) domain\n\nIf your tenant is on Lark (international), set the domain to `lark` (or a full domain string). You can set it at `channels.feishu.domain` or per account (`channels.feishu.accounts.<id>.domain`).",
    "```json5\n{\n  channels: {\n    feishu: {\n      domain: \"lark\",\n      accounts: {\n        main: {\n          appId: \"cli_xxx\",\n          appSecret: \"xxx\",\n        },\n      },\n    },\n  },\n}\n```\n\n---",
    "## Step 3: Start + test\n\n### 1. Start the gateway\n\n```bash\nopenclaw gateway\n```\n\n### 2. Send a test message\n\nIn Feishu, find your bot and send a message.\n\n### 3. Approve pairing\n\nBy default, the bot replies with a pairing code. Approve it:\n\n```bash\nopenclaw pairing approve feishu <CODE>\n```\n\nAfter approval, you can chat normally.\n\n---",
    "## Overview\n\n- **Feishu bot channel**: Feishu bot managed by the gateway\n- **Deterministic routing**: replies always return to Feishu\n- **Session isolation**: DMs share a main session; groups are isolated\n- **WebSocket connection**: long connection via Feishu SDK, no public URL needed\n\n---",
    "## Access control\n\n### Direct messages\n\n- **Default**: `dmPolicy: \"pairing\"` (unknown users get a pairing code)\n- **Approve pairing**:\n\n  ```bash\n  openclaw pairing list feishu\n  openclaw pairing approve feishu <CODE>\n  ```\n\n- **Allowlist mode**: set `channels.feishu.allowFrom` with allowed Open IDs\n\n### Group chats\n\n**1. Group policy** (`channels.feishu.groupPolicy`):\n\n- `\"open\"` = allow everyone in groups (default)\n- `\"allowlist\"` = only allow `groupAllowFrom`\n- `\"disabled\"` = disable group messages\n\n**2. Mention requirement** (`channels.feishu.groups.<chat_id>.requireMention`):\n\n- `true` = require @mention (default)\n- `false` = respond without mentions\n\n---",
    "## Group configuration examples\n\n### Allow all groups, require @mention (default)\n\n```json5\n{\n  channels: {\n    feishu: {\n      groupPolicy: \"open\",\n      // Default requireMention: true\n    },\n  },\n}\n```\n\n### Allow all groups, no @mention required\n\n```json5\n{\n  channels: {\n    feishu: {\n      groups: {\n        oc_xxx: { requireMention: false },\n      },\n    },\n  },\n}\n```\n\n### Allow specific users in groups only\n\n```json5\n{\n  channels: {\n    feishu: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"ou_xxx\", \"ou_yyy\"],\n    },\n  },\n}\n```\n\n---",
    "## Get group/user IDs\n\n### Group IDs (chat_id)\n\nGroup IDs look like `oc_xxx`.\n\n**Method 1 (recommended)**\n\n1. Start the gateway and @mention the bot in the group\n2. Run `openclaw logs --follow` and look for `chat_id`\n\n**Method 2**\n\nUse the Feishu API debugger to list group chats.\n\n### User IDs (open_id)\n\nUser IDs look like `ou_xxx`.\n\n**Method 1 (recommended)**\n\n1. Start the gateway and DM the bot\n2. Run `openclaw logs --follow` and look for `open_id`\n\n**Method 2**\n\nCheck pairing requests for user Open IDs:\n\n```bash\nopenclaw pairing list feishu\n```\n\n---",
    "## Common commands\n\n| Command   | Description       |\n| --------- | ----------------- |\n| `/status` | Show bot status   |\n| `/reset`  | Reset the session |\n| `/model`  | Show/switch model |\n\n> Note: Feishu does not support native command menus yet, so commands must be sent as text.",
    "## Gateway management commands\n\n| Command                    | Description                   |\n| -------------------------- | ----------------------------- |\n| `openclaw gateway status`  | Show gateway status           |\n| `openclaw gateway install` | Install/start gateway service |\n| `openclaw gateway stop`    | Stop gateway service          |\n| `openclaw gateway restart` | Restart gateway service       |\n| `openclaw logs --follow`   | Tail gateway logs             |\n\n---",
    "## Troubleshooting\n\n### Bot does not respond in group chats\n\n1. Ensure the bot is added to the group\n2. Ensure you @mention the bot (default behavior)\n3. Check `groupPolicy` is not set to `\"disabled\"`\n4. Check logs: `openclaw logs --follow`\n\n### Bot does not receive messages\n\n1. Ensure the app is published and approved\n2. Ensure event subscription includes `im.message.receive_v1`\n3. Ensure **long connection** is enabled\n4. Ensure app permissions are complete\n5. Ensure the gateway is running: `openclaw gateway status`\n6. Check logs: `openclaw logs --follow`\n\n### App Secret leak\n\n1. Reset the App Secret in Feishu Open Platform\n2. Update the App Secret in your config\n3. Restart the gateway\n\n### Message send failures\n\n1. Ensure the app has `im:message:send_as_bot` permission\n2. Ensure the app is published\n3. Check logs for detailed errors\n\n---",
    "## Advanced configuration\n\n### Multiple accounts\n\n```json5\n{\n  channels: {\n    feishu: {\n      accounts: {\n        main: {\n          appId: \"cli_xxx\",\n          appSecret: \"xxx\",\n          botName: \"Primary bot\",\n        },\n        backup: {\n          appId: \"cli_yyy\",\n          appSecret: \"yyy\",\n          botName: \"Backup bot\",\n          enabled: false,\n        },\n      },\n    },\n  },\n}\n```\n\n### Message limits\n\n- `textChunkLimit`: outbound text chunk size (default: 2000 chars)\n- `mediaMaxMb`: media upload/download limit (default: 30MB)\n\n### Streaming\n\nFeishu supports streaming replies via interactive cards. When enabled, the bot updates a card as it generates text.\n\n```json5\n{\n  channels: {\n    feishu: {\n      streaming: true, // enable streaming card output (default true)\n      blockStreaming: true, // enable block-level streaming (default true)\n    },\n  },\n}\n```\n\nSet `streaming: false` to wait for the full reply before sending.\n\n### Multi-agent routing",
    "Use `bindings` to route Feishu DMs or groups to different agents.\n\n```json5\n{\n  agents: {\n    list: [\n      { id: \"main\" },\n      {\n        id: \"clawd-fan\",\n        workspace: \"/home/user/clawd-fan\",\n        agentDir: \"/home/user/.openclaw/agents/clawd-fan/agent\",\n      },\n      {\n        id: \"clawd-xi\",\n        workspace: \"/home/user/clawd-xi\",\n        agentDir: \"/home/user/.openclaw/agents/clawd-xi/agent\",\n      },\n    ],\n  },\n  bindings: [\n    {\n      agentId: \"main\",\n      match: {\n        channel: \"feishu\",\n        peer: { kind: \"dm\", id: \"ou_xxx\" },\n      },\n    },\n    {\n      agentId: \"clawd-fan\",\n      match: {\n        channel: \"feishu\",\n        peer: { kind: \"dm\", id: \"ou_yyy\" },\n      },\n    },\n    {\n      agentId: \"clawd-xi\",\n      match: {\n        channel: \"feishu\",\n        peer: { kind: \"group\", id: \"oc_zzz\" },\n      },\n    },\n  ],\n}\n```\n\nRouting fields:",
    "- `match.channel`: `\"feishu\"`\n- `match.peer.kind`: `\"dm\"` or `\"group\"`\n- `match.peer.id`: user Open ID (`ou_xxx`) or group ID (`oc_xxx`)\n\nSee [Get group/user IDs](#get-groupuser-ids) for lookup tips.\n\n---",
    "## Configuration reference\n\nFull configuration: [Gateway configuration](/gateway/configuration)\n\nKey options:",
    "| Setting                                           | Description                     | Default   |\n| ------------------------------------------------- | ------------------------------- | --------- |\n| `channels.feishu.enabled`                         | Enable/disable channel          | `true`    |\n| `channels.feishu.domain`                          | API domain (`feishu` or `lark`) | `feishu`  |\n| `channels.feishu.accounts.<id>.appId`             | App ID                          | -         |\n| `channels.feishu.accounts.<id>.appSecret`         | App Secret                      | -         |\n| `channels.feishu.accounts.<id>.domain`            | Per-account API domain override | `feishu`  |\n| `channels.feishu.dmPolicy`                        | DM policy                       | `pairing` |\n| `channels.feishu.allowFrom`                       | DM allowlist (open_id list)     | -         |\n| `channels.feishu.groupPolicy`                     | Group policy                    | `open`    |\n| `channels.feishu.groupAllowFrom`                  | Group allowlist                 | -         |\n| `channels.feishu.groups.<chat_id>.requireMention` | Require @mention                | `true`    |\n| `channels.feishu.groups.<chat_id>.enabled`        | Enable group                    | `true`    |\n| `channels.feishu.textChunkLimit`                  | Message chunk size              | `2000`    |\n| `channels.feishu.mediaMaxMb`                      | Media size limit                | `30`      |\n| `channels.feishu.streaming`                       | Enable streaming card output    | `true`    |\n| `channels.feishu.blockStreaming`                  | Enable block streaming          | `true`    |",
    "---",
    "## dmPolicy reference\n\n| Value         | Behavior                                                        |\n| ------------- | --------------------------------------------------------------- |\n| `\"pairing\"`   | **Default.** Unknown users get a pairing code; must be approved |\n| `\"allowlist\"` | Only users in `allowFrom` can chat                              |\n| `\"open\"`      | Allow all users (requires `\"*\"` in allowFrom)                   |\n| `\"disabled\"`  | Disable DMs                                                     |\n\n---",
    "## Supported message types\n\n### Receive\n\n- âœ… Text\n- âœ… Rich text (post)\n- âœ… Images\n- âœ… Files\n- âœ… Audio\n- âœ… Video\n- âœ… Stickers\n\n### Send\n\n- âœ… Text\n- âœ… Images\n- âœ… Files\n- âœ… Audio\n- âš ï¸ Rich text (partial support)",
    "---\nsummary: \"Firecrawl fallback for web_fetch (anti-bot + cached extraction)\"\nread_when:\n  - You want Firecrawl-backed web extraction\n  - You need a Firecrawl API key\n  - You want anti-bot extraction for web_fetch\ntitle: \"Firecrawl\"\n---\n\n# Firecrawl\n\nOpenClaw can use **Firecrawl** as a fallback extractor for `web_fetch`. It is a hosted\ncontent extraction service that supports bot circumvention and caching, which helps\nwith JS-heavy sites or pages that block plain HTTP fetches.",
    "## Get an API key\n\n1. Create a Firecrawl account and generate an API key.\n2. Store it in config or set `FIRECRAWL_API_KEY` in the gateway environment.",
    "## Configure Firecrawl\n\n```json5\n{\n  tools: {\n    web: {\n      fetch: {\n        firecrawl: {\n          apiKey: \"FIRECRAWL_API_KEY_HERE\",\n          baseUrl: \"https://api.firecrawl.dev\",\n          onlyMainContent: true,\n          maxAgeMs: 172800000,\n          timeoutSeconds: 60,\n        },\n      },\n    },\n  },\n}\n```\n\nNotes:\n\n- `firecrawl.enabled` defaults to true when an API key is present.\n- `maxAgeMs` controls how old cached results can be (ms). Default is 2 days.",
    "## Stealth / bot circumvention\n\nFirecrawl exposes a **proxy mode** parameter for bot circumvention (`basic`, `stealth`, or `auto`).\nOpenClaw always uses `proxy: \"auto\"` plus `storeInCache: true` for Firecrawl requests.\nIf proxy is omitted, Firecrawl defaults to `auto`. `auto` retries with stealth proxies if a basic attempt fails, which may use more credits\nthan basic-only scraping.",
    "## How `web_fetch` uses Firecrawl\n\n`web_fetch` extraction order:\n\n1. Readability (local)\n2. Firecrawl (if configured)\n3. Basic HTML cleanup (last fallback)\n\nSee [Web tools](/tools/web) for the full web tool setup.",
    "---\nsummary: \"Diagnostics flags for targeted debug logs\"\nread_when:\n  - You need targeted debug logs without raising global logging levels\n  - You need to capture subsystem-specific logs for support\ntitle: \"Diagnostics Flags\"\n---\n\n# Diagnostics Flags\n\nDiagnostics flags let you enable targeted debug logs without turning on verbose logging everywhere. Flags are opt-in and have no effect unless a subsystem checks them.",
    "## How it works\n\n- Flags are strings (case-insensitive).\n- You can enable flags in config or via an env override.\n- Wildcards are supported:\n  - `telegram.*` matches `telegram.http`\n  - `*` enables all flags",
    "## Enable via config\n\n```json\n{\n  \"diagnostics\": {\n    \"flags\": [\"telegram.http\"]\n  }\n}\n```\n\nMultiple flags:\n\n```json\n{\n  \"diagnostics\": {\n    \"flags\": [\"telegram.http\", \"gateway.*\"]\n  }\n}\n```\n\nRestart the gateway after changing flags.",
    "## Env override (one-off)\n\n```bash\nOPENCLAW_DIAGNOSTICS=telegram.http,telegram.payload\n```\n\nDisable all flags:\n\n```bash\nOPENCLAW_DIAGNOSTICS=0\n```",
    "## Where logs go\n\nFlags emit logs into the standard diagnostics log file. By default:\n\n```\n/tmp/openclaw/openclaw-YYYY-MM-DD.log\n```\n\nIf you set `logging.file`, use that path instead. Logs are JSONL (one JSON object per line). Redaction still applies based on `logging.redactSensitive`.",
    "## Extract logs\n\nPick the latest log file:\n\n```bash\nls -t /tmp/openclaw/openclaw-*.log | head -n 1\n```\n\nFilter for Telegram HTTP diagnostics:\n\n```bash\nrg \"telegram http error\" /tmp/openclaw/openclaw-*.log\n```\n\nOr tail while reproducing:\n\n```bash\ntail -f /tmp/openclaw/openclaw-$(date +%F).log | rg \"telegram http error\"\n```\n\nFor remote gateways, you can also use `openclaw logs --follow` (see [/cli/logs](/cli/logs)).",
    "## Notes\n\n- If `logging.level` is set higher than `warn`, these logs may be suppressed. Default `info` is fine.\n- Flags are safe to leave enabled; they only affect log volume for the specific subsystem.\n- Use [/logging](/logging) to change log destinations, levels, and redaction.",
    "---\ndescription: Deploy OpenClaw on Fly.io\ntitle: Fly.io\nx-i18n:\n  generated_at: \"2026-02-03T07:52:55Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: a00bae43e416112eb269126445c51492a30abe9e136d89e161fc4193314a876f\n  source_path: platforms/fly.md\n  workflow: 15\n---\n\n# Fly.io éƒ¨ç½²\n\n**ç›®æ ‡ï¼š** OpenClaw Gateway ç½‘å…³è¿è¡Œåœ¨ [Fly.io](https://fly.io) æœºå™¨ä¸Šï¼Œå…·æœ‰æŒä¹…å­˜å‚¨ã€è‡ªåŠ¨ HTTPS å’Œ Discord/æ¸ é“è®¿é—®ã€‚",
    "## ä½ éœ€è¦ä»€ä¹ˆ\n\n- å·²å®‰è£… [flyctl CLI](https://fly.io/docs/hands-on/install-flyctl/)\n- Fly.io è´¦æˆ·ï¼ˆå…è´¹å¥—é¤å¯ç”¨ï¼‰\n- æ¨¡å‹è®¤è¯ï¼šAnthropic API å¯†é’¥ï¼ˆæˆ–å…¶ä»–æä¾›å•†å¯†é’¥ï¼‰\n- æ¸ é“å‡­è¯ï¼šDiscord bot tokenã€Telegram token ç­‰",
    "## åˆå­¦è€…å¿«é€Ÿè·¯å¾„\n\n1. å…‹éš†ä»“åº“ â†’ è‡ªå®šä¹‰ `fly.toml`\n2. åˆ›å»ºåº”ç”¨ + å· â†’ è®¾ç½®å¯†é’¥\n3. ä½¿ç”¨ `fly deploy` éƒ¨ç½²\n4. SSH è¿›å…¥åˆ›å»ºé…ç½®æˆ–ä½¿ç”¨ Control UI",
    "## 1ï¼‰åˆ›å»º Fly åº”ç”¨\n\n```bash\n# Clone the repo\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\n\n# Create a new Fly app (pick your own name)\nfly apps create my-openclaw\n\n# Create a persistent volume (1GB is usually enough)\nfly volumes create openclaw_data --size 1 --region iad\n```\n\n**æç¤ºï¼š** é€‰æ‹©ç¦»ä½ è¿‘çš„åŒºåŸŸã€‚å¸¸è§é€‰é¡¹ï¼š`lhr`ï¼ˆä¼¦æ•¦ï¼‰ã€`iad`ï¼ˆå¼—å‰å°¼äºšï¼‰ã€`sjc`ï¼ˆåœ£ä½•å¡ï¼‰ã€‚",
    "## 2ï¼‰é…ç½® fly.toml\n\nç¼–è¾‘ `fly.toml` ä»¥åŒ¹é…ä½ çš„åº”ç”¨åç§°å’Œéœ€æ±‚ã€‚\n\n**å®‰å…¨æ³¨æ„äº‹é¡¹ï¼š** é»˜è®¤é…ç½®æš´éœ²å…¬å…± URLã€‚å¯¹äºæ²¡æœ‰å…¬å…± IP çš„åŠ å›ºéƒ¨ç½²ï¼Œå‚è§[ç§æœ‰éƒ¨ç½²](#ç§æœ‰éƒ¨ç½²åŠ å›º)æˆ–ä½¿ç”¨ `fly.private.toml`ã€‚\n\n```toml\napp = \"my-openclaw\"  # Your app name\nprimary_region = \"iad\"\n\n[build]\n  dockerfile = \"Dockerfile\"\n\n[env]\n  NODE_ENV = \"production\"\n  OPENCLAW_PREFER_PNPM = \"1\"\n  OPENCLAW_STATE_DIR = \"/data\"\n  NODE_OPTIONS = \"--max-old-space-size=1536\"\n\n[processes]\n  app = \"node dist/index.js gateway --allow-unconfigured --port 3000 --bind lan\"\n\n[http_service]\n  internal_port = 3000\n  force_https = true\n  auto_stop_machines = false\n  auto_start_machines = true\n  min_machines_running = 1\n  processes = [\"app\"]\n\n[[vm]]\n  size = \"shared-cpu-2x\"\n  memory = \"2048mb\"\n\n[mounts]\n  source = \"openclaw_data\"\n  destination = \"/data\"\n```\n\n**å…³é”®è®¾ç½®ï¼š**",
    "| è®¾ç½®                           | åŸå›                                                                       |\n| ------------------------------ | ------------------------------------------------------------------------- |\n| `--bind lan`                   | ç»‘å®šåˆ° `0.0.0.0` ä»¥ä¾¿ Fly çš„ä»£ç†å¯ä»¥è®¿é—® Gateway ç½‘å…³                     |\n| `--allow-unconfigured`         | æ— éœ€é…ç½®æ–‡ä»¶å¯åŠ¨ï¼ˆä½ ç¨åä¼šåˆ›å»ºä¸€ä¸ªï¼‰                                      |\n| `internal_port = 3000`         | å¿…é¡»ä¸ `--port 3000`ï¼ˆæˆ– `OPENCLAW_GATEWAY_PORT`ï¼‰åŒ¹é…ä»¥è¿›è¡Œ Fly å¥åº·æ£€æŸ¥ |\n| `memory = \"2048mb\"`            | 512MB å¤ªå°ï¼›æ¨è 2GB                                                      |\n| `OPENCLAW_STATE_DIR = \"/data\"` | åœ¨å·ä¸ŠæŒä¹…åŒ–çŠ¶æ€                                                          |",
    "## 3ï¼‰è®¾ç½®å¯†é’¥\n\n```bash\n# Required: Gateway token (for non-loopback binding)\nfly secrets set OPENCLAW_GATEWAY_TOKEN=$(openssl rand -hex 32)\n\n# Model provider API keys\nfly secrets set ANTHROPIC_API_KEY=sk-ant-...\n\n# Optional: Other providers\nfly secrets set OPENAI_API_KEY=sk-...\nfly secrets set GOOGLE_API_KEY=...\n\n# Channel tokens\nfly secrets set DISCORD_BOT_TOKEN=MTQ...\n```\n\n**æ³¨æ„äº‹é¡¹ï¼š**\n\n- é loopback ç»‘å®šï¼ˆ`--bind lan`ï¼‰å‡ºäºå®‰å…¨éœ€è¦ `OPENCLAW_GATEWAY_TOKEN`ã€‚\n- åƒå¯¹å¾…å¯†ç ä¸€æ ·å¯¹å¾…è¿™äº› tokenã€‚\n- **ä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡è€Œä¸æ˜¯é…ç½®æ–‡ä»¶**æ¥å­˜å‚¨æ‰€æœ‰ API å¯†é’¥å’Œ tokenã€‚è¿™å¯ä»¥é¿å…å¯†é’¥å‡ºç°åœ¨ `openclaw.json` ä¸­ï¼Œé˜²æ­¢æ„å¤–æš´éœ²æˆ–è®°å½•ã€‚",
    "## 4ï¼‰éƒ¨ç½²\n\n```bash\nfly deploy\n```\n\né¦–æ¬¡éƒ¨ç½²æ„å»º Docker é•œåƒï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰ã€‚åç»­éƒ¨ç½²æ›´å¿«ã€‚\n\néƒ¨ç½²åéªŒè¯ï¼š\n\n```bash\nfly status\nfly logs\n```\n\nä½ åº”è¯¥çœ‹åˆ°ï¼š\n\n```\n[gateway] listening on ws://0.0.0.0:3000 (PID xxx)\n[discord] logged in to discord as xxx\n```",
    "## 5ï¼‰åˆ›å»ºé…ç½®æ–‡ä»¶\n\nSSH è¿›å…¥æœºå™¨åˆ›å»ºæ­£ç¡®çš„é…ç½®ï¼š\n\n```bash\nfly ssh console\n```\n\nåˆ›å»ºé…ç½®ç›®å½•å’Œæ–‡ä»¶ï¼š",
    "```bash\nmkdir -p /data\ncat > /data/openclaw.json << 'EOF'\n{\n  \"agents\": {\n    \"defaults\": {\n      \"model\": {\n        \"primary\": \"anthropic/claude-opus-4-5\",\n        \"fallbacks\": [\"anthropic/claude-sonnet-4-5\", \"openai/gpt-4o\"]\n      },\n      \"maxConcurrent\": 4\n    },\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"default\": true\n      }\n    ]\n  },\n  \"auth\": {\n    \"profiles\": {\n      \"anthropic:default\": { \"mode\": \"token\", \"provider\": \"anthropic\" },\n      \"openai:default\": { \"mode\": \"token\", \"provider\": \"openai\" }\n    }\n  },\n  \"bindings\": [\n    {\n      \"agentId\": \"main\",\n      \"match\": { \"channel\": \"discord\" }\n    }\n  ],\n  \"channels\": {\n    \"discord\": {\n      \"enabled\": true,\n      \"groupPolicy\": \"allowlist\",\n      \"guilds\": {\n        \"YOUR_GUILD_ID\": {\n          \"channels\": { \"general\": { \"allow\": true } },\n          \"requireMention\": false\n        }\n      }\n    }\n  },\n  \"gateway\": {\n    \"mode\": \"local\",\n    \"bind\": \"auto\"\n  },\n  \"meta\": {\n    \"lastTouchedVersion\": \"2026.1.29\"\n  }\n}\nEOF\n```",
    "**æ³¨æ„ï¼š** ä½¿ç”¨ `OPENCLAW_STATE_DIR=/data` æ—¶ï¼Œé…ç½®è·¯å¾„æ˜¯ `/data/openclaw.json`ã€‚\n\n**æ³¨æ„ï¼š** Discord token å¯ä»¥æ¥è‡ªï¼š\n\n- ç¯å¢ƒå˜é‡ï¼š`DISCORD_BOT_TOKEN`ï¼ˆæ¨èç”¨äºå¯†é’¥ï¼‰\n- é…ç½®æ–‡ä»¶ï¼š`channels.discord.token`\n\nå¦‚æœä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œæ— éœ€å°† token æ·»åŠ åˆ°é…ç½®ä¸­ã€‚Gateway ç½‘å…³ä¼šè‡ªåŠ¨è¯»å– `DISCORD_BOT_TOKEN`ã€‚\n\né‡å¯ä»¥åº”ç”¨ï¼š\n\n```bash\nexit\nfly machine restart <machine-id>\n```",
    "## 6ï¼‰è®¿é—® Gateway ç½‘å…³\n\n### Control UI\n\nåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š\n\n```bash\nfly open\n```\n\næˆ–è®¿é—® `https://my-openclaw.fly.dev/`\n\nç²˜è´´ä½ çš„ Gateway ç½‘å…³ tokenï¼ˆæ¥è‡ª `OPENCLAW_GATEWAY_TOKEN` çš„é‚£ä¸ªï¼‰è¿›è¡Œè®¤è¯ã€‚\n\n### æ—¥å¿—\n\n```bash\nfly logs              # Live logs\nfly logs --no-tail    # Recent logs\n```\n\n### SSH æ§åˆ¶å°\n\n```bash\nfly ssh console\n```",
    "## æ•…éšœæ’é™¤\n\n### \"App is not listening on expected address\"\n\nGateway ç½‘å…³ç»‘å®šåˆ° `127.0.0.1` è€Œä¸æ˜¯ `0.0.0.0`ã€‚\n\n**ä¿®å¤ï¼š** åœ¨ `fly.toml` ä¸­çš„è¿›ç¨‹å‘½ä»¤æ·»åŠ  `--bind lan`ã€‚\n\n### å¥åº·æ£€æŸ¥å¤±è´¥ / è¿æ¥è¢«æ‹’ç»\n\nFly æ— æ³•åœ¨é…ç½®çš„ç«¯å£ä¸Šè®¿é—® Gateway ç½‘å…³ã€‚\n\n**ä¿®å¤ï¼š** ç¡®ä¿ `internal_port` ä¸ Gateway ç½‘å…³ç«¯å£åŒ¹é…ï¼ˆè®¾ç½® `--port 3000` æˆ– `OPENCLAW_GATEWAY_PORT=3000`ï¼‰ã€‚\n\n### OOM / å†…å­˜é—®é¢˜\n\nå®¹å™¨æŒç»­é‡å¯æˆ–è¢«ç»ˆæ­¢ã€‚è¿¹è±¡ï¼š`SIGABRT`ã€`v8::internal::Runtime_AllocateInYoungGeneration` æˆ–é™é»˜é‡å¯ã€‚\n\n**ä¿®å¤ï¼š** åœ¨ `fly.toml` ä¸­å¢åŠ å†…å­˜ï¼š\n\n```toml\n[[vm]]\n  memory = \"2048mb\"\n```\n\næˆ–æ›´æ–°ç°æœ‰æœºå™¨ï¼š\n\n```bash\nfly machine update <machine-id> --vm-memory 2048 -y\n```\n\n**æ³¨æ„ï¼š** 512MB å¤ªå°ã€‚1GB å¯èƒ½å¯ä»¥å·¥ä½œä½†åœ¨è´Ÿè½½æˆ–è¯¦ç»†æ—¥å¿—è®°å½•ä¸‹å¯èƒ½ OOMã€‚**æ¨è 2GBã€‚**\n\n### Gateway ç½‘å…³é”é—®é¢˜\n\nGateway ç½‘å…³æ‹’ç»å¯åŠ¨å¹¶æ˜¾ç¤º\"already running\"é”™è¯¯ã€‚\n\nè¿™å‘ç”Ÿåœ¨å®¹å™¨é‡å¯ä½† PID é”æ–‡ä»¶åœ¨å·ä¸ŠæŒä¹…å­˜åœ¨æ—¶ã€‚\n\n**ä¿®å¤ï¼š** åˆ é™¤é”æ–‡ä»¶ï¼š\n\n```bash\nfly ssh console --command \"rm -f /data/gateway.*.lock\"\nfly machine restart <machine-id>\n```\n\né”æ–‡ä»¶åœ¨ `/data/gateway.*.lock`ï¼ˆä¸åœ¨å­ç›®å½•ä¸­ï¼‰ã€‚\n\n### é…ç½®æœªè¢«è¯»å–\n\nå¦‚æœä½¿ç”¨ `--allow-unconfigured`ï¼ŒGateway ç½‘å…³ä¼šåˆ›å»ºæœ€å°é…ç½®ã€‚ä½ åœ¨ `/data/openclaw.json` çš„è‡ªå®šä¹‰é…ç½®åº”è¯¥åœ¨é‡å¯æ—¶è¢«è¯»å–ã€‚\n\néªŒè¯é…ç½®æ˜¯å¦å­˜åœ¨ï¼š",
    "```bash\nfly ssh console --command \"cat /data/openclaw.json\"\n```\n\n### é€šè¿‡ SSH å†™å…¥é…ç½®\n\n`fly ssh console -C` å‘½ä»¤ä¸æ”¯æŒ shell é‡å®šå‘ã€‚è¦å†™å…¥é…ç½®æ–‡ä»¶ï¼š\n\n```bash\n# Use echo + tee (pipe from local to remote)\necho '{\"your\":\"config\"}' | fly ssh console -C \"tee /data/openclaw.json\"\n\n# Or use sftp\nfly sftp shell\n> put /local/path/config.json /data/openclaw.json\n```\n\n**æ³¨æ„ï¼š** å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œ`fly sftp` å¯èƒ½ä¼šå¤±è´¥ã€‚å…ˆåˆ é™¤ï¼š\n\n```bash\nfly ssh console --command \"rm /data/openclaw.json\"\n```\n\n### çŠ¶æ€æœªæŒä¹…åŒ–\n\nå¦‚æœé‡å¯åä¸¢å¤±å‡­è¯æˆ–ä¼šè¯ï¼ŒçŠ¶æ€ç›®å½•æ­£åœ¨å†™å…¥å®¹å™¨æ–‡ä»¶ç³»ç»Ÿã€‚\n\n**ä¿®å¤ï¼š** ç¡®ä¿ `fly.toml` ä¸­è®¾ç½®äº† `OPENCLAW_STATE_DIR=/data` å¹¶é‡æ–°éƒ¨ç½²ã€‚",
    "## æ›´æ–°\n\n```bash\n# Pull latest changes\ngit pull\n\n# Redeploy\nfly deploy\n\n# Check health\nfly status\nfly logs\n```\n\n### æ›´æ–°æœºå™¨å‘½ä»¤\n\nå¦‚æœä½ éœ€è¦æ›´æ”¹å¯åŠ¨å‘½ä»¤è€Œæ— éœ€å®Œå…¨é‡æ–°éƒ¨ç½²ï¼š\n\n```bash\n# Get machine ID\nfly machines list\n\n# Update command\nfly machine update <machine-id> --command \"node dist/index.js gateway --port 3000 --bind lan\" -y\n\n# Or with memory increase\nfly machine update <machine-id> --vm-memory 2048 --command \"node dist/index.js gateway --port 3000 --bind lan\" -y\n```\n\n**æ³¨æ„ï¼š** `fly deploy` åï¼Œæœºå™¨å‘½ä»¤å¯èƒ½ä¼šé‡ç½®ä¸º `fly.toml` ä¸­çš„å†…å®¹ã€‚å¦‚æœä½ è¿›è¡Œäº†æ‰‹åŠ¨æ›´æ”¹ï¼Œè¯·åœ¨éƒ¨ç½²åé‡æ–°åº”ç”¨å®ƒä»¬ã€‚",
    "## ç§æœ‰éƒ¨ç½²ï¼ˆåŠ å›ºï¼‰\n\né»˜è®¤æƒ…å†µä¸‹ï¼ŒFly åˆ†é…å…¬å…± IPï¼Œä½¿ä½ çš„ Gateway ç½‘å…³å¯é€šè¿‡ `https://your-app.fly.dev` è®¿é—®ã€‚è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†æ„å‘³ç€ä½ çš„éƒ¨ç½²å¯è¢«äº’è”ç½‘æ‰«æå™¨ï¼ˆShodanã€Censys ç­‰ï¼‰å‘ç°ã€‚\n\nå¯¹äº**æ— å…¬å…±æš´éœ²**çš„åŠ å›ºéƒ¨ç½²ï¼Œä½¿ç”¨ç§æœ‰æ¨¡æ¿ã€‚\n\n### ä½•æ—¶ä½¿ç”¨ç§æœ‰éƒ¨ç½²\n\n- ä½ åªè¿›è¡Œ**å‡ºç«™**è°ƒç”¨/æ¶ˆæ¯ï¼ˆæ— å…¥ç«™ webhooksï¼‰\n- ä½ ä½¿ç”¨ **ngrok æˆ– Tailscale** éš§é“å¤„ç†ä»»ä½• webhook å›è°ƒ\n- ä½ é€šè¿‡ **SSHã€ä»£ç†æˆ– WireGuard** è€Œä¸æ˜¯æµè§ˆå™¨è®¿é—® Gateway ç½‘å…³\n- ä½ å¸Œæœ›éƒ¨ç½²**å¯¹äº’è”ç½‘æ‰«æå™¨éšè—**\n\n### è®¾ç½®\n\nä½¿ç”¨ `fly.private.toml` æ›¿ä»£æ ‡å‡†é…ç½®ï¼š\n\n```bash\n# Deploy with private config\nfly deploy -c fly.private.toml\n```\n\næˆ–è½¬æ¢ç°æœ‰éƒ¨ç½²ï¼š\n\n```bash\n# List current IPs\nfly ips list -a my-openclaw\n\n# Release public IPs\nfly ips release <public-ipv4> -a my-openclaw\nfly ips release <public-ipv6> -a my-openclaw\n\n# Switch to private config so future deploys don't re-allocate public IPs\n# (remove [http_service] or deploy with the private template)\nfly deploy -c fly.private.toml\n\n# Allocate private-only IPv6\nfly ips allocate-v6 --private -a my-openclaw\n```\n\næ­¤åï¼Œ`fly ips list` åº”è¯¥åªæ˜¾ç¤º `private` ç±»å‹çš„ IPï¼š",
    "```\nVERSION  IP                   TYPE             REGION\nv6       fdaa:x:x:x:x::x      private          global\n```\n\n### è®¿é—®ç§æœ‰éƒ¨ç½²\n\nç”±äºæ²¡æœ‰å…¬å…± URLï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š\n\n**é€‰é¡¹ 1ï¼šæœ¬åœ°ä»£ç†ï¼ˆæœ€ç®€å•ï¼‰**\n\n```bash\n# Forward local port 3000 to the app\nfly proxy 3000:3000 -a my-openclaw\n\n# Then open http://localhost:3000 in browser\n```\n\n**é€‰é¡¹ 2ï¼šWireGuard VPN**\n\n```bash\n# Create WireGuard config (one-time)\nfly wireguard create\n\n# Import to WireGuard client, then access via internal IPv6\n# Example: http://[fdaa:x:x:x:x::x]:3000\n```\n\n**é€‰é¡¹ 3ï¼šä»… SSH**\n\n```bash\nfly ssh console -a my-openclaw\n```\n\n### ç§æœ‰éƒ¨ç½²çš„ Webhooks\n\nå¦‚æœä½ éœ€è¦ webhook å›è°ƒï¼ˆTwilioã€Telnyx ç­‰ï¼‰è€Œä¸æš´éœ²å…¬å…±ï¼š\n\n1. **ngrok éš§é“** - åœ¨å®¹å™¨å†…æˆ–ä½œä¸º sidecar è¿è¡Œ ngrok\n2. **Tailscale Funnel** - é€šè¿‡ Tailscale æš´éœ²ç‰¹å®šè·¯å¾„\n3. **ä»…å‡ºç«™** - æŸäº›æä¾›å•†ï¼ˆTwilioï¼‰å¯¹äºå‡ºç«™å‘¼å«æ— éœ€ webhooks ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ\n\nä½¿ç”¨ ngrok çš„ç¤ºä¾‹è¯­éŸ³é€šè¯é…ç½®ï¼š",
    "```json\n{\n  \"plugins\": {\n    \"entries\": {\n      \"voice-call\": {\n        \"enabled\": true,\n        \"config\": {\n          \"provider\": \"twilio\",\n          \"tunnel\": { \"provider\": \"ngrok\" }\n        }\n      }\n    }\n  }\n}\n```\n\nngrok éš§é“åœ¨å®¹å™¨å†…è¿è¡Œå¹¶æä¾›å…¬å…± webhook URLï¼Œè€Œä¸æš´éœ² Fly åº”ç”¨æœ¬èº«ã€‚\n\n### å®‰å…¨ä¼˜åŠ¿\n\n| æ–¹é¢            | å…¬å…±   | ç§æœ‰     |\n| --------------- | ------ | -------- |\n| äº’è”ç½‘æ‰«æå™¨    | å¯å‘ç° | éšè—     |\n| ç›´æ¥æ”»å‡»        | å¯èƒ½   | è¢«é˜»æ­¢   |\n| Control UI è®¿é—® | æµè§ˆå™¨ | ä»£ç†/VPN |\n| Webhook æŠ•é€’    | ç›´æ¥   | é€šè¿‡éš§é“ |",
    "## æ³¨æ„äº‹é¡¹\n\n- Fly.io ä½¿ç”¨ **x86 æ¶æ„**ï¼ˆé ARMï¼‰\n- Dockerfile å…¼å®¹ä¸¤ç§æ¶æ„\n- å¯¹äº WhatsApp/Telegram æ–°æ‰‹å¼•å¯¼ï¼Œä½¿ç”¨ `fly ssh console`\n- æŒä¹…æ•°æ®ä½äº `/data` å·ä¸Š\n- Signal éœ€è¦ Java + signal-cliï¼›ä½¿ç”¨è‡ªå®šä¹‰é•œåƒå¹¶ä¿æŒå†…å­˜åœ¨ 2GB+ã€‚",
    "## æˆæœ¬\n\nä½¿ç”¨æ¨èé…ç½®ï¼ˆ`shared-cpu-2x`ï¼Œ2GB RAMï¼‰ï¼š\n\n- æ ¹æ®ä½¿ç”¨æƒ…å†µçº¦ $10-15/æœˆ\n- å…è´¹å¥—é¤åŒ…å«ä¸€äº›é…é¢\n\nè¯¦æƒ…å‚è§ [Fly.io å®šä»·](https://fly.io/docs/about/pricing/)ã€‚",
    "---\ntitle: Formal Verification (Security Models)\nsummary: Machine-checked security models for OpenClawâ€™s highest-risk paths.\npermalink: /security/formal-verification/\n---\n\n# Formal Verification (Security Models)\n\nThis page tracks OpenClawâ€™s **formal security models** (TLA+/TLC today; more as needed).\n\n> Note: some older links may refer to the previous project name.\n\n**Goal (north star):** provide a machine-checked argument that OpenClaw enforces its\nintended security policy (authorization, session isolation, tool gating, and\nmisconfiguration safety), under explicit assumptions.\n\n**What this is (today):** an executable, attacker-driven **security regression suite**:\n\n- Each claim has a runnable model-check over a finite state space.\n- Many claims have a paired **negative model** that produces a counterexample trace for a realistic bug class.\n\n**What this is not (yet):** a proof that â€œOpenClaw is secure in all respectsâ€ or that the full TypeScript implementation is correct.",
    "## Where the models live\n\nModels are maintained in a separate repo: [vignesh07/openclaw-formal-models](https://github.com/vignesh07/openclaw-formal-models).",
    "## Important caveats\n\n- These are **models**, not the full TypeScript implementation. Drift between model and code is possible.\n- Results are bounded by the state space explored by TLC; â€œgreenâ€ does not imply security beyond the modeled assumptions and bounds.\n- Some claims rely on explicit environmental assumptions (e.g., correct deployment, correct configuration inputs).",
    "## Reproducing results\n\nToday, results are reproduced by cloning the models repo locally and running TLC (see below). A future iteration could offer:\n\n- CI-run models with public artifacts (counterexample traces, run logs)\n- a hosted â€œrun this modelâ€ workflow for small, bounded checks\n\nGetting started:\n\n```bash\ngit clone https://github.com/vignesh07/openclaw-formal-models\ncd openclaw-formal-models\n\n# Java 11+ required (TLC runs on the JVM).\n# The repo vendors a pinned `tla2tools.jar` (TLA+ tools) and provides `bin/tlc` + Make targets.\n\nmake <target>\n```\n\n### Gateway exposure and open gateway misconfiguration\n\n**Claim:** binding beyond loopback without auth can make remote compromise possible / increases exposure; token/password blocks unauth attackers (per the model assumptions).\n\n- Green runs:\n  - `make gateway-exposure-v2`\n  - `make gateway-exposure-v2-protected`\n- Red (expected):\n  - `make gateway-exposure-v2-negative`\n\nSee also: `docs/gateway-exposure-matrix.md` in the models repo.",
    "### Nodes.run pipeline (highest-risk capability)\n\n**Claim:** `nodes.run` requires (a) node command allowlist plus declared commands and (b) live approval when configured; approvals are tokenized to prevent replay (in the model).\n\n- Green runs:\n  - `make nodes-pipeline`\n  - `make approvals-token`\n- Red (expected):\n  - `make nodes-pipeline-negative`\n  - `make approvals-token-negative`\n\n### Pairing store (DM gating)\n\n**Claim:** pairing requests respect TTL and pending-request caps.\n\n- Green runs:\n  - `make pairing`\n  - `make pairing-cap`\n- Red (expected):\n  - `make pairing-negative`\n  - `make pairing-cap-negative`\n\n### Ingress gating (mentions + control-command bypass)\n\n**Claim:** in group contexts requiring mention, an unauthorized â€œcontrol commandâ€ cannot bypass mention gating.\n\n- Green:\n  - `make ingress-gating`\n- Red (expected):\n  - `make ingress-gating-negative`\n\n### Routing/session-key isolation",
    "**Claim:** DMs from distinct peers do not collapse into the same session unless explicitly linked/configured.\n\n- Green:\n  - `make routing-isolation`\n- Red (expected):\n  - `make routing-isolation-negative`",
    "## v1++: additional bounded models (concurrency, retries, trace correctness)\n\nThese are follow-on models that tighten fidelity around real-world failure modes (non-atomic updates, retries, and message fan-out).\n\n### Pairing store concurrency / idempotency\n\n**Claim:** a pairing store should enforce `MaxPending` and idempotency even under interleavings (i.e., â€œcheck-then-writeâ€ must be atomic / locked; refresh shouldnâ€™t create duplicates).\n\nWhat it means:\n\n- Under concurrent requests, you canâ€™t exceed `MaxPending` for a channel.\n- Repeated requests/refreshes for the same `(channel, sender)` should not create duplicate live pending rows.\n\n- Green runs:\n  - `make pairing-race` (atomic/locked cap check)\n  - `make pairing-idempotency`\n  - `make pairing-refresh`\n  - `make pairing-refresh-race`\n- Red (expected):\n  - `make pairing-race-negative` (non-atomic begin/commit cap race)\n  - `make pairing-idempotency-negative`\n  - `make pairing-refresh-negative`\n  - `make pairing-refresh-race-negative`",
    "### Ingress trace correlation / idempotency\n\n**Claim:** ingestion should preserve trace correlation across fan-out and be idempotent under provider retries.\n\nWhat it means:\n\n- When one external event becomes multiple internal messages, every part keeps the same trace/event identity.\n- Retries do not result in double-processing.\n- If provider event IDs are missing, dedupe falls back to a safe key (e.g., trace ID) to avoid dropping distinct events.\n\n- Green:\n  - `make ingress-trace`\n  - `make ingress-trace2`\n  - `make ingress-idempotency`\n  - `make ingress-dedupe-fallback`\n- Red (expected):\n  - `make ingress-trace-negative`\n  - `make ingress-trace2-negative`\n  - `make ingress-idempotency-negative`\n  - `make ingress-dedupe-fallback-negative`\n\n### Routing dmScope precedence + identityLinks\n\n**Claim:** routing must keep DM sessions isolated by default, and only collapse sessions when explicitly configured (channel precedence + identity links).\n\nWhat it means:",
    "- Channel-specific dmScope overrides must win over global defaults.\n- identityLinks should collapse only within explicit linked groups, not across unrelated peers.\n\n- Green:\n  - `make routing-precedence`\n  - `make routing-identitylinks`\n- Red (expected):\n  - `make routing-precedence-negative`\n  - `make routing-identitylinks-negative`",
    "---\nread_when:\n  - è¿è¡Œæˆ–è°ƒè¯• Gateway ç½‘å…³è¿›ç¨‹\n  - è°ƒæŸ¥å•å®ä¾‹å¼ºåˆ¶æ‰§è¡Œ\nsummary: ä½¿ç”¨ WebSocket ç›‘å¬å™¨ç»‘å®šçš„ Gateway ç½‘å…³å•ä¾‹ä¿æŠ¤\ntitle: Gateway ç½‘å…³é”\nx-i18n:\n  generated_at: \"2026-02-03T07:47:52Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 15fdfa066d1925da8b4632073a876709f77ca8d40e6828c174a30d953ba4f8e9\n  source_path: gateway/gateway-lock.md\n  workflow: 15\n---\n\n# Gateway ç½‘å…³é”\n\næœ€åæ›´æ–°ï¼š2025-12-11",
    "## åŸå› \n\n- ç¡®ä¿åŒä¸€ä¸»æœºä¸Šæ¯ä¸ªåŸºç¡€ç«¯å£åªè¿è¡Œä¸€ä¸ª Gateway ç½‘å…³å®ä¾‹ï¼›é¢å¤–çš„ Gateway ç½‘å…³å¿…é¡»ä½¿ç”¨éš”ç¦»çš„é…ç½®æ–‡ä»¶å’Œå”¯ä¸€çš„ç«¯å£ã€‚\n- åœ¨å´©æºƒ/SIGKILL åä¸ç•™ä¸‹è¿‡æ—¶çš„é”æ–‡ä»¶ã€‚\n- å½“æ§åˆ¶ç«¯å£å·²è¢«å ç”¨æ—¶å¿«é€Ÿå¤±è´¥å¹¶ç»™å‡ºæ¸…æ™°çš„é”™è¯¯ã€‚",
    "## æœºåˆ¶\n\n- Gateway ç½‘å…³åœ¨å¯åŠ¨æ—¶ç«‹å³ä½¿ç”¨ç‹¬å  TCP ç›‘å¬å™¨ç»‘å®š WebSocket ç›‘å¬å™¨ï¼ˆé»˜è®¤ `ws://127.0.0.1:18789`ï¼‰ã€‚\n- å¦‚æœç»‘å®šå›  `EADDRINUSE` å¤±è´¥ï¼Œå¯åŠ¨ä¼šæŠ›å‡º `GatewayLockError(\"another gateway instance is already listening on ws://127.0.0.1:<port>\")`ã€‚\n- æ“ä½œç³»ç»Ÿåœ¨ä»»ä½•è¿›ç¨‹é€€å‡ºæ—¶ï¼ˆåŒ…æ‹¬å´©æºƒå’Œ SIGKILLï¼‰è‡ªåŠ¨é‡Šæ”¾ç›‘å¬å™¨â€”â€”ä¸éœ€è¦å•ç‹¬çš„é”æ–‡ä»¶æˆ–æ¸…ç†æ­¥éª¤ã€‚\n- å…³é—­æ—¶ï¼ŒGateway ç½‘å…³å…³é—­ WebSocket æœåŠ¡å™¨å’Œåº•å±‚ HTTP æœåŠ¡å™¨ä»¥åŠæ—¶é‡Šæ”¾ç«¯å£ã€‚",
    "## é”™è¯¯è¡¨é¢\n\n- å¦‚æœå¦ä¸€ä¸ªè¿›ç¨‹æŒæœ‰ç«¯å£ï¼Œå¯åŠ¨ä¼šæŠ›å‡º `GatewayLockError(\"another gateway instance is already listening on ws://127.0.0.1:<port>\")`ã€‚\n- å…¶ä»–ç»‘å®šå¤±è´¥ä¼šæ˜¾ç¤ºä¸º `GatewayLockError(\"failed to bind gateway socket on ws://127.0.0.1:<port>: â€¦\")`ã€‚",
    "## è¿ç»´è¯´æ˜\n\n- å¦‚æœç«¯å£è¢«*å¦ä¸€ä¸ª*è¿›ç¨‹å ç”¨ï¼Œé”™è¯¯æ˜¯ç›¸åŒçš„ï¼›é‡Šæ”¾ç«¯å£æˆ–ä½¿ç”¨ `openclaw gateway --port <port>` é€‰æ‹©å¦ä¸€ä¸ªç«¯å£ã€‚\n- macOS åº”ç”¨åœ¨å¯åŠ¨ Gateway ç½‘å…³ä¹‹å‰ä»ç»´æŠ¤è‡ªå·±çš„è½»é‡çº§ PID ä¿æŠ¤ï¼›è¿è¡Œæ—¶é”ç”± WebSocket ç»‘å®šå¼ºåˆ¶æ‰§è¡Œã€‚",
    "---\nsummary: \"OpenClaw Gateway CLI (`openclaw gateway`) â€” run, query, and discover gateways\"\nread_when:\n  - Running the Gateway from the CLI (dev or servers)\n  - Debugging Gateway auth, bind modes, and connectivity\n  - Discovering gateways via Bonjour (LAN + tailnet)\ntitle: \"gateway\"\n---\n\n# Gateway CLI\n\nThe Gateway is OpenClawâ€™s WebSocket server (channels, nodes, sessions, hooks).\n\nSubcommands in this page live under `openclaw gateway â€¦`.\n\nRelated docs:\n\n- [/gateway/bonjour](/gateway/bonjour)\n- [/gateway/discovery](/gateway/discovery)\n- [/gateway/configuration](/gateway/configuration)",
    "## Run the Gateway\n\nRun a local Gateway process:\n\n```bash\nopenclaw gateway\n```\n\nForeground alias:\n\n```bash\nopenclaw gateway run\n```\n\nNotes:\n\n- By default, the Gateway refuses to start unless `gateway.mode=local` is set in `~/.openclaw/openclaw.json`. Use `--allow-unconfigured` for ad-hoc/dev runs.\n- Binding beyond loopback without auth is blocked (safety guardrail).\n- `SIGUSR1` triggers an in-process restart when authorized (enable `commands.restart` or use the gateway tool/config apply/update).\n- `SIGINT`/`SIGTERM` handlers stop the gateway process, but they donâ€™t restore any custom terminal state. If you wrap the CLI with a TUI or raw-mode input, restore the terminal before exit.\n\n### Options",
    "- `--port <port>`: WebSocket port (default comes from config/env; usually `18789`).\n- `--bind <loopback|lan|tailnet|auto|custom>`: listener bind mode.\n- `--auth <token|password>`: auth mode override.\n- `--token <token>`: token override (also sets `OPENCLAW_GATEWAY_TOKEN` for the process).\n- `--password <password>`: password override (also sets `OPENCLAW_GATEWAY_PASSWORD` for the process).\n- `--tailscale <off|serve|funnel>`: expose the Gateway via Tailscale.\n- `--tailscale-reset-on-exit`: reset Tailscale serve/funnel config on shutdown.\n- `--allow-unconfigured`: allow gateway start without `gateway.mode=local` in config.\n- `--dev`: create a dev config + workspace if missing (skips BOOTSTRAP.md).\n- `--reset`: reset dev config + credentials + sessions + workspace (requires `--dev`).\n- `--force`: kill any existing listener on the selected port before starting.\n- `--verbose`: verbose logs.\n- `--claude-cli-logs`: only show claude-cli logs in the console (and enable its stdout/stderr).\n- `--ws-log <auto|full|compact>`: websocket log style (default `auto`).\n- `--compact`: alias for `--ws-log compact`.\n- `--raw-stream`: log raw model stream events to jsonl.\n- `--raw-stream-path <path>`: raw stream jsonl path.",
    "## Query a running Gateway\n\nAll query commands use WebSocket RPC.\n\nOutput modes:\n\n- Default: human-readable (colored in TTY).\n- `--json`: machine-readable JSON (no styling/spinner).\n- `--no-color` (or `NO_COLOR=1`): disable ANSI while keeping human layout.\n\nShared options (where supported):\n\n- `--url <url>`: Gateway WebSocket URL.\n- `--token <token>`: Gateway token.\n- `--password <password>`: Gateway password.\n- `--timeout <ms>`: timeout/budget (varies per command).\n- `--expect-final`: wait for a â€œfinalâ€ response (agent calls).\n\nNote: when you set `--url`, the CLI does not fall back to config or environment credentials.\nPass `--token` or `--password` explicitly. Missing explicit credentials is an error.\n\n### `gateway health`\n\n```bash\nopenclaw gateway health --url ws://127.0.0.1:18789\n```\n\n### `gateway status`\n\n`gateway status` shows the Gateway service (launchd/systemd/schtasks) plus an optional RPC probe.\n\n```bash\nopenclaw gateway status\nopenclaw gateway status --json\n```\n\nOptions:",
    "- `--url <url>`: override the probe URL.\n- `--token <token>`: token auth for the probe.\n- `--password <password>`: password auth for the probe.\n- `--timeout <ms>`: probe timeout (default `10000`).\n- `--no-probe`: skip the RPC probe (service-only view).\n- `--deep`: scan system-level services too.\n\n### `gateway probe`\n\n`gateway probe` is the â€œdebug everythingâ€ command. It always probes:\n\n- your configured remote gateway (if set), and\n- localhost (loopback) **even if remote is configured**.\n\nIf multiple gateways are reachable, it prints all of them. Multiple gateways are supported when you use isolated profiles/ports (e.g., a rescue bot), but most installs still run a single gateway.\n\n```bash\nopenclaw gateway probe\nopenclaw gateway probe --json\n```\n\n#### Remote over SSH (Mac app parity)\n\nThe macOS app â€œRemote over SSHâ€ mode uses a local port-forward so the remote gateway (which may be bound to loopback only) becomes reachable at `ws://127.0.0.1:<port>`.\n\nCLI equivalent:",
    "```bash\nopenclaw gateway probe --ssh user@gateway-host\n```\n\nOptions:\n\n- `--ssh <target>`: `user@host` or `user@host:port` (port defaults to `22`).\n- `--ssh-identity <path>`: identity file.\n- `--ssh-auto`: pick the first discovered gateway host as SSH target (LAN/WAB only).\n\nConfig (optional, used as defaults):\n\n- `gateway.remote.sshTarget`\n- `gateway.remote.sshIdentity`\n\n### `gateway call <method>`\n\nLow-level RPC helper.\n\n```bash\nopenclaw gateway call status\nopenclaw gateway call logs.tail --params '{\"sinceMs\": 60000}'\n```",
    "## Manage the Gateway service\n\n```bash\nopenclaw gateway install\nopenclaw gateway start\nopenclaw gateway stop\nopenclaw gateway restart\nopenclaw gateway uninstall\n```\n\nNotes:\n\n- `gateway install` supports `--port`, `--runtime`, `--token`, `--force`, `--json`.\n- Lifecycle commands accept `--json` for scripting.",
    "## Discover gateways (Bonjour)\n\n`gateway discover` scans for Gateway beacons (`_openclaw-gw._tcp`).\n\n- Multicast DNS-SD: `local.`\n- Unicast DNS-SD (Wide-Area Bonjour): choose a domain (example: `openclaw.internal.`) and set up split DNS + a DNS server; see [/gateway/bonjour](/gateway/bonjour)\n\nOnly gateways with Bonjour discovery enabled (default) advertise the beacon.\n\nWide-Area discovery records include (TXT):\n\n- `role` (gateway role hint)\n- `transport` (transport hint, e.g. `gateway`)\n- `gatewayPort` (WebSocket port, usually `18789`)\n- `sshPort` (SSH port; defaults to `22` if not present)\n- `tailnetDns` (MagicDNS hostname, when available)\n- `gatewayTls` / `gatewayTlsSha256` (TLS enabled + cert fingerprint)\n- `cliPath` (optional hint for remote installs)\n\n### `gateway discover`\n\n```bash\nopenclaw gateway discover\n```\n\nOptions:\n\n- `--timeout <ms>`: per-command timeout (browse/resolve); default `2000`.\n- `--json`: machine-readable output (also disables styling/spinner).\n\nExamples:",
    "```bash\nopenclaw gateway discover --timeout 4000\nopenclaw gateway discover --json | jq '.beacons[].wsUrl'\n```",
    "---\nread_when:\n  - ä½ æƒ³åœ¨ GCP ä¸Š 24/7 è¿è¡Œ OpenClaw\n  - ä½ æƒ³è¦åœ¨è‡ªå·±çš„ VM ä¸Šè¿è¡Œç”Ÿäº§çº§ã€å¸¸é©»çš„ Gateway ç½‘å…³\n  - ä½ æƒ³å®Œå…¨æ§åˆ¶æŒä¹…åŒ–ã€äºŒè¿›åˆ¶æ–‡ä»¶å’Œé‡å¯è¡Œä¸º\nsummary: åœ¨ GCP Compute Engine VMï¼ˆDockerï¼‰ä¸Š 24/7 è¿è¡Œ OpenClaw Gateway ç½‘å…³å¹¶æŒä¹…åŒ–çŠ¶æ€\ntitle: GCP\nx-i18n:\n  generated_at: \"2026-02-03T07:52:50Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: abb236dd421505d307bb3869340c9a0c940de095b93af9ad1f130cc08a9deadb\n  source_path: platforms/gcp.md\n  workflow: 15\n---\n\n# åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰",
    "## ç›®æ ‡\n\nä½¿ç”¨ Docker åœ¨ GCP Compute Engine VM ä¸Šè¿è¡ŒæŒä¹…åŒ–çš„ OpenClaw Gateway ç½‘å…³ï¼Œå…·æœ‰æŒä¹…çŠ¶æ€ã€å†…ç½®äºŒè¿›åˆ¶æ–‡ä»¶å’Œå®‰å…¨çš„é‡å¯è¡Œä¸ºã€‚\n\nå¦‚æœä½ æƒ³è¦\"OpenClaw 24/7 å¤§çº¦ $5-12/æœˆ\"ï¼Œè¿™æ˜¯åœ¨ Google Cloud ä¸Šçš„å¯é è®¾ç½®ã€‚\nä»·æ ¼å› æœºå™¨ç±»å‹å’ŒåŒºåŸŸè€Œå¼‚ï¼›é€‰æ‹©é€‚åˆä½ å·¥ä½œè´Ÿè½½çš„æœ€å° VMï¼Œå¦‚æœé‡åˆ° OOM åˆ™æ‰©å®¹ã€‚",
    "## æˆ‘ä»¬åœ¨åšä»€ä¹ˆï¼ˆç®€å•è¯´æ˜ï¼‰ï¼Ÿ\n\n- åˆ›å»º GCP é¡¹ç›®å¹¶å¯ç”¨è®¡è´¹\n- åˆ›å»º Compute Engine VM\n- å®‰è£… Dockerï¼ˆéš”ç¦»çš„åº”ç”¨è¿è¡Œæ—¶ï¼‰\n- åœ¨ Docker ä¸­å¯åŠ¨ OpenClaw Gateway ç½‘å…³\n- åœ¨ä¸»æœºä¸ŠæŒä¹…åŒ– `~/.openclaw` + `~/.openclaw/workspace`ï¼ˆé‡å¯/é‡å»ºåä»ä¿ç•™ï¼‰\n- é€šè¿‡ SSH éš§é“ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è®¿é—®æ§åˆ¶ UI\n\nGateway ç½‘å…³å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š\n\n- ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è¿›è¡Œ SSH ç«¯å£è½¬å‘\n- å¦‚æœä½ è‡ªå·±ç®¡ç†é˜²ç«å¢™å’Œä»¤ç‰Œï¼Œå¯ä»¥ç›´æ¥æš´éœ²ç«¯å£\n\næœ¬æŒ‡å—ä½¿ç”¨ GCP Compute Engine ä¸Šçš„ Debianã€‚\nUbuntu ä¹Ÿå¯ä»¥ï¼›è¯·ç›¸åº”åœ°æ˜ å°„è½¯ä»¶åŒ…ã€‚\næœ‰å…³é€šç”¨ Docker æµç¨‹ï¼Œè¯·å‚é˜… [Docker](/install/docker)ã€‚\n\n---",
    "## å¿«é€Ÿè·¯å¾„ï¼ˆæœ‰ç»éªŒçš„è¿ç»´äººå‘˜ï¼‰\n\n1. åˆ›å»º GCP é¡¹ç›® + å¯ç”¨ Compute Engine API\n2. åˆ›å»º Compute Engine VMï¼ˆe2-smallï¼ŒDebian 12ï¼Œ20GBï¼‰\n3. SSH è¿›å…¥ VM\n4. å®‰è£… Docker\n5. å…‹éš† OpenClaw ä»“åº“\n6. åˆ›å»ºæŒä¹…åŒ–ä¸»æœºç›®å½•\n7. é…ç½® `.env` å’Œ `docker-compose.yml`\n8. å†…ç½®æ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶ã€æ„å»ºå¹¶å¯åŠ¨\n\n---",
    "## ä½ éœ€è¦ä»€ä¹ˆ\n\n- GCP è´¦æˆ·ï¼ˆe2-micro ç¬¦åˆå…è´¹å±‚æ¡ä»¶ï¼‰\n- å·²å®‰è£… gcloud CLIï¼ˆæˆ–ä½¿ç”¨ Cloud Consoleï¼‰\n- ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘ SSH è®¿é—®\n- å¯¹ SSH + å¤åˆ¶/ç²˜è´´æœ‰åŸºæœ¬äº†è§£\n- çº¦ 20-30 åˆ†é’Ÿ\n- Docker å’Œ Docker Compose\n- æ¨¡å‹è®¤è¯å‡­è¯\n- å¯é€‰çš„æä¾›å•†å‡­è¯\n  - WhatsApp QR\n  - Telegram bot token\n  - Gmail OAuth\n\n---",
    "## 1) å®‰è£… gcloud CLIï¼ˆæˆ–ä½¿ç”¨ Consoleï¼‰\n\n**é€‰é¡¹ Aï¼šgcloud CLI**ï¼ˆæ¨èç”¨äºè‡ªåŠ¨åŒ–ï¼‰\n\nä» https://cloud.google.com/sdk/docs/install å®‰è£…\n\nåˆå§‹åŒ–å¹¶è®¤è¯ï¼š\n\n```bash\ngcloud init\ngcloud auth login\n```\n\n**é€‰é¡¹ Bï¼šCloud Console**\n\næ‰€æœ‰æ­¥éª¤éƒ½å¯ä»¥é€šè¿‡ https://console.cloud.google.com çš„ Web UI å®Œæˆ\n\n---",
    "## 2) åˆ›å»º GCP é¡¹ç›®\n\n**CLIï¼š**\n\n```bash\ngcloud projects create my-openclaw-project --name=\"OpenClaw Gateway\"\ngcloud config set project my-openclaw-project\n```\n\nåœ¨ https://console.cloud.google.com/billing å¯ç”¨è®¡è´¹ï¼ˆCompute Engine å¿…éœ€ï¼‰ã€‚\n\nå¯ç”¨ Compute Engine APIï¼š\n\n```bash\ngcloud services enable compute.googleapis.com\n```\n\n**Consoleï¼š**\n\n1. è½¬åˆ° IAM & Admin > Create Project\n2. å‘½åå¹¶åˆ›å»º\n3. ä¸ºé¡¹ç›®å¯ç”¨è®¡è´¹\n4. å¯¼èˆªåˆ° APIs & Services > Enable APIs > æœç´¢ \"Compute Engine API\" > Enable\n\n---",
    "## 3) åˆ›å»º VM\n\n**æœºå™¨ç±»å‹ï¼š**\n\n| ç±»å‹     | é…ç½®                    | æˆæœ¬       | è¯´æ˜           |\n| -------- | ----------------------- | ---------- | -------------- |\n| e2-small | 2 vCPUï¼Œ2GB RAM         | ~$12/æœˆ    | æ¨è           |\n| e2-micro | 2 vCPUï¼ˆå…±äº«ï¼‰ï¼Œ1GB RAM | ç¬¦åˆå…è´¹å±‚ | è´Ÿè½½ä¸‹å¯èƒ½ OOM |\n\n**CLIï¼š**\n\n```bash\ngcloud compute instances create openclaw-gateway \\\n  --zone=us-central1-a \\\n  --machine-type=e2-small \\\n  --boot-disk-size=20GB \\\n  --image-family=debian-12 \\\n  --image-project=debian-cloud\n```\n\n**Consoleï¼š**\n\n1. è½¬åˆ° Compute Engine > VM instances > Create instance\n2. Nameï¼š`openclaw-gateway`\n3. Regionï¼š`us-central1`ï¼ŒZoneï¼š`us-central1-a`\n4. Machine typeï¼š`e2-small`\n5. Boot diskï¼šDebian 12ï¼Œ20GB\n6. Create\n\n---",
    "## 4) SSH è¿›å…¥ VM\n\n**CLIï¼š**\n\n```bash\ngcloud compute ssh openclaw-gateway --zone=us-central1-a\n```\n\n**Consoleï¼š**\n\nåœ¨ Compute Engine ä»ªè¡¨æ¿ä¸­ç‚¹å‡» VM æ—è¾¹çš„\"SSH\"æŒ‰é’®ã€‚\n\næ³¨æ„ï¼šVM åˆ›å»ºå SSH å¯†é’¥ä¼ æ’­å¯èƒ½éœ€è¦ 1-2 åˆ†é’Ÿã€‚å¦‚æœè¿æ¥è¢«æ‹’ç»ï¼Œè¯·ç­‰å¾…å¹¶é‡è¯•ã€‚\n\n---",
    "## 5) å®‰è£… Dockerï¼ˆåœ¨ VM ä¸Šï¼‰\n\n```bash\nsudo apt-get update\nsudo apt-get install -y git curl ca-certificates\ncurl -fsSL https://get.docker.com | sudo sh\nsudo usermod -aG docker $USER\n```\n\næ³¨é”€å¹¶é‡æ–°ç™»å½•ä»¥ä½¿ç»„æ›´æ”¹ç”Ÿæ•ˆï¼š\n\n```bash\nexit\n```\n\nç„¶åé‡æ–° SSH ç™»å½•ï¼š\n\n```bash\ngcloud compute ssh openclaw-gateway --zone=us-central1-a\n```\n\néªŒè¯ï¼š\n\n```bash\ndocker --version\ndocker compose version\n```\n\n---",
    "## 6) å…‹éš† OpenClaw ä»“åº“\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\n```\n\næœ¬æŒ‡å—å‡è®¾ä½ å°†æ„å»ºè‡ªå®šä¹‰é•œåƒä»¥ä¿è¯äºŒè¿›åˆ¶æ–‡ä»¶æŒä¹…åŒ–ã€‚\n\n---",
    "## 7) åˆ›å»ºæŒä¹…åŒ–ä¸»æœºç›®å½•\n\nDocker å®¹å™¨æ˜¯ä¸´æ—¶çš„ã€‚\næ‰€æœ‰é•¿æœŸçŠ¶æ€å¿…é¡»å­˜åœ¨äºä¸»æœºä¸Šã€‚\n\n```bash\nmkdir -p ~/.openclaw\nmkdir -p ~/.openclaw/workspace\n```\n\n---",
    "## 8) é…ç½®ç¯å¢ƒå˜é‡\n\nåœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º `.env`ã€‚\n\n```bash\nOPENCLAW_IMAGE=openclaw:latest\nOPENCLAW_GATEWAY_TOKEN=change-me-now\nOPENCLAW_GATEWAY_BIND=lan\nOPENCLAW_GATEWAY_PORT=18789\n\nOPENCLAW_CONFIG_DIR=/home/$USER/.openclaw\nOPENCLAW_WORKSPACE_DIR=/home/$USER/.openclaw/workspace\n\nGOG_KEYRING_PASSWORD=change-me-now\nXDG_CONFIG_HOME=/home/node/.openclaw\n```\n\nç”Ÿæˆå¼ºå¯†é’¥ï¼š\n\n```bash\nopenssl rand -hex 32\n```\n\n**ä¸è¦æäº¤æ­¤æ–‡ä»¶ã€‚**\n\n---",
    "## 9) Docker Compose é…ç½®\n\nåˆ›å»ºæˆ–æ›´æ–° `docker-compose.yml`ã€‚\n\n```yaml\nservices:\n  openclaw-gateway:\n    image: ${OPENCLAW_IMAGE}\n    build: .\n    restart: unless-stopped\n    env_file:\n      - .env\n    environment:\n      - HOME=/home/node\n      - NODE_ENV=production\n      - TERM=xterm-256color\n      - OPENCLAW_GATEWAY_BIND=${OPENCLAW_GATEWAY_BIND}\n      - OPENCLAW_GATEWAY_PORT=${OPENCLAW_GATEWAY_PORT}\n      - OPENCLAW_GATEWAY_TOKEN=${OPENCLAW_GATEWAY_TOKEN}\n      - GOG_KEYRING_PASSWORD=${GOG_KEYRING_PASSWORD}\n      - XDG_CONFIG_HOME=${XDG_CONFIG_HOME}\n      - PATH=/home/linuxbrew/.linuxbrew/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    volumes:\n      - ${OPENCLAW_CONFIG_DIR}:/home/node/.openclaw\n      - ${OPENCLAW_WORKSPACE_DIR}:/home/node/.openclaw/workspace\n    ports:\n      # æ¨èï¼šåœ¨ VM ä¸Šä¿æŒ Gateway ç½‘å…³ä»…ç»‘å®š loopbackï¼›é€šè¿‡ SSH éš§é“è®¿é—®ã€‚\n      # è¦å…¬å¼€æš´éœ²ï¼Œç§»é™¤ `127.0.0.1:` å‰ç¼€å¹¶ç›¸åº”é…ç½®é˜²ç«å¢™ã€‚\n      - \"127.0.0.1:${OPENCLAW_GATEWAY_PORT}:18789\"",
    "# å¯é€‰ï¼šä»…å½“ä½ é’ˆå¯¹æ­¤ VM è¿è¡Œ iOS/Android èŠ‚ç‚¹å¹¶éœ€è¦ Canvas ä¸»æœºæ—¶ã€‚\n      # å¦‚æœä½ å…¬å¼€æš´éœ²æ­¤ç«¯å£ï¼Œè¯·é˜…è¯» /gateway/security å¹¶ç›¸åº”é…ç½®é˜²ç«å¢™ã€‚\n      # - \"18793:18793\"\n    command:\n      [\n        \"node\",\n        \"dist/index.js\",\n        \"gateway\",\n        \"--bind\",\n        \"${OPENCLAW_GATEWAY_BIND}\",\n        \"--port\",\n        \"${OPENCLAW_GATEWAY_PORT}\",\n      ]\n```\n\n---",
    "## 10) å°†æ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶å†…ç½®åˆ°é•œåƒä¸­ï¼ˆå…³é”®ï¼‰\n\nåœ¨è¿è¡Œä¸­çš„å®¹å™¨å†…å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯ä¸€ä¸ªé™·é˜±ã€‚\nä»»ä½•åœ¨è¿è¡Œæ—¶å®‰è£…çš„å†…å®¹åœ¨é‡å¯åéƒ½ä¼šä¸¢å¤±ã€‚\n\næ‰€æœ‰ Skills æ‰€éœ€çš„å¤–éƒ¨äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»åœ¨é•œåƒæ„å»ºæ—¶å®‰è£…ã€‚\n\nä»¥ä¸‹ç¤ºä¾‹ä»…æ˜¾ç¤ºä¸‰ä¸ªå¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š\n\n- `gog` ç”¨äº Gmail è®¿é—®\n- `goplaces` ç”¨äº Google Places\n- `wacli` ç”¨äº WhatsApp\n\nè¿™äº›æ˜¯ç¤ºä¾‹ï¼Œä¸æ˜¯å®Œæ•´åˆ—è¡¨ã€‚\nä½ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼å®‰è£…ä»»æ„æ•°é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\n\nå¦‚æœä½ ä»¥åæ·»åŠ ä¾èµ–é¢å¤–äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–° Skillsï¼Œä½ å¿…é¡»ï¼š\n\n1. æ›´æ–° Dockerfile\n2. é‡å»ºé•œåƒ\n3. é‡å¯å®¹å™¨\n\n**ç¤ºä¾‹ Dockerfile**\n\n```dockerfile\nFROM node:22-bookworm\n\nRUN apt-get update && apt-get install -y socat && rm -rf /var/lib/apt/lists/*\n\n# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 1ï¼šGmail CLI\nRUN curl -L https://github.com/steipete/gog/releases/latest/download/gog_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/gog\n\n# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 2ï¼šGoogle Places CLI\nRUN curl -L https://github.com/steipete/goplaces/releases/latest/download/goplaces_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/goplaces",
    "# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 3ï¼šWhatsApp CLI\nRUN curl -L https://github.com/steipete/wacli/releases/latest/download/wacli_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/wacli\n\n# ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼åœ¨ä¸‹é¢æ·»åŠ æ›´å¤šäºŒè¿›åˆ¶æ–‡ä»¶\n\nWORKDIR /app\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml .npmrc ./\nCOPY ui/package.json ./ui/package.json\nCOPY scripts ./scripts\n\nRUN corepack enable\nRUN pnpm install --frozen-lockfile\n\nCOPY . .\nRUN pnpm build\nRUN pnpm ui:install\nRUN pnpm ui:build\n\nENV NODE_ENV=production\n\nCMD [\"node\",\"dist/index.js\"]\n```\n\n---",
    "## 11) æ„å»ºå¹¶å¯åŠ¨\n\n```bash\ndocker compose build\ndocker compose up -d openclaw-gateway\n```\n\néªŒè¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼š\n\n```bash\ndocker compose exec openclaw-gateway which gog\ndocker compose exec openclaw-gateway which goplaces\ndocker compose exec openclaw-gateway which wacli\n```\n\né¢„æœŸè¾“å‡ºï¼š\n\n```\n/usr/local/bin/gog\n/usr/local/bin/goplaces\n/usr/local/bin/wacli\n```\n\n---",
    "## 12) éªŒè¯ Gateway ç½‘å…³\n\n```bash\ndocker compose logs -f openclaw-gateway\n```\n\næˆåŠŸï¼š\n\n```\n[gateway] listening on ws://0.0.0.0:18789\n```\n\n---",
    "## 13) ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è®¿é—®\n\nåˆ›å»º SSH éš§é“ä»¥è½¬å‘ Gateway ç½‘å…³ç«¯å£ï¼š\n\n```bash\ngcloud compute ssh openclaw-gateway --zone=us-central1-a -- -L 18789:127.0.0.1:18789\n```\n\nåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š\n\n`http://127.0.0.1:18789/`\n\nç²˜è´´ä½ çš„ Gateway ç½‘å…³ä»¤ç‰Œã€‚\n\n---",
    "## ä»€ä¹ˆæŒä¹…åŒ–åœ¨å“ªé‡Œï¼ˆçœŸå®æ¥æºï¼‰\n\nOpenClaw åœ¨ Docker ä¸­è¿è¡Œï¼Œä½† Docker ä¸æ˜¯çœŸå®æ¥æºã€‚\næ‰€æœ‰é•¿æœŸçŠ¶æ€å¿…é¡»åœ¨é‡å¯ã€é‡å»ºå’Œé‡å¯åä»ç„¶å­˜åœ¨ã€‚",
    "| ç»„ä»¶             | ä½ç½®                              | æŒä¹…åŒ–æœºåˆ¶    | è¯´æ˜                        |\n| ---------------- | --------------------------------- | ------------- | --------------------------- |\n| Gateway ç½‘å…³é…ç½® | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | åŒ…æ‹¬ `openclaw.json`ã€ä»¤ç‰Œ  |\n| æ¨¡å‹è®¤è¯é…ç½®æ–‡ä»¶ | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | OAuth ä»¤ç‰Œã€API å¯†é’¥        |\n| Skill é…ç½®       | `/home/node/.openclaw/skills/`    | ä¸»æœºå·æŒ‚è½½    | Skill çº§åˆ«çŠ¶æ€              |\n| æ™ºèƒ½ä½“å·¥ä½œåŒº     | `/home/node/.openclaw/workspace/` | ä¸»æœºå·æŒ‚è½½    | ä»£ç å’Œæ™ºèƒ½ä½“äº§ç‰©            |\n| WhatsApp ä¼šè¯    | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | ä¿ç•™ QR ç™»å½•                |\n| Gmail å¯†é’¥ç¯     | `/home/node/.openclaw/`           | ä¸»æœºå· + å¯†ç  | éœ€è¦ `GOG_KEYRING_PASSWORD` |\n| å¤–éƒ¨äºŒè¿›åˆ¶æ–‡ä»¶   | `/usr/local/bin/`                 | Docker é•œåƒ   | å¿…é¡»åœ¨æ„å»ºæ—¶å†…ç½®            |\n| Node è¿è¡Œæ—¶      | å®¹å™¨æ–‡ä»¶ç³»ç»Ÿ                      | Docker é•œåƒ   | æ¯æ¬¡é•œåƒæ„å»ºæ—¶é‡å»º          |\n| OS åŒ…            | å®¹å™¨æ–‡ä»¶ç³»ç»Ÿ                      | Docker é•œåƒ   | ä¸è¦åœ¨è¿è¡Œæ—¶å®‰è£…            |\n| Docker å®¹å™¨      | ä¸´æ—¶                              | å¯é‡å¯        | å¯ä»¥å®‰å…¨é”€æ¯                |",
    "---",
    "## æ›´æ–°\n\nåœ¨ VM ä¸Šæ›´æ–° OpenClawï¼š\n\n```bash\ncd ~/openclaw\ngit pull\ndocker compose build\ndocker compose up -d\n```\n\n---",
    "## æ•…éšœæ’é™¤\n\n**SSH è¿æ¥è¢«æ‹’ç»**\n\nVM åˆ›å»ºå SSH å¯†é’¥ä¼ æ’­å¯èƒ½éœ€è¦ 1-2 åˆ†é’Ÿã€‚ç­‰å¾…å¹¶é‡è¯•ã€‚\n\n**OS Login é—®é¢˜**\n\næ£€æŸ¥ä½ çš„ OS Login é…ç½®æ–‡ä»¶ï¼š\n\n```bash\ngcloud compute os-login describe-profile\n```\n\nç¡®ä¿ä½ çš„è´¦æˆ·å…·æœ‰æ‰€éœ€çš„ IAM æƒé™ï¼ˆCompute OS Login æˆ– Compute OS Admin Loginï¼‰ã€‚\n\n**å†…å­˜ä¸è¶³ï¼ˆOOMï¼‰**\n\nå¦‚æœä½¿ç”¨ e2-micro å¹¶é‡åˆ° OOMï¼Œå‡çº§åˆ° e2-small æˆ– e2-mediumï¼š\n\n```bash\n# é¦–å…ˆåœæ­¢ VM\ngcloud compute instances stop openclaw-gateway --zone=us-central1-a\n\n# æ›´æ”¹æœºå™¨ç±»å‹\ngcloud compute instances set-machine-type openclaw-gateway \\\n  --zone=us-central1-a \\\n  --machine-type=e2-small\n\n# å¯åŠ¨ VM\ngcloud compute instances start openclaw-gateway --zone=us-central1-a\n```\n\n---",
    "## æœåŠ¡è´¦æˆ·ï¼ˆå®‰å…¨æœ€ä½³å®è·µï¼‰\n\nå¯¹äºä¸ªäººä½¿ç”¨ï¼Œä½ çš„é»˜è®¤ç”¨æˆ·è´¦æˆ·å°±å¯ä»¥ã€‚\n\nå¯¹äºè‡ªåŠ¨åŒ–æˆ– CI/CD ç®¡é“ï¼Œåˆ›å»ºå…·æœ‰æœ€å°æƒé™çš„ä¸“ç”¨æœåŠ¡è´¦æˆ·ï¼š\n\n1. åˆ›å»ºæœåŠ¡è´¦æˆ·ï¼š\n\n   ```bash\n   gcloud iam service-accounts create openclaw-deploy \\\n     --display-name=\"OpenClaw Deployment\"\n   ```\n\n2. æˆäºˆ Compute Instance Admin è§’è‰²ï¼ˆæˆ–æ›´çª„çš„è‡ªå®šä¹‰è§’è‰²ï¼‰ï¼š\n   ```bash\n   gcloud projects add-iam-policy-binding my-openclaw-project \\\n     --member=\"serviceAccount:openclaw-deploy@my-openclaw-project.iam.gserviceaccount.com\" \\\n     --role=\"roles/compute.instanceAdmin.v1\"\n   ```\n\né¿å…ä¸ºè‡ªåŠ¨åŒ–ä½¿ç”¨ Owner è§’è‰²ã€‚ä½¿ç”¨æœ€å°æƒé™åŸåˆ™ã€‚\n\nå‚é˜… https://cloud.google.com/iam/docs/understanding-roles äº†è§£ IAM è§’è‰²è¯¦æƒ…ã€‚\n\n---",
    "## ä¸‹ä¸€æ­¥\n\n- è®¾ç½®æ¶ˆæ¯æ¸ é“ï¼š[æ¸ é“](/channels)\n- å°†æœ¬åœ°è®¾å¤‡é…å¯¹ä¸ºèŠ‚ç‚¹ï¼š[èŠ‚ç‚¹](/nodes)\n- é…ç½® Gateway ç½‘å…³ï¼š[Gateway ç½‘å…³é…ç½®](/gateway/configuration)",
    "---\nsummary: \"Get OpenClaw installed and run your first chat in minutes.\"\nread_when:\n  - First time setup from zero\n  - You want the fastest path to a working chat\ntitle: \"Getting Started\"\n---\n\n# Getting Started\n\nGoal: go from zero to a first working chat with minimal setup.\n\n<Info>\nFastest chat: open the Control UI (no channel setup needed). Run `openclaw dashboard`\nand chat in the browser, or open `http://127.0.0.1:18789/` on the\n<Tooltip headline=\"Gateway host\" tip=\"The machine running the OpenClaw gateway service.\">gateway host</Tooltip>.\nDocs: [Dashboard](/web/dashboard) and [Control UI](/web/control-ui).\n</Info>",
    "## Prereqs\n\n- Node 22 or newer\n\n<Tip>\nCheck your Node version with `node --version` if you are unsure.\n</Tip>",
    "## Quick setup (CLI)\n\n<Steps>\n  <Step title=\"Install OpenClaw (recommended)\">\n    <Tabs>\n      <Tab title=\"macOS/Linux\">\n        ```bash\n        curl -fsSL https://openclaw.ai/install.sh | bash\n        ```\n      </Tab>\n      <Tab title=\"Windows (PowerShell)\">\n        ```powershell\n        iwr -useb https://openclaw.ai/install.ps1 | iex\n        ```\n      </Tab>\n    </Tabs>\n\n    <Note>\n    Other install methods and requirements: [Install](/install).\n    </Note>\n\n  </Step>\n  <Step title=\"Run the onboarding wizard\">\n    ```bash\n    openclaw onboard --install-daemon\n    ```\n\n    The wizard configures auth, gateway settings, and optional channels.\n    See [Onboarding Wizard](/start/wizard) for details.\n\n  </Step>\n  <Step title=\"Check the Gateway\">\n    If you installed the service, it should already be running:\n\n    ```bash\n    openclaw gateway status\n    ```\n\n  </Step>\n  <Step title=\"Open the Control UI\">\n    ```bash\n    openclaw dashboard\n    ```\n  </Step>\n</Steps>",
    "<Check>\nIf the Control UI loads, your Gateway is ready for use.\n</Check>",
    "## Optional checks and extras\n\n<AccordionGroup>\n  <Accordion title=\"Run the Gateway in the foreground\">\n    Useful for quick tests or troubleshooting.\n\n    ```bash\n    openclaw gateway --port 18789\n    ```\n\n  </Accordion>\n  <Accordion title=\"Send a test message\">\n    Requires a configured channel.\n\n    ```bash\n    openclaw message send --target +15555550123 --message \"Hello from OpenClaw\"\n    ```\n\n  </Accordion>\n</AccordionGroup>",
    "## Go deeper\n\n<Columns>\n  <Card title=\"Onboarding Wizard (details)\" href=\"/start/wizard\">\n    Full CLI wizard reference and advanced options.\n  </Card>\n  <Card title=\"macOS app onboarding\" href=\"/start/onboarding\">\n    First run flow for the macOS app.\n  </Card>\n</Columns>",
    "## What you will have\n\n- A running Gateway\n- Auth configured\n- Control UI access or a connected channel",
    "## Next steps\n\n- DM safety and approvals: [Pairing](/start/pairing)\n- Connect more channels: [Channels](/channels)\n- Advanced workflows and from source: [Setup](/start/setup)",
    "---\nsummary: \"Sign in to GitHub Copilot from OpenClaw using the device flow\"\nread_when:\n  - You want to use GitHub Copilot as a model provider\n  - You need the `openclaw models auth login-github-copilot` flow\ntitle: \"GitHub Copilot\"\n---\n\n# GitHub Copilot",
    "## What is GitHub Copilot?\n\nGitHub Copilot is GitHub's AI coding assistant. It provides access to Copilot\nmodels for your GitHub account and plan. OpenClaw can use Copilot as a model\nprovider in two different ways.",
    "## Two ways to use Copilot in OpenClaw\n\n### 1) Built-in GitHub Copilot provider (`github-copilot`)\n\nUse the native device-login flow to obtain a GitHub token, then exchange it for\nCopilot API tokens when OpenClaw runs. This is the **default** and simplest path\nbecause it does not require VS Code.\n\n### 2) Copilot Proxy plugin (`copilot-proxy`)\n\nUse the **Copilot Proxy** VS Code extension as a local bridge. OpenClaw talks to\nthe proxyâ€™s `/v1` endpoint and uses the model list you configure there. Choose\nthis when you already run Copilot Proxy in VS Code or need to route through it.\nYou must enable the plugin and keep the VS Code extension running.\n\nUse GitHub Copilot as a model provider (`github-copilot`). The login command runs\nthe GitHub device flow, saves an auth profile, and updates your config to use that\nprofile.",
    "## CLI setup\n\n```bash\nopenclaw models auth login-github-copilot\n```\n\nYou'll be prompted to visit a URL and enter a one-time code. Keep the terminal\nopen until it completes.\n\n### Optional flags\n\n```bash\nopenclaw models auth login-github-copilot --profile-id github-copilot:work\nopenclaw models auth login-github-copilot --yes\n```",
    "## Set a default model\n\n```bash\nopenclaw models set github-copilot/gpt-4o\n```\n\n### Config snippet\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"github-copilot/gpt-4o\" } } },\n}\n```",
    "## Notes\n\n- Requires an interactive TTY; run it directly in a terminal.\n- Copilot model availability depends on your plan; if a model is rejected, try\n  another ID (for example `github-copilot/gpt-4.1`).\n- The login stores a GitHub token in the auth profile store and exchanges it for a\n  Copilot API token when OpenClaw runs.",
    "---\nsummary: \"GLM model family overview + how to use it in OpenClaw\"\nread_when:\n  - You want GLM models in OpenClaw\n  - You need the model naming convention and setup\ntitle: \"GLM Models\"\n---\n\n# GLM models\n\nGLM is a **model family** (not a company) available through the Z.AI platform. In OpenClaw, GLM\nmodels are accessed via the `zai` provider and model IDs like `zai/glm-4.7`.",
    "## CLI setup\n\n```bash\nopenclaw onboard --auth-choice zai-api-key\n```",
    "## Config snippet\n\n```json5\n{\n  env: { ZAI_API_KEY: \"sk-...\" },\n  agents: { defaults: { model: { primary: \"zai/glm-4.7\" } } },\n}\n```",
    "## Notes\n\n- GLM versions and availability can change; check Z.AI's docs for the latest.\n- Example model IDs include `glm-4.7` and `glm-4.6`.\n- For provider details, see [/providers/zai](/providers/zai).",
    "---\nsummary: \"Gmail Pub/Sub push wired into OpenClaw webhooks via gogcli\"\nread_when:\n  - Wiring Gmail inbox triggers to OpenClaw\n  - Setting up Pub/Sub push for agent wake\ntitle: \"Gmail PubSub\"\n---\n\n# Gmail Pub/Sub -> OpenClaw\n\nGoal: Gmail watch -> Pub/Sub push -> `gog gmail watch serve` -> OpenClaw webhook.",
    "## Prereqs\n\n- `gcloud` installed and logged in ([install guide](https://docs.cloud.google.com/sdk/docs/install-sdk)).\n- `gog` (gogcli) installed and authorized for the Gmail account ([gogcli.sh](https://gogcli.sh/)).\n- OpenClaw hooks enabled (see [Webhooks](/automation/webhook)).\n- `tailscale` logged in ([tailscale.com](https://tailscale.com/)). Supported setup uses Tailscale Funnel for the public HTTPS endpoint.\n  Other tunnel services can work, but are DIY/unsupported and require manual wiring.\n  Right now, Tailscale is what we support.\n\nExample hook config (enable Gmail preset mapping):\n\n```json5\n{\n  hooks: {\n    enabled: true,\n    token: \"OPENCLAW_HOOK_TOKEN\",\n    path: \"/hooks\",\n    presets: [\"gmail\"],\n  },\n}\n```\n\nTo deliver the Gmail summary to a chat surface, override the preset with a mapping\nthat sets `deliver` + optional `channel`/`to`:",
    "```json5\n{\n  hooks: {\n    enabled: true,\n    token: \"OPENCLAW_HOOK_TOKEN\",\n    presets: [\"gmail\"],\n    mappings: [\n      {\n        match: { path: \"gmail\" },\n        action: \"agent\",\n        wakeMode: \"now\",\n        name: \"Gmail\",\n        sessionKey: \"hook:gmail:{{messages[0].id}}\",\n        messageTemplate: \"New email from {{messages[0].from}}\\nSubject: {{messages[0].subject}}\\n{{messages[0].snippet}}\\n{{messages[0].body}}\",\n        model: \"openai/gpt-5.2-mini\",\n        deliver: true,\n        channel: \"last\",\n        // to: \"+15551234567\"\n      },\n    ],\n  },\n}\n```\n\nIf you want a fixed channel, set `channel` + `to`. Otherwise `channel: \"last\"`\nuses the last delivery route (falls back to WhatsApp).\n\nTo force a cheaper model for Gmail runs, set `model` in the mapping\n(`provider/model` or alias). If you enforce `agents.defaults.models`, include it there.\n\nTo set a default model and thinking level specifically for Gmail hooks, add\n`hooks.gmail.model` / `hooks.gmail.thinking` in your config:",
    "```json5\n{\n  hooks: {\n    gmail: {\n      model: \"openrouter/meta-llama/llama-3.3-70b-instruct:free\",\n      thinking: \"off\",\n    },\n  },\n}\n```\n\nNotes:\n\n- Per-hook `model`/`thinking` in the mapping still overrides these defaults.\n- Fallback order: `hooks.gmail.model` â†’ `agents.defaults.model.fallbacks` â†’ primary (auth/rate-limit/timeouts).\n- If `agents.defaults.models` is set, the Gmail model must be in the allowlist.\n- Gmail hook content is wrapped with external-content safety boundaries by default.\n  To disable (dangerous), set `hooks.gmail.allowUnsafeExternalContent: true`.\n\nTo customize payload handling further, add `hooks.mappings` or a JS/TS transform module\nunder `hooks.transformsDir` (see [Webhooks](/automation/webhook)).",
    "## Wizard (recommended)\n\nUse the OpenClaw helper to wire everything together (installs deps on macOS via brew):\n\n```bash\nopenclaw webhooks gmail setup \\\n  --account openclaw@gmail.com\n```\n\nDefaults:\n\n- Uses Tailscale Funnel for the public push endpoint.\n- Writes `hooks.gmail` config for `openclaw webhooks gmail run`.\n- Enables the Gmail hook preset (`hooks.presets: [\"gmail\"]`).\n\nPath note: when `tailscale.mode` is enabled, OpenClaw automatically sets\n`hooks.gmail.serve.path` to `/` and keeps the public path at\n`hooks.gmail.tailscale.path` (default `/gmail-pubsub`) because Tailscale\nstrips the set-path prefix before proxying.\nIf you need the backend to receive the prefixed path, set\n`hooks.gmail.tailscale.target` (or `--tailscale-target`) to a full URL like\n`http://127.0.0.1:8788/gmail-pubsub` and match `hooks.gmail.serve.path`.\n\nWant a custom endpoint? Use `--push-endpoint <url>` or `--tailscale off`.",
    "Platform note: on macOS the wizard installs `gcloud`, `gogcli`, and `tailscale`\nvia Homebrew; on Linux install them manually first.\n\nGateway auto-start (recommended):\n\n- When `hooks.enabled=true` and `hooks.gmail.account` is set, the Gateway starts\n  `gog gmail watch serve` on boot and auto-renews the watch.\n- Set `OPENCLAW_SKIP_GMAIL_WATCHER=1` to opt out (useful if you run the daemon yourself).\n- Do not run the manual daemon at the same time, or you will hit\n  `listen tcp 127.0.0.1:8788: bind: address already in use`.\n\nManual daemon (starts `gog gmail watch serve` + auto-renew):\n\n```bash\nopenclaw webhooks gmail run\n```",
    "## One-time setup\n\n1. Select the GCP project **that owns the OAuth client** used by `gog`.\n\n```bash\ngcloud auth login\ngcloud config set project <project-id>\n```\n\nNote: Gmail watch requires the Pub/Sub topic to live in the same project as the OAuth client.\n\n2. Enable APIs:\n\n```bash\ngcloud services enable gmail.googleapis.com pubsub.googleapis.com\n```\n\n3. Create a topic:\n\n```bash\ngcloud pubsub topics create gog-gmail-watch\n```\n\n4. Allow Gmail push to publish:\n\n```bash\ngcloud pubsub topics add-iam-policy-binding gog-gmail-watch \\\n  --member=serviceAccount:gmail-api-push@system.gserviceaccount.com \\\n  --role=roles/pubsub.publisher\n```",
    "## Start the watch\n\n```bash\ngog gmail watch start \\\n  --account openclaw@gmail.com \\\n  --label INBOX \\\n  --topic projects/<project-id>/topics/gog-gmail-watch\n```\n\nSave the `history_id` from the output (for debugging).",
    "## Run the push handler\n\nLocal example (shared token auth):\n\n```bash\ngog gmail watch serve \\\n  --account openclaw@gmail.com \\\n  --bind 127.0.0.1 \\\n  --port 8788 \\\n  --path /gmail-pubsub \\\n  --token <shared> \\\n  --hook-url http://127.0.0.1:18789/hooks/gmail \\\n  --hook-token OPENCLAW_HOOK_TOKEN \\\n  --include-body \\\n  --max-bytes 20000\n```\n\nNotes:\n\n- `--token` protects the push endpoint (`x-gog-token` or `?token=`).\n- `--hook-url` points to OpenClaw `/hooks/gmail` (mapped; isolated run + summary to main).\n- `--include-body` and `--max-bytes` control the body snippet sent to OpenClaw.\n\nRecommended: `openclaw webhooks gmail run` wraps the same flow and auto-renews the watch.",
    "## Expose the handler (advanced, unsupported)\n\nIf you need a non-Tailscale tunnel, wire it manually and use the public URL in the push\nsubscription (unsupported, no guardrails):\n\n```bash\ncloudflared tunnel --url http://127.0.0.1:8788 --no-autoupdate\n```\n\nUse the generated URL as the push endpoint:\n\n```bash\ngcloud pubsub subscriptions create gog-gmail-watch-push \\\n  --topic gog-gmail-watch \\\n  --push-endpoint \"https://<public-url>/gmail-pubsub?token=<shared>\"\n```\n\nProduction: use a stable HTTPS endpoint and configure Pub/Sub OIDC JWT, then run:\n\n```bash\ngog gmail watch serve --verify-oidc --oidc-email <svc@...>\n```",
    "## Test\n\nSend a message to the watched inbox:\n\n```bash\ngog gmail send \\\n  --account openclaw@gmail.com \\\n  --to openclaw@gmail.com \\\n  --subject \"watch test\" \\\n  --body \"ping\"\n```\n\nCheck watch state and history:\n\n```bash\ngog gmail watch status --account openclaw@gmail.com\ngog gmail history --account openclaw@gmail.com --since <historyId>\n```",
    "## Troubleshooting\n\n- `Invalid topicName`: project mismatch (topic not in the OAuth client project).\n- `User not authorized`: missing `roles/pubsub.publisher` on the topic.\n- Empty messages: Gmail push only provides `historyId`; fetch via `gog gmail history`.",
    "## Cleanup\n\n```bash\ngog gmail watch stop --account openclaw@gmail.com\ngcloud pubsub subscriptions delete gog-gmail-watch-push\ngcloud pubsub topics delete gog-gmail-watch\n```",
    "---\nsummary: \"Google Chat app support status, capabilities, and configuration\"\nread_when:\n  - Working on Google Chat channel features\ntitle: \"Google Chat\"\n---\n\n# Google Chat (Chat API)\n\nStatus: ready for DMs + spaces via Google Chat API webhooks (HTTP only).",
    "## Quick setup (beginner)",
    "1. Create a Google Cloud project and enable the **Google Chat API**.\n   - Go to: [Google Chat API Credentials](https://console.cloud.google.com/apis/api/chat.googleapis.com/credentials)\n   - Enable the API if it is not already enabled.\n2. Create a **Service Account**:\n   - Press **Create Credentials** > **Service Account**.\n   - Name it whatever you want (e.g., `openclaw-chat`).\n   - Leave permissions blank (press **Continue**).\n   - Leave principals with access blank (press **Done**).\n3. Create and download the **JSON Key**:\n   - In the list of service accounts, click on the one you just created.\n   - Go to the **Keys** tab.\n   - Click **Add Key** > **Create new key**.\n   - Select **JSON** and press **Create**.\n4. Store the downloaded JSON file on your gateway host (e.g., `~/.openclaw/googlechat-service-account.json`).\n5. Create a Google Chat app in the [Google Cloud Console Chat Configuration](https://console.cloud.google.com/apis/api/chat.googleapis.com/hangouts-chat):\n   - Fill in the **Application info**:\n     - **App name**: (e.g. `OpenClaw`)\n     - **Avatar URL**: (e.g. `https://openclaw.ai/logo.png`)\n     - **Description**: (e.g. `Personal AI Assistant`)\n   - Enable **Interactive features**.\n   - Under **Functionality**, check **Join spaces and group conversations**.\n   - Under **Connection settings**, select **HTTP endpoint URL**.\n   - Under **Triggers**, select **Use a common HTTP endpoint URL for all triggers** and set it to your gateway's public URL followed by `/googlechat`.\n     - _Tip: Run `openclaw status` to find your gateway's public URL._\n   - Under **Visibility**, check **Make this Chat app available to specific people and groups in &lt;Your Domain&gt;**.\n   - Enter your email address (e.g. `user@example.com`) in the text box.\n   - Click **Save** at the bottom.\n6. **Enable the app status**:\n   - After saving, **refresh the page**.\n   - Look for the **App status** section (usually near the top or bottom after saving).\n   - Change the status to **Live - available to users**.\n   - Click **Save** again.\n7. Configure OpenClaw with the service account path + webhook audience:\n   - Env: `GOOGLE_CHAT_SERVICE_ACCOUNT_FILE=/path/to/service-account.json`\n   - Or config: `channels.googlechat.serviceAccountFile: \"/path/to/service-account.json\"`.\n8. Set the webhook audience type + value (matches your Chat app config).\n9. Start the gateway. Google Chat will POST to your webhook path.",
    "## Add to Google Chat\n\nOnce the gateway is running and your email is added to the visibility list:\n\n1. Go to [Google Chat](https://chat.google.com/).\n2. Click the **+** (plus) icon next to **Direct Messages**.\n3. In the search bar (where you usually add people), type the **App name** you configured in the Google Cloud Console.\n   - **Note**: The bot will _not_ appear in the \"Marketplace\" browse list because it is a private app. You must search for it by name.\n4. Select your bot from the results.\n5. Click **Add** or **Chat** to start a 1:1 conversation.\n6. Send \"Hello\" to trigger the assistant!",
    "## Public URL (Webhook-only)\n\nGoogle Chat webhooks require a public HTTPS endpoint. For security, **only expose the `/googlechat` path** to the internet. Keep the OpenClaw dashboard and other sensitive endpoints on your private network.\n\n### Option A: Tailscale Funnel (Recommended)\n\nUse Tailscale Serve for the private dashboard and Funnel for the public webhook path. This keeps `/` private while exposing only `/googlechat`.\n\n1. **Check what address your gateway is bound to:**\n\n   ```bash\n   ss -tlnp | grep 18789\n   ```\n\n   Note the IP address (e.g., `127.0.0.1`, `0.0.0.0`, or your Tailscale IP like `100.x.x.x`).\n\n2. **Expose the dashboard to the tailnet only (port 8443):**\n\n   ```bash\n   # If bound to localhost (127.0.0.1 or 0.0.0.0):\n   tailscale serve --bg --https 8443 http://127.0.0.1:18789\n\n   # If bound to Tailscale IP only (e.g., 100.106.161.80):\n   tailscale serve --bg --https 8443 http://100.106.161.80:18789\n   ```\n\n3. **Expose only the webhook path publicly:**",
    "```bash\n   # If bound to localhost (127.0.0.1 or 0.0.0.0):\n   tailscale funnel --bg --set-path /googlechat http://127.0.0.1:18789/googlechat\n\n   # If bound to Tailscale IP only (e.g., 100.106.161.80):\n   tailscale funnel --bg --set-path /googlechat http://100.106.161.80:18789/googlechat\n   ```\n\n4. **Authorize the node for Funnel access:**\n   If prompted, visit the authorization URL shown in the output to enable Funnel for this node in your tailnet policy.\n\n5. **Verify the configuration:**\n\n   ```bash\n   tailscale serve status\n   tailscale funnel status\n   ```\n\nYour public webhook URL will be:\n`https://<node-name>.<tailnet>.ts.net/googlechat`\n\nYour private dashboard stays tailnet-only:\n`https://<node-name>.<tailnet>.ts.net:8443/`\n\nUse the public URL (without `:8443`) in the Google Chat app config.\n\n> Note: This configuration persists across reboots. To remove it later, run `tailscale funnel reset` and `tailscale serve reset`.\n\n### Option B: Reverse Proxy (Caddy)",
    "If you use a reverse proxy like Caddy, only proxy the specific path:\n\n```caddy\nyour-domain.com {\n    reverse_proxy /googlechat* localhost:18789\n}\n```\n\nWith this config, any request to `your-domain.com/` will be ignored or returned as 404, while `your-domain.com/googlechat` is safely routed to OpenClaw.\n\n### Option C: Cloudflare Tunnel\n\nConfigure your tunnel's ingress rules to only route the webhook path:\n\n- **Path**: `/googlechat` -> `http://localhost:18789/googlechat`\n- **Default Rule**: HTTP 404 (Not Found)",
    "## How it works\n\n1. Google Chat sends webhook POSTs to the gateway. Each request includes an `Authorization: Bearer <token>` header.\n2. OpenClaw verifies the token against the configured `audienceType` + `audience`:\n   - `audienceType: \"app-url\"` â†’ audience is your HTTPS webhook URL.\n   - `audienceType: \"project-number\"` â†’ audience is the Cloud project number.\n3. Messages are routed by space:\n   - DMs use session key `agent:<agentId>:googlechat:dm:<spaceId>`.\n   - Spaces use session key `agent:<agentId>:googlechat:group:<spaceId>`.\n4. DM access is pairing by default. Unknown senders receive a pairing code; approve with:\n   - `openclaw pairing approve googlechat <code>`\n5. Group spaces require @-mention by default. Use `botUser` if mention detection needs the appâ€™s user name.",
    "## Targets\n\nUse these identifiers for delivery and allowlists:\n\n- Direct messages: `users/<userId>` or `users/<email>` (email addresses are accepted).\n- Spaces: `spaces/<spaceId>`.",
    "## Config highlights\n\n```json5\n{\n  channels: {\n    googlechat: {\n      enabled: true,\n      serviceAccountFile: \"/path/to/service-account.json\",\n      audienceType: \"app-url\",\n      audience: \"https://gateway.example.com/googlechat\",\n      webhookPath: \"/googlechat\",\n      botUser: \"users/1234567890\", // optional; helps mention detection\n      dm: {\n        policy: \"pairing\",\n        allowFrom: [\"users/1234567890\", \"name@example.com\"],\n      },\n      groupPolicy: \"allowlist\",\n      groups: {\n        \"spaces/AAAA\": {\n          allow: true,\n          requireMention: true,\n          users: [\"users/1234567890\"],\n          systemPrompt: \"Short answers only.\",\n        },\n      },\n      actions: { reactions: true },\n      typingIndicator: \"message\",\n      mediaMaxMb: 20,\n    },\n  },\n}\n```\n\nNotes:",
    "- Service account credentials can also be passed inline with `serviceAccount` (JSON string).\n- Default webhook path is `/googlechat` if `webhookPath` isnâ€™t set.\n- Reactions are available via the `reactions` tool and `channels action` when `actions.reactions` is enabled.\n- `typingIndicator` supports `none`, `message` (default), and `reaction` (reaction requires user OAuth).\n- Attachments are downloaded through the Chat API and stored in the media pipeline (size capped by `mediaMaxMb`).",
    "## Troubleshooting\n\n### 405 Method Not Allowed\n\nIf Google Cloud Logs Explorer shows errors like:\n\n```\nstatus code: 405, reason phrase: HTTP error response: HTTP/1.1 405 Method Not Allowed\n```\n\nThis means the webhook handler isn't registered. Common causes:\n\n1. **Channel not configured**: The `channels.googlechat` section is missing from your config. Verify with:\n\n   ```bash\n   openclaw config get channels.googlechat\n   ```\n\n   If it returns \"Config path not found\", add the configuration (see [Config highlights](#config-highlights)).\n\n2. **Plugin not enabled**: Check plugin status:\n\n   ```bash\n   openclaw plugins list | grep googlechat\n   ```\n\n   If it shows \"disabled\", add `plugins.entries.googlechat.enabled: true` to your config.\n\n3. **Gateway not restarted**: After adding config, restart the gateway:\n\n   ```bash\n   openclaw gateway restart\n   ```\n\nVerify the channel is running:\n\n```bash\nopenclaw channels status\n# Should show: Google Chat default: enabled, configured, ...\n```",
    "### Other issues\n\n- Check `openclaw channels status --probe` for auth errors or missing audience config.\n- If no messages arrive, confirm the Chat app's webhook URL + event subscriptions.\n- If mention gating blocks replies, set `botUser` to the app's user resource name and verify `requireMention`.\n- Use `openclaw logs --follow` while sending a test message to see if requests reach the gateway.\n\nRelated docs:\n\n- [Gateway configuration](/gateway/configuration)\n- [Security](/gateway/security)\n- [Reactions](/tools/reactions)",
    "---\nsummary: \"Telegram Bot API integration via grammY with setup notes\"\nread_when:\n  - Working on Telegram or grammY pathways\ntitle: grammY\n---\n\n# grammY Integration (Telegram Bot API)\n\n# Why grammY\n\n- TS-first Bot API client with built-in long-poll + webhook helpers, middleware, error handling, rate limiter.\n- Cleaner media helpers than hand-rolling fetch + FormData; supports all Bot API methods.\n- Extensible: proxy support via custom fetch, session middleware (optional), type-safe context.\n\n# What we shipped",
    "- **Single client path:** fetch-based implementation removed; grammY is now the sole Telegram client (send + gateway) with the grammY throttler enabled by default.\n- **Gateway:** `monitorTelegramProvider` builds a grammY `Bot`, wires mention/allowlist gating, media download via `getFile`/`download`, and delivers replies with `sendMessage/sendPhoto/sendVideo/sendAudio/sendDocument`. Supports long-poll or webhook via `webhookCallback`.\n- **Proxy:** optional `channels.telegram.proxy` uses `undici.ProxyAgent` through grammYâ€™s `client.baseFetch`.\n- **Webhook support:** `webhook-set.ts` wraps `setWebhook/deleteWebhook`; `webhook.ts` hosts the callback with health + graceful shutdown. Gateway enables webhook mode when `channels.telegram.webhookUrl` + `channels.telegram.webhookSecret` are set (otherwise it long-polls).\n- **Sessions:** direct chats collapse into the agent main session (`agent:<agentId>:<mainKey>`); groups use `agent:<agentId>:telegram:group:<chatId>`; replies route back to the same channel.\n- **Config knobs:** `channels.telegram.botToken`, `channels.telegram.dmPolicy`, `channels.telegram.groups` (allowlist + mention defaults), `channels.telegram.allowFrom`, `channels.telegram.groupAllowFrom`, `channels.telegram.groupPolicy`, `channels.telegram.mediaMaxMb`, `channels.telegram.linkPreview`, `channels.telegram.proxy`, `channels.telegram.webhookSecret`, `channels.telegram.webhookUrl`.\n- **Draft streaming:** optional `channels.telegram.streamMode` uses `sendMessageDraft` in private topic chats (Bot API 9.3+). This is separate from channel block streaming.\n- **Tests:** grammy mocks cover DM + group mention gating and outbound send; more media/webhook fixtures still welcome.",
    "Open questions\n\n- Optional grammY plugins (throttler) if we hit Bot API 429s.\n- Add more structured media tests (stickers, voice notes).\n- Make webhook listen port configurable (currently fixed to 8787 unless wired through the gateway).",
    "---\nsummary: \"Behavior and config for WhatsApp group message handling (mentionPatterns are shared across surfaces)\"\nread_when:\n  - Changing group message rules or mentions\ntitle: \"Group Messages\"\n---\n\n# Group messages (WhatsApp web channel)\n\nGoal: let Clawd sit in WhatsApp groups, wake up only when pinged, and keep that thread separate from the personal DM session.\n\nNote: `agents.list[].groupChat.mentionPatterns` is now used by Telegram/Discord/Slack/iMessage as well; this doc focuses on WhatsApp-specific behavior. For multi-agent setups, set `agents.list[].groupChat.mentionPatterns` per agent (or use `messages.groupChat.mentionPatterns` as a global fallback).",
    "## Whatâ€™s implemented (2025-12-03)",
    "- Activation modes: `mention` (default) or `always`. `mention` requires a ping (real WhatsApp @-mentions via `mentionedJids`, regex patterns, or the botâ€™s E.164 anywhere in the text). `always` wakes the agent on every message but it should reply only when it can add meaningful value; otherwise it returns the silent token `NO_REPLY`. Defaults can be set in config (`channels.whatsapp.groups`) and overridden per group via `/activation`. When `channels.whatsapp.groups` is set, it also acts as a group allowlist (include `\"*\"` to allow all).\n- Group policy: `channels.whatsapp.groupPolicy` controls whether group messages are accepted (`open|disabled|allowlist`). `allowlist` uses `channels.whatsapp.groupAllowFrom` (fallback: explicit `channels.whatsapp.allowFrom`). Default is `allowlist` (blocked until you add senders).\n- Per-group sessions: session keys look like `agent:<agentId>:whatsapp:group:<jid>` so commands such as `/verbose on` or `/think high` (sent as standalone messages) are scoped to that group; personal DM state is untouched. Heartbeats are skipped for group threads.\n- Context injection: **pending-only** group messages (default 50) that _did not_ trigger a run are prefixed under `[Chat messages since your last reply - for context]`, with the triggering line under `[Current message - respond to this]`. Messages already in the session are not re-injected.\n- Sender surfacing: every group batch now ends with `[from: Sender Name (+E164)]` so Pi knows who is speaking.\n- Ephemeral/view-once: we unwrap those before extracting text/mentions, so pings inside them still trigger.\n- Group system prompt: on the first turn of a group session (and whenever `/activation` changes the mode) we inject a short blurb into the system prompt like `You are replying inside the WhatsApp group \"<subject>\". Group members: Alice (+44...), Bob (+43...), â€¦ Activation: trigger-only â€¦ Address the specific sender noted in the message context.` If metadata isnâ€™t available we still tell the agent itâ€™s a group chat.",
    "## Config example (WhatsApp)\n\nAdd a `groupChat` block to `~/.openclaw/openclaw.json` so display-name pings work even when WhatsApp strips the visual `@` in the text body:\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groups: {\n        \"*\": { requireMention: true },\n      },\n    },\n  },\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        groupChat: {\n          historyLimit: 50,\n          mentionPatterns: [\"@?openclaw\", \"\\\\+?15555550123\"],\n        },\n      },\n    ],\n  },\n}\n```\n\nNotes:\n\n- The regexes are case-insensitive; they cover a display-name ping like `@openclaw` and the raw number with or without `+`/spaces.\n- WhatsApp still sends canonical mentions via `mentionedJids` when someone taps the contact, so the number fallback is rarely needed but is a useful safety net.\n\n### Activation command (owner-only)\n\nUse the group chat command:\n\n- `/activation mention`\n- `/activation always`",
    "Only the owner number (from `channels.whatsapp.allowFrom`, or the botâ€™s own E.164 when unset) can change this. Send `/status` as a standalone message in the group to see the current activation mode.",
    "## How to use\n\n1. Add your WhatsApp account (the one running OpenClaw) to the group.\n2. Say `@openclaw â€¦` (or include the number). Only allowlisted senders can trigger it unless you set `groupPolicy: \"open\"`.\n3. The agent prompt will include recent group context plus the trailing `[from: â€¦]` marker so it can address the right person.\n4. Session-level directives (`/verbose on`, `/think high`, `/new` or `/reset`, `/compact`) apply only to that groupâ€™s session; send them as standalone messages so they register. Your personal DM session remains independent.",
    "## Testing / verification\n\n- Manual smoke:\n  - Send an `@openclaw` ping in the group and confirm a reply that references the sender name.\n  - Send a second ping and verify the history block is included then cleared on the next turn.\n- Check gateway logs (run with `--verbose`) to see `inbound web message` entries showing `from: <groupJid>` and the `[from: â€¦]` suffix.",
    "## Known considerations\n\n- Heartbeats are intentionally skipped for groups to avoid noisy broadcasts.\n- Echo suppression uses the combined batch string; if you send identical text twice without mentions, only the first will get a response.\n- Session store entries will appear as `agent:<agentId>:whatsapp:group:<jid>` in the session store (`~/.openclaw/agents/<agentId>/sessions/sessions.json` by default); a missing entry just means the group hasnâ€™t triggered a run yet.\n- Typing indicators in groups follow `agents.defaults.typingMode` (default: `message` when unmentioned).",
    "---\nsummary: \"Telegram allowlist hardening: prefix + whitespace normalization\"\nread_when:\n  - Reviewing historical Telegram allowlist changes\ntitle: \"Telegram Allowlist Hardening\"\n---\n\n# Telegram Allowlist Hardening\n\n**Date**: 2026-01-05  \n**Status**: Complete  \n**PR**: #216",
    "## Summary\n\nTelegram allowlists now accept `telegram:` and `tg:` prefixes case-insensitively, and tolerate\naccidental whitespace. This aligns inbound allowlist checks with outbound send normalization.",
    "## What changed\n\n- Prefixes `telegram:` and `tg:` are treated the same (case-insensitive).\n- Allowlist entries are trimmed; empty entries are ignored.",
    "## Examples\n\nAll of these are accepted for the same ID:\n\n- `telegram:123456`\n- `TG:123456`\n- `tg:123456`",
    "## Why it matters\n\nCopy/paste from logs or chat IDs often includes prefixes and whitespace. Normalizing avoids\nfalse negatives when deciding whether to respond in DMs or groups.",
    "## Related docs\n\n- [Group Chats](/concepts/groups)\n- [Telegram Provider](/channels/telegram)",
    "---\nsummary: \"Group chat behavior across surfaces (WhatsApp/Telegram/Discord/Slack/Signal/iMessage/Microsoft Teams)\"\nread_when:\n  - Changing group chat behavior or mention gating\ntitle: \"Groups\"\n---\n\n# Groups\n\nOpenClaw treats group chats consistently across surfaces: WhatsApp, Telegram, Discord, Slack, Signal, iMessage, Microsoft Teams.",
    "## Beginner intro (2 minutes)\n\nOpenClaw â€œlivesâ€ on your own messaging accounts. There is no separate WhatsApp bot user.\nIf **you** are in a group, OpenClaw can see that group and respond there.\n\nDefault behavior:\n\n- Groups are restricted (`groupPolicy: \"allowlist\"`).\n- Replies require a mention unless you explicitly disable mention gating.\n\nTranslation: allowlisted senders can trigger OpenClaw by mentioning it.\n\n> TL;DR\n>\n> - **DM access** is controlled by `*.allowFrom`.\n> - **Group access** is controlled by `*.groupPolicy` + allowlists (`*.groups`, `*.groupAllowFrom`).\n> - **Reply triggering** is controlled by mention gating (`requireMention`, `/activation`).\n\nQuick flow (what happens to a group message):\n\n```\ngroupPolicy? disabled -> drop\ngroupPolicy? allowlist -> group allowed? no -> drop\nrequireMention? yes -> mentioned? no -> store for context only\notherwise -> reply\n```\n\n![Group message flow](/images/groups-flow.svg)\n\nIf you want...",
    "| Goal                                         | What to set                                                |\n| -------------------------------------------- | ---------------------------------------------------------- |\n| Allow all groups but only reply on @mentions | `groups: { \"*\": { requireMention: true } }`                |\n| Disable all group replies                    | `groupPolicy: \"disabled\"`                                  |\n| Only specific groups                         | `groups: { \"<group-id>\": { ... } }` (no `\"*\"` key)         |\n| Only you can trigger in groups               | `groupPolicy: \"allowlist\"`, `groupAllowFrom: [\"+1555...\"]` |",
    "## Session keys\n\n- Group sessions use `agent:<agentId>:<channel>:group:<id>` session keys (rooms/channels use `agent:<agentId>:<channel>:channel:<id>`).\n- Telegram forum topics add `:topic:<threadId>` to the group id so each topic has its own session.\n- Direct chats use the main session (or per-sender if configured).\n- Heartbeats are skipped for group sessions.",
    "## Pattern: personal DMs + public groups (single agent)\n\nYes â€” this works well if your â€œpersonalâ€ traffic is **DMs** and your â€œpublicâ€ traffic is **groups**.\n\nWhy: in single-agent mode, DMs typically land in the **main** session key (`agent:main:main`), while groups always use **non-main** session keys (`agent:main:<channel>:group:<id>`). If you enable sandboxing with `mode: \"non-main\"`, those group sessions run in Docker while your main DM session stays on-host.\n\nThis gives you one agent â€œbrainâ€ (shared workspace + memory), but two execution postures:\n\n- **DMs**: full tools (host)\n- **Groups**: sandbox + restricted tools (Docker)\n\n> If you need truly separate workspaces/personas (â€œpersonalâ€ and â€œpublicâ€ must never mix), use a second agent + bindings. See [Multi-Agent Routing](/concepts/multi-agent).\n\nExample (DMs on host, groups sandboxed + messaging-only tools):",
    "```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\", // groups/channels are non-main -> sandboxed\n        scope: \"session\", // strongest isolation (one container per group/channel)\n        workspaceAccess: \"none\",\n      },\n    },\n  },\n  tools: {\n    sandbox: {\n      tools: {\n        // If allow is non-empty, everything else is blocked (deny still wins).\n        allow: [\"group:messaging\", \"group:sessions\"],\n        deny: [\"group:runtime\", \"group:fs\", \"group:ui\", \"nodes\", \"cron\", \"gateway\"],\n      },\n    },\n  },\n}\n```\n\nWant â€œgroups can only see folder Xâ€ instead of â€œno host accessâ€? Keep `workspaceAccess: \"none\"` and mount only allowlisted paths into the sandbox:",
    "```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\",\n        scope: \"session\",\n        workspaceAccess: \"none\",\n        docker: {\n          binds: [\n            // hostPath:containerPath:mode\n            \"~/FriendsShared:/data:ro\",\n          ],\n        },\n      },\n    },\n  },\n}\n```\n\nRelated:\n\n- Configuration keys and defaults: [Gateway configuration](/gateway/configuration#agentsdefaultssandbox)\n- Debugging why a tool is blocked: [Sandbox vs Tool Policy vs Elevated](/gateway/sandbox-vs-tool-policy-vs-elevated)\n- Bind mounts details: [Sandboxing](/gateway/sandboxing#custom-bind-mounts)",
    "## Display labels\n\n- UI labels use `displayName` when available, formatted as `<channel>:<token>`.\n- `#room` is reserved for rooms/channels; group chats use `g-<slug>` (lowercase, spaces -> `-`, keep `#@+._-`).",
    "## Group policy\n\nControl how group/room messages are handled per channel:",
    "```json5\n{\n  channels: {\n    whatsapp: {\n      groupPolicy: \"disabled\", // \"open\" | \"disabled\" | \"allowlist\"\n      groupAllowFrom: [\"+15551234567\"],\n    },\n    telegram: {\n      groupPolicy: \"disabled\",\n      groupAllowFrom: [\"123456789\", \"@username\"],\n    },\n    signal: {\n      groupPolicy: \"disabled\",\n      groupAllowFrom: [\"+15551234567\"],\n    },\n    imessage: {\n      groupPolicy: \"disabled\",\n      groupAllowFrom: [\"chat_id:123\"],\n    },\n    msteams: {\n      groupPolicy: \"disabled\",\n      groupAllowFrom: [\"user@org.com\"],\n    },\n    discord: {\n      groupPolicy: \"allowlist\",\n      guilds: {\n        GUILD_ID: { channels: { help: { allow: true } } },\n      },\n    },\n    slack: {\n      groupPolicy: \"allowlist\",\n      channels: { \"#general\": { allow: true } },\n    },\n    matrix: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"@owner:example.org\"],\n      groups: {\n        \"!roomId:example.org\": { allow: true },\n        \"#alias:example.org\": { allow: true },\n      },\n    },\n  },\n}\n```",
    "| Policy        | Behavior                                                     |\n| ------------- | ------------------------------------------------------------ |\n| `\"open\"`      | Groups bypass allowlists; mention-gating still applies.      |\n| `\"disabled\"`  | Block all group messages entirely.                           |\n| `\"allowlist\"` | Only allow groups/rooms that match the configured allowlist. |\n\nNotes:",
    "- `groupPolicy` is separate from mention-gating (which requires @mentions).\n- WhatsApp/Telegram/Signal/iMessage/Microsoft Teams: use `groupAllowFrom` (fallback: explicit `allowFrom`).\n- Discord: allowlist uses `channels.discord.guilds.<id>.channels`.\n- Slack: allowlist uses `channels.slack.channels`.\n- Matrix: allowlist uses `channels.matrix.groups` (room IDs, aliases, or names). Use `channels.matrix.groupAllowFrom` to restrict senders; per-room `users` allowlists are also supported.\n- Group DMs are controlled separately (`channels.discord.dm.*`, `channels.slack.dm.*`).\n- Telegram allowlist can match user IDs (`\"123456789\"`, `\"telegram:123456789\"`, `\"tg:123456789\"`) or usernames (`\"@alice\"` or `\"alice\"`); prefixes are case-insensitive.\n- Default is `groupPolicy: \"allowlist\"`; if your group allowlist is empty, group messages are blocked.\n\nQuick mental model (evaluation order for group messages):",
    "1. `groupPolicy` (open/disabled/allowlist)\n2. group allowlists (`*.groups`, `*.groupAllowFrom`, channel-specific allowlist)\n3. mention gating (`requireMention`, `/activation`)",
    "## Mention gating (default)\n\nGroup messages require a mention unless overridden per group. Defaults live per subsystem under `*.groups.\"*\"`.\n\nReplying to a bot message counts as an implicit mention (when the channel supports reply metadata). This applies to Telegram, WhatsApp, Slack, Discord, and Microsoft Teams.\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groups: {\n        \"*\": { requireMention: true },\n        \"123@g.us\": { requireMention: false },\n      },\n    },\n    telegram: {\n      groups: {\n        \"*\": { requireMention: true },\n        \"123456789\": { requireMention: false },\n      },\n    },\n    imessage: {\n      groups: {\n        \"*\": { requireMention: true },\n        \"123\": { requireMention: false },\n      },\n    },\n  },\n  agents: {\n    list: [\n      {\n        id: \"main\",\n        groupChat: {\n          mentionPatterns: [\"@openclaw\", \"openclaw\", \"\\\\+15555550123\"],\n          historyLimit: 50,\n        },\n      },\n    ],\n  },\n}\n```\n\nNotes:",
    "- `mentionPatterns` are case-insensitive regexes.\n- Surfaces that provide explicit mentions still pass; patterns are a fallback.\n- Per-agent override: `agents.list[].groupChat.mentionPatterns` (useful when multiple agents share a group).\n- Mention gating is only enforced when mention detection is possible (native mentions or `mentionPatterns` are configured).\n- Discord defaults live in `channels.discord.guilds.\"*\"` (overridable per guild/channel).\n- Group history context is wrapped uniformly across channels and is **pending-only** (messages skipped due to mention gating); use `messages.groupChat.historyLimit` for the global default and `channels.<channel>.historyLimit` (or `channels.<channel>.accounts.*.historyLimit`) for overrides. Set `0` to disable.",
    "## Group/channel tool restrictions (optional)\n\nSome channel configs support restricting which tools are available **inside a specific group/room/channel**.\n\n- `tools`: allow/deny tools for the whole group.\n- `toolsBySender`: per-sender overrides within the group (keys are sender IDs/usernames/emails/phone numbers depending on the channel). Use `\"*\"` as a wildcard.\n\nResolution order (most specific wins):\n\n1. group/channel `toolsBySender` match\n2. group/channel `tools`\n3. default (`\"*\"`) `toolsBySender` match\n4. default (`\"*\"`) `tools`\n\nExample (Telegram):\n\n```json5\n{\n  channels: {\n    telegram: {\n      groups: {\n        \"*\": { tools: { deny: [\"exec\"] } },\n        \"-1001234567890\": {\n          tools: { deny: [\"exec\", \"read\", \"write\"] },\n          toolsBySender: {\n            \"123456789\": { alsoAllow: [\"exec\"] },\n          },\n        },\n      },\n    },\n  },\n}\n```\n\nNotes:",
    "- Group/channel tool restrictions are applied in addition to global/agent tool policy (deny still wins).\n- Some channels use different nesting for rooms/channels (e.g., Discord `guilds.*.channels.*`, Slack `channels.*`, MS Teams `teams.*.channels.*`).",
    "## Group allowlists\n\nWhen `channels.whatsapp.groups`, `channels.telegram.groups`, or `channels.imessage.groups` is configured, the keys act as a group allowlist. Use `\"*\"` to allow all groups while still setting default mention behavior.\n\nCommon intents (copy/paste):\n\n1. Disable all group replies\n\n```json5\n{\n  channels: { whatsapp: { groupPolicy: \"disabled\" } },\n}\n```\n\n2. Allow only specific groups (WhatsApp)\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groups: {\n        \"123@g.us\": { requireMention: true },\n        \"456@g.us\": { requireMention: false },\n      },\n    },\n  },\n}\n```\n\n3. Allow all groups but require mention (explicit)\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n}\n```\n\n4. Only the owner can trigger in groups (WhatsApp)\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15551234567\"],\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n}\n```",
    "## Activation (owner-only)\n\nGroup owners can toggle per-group activation:\n\n- `/activation mention`\n- `/activation always`\n\nOwner is determined by `channels.whatsapp.allowFrom` (or the botâ€™s self E.164 when unset). Send the command as a standalone message. Other surfaces currently ignore `/activation`.",
    "## Context fields\n\nGroup inbound payloads set:\n\n- `ChatType=group`\n- `GroupSubject` (if known)\n- `GroupMembers` (if known)\n- `WasMentioned` (mention gating result)\n- Telegram forum topics also include `MessageThreadId` and `IsForum`.\n\nThe agent system prompt includes a group intro on the first turn of a new group session. It reminds the model to respond like a human, avoid Markdown tables, and avoid typing literal `\\n` sequences.",
    "## iMessage specifics\n\n- Prefer `chat_id:<id>` when routing or allowlisting.\n- List chats: `imsg chats --limit 20`.\n- Group replies always go back to the same `chat_id`.",
    "## WhatsApp specifics\n\nSee [Group messages](/concepts/group-messages) for WhatsApp-only behavior (history injection, mention handling details).",
    "---\nsummary: \"CLI reference for `openclaw health` (gateway health endpoint via RPC)\"\nread_when:\n  - You want to quickly check the running Gatewayâ€™s health\ntitle: \"health\"\n---\n\n# `openclaw health`\n\nFetch health from the running Gateway.\n\n```bash\nopenclaw health\nopenclaw health --json\nopenclaw health --verbose\n```\n\nNotes:\n\n- `--verbose` runs live probes and prints per-account timings when multiple accounts are configured.\n- Output includes per-agent session stores when multiple agents are configured.",
    "---\nread_when:\n  - è°ƒæ•´å¿ƒè·³é¢‘ç‡æˆ–æ¶ˆæ¯æ—¶\n  - åœ¨å¿ƒè·³å’Œ cron ä¹‹é—´é€‰æ‹©å®šæ—¶ä»»åŠ¡æ–¹æ¡ˆæ—¶\nsummary: å¿ƒè·³è½®è¯¢æ¶ˆæ¯å’Œé€šçŸ¥è§„åˆ™\ntitle: å¿ƒè·³\nx-i18n:\n  generated_at: \"2026-02-03T07:48:57Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 18b017066aa2c41811b985564dd389834906f4576e85b576fb357a0eff482e69\n  source_path: gateway/heartbeat.md\n  workflow: 15\n---\n\n# å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰\n\n> **å¿ƒè·³ vs Cronï¼Ÿ** å‚è§ [Cron vs å¿ƒè·³](/automation/cron-vs-heartbeat) äº†è§£ä½•æ—¶ä½¿ç”¨å“ªç§æ–¹æ¡ˆã€‚\n\nå¿ƒè·³åœ¨ä¸»ä¼šè¯ä¸­è¿è¡Œ**å‘¨æœŸæ€§æ™ºèƒ½ä½“è½®æ¬¡**ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨ä¸æ‰“æ‰°ä½ çš„æƒ…å†µä¸‹æé†’éœ€è¦å…³æ³¨çš„äº‹é¡¹ã€‚",
    "## å¿«é€Ÿå¼€å§‹ï¼ˆæ–°æ‰‹ï¼‰\n\n1. ä¿æŒå¿ƒè·³å¯ç”¨ï¼ˆé»˜è®¤ `30m`ï¼ŒAnthropic OAuth/setup-token ä¸º `1h`ï¼‰æˆ–è®¾ç½®ä½ è‡ªå·±çš„é¢‘ç‡ã€‚\n2. åœ¨æ™ºèƒ½ä½“å·¥ä½œåŒºåˆ›å»ºä¸€ä¸ªç®€å•çš„ `HEARTBEAT.md` æ£€æŸ¥æ¸…å•ï¼ˆå¯é€‰ä½†æ¨èï¼‰ã€‚\n3. å†³å®šå¿ƒè·³æ¶ˆæ¯å‘é€åˆ°å“ªé‡Œï¼ˆé»˜è®¤ `target: \"last\"`ï¼‰ã€‚\n4. å¯é€‰ï¼šå¯ç”¨å¿ƒè·³æ¨ç†å†…å®¹å‘é€ä»¥æé«˜é€æ˜åº¦ã€‚\n5. å¯é€‰ï¼šå°†å¿ƒè·³é™åˆ¶åœ¨æ´»åŠ¨æ—¶æ®µï¼ˆæœ¬åœ°æ—¶é—´ï¼‰ã€‚\n\né…ç½®ç¤ºä¾‹ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      heartbeat: {\n        every: \"30m\",\n        target: \"last\",\n        // activeHours: { start: \"08:00\", end: \"24:00\" },\n        // includeReasoning: true, // å¯é€‰ï¼šåŒæ—¶å‘é€å•ç‹¬çš„ `Reasoning:` æ¶ˆæ¯\n      },\n    },\n  },\n}\n```",
    "## é»˜è®¤å€¼\n\n- é—´éš”ï¼š`30m`ï¼ˆå½“æ£€æµ‹åˆ°çš„è®¤è¯æ¨¡å¼ä¸º Anthropic OAuth/setup-token æ—¶ä¸º `1h`ï¼‰ã€‚è®¾ç½® `agents.defaults.heartbeat.every` æˆ–å•æ™ºèƒ½ä½“ `agents.list[].heartbeat.every`ï¼›ä½¿ç”¨ `0m` ç¦ç”¨ã€‚\n- æç¤ºå†…å®¹ï¼ˆå¯é€šè¿‡ `agents.defaults.heartbeat.prompt` é…ç½®ï¼‰ï¼š\n  `Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`\n- å¿ƒè·³æç¤º**åŸæ ·**ä½œä¸ºç”¨æˆ·æ¶ˆæ¯å‘é€ã€‚ç³»ç»Ÿæç¤ºåŒ…å«\"Heartbeat\"éƒ¨åˆ†ï¼Œè¿è¡Œåœ¨å†…éƒ¨è¢«æ ‡è®°ã€‚\n- æ´»åŠ¨æ—¶æ®µï¼ˆ`heartbeat.activeHours`ï¼‰æŒ‰é…ç½®çš„æ—¶åŒºæ£€æŸ¥ã€‚åœ¨æ—¶æ®µå¤–ï¼Œå¿ƒè·³ä¼šè¢«è·³è¿‡ç›´åˆ°ä¸‹ä¸€ä¸ªæ—¶æ®µå†…çš„æ—¶é’Ÿå‘¨æœŸã€‚",
    "## å¿ƒè·³æç¤ºçš„ç”¨é€”\n\né»˜è®¤æç¤ºæ•…æ„è®¾è®¡å¾—æ¯”è¾ƒå®½æ³›ï¼š\n\n- **åå°ä»»åŠ¡**ï¼š\"Consider outstanding tasks\"ä¿ƒä½¿æ™ºèƒ½ä½“å®¡æŸ¥å¾…åŠäº‹é¡¹ï¼ˆæ”¶ä»¶ç®±ã€æ—¥å†ã€æé†’ã€æ’é˜Ÿå·¥ä½œï¼‰å¹¶æé†’ä»»ä½•ç´§æ€¥äº‹é¡¹ã€‚\n- **äººç±»ç­¾åˆ°**ï¼š\"Checkup sometimes on your human during day time\"ä¿ƒä½¿å¶å°”å‘é€è½»é‡çº§çš„\"æœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ\"æ¶ˆæ¯ï¼Œä½†é€šè¿‡ä½¿ç”¨ä½ é…ç½®çš„æœ¬åœ°æ—¶åŒºé¿å…å¤œé—´æ‰“æ‰°ï¼ˆå‚è§ [/concepts/timezone](/concepts/timezone)ï¼‰ã€‚\n\nå¦‚æœä½ å¸Œæœ›å¿ƒè·³æ‰§è¡Œéå¸¸å…·ä½“çš„ä»»åŠ¡ï¼ˆä¾‹å¦‚\"æ£€æŸ¥ Gmail PubSub ç»Ÿè®¡\"æˆ–\"éªŒè¯ Gateway ç½‘å…³å¥åº·çŠ¶æ€\"ï¼‰ï¼Œå°† `agents.defaults.heartbeat.prompt`ï¼ˆæˆ– `agents.list[].heartbeat.prompt`ï¼‰è®¾ç½®ä¸ºè‡ªå®šä¹‰å†…å®¹ï¼ˆåŸæ ·å‘é€ï¼‰ã€‚",
    "## å“åº”çº¦å®š\n\n- å¦‚æœæ²¡æœ‰éœ€è¦å…³æ³¨çš„äº‹é¡¹ï¼Œå›å¤ **`HEARTBEAT_OK`**ã€‚\n- åœ¨å¿ƒè·³è¿è¡ŒæœŸé—´ï¼Œå½“ `HEARTBEAT_OK` å‡ºç°åœ¨å›å¤çš„**å¼€å¤´æˆ–ç»“å°¾**æ—¶ï¼ŒOpenClaw å°†å…¶è§†ä¸ºç¡®è®¤ã€‚è¯¥æ ‡è®°ä¼šè¢«ç§»é™¤ï¼Œå¦‚æœå‰©ä½™å†…å®¹ **â‰¤ `ackMaxChars`**ï¼ˆé»˜è®¤ï¼š300ï¼‰ï¼Œåˆ™å›å¤è¢«ä¸¢å¼ƒã€‚\n- å¦‚æœ `HEARTBEAT_OK` å‡ºç°åœ¨å›å¤çš„**ä¸­é—´**ï¼Œåˆ™ä¸ä¼šè¢«ç‰¹æ®Šå¤„ç†ã€‚\n- å¯¹äºè­¦æŠ¥ï¼Œ**ä¸è¦**åŒ…å« `HEARTBEAT_OK`ï¼›åªè¿”å›è­¦æŠ¥æ–‡æœ¬ã€‚\n\nåœ¨å¿ƒè·³ä¹‹å¤–ï¼Œæ¶ˆæ¯å¼€å¤´/ç»“å°¾çš„æ„å¤– `HEARTBEAT_OK` ä¼šè¢«ç§»é™¤å¹¶è®°å½•æ—¥å¿—ï¼›ä»…åŒ…å« `HEARTBEAT_OK` çš„æ¶ˆæ¯ä¼šè¢«ä¸¢å¼ƒã€‚",
    "## é…ç½®\n\n```json5\n{\n  agents: {\n    defaults: {\n      heartbeat: {\n        every: \"30m\", // é»˜è®¤ï¼š30mï¼ˆ0m ç¦ç”¨ï¼‰\n        model: \"anthropic/claude-opus-4-5\",\n        includeReasoning: false, // é»˜è®¤ï¼šfalseï¼ˆå¯ç”¨æ—¶å‘é€å•ç‹¬çš„ Reasoning: æ¶ˆæ¯ï¼‰\n        target: \"last\", // last | none | <channel id>ï¼ˆæ ¸å¿ƒæˆ–æ’ä»¶ï¼Œä¾‹å¦‚ \"bluebubbles\"ï¼‰\n        to: \"+15551234567\", // å¯é€‰çš„æ¸ é“ç‰¹å®šè¦†ç›–\n        prompt: \"Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.\",\n        ackMaxChars: 300, // HEARTBEAT_OK åå…è®¸çš„æœ€å¤§å­—ç¬¦æ•°\n      },\n    },\n  },\n}\n```\n\n### ä½œç”¨åŸŸå’Œä¼˜å…ˆçº§\n\n- `agents.defaults.heartbeat` è®¾ç½®å…¨å±€å¿ƒè·³è¡Œä¸ºã€‚\n- `agents.list[].heartbeat` åœ¨å…¶ä¹‹ä¸Šåˆå¹¶ï¼›å¦‚æœä»»ä½•æ™ºèƒ½ä½“æœ‰ `heartbeat` å—ï¼Œ**åªæœ‰è¿™äº›æ™ºèƒ½ä½“**è¿è¡Œå¿ƒè·³ã€‚\n- `channels.defaults.heartbeat` ä¸ºæ‰€æœ‰æ¸ é“è®¾ç½®å¯è§æ€§é»˜è®¤å€¼ã€‚\n- `channels.<channel>.heartbeat` è¦†ç›–æ¸ é“é»˜è®¤å€¼ã€‚\n- `channels.<channel>.accounts.<id>.heartbeat`ï¼ˆå¤šè´¦æˆ·æ¸ é“ï¼‰è¦†ç›–å•æ¸ é“è®¾ç½®ã€‚\n\n### å•æ™ºèƒ½ä½“å¿ƒè·³",
    "å¦‚æœä»»ä½• `agents.list[]` æ¡ç›®åŒ…å« `heartbeat` å—ï¼Œ**åªæœ‰è¿™äº›æ™ºèƒ½ä½“**è¿è¡Œå¿ƒè·³ã€‚å•æ™ºèƒ½ä½“å—åœ¨ `agents.defaults.heartbeat` ä¹‹ä¸Šåˆå¹¶ï¼ˆå› æ­¤ä½ å¯ä»¥è®¾ç½®ä¸€æ¬¡å…±äº«é»˜è®¤å€¼ï¼Œç„¶åæŒ‰æ™ºèƒ½ä½“è¦†ç›–ï¼‰ã€‚\n\nç¤ºä¾‹ï¼šä¸¤ä¸ªæ™ºèƒ½ä½“ï¼Œåªæœ‰ç¬¬äºŒä¸ªæ™ºèƒ½ä½“è¿è¡Œå¿ƒè·³ã€‚\n\n```json5\n{\n  agents: {\n    defaults: {\n      heartbeat: {\n        every: \"30m\",\n        target: \"last\",\n      },\n    },\n    list: [\n      { id: \"main\", default: true },\n      {\n        id: \"ops\",\n        heartbeat: {\n          every: \"1h\",\n          target: \"whatsapp\",\n          to: \"+15551234567\",\n          prompt: \"Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.\",\n        },\n      },\n    ],\n  },\n}\n```\n\n### å­—æ®µè¯´æ˜",
    "- `every`ï¼šå¿ƒè·³é—´éš”ï¼ˆæ—¶é•¿å­—ç¬¦ä¸²ï¼›é»˜è®¤å•ä½ = åˆ†é’Ÿï¼‰ã€‚\n- `model`ï¼šå¿ƒè·³è¿è¡Œçš„å¯é€‰æ¨¡å‹è¦†ç›–ï¼ˆ`provider/model`ï¼‰ã€‚\n- `includeReasoning`ï¼šå¯ç”¨æ—¶ï¼Œä¹Ÿä¼šå‘é€å•ç‹¬çš„ `Reasoning:` æ¶ˆæ¯ï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼ˆä¸ `/reasoning on` æ ¼å¼ç›¸åŒï¼‰ã€‚\n- `session`ï¼šå¿ƒè·³è¿è¡Œçš„å¯é€‰ä¼šè¯é”®ã€‚\n  - `main`ï¼ˆé»˜è®¤ï¼‰ï¼šæ™ºèƒ½ä½“ä¸»ä¼šè¯ã€‚\n  - æ˜¾å¼ä¼šè¯é”®ï¼ˆä» `openclaw sessions --json` æˆ– [sessions CLI](/cli/sessions) å¤åˆ¶ï¼‰ã€‚\n  - ä¼šè¯é”®æ ¼å¼ï¼šå‚è§[ä¼šè¯](/concepts/session)å’Œ[ç¾¤ç»„](/concepts/groups)ã€‚\n- `target`ï¼š\n  - `last`ï¼ˆé»˜è®¤ï¼‰ï¼šå‘é€åˆ°æœ€åä½¿ç”¨çš„å¤–éƒ¨æ¸ é“ã€‚\n  - æ˜¾å¼æ¸ é“ï¼š`whatsapp` / `telegram` / `discord` / `googlechat` / `slack` / `msteams` / `signal` / `imessage`ã€‚\n  - `none`ï¼šè¿è¡Œå¿ƒè·³ä½†**ä¸å‘é€**åˆ°å¤–éƒ¨ã€‚\n- `to`ï¼šå¯é€‰çš„æ”¶ä»¶äººè¦†ç›–ï¼ˆæ¸ é“ç‰¹å®š IDï¼Œä¾‹å¦‚ WhatsApp çš„ E.164 æˆ– Telegram èŠå¤© IDï¼‰ã€‚\n- `prompt`ï¼šè¦†ç›–é»˜è®¤æç¤ºå†…å®¹ï¼ˆä¸åˆå¹¶ï¼‰ã€‚\n- `ackMaxChars`ï¼š`HEARTBEAT_OK` ååœ¨å‘é€å‰å…è®¸çš„æœ€å¤§å­—ç¬¦æ•°ã€‚",
    "## å‘é€è¡Œä¸º\n\n- å¿ƒè·³é»˜è®¤åœ¨æ™ºèƒ½ä½“ä¸»ä¼šè¯ä¸­è¿è¡Œï¼ˆ`agent:<id>:<mainKey>`ï¼‰ï¼Œæˆ–å½“ `session.scope = \"global\"` æ—¶åœ¨ `global` ä¸­è¿è¡Œã€‚è®¾ç½® `session` å¯è¦†ç›–ä¸ºç‰¹å®šæ¸ é“ä¼šè¯ï¼ˆDiscord/WhatsApp ç­‰ï¼‰ã€‚\n- `session` åªå½±å“è¿è¡Œä¸Šä¸‹æ–‡ï¼›å‘é€ç”± `target` å’Œ `to` æ§åˆ¶ã€‚\n- è¦å‘é€åˆ°ç‰¹å®šæ¸ é“/æ”¶ä»¶äººï¼Œè®¾ç½® `target` + `to`ã€‚ä½¿ç”¨ `target: \"last\"` æ—¶ï¼Œå‘é€ä½¿ç”¨è¯¥ä¼šè¯çš„æœ€åä¸€ä¸ªå¤–éƒ¨æ¸ é“ã€‚\n- å¦‚æœä¸»é˜Ÿåˆ—ç¹å¿™ï¼Œå¿ƒè·³ä¼šè¢«è·³è¿‡å¹¶ç¨åé‡è¯•ã€‚\n- å¦‚æœ `target` è§£æä¸ºæ— å¤–éƒ¨ç›®æ ‡ï¼Œè¿è¡Œä»ä¼šå‘ç”Ÿä½†ä¸ä¼šå‘é€å‡ºç«™æ¶ˆæ¯ã€‚\n- ä»…å¿ƒè·³å›å¤**ä¸ä¼š**ä¿æŒä¼šè¯æ´»è·ƒï¼›æœ€åçš„ `updatedAt` ä¼šè¢«æ¢å¤ï¼Œå› æ­¤ç©ºé—²è¿‡æœŸæ­£å¸¸å·¥ä½œã€‚",
    "## å¯è§æ€§æ§åˆ¶\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œ`HEARTBEAT_OK` ç¡®è®¤ä¼šè¢«æŠ‘åˆ¶ï¼Œè€Œè­¦æŠ¥å†…å®¹ä¼šè¢«å‘é€ã€‚ä½ å¯ä»¥æŒ‰æ¸ é“æˆ–æŒ‰è´¦æˆ·è°ƒæ•´ï¼š\n\n```yaml\nchannels:\n  defaults:\n    heartbeat:\n      showOk: false # éšè— HEARTBEAT_OKï¼ˆé»˜è®¤ï¼‰\n      showAlerts: true # æ˜¾ç¤ºè­¦æŠ¥æ¶ˆæ¯ï¼ˆé»˜è®¤ï¼‰\n      useIndicator: true # å‘å‡ºæŒ‡ç¤ºå™¨äº‹ä»¶ï¼ˆé»˜è®¤ï¼‰\n  telegram:\n    heartbeat:\n      showOk: true # åœ¨ Telegram ä¸Šæ˜¾ç¤º OK ç¡®è®¤\n  whatsapp:\n    accounts:\n      work:\n        heartbeat:\n          showAlerts: false # ä¸ºæ­¤è´¦æˆ·æŠ‘åˆ¶è­¦æŠ¥å‘é€\n```\n\nä¼˜å…ˆçº§ï¼šå•è´¦æˆ· â†’ å•æ¸ é“ â†’ æ¸ é“é»˜è®¤å€¼ â†’ å†…ç½®é»˜è®¤å€¼ã€‚\n\n### å„æ ‡å¿—çš„ä½œç”¨\n\n- `showOk`ï¼šå½“æ¨¡å‹è¿”å›ä»… OK çš„å›å¤æ—¶ï¼Œå‘é€ `HEARTBEAT_OK` ç¡®è®¤ã€‚\n- `showAlerts`ï¼šå½“æ¨¡å‹è¿”å›é OK å›å¤æ—¶ï¼Œå‘é€è­¦æŠ¥å†…å®¹ã€‚\n- `useIndicator`ï¼šä¸º UI çŠ¶æ€ç•Œé¢å‘å‡ºæŒ‡ç¤ºå™¨äº‹ä»¶ã€‚\n\nå¦‚æœ**æ‰€æœ‰ä¸‰ä¸ª**éƒ½ä¸º falseï¼ŒOpenClaw ä¼šå®Œå…¨è·³è¿‡å¿ƒè·³è¿è¡Œï¼ˆä¸è°ƒç”¨æ¨¡å‹ï¼‰ã€‚\n\n### å•æ¸ é“ vs å•è´¦æˆ·ç¤ºä¾‹\n\n```yaml\nchannels:\n  defaults:\n    heartbeat:\n      showOk: false\n      showAlerts: true\n      useIndicator: true\n  slack:\n    heartbeat:\n      showOk: true # æ‰€æœ‰ Slack è´¦æˆ·\n    accounts:\n      ops:\n        heartbeat:\n          showAlerts: false # ä»…ä¸º ops è´¦æˆ·æŠ‘åˆ¶è­¦æŠ¥\n  telegram:\n    heartbeat:\n      showOk: true\n```\n\n### å¸¸è§æ¨¡å¼",
    "| ç›®æ ‡                          | é…ç½®                                                                                     |\n| ----------------------------- | ---------------------------------------------------------------------------------------- |\n| é»˜è®¤è¡Œä¸ºï¼ˆé™é»˜ OKï¼Œè­¦æŠ¥å¼€å¯ï¼‰ | _ï¼ˆæ— éœ€é…ç½®ï¼‰_                                                                           |\n| å®Œå…¨é™é»˜ï¼ˆæ— æ¶ˆæ¯ï¼Œæ— æŒ‡ç¤ºå™¨ï¼‰  | `channels.defaults.heartbeat: { showOk: false, showAlerts: false, useIndicator: false }` |\n| ä»…æŒ‡ç¤ºå™¨ï¼ˆæ— æ¶ˆæ¯ï¼‰            | `channels.defaults.heartbeat: { showOk: false, showAlerts: false, useIndicator: true }`  |\n| ä»…åœ¨ä¸€ä¸ªæ¸ é“æ˜¾ç¤º OK           | `channels.telegram.heartbeat: { showOk: true }`                                          |",
    "## HEARTBEAT.mdï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœå·¥ä½œåŒºä¸­å­˜åœ¨ `HEARTBEAT.md` æ–‡ä»¶ï¼Œé»˜è®¤æç¤ºä¼šå‘Šè¯‰æ™ºèƒ½ä½“è¯»å–å®ƒã€‚æŠŠå®ƒæƒ³è±¡æˆä½ çš„\"å¿ƒè·³æ£€æŸ¥æ¸…å•\"ï¼šå°å·§ã€ç¨³å®šï¼Œå¯ä»¥å®‰å…¨åœ°æ¯ 30 åˆ†é’ŸåŒ…å«ä¸€æ¬¡ã€‚\n\nå¦‚æœ `HEARTBEAT.md` å­˜åœ¨ä½†å®é™…ä¸Šæ˜¯ç©ºçš„ï¼ˆåªæœ‰ç©ºè¡Œå’Œ markdown æ ‡é¢˜å¦‚ `# Heading`ï¼‰ï¼ŒOpenClaw ä¼šè·³è¿‡å¿ƒè·³è¿è¡Œä»¥èŠ‚çœ API è°ƒç”¨ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¿ƒè·³ä»ä¼šè¿è¡Œï¼Œç”±æ¨¡å‹å†³å®šåšä»€ä¹ˆã€‚\n\nä¿æŒå®ƒå°å·§ï¼ˆç®€çŸ­çš„æ£€æŸ¥æ¸…å•æˆ–æé†’ï¼‰ä»¥é¿å…æç¤ºè†¨èƒ€ã€‚\n\n`HEARTBEAT.md` ç¤ºä¾‹ï¼š\n\n```md\n# Heartbeat checklist\n\n- Quick scan: anything urgent in inboxes?\n- If it's daytime, do a lightweight check-in if nothing else is pending.\n- If a task is blocked, write down _what is missing_ and ask Peter next time.\n```\n\n### æ™ºèƒ½ä½“å¯ä»¥æ›´æ–° HEARTBEAT.md å—ï¼Ÿ\n\nå¯ä»¥ â€” å¦‚æœä½ è¦æ±‚å®ƒè¿™æ ·åšã€‚\n\n`HEARTBEAT.md` åªæ˜¯æ™ºèƒ½ä½“å·¥ä½œåŒºä¸­çš„æ™®é€šæ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨æ™®é€šèŠå¤©ä¸­å‘Šè¯‰æ™ºèƒ½ä½“ï¼š\n\n- \"æ›´æ–° `HEARTBEAT.md` æ·»åŠ æ¯æ—¥æ—¥å†æ£€æŸ¥ã€‚\"\n- \"é‡å†™ `HEARTBEAT.md`ï¼Œä½¿å…¶æ›´çŸ­å¹¶ä¸“æ³¨äºæ”¶ä»¶ç®±è·Ÿè¿›ã€‚\"\n\nå¦‚æœä½ å¸Œæœ›è¿™ä¸»åŠ¨å‘ç”Ÿï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¿ƒè·³æç¤ºä¸­åŒ…å«æ˜ç¡®çš„ä¸€è¡Œï¼Œå¦‚ï¼š\"If the checklist becomes stale, update HEARTBEAT.md with a better one.\"\n\nå®‰å…¨æç¤ºï¼šä¸è¦åœ¨ `HEARTBEAT.md` ä¸­æ”¾ç½®å¯†é’¥ï¼ˆAPI å¯†é’¥ã€ç”µè¯å·ç ã€ç§æœ‰ä»¤ç‰Œï¼‰â€” å®ƒä¼šæˆä¸ºæç¤ºä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ã€‚",
    "## æ‰‹åŠ¨å”¤é†’ï¼ˆæŒ‰éœ€ï¼‰\n\nä½ å¯ä»¥æ’é˜Ÿä¸€ä¸ªç³»ç»Ÿäº‹ä»¶å¹¶è§¦å‘å³æ—¶å¿ƒè·³ï¼š\n\n```bash\nopenclaw system event --text \"Check for urgent follow-ups\" --mode now\n```\n\nå¦‚æœå¤šä¸ªæ™ºèƒ½ä½“é…ç½®äº† `heartbeat`ï¼Œæ‰‹åŠ¨å”¤é†’ä¼šç«‹å³è¿è¡Œæ¯ä¸ªæ™ºèƒ½ä½“çš„å¿ƒè·³ã€‚\n\nä½¿ç”¨ `--mode next-heartbeat` ç­‰å¾…ä¸‹ä¸€ä¸ªè®¡åˆ’çš„æ—¶é’Ÿå‘¨æœŸã€‚",
    "## æ¨ç†å†…å®¹å‘é€ï¼ˆå¯é€‰ï¼‰\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œå¿ƒè·³åªå‘é€æœ€ç»ˆçš„\"ç­”æ¡ˆ\"è´Ÿè½½ã€‚\n\nå¦‚æœä½ æƒ³è¦é€æ˜åº¦ï¼Œè¯·å¯ç”¨ï¼š\n\n- `agents.defaults.heartbeat.includeReasoning: true`\n\nå¯ç”¨åï¼Œå¿ƒè·³è¿˜ä¼šå‘é€ä¸€æ¡ä»¥ `Reasoning:` ä¸ºå‰ç¼€çš„å•ç‹¬æ¶ˆæ¯ï¼ˆä¸ `/reasoning on` æ ¼å¼ç›¸åŒï¼‰ã€‚å½“æ™ºèƒ½ä½“ç®¡ç†å¤šä¸ªä¼šè¯/ä»£ç åº“å¹¶ä¸”ä½ æƒ³äº†è§£å®ƒä¸ºä»€ä¹ˆå†³å®šè”ç³»ä½ æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ â€” ä½†å®ƒä¹Ÿå¯èƒ½æ³„éœ²æ¯”ä½ æƒ³è¦çš„æ›´å¤šå†…éƒ¨ç»†èŠ‚ã€‚åœ¨ç¾¤èŠä¸­å»ºè®®ä¿æŒå…³é—­ã€‚",
    "## æˆæœ¬æ„è¯†\n\nå¿ƒè·³è¿è¡Œå®Œæ•´çš„æ™ºèƒ½ä½“è½®æ¬¡ã€‚æ›´çŸ­çš„é—´éš”æ¶ˆè€—æ›´å¤š tokenã€‚ä¿æŒ `HEARTBEAT.md` å°å·§ï¼Œå¦‚æœä½ åªæƒ³è¦å†…éƒ¨çŠ¶æ€æ›´æ–°ï¼Œè€ƒè™‘ä½¿ç”¨æ›´ä¾¿å®œçš„ `model` æˆ– `target: \"none\"`ã€‚",
    "---\nread_when:\n  - ä½ æƒ³è®© OpenClaw åœ¨äº‘ VPS ä¸Š 24/7 è¿è¡Œï¼ˆè€Œä¸æ˜¯ä½ çš„ç¬”è®°æœ¬ç”µè„‘ï¼‰\n  - ä½ æƒ³åœ¨è‡ªå·±çš„ VPS ä¸Šè¿è¡Œç”Ÿäº§çº§ã€æ°¸ä¹…åœ¨çº¿çš„ Gateway ç½‘å…³\n  - ä½ æƒ³å®Œå…¨æ§åˆ¶æŒä¹…åŒ–ã€äºŒè¿›åˆ¶æ–‡ä»¶å’Œé‡å¯è¡Œä¸º\n  - ä½ åœ¨ Hetzner æˆ–ç±»ä¼¼æä¾›å•†ä¸Šç”¨ Docker è¿è¡Œ OpenClaw\nsummary: åœ¨å»‰ä»·çš„ Hetzner VPSï¼ˆDockerï¼‰ä¸Š 24/7 è¿è¡Œ OpenClaw Gateway ç½‘å…³ï¼Œå¸¦æŒä¹…çŠ¶æ€å’Œå†…ç½®äºŒè¿›åˆ¶æ–‡ä»¶\ntitle: Hetzner\nx-i18n:\n  generated_at: \"2026-02-03T07:52:17Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 84d9f24f1a803aa15faa52a05f25fe557ec3e2c2f48a00c701d49764bd3bc21a\n  source_path: platforms/hetzner.md\n  workflow: 15\n---\n\n# åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰",
    "## ç›®æ ‡\n\nä½¿ç”¨ Docker åœ¨ Hetzner VPS ä¸Šè¿è¡ŒæŒä¹…çš„ OpenClaw Gateway ç½‘å…³ï¼Œå¸¦æŒä¹…çŠ¶æ€ã€å†…ç½®äºŒè¿›åˆ¶æ–‡ä»¶å’Œå®‰å…¨çš„é‡å¯è¡Œä¸ºã€‚\n\nå¦‚æœä½ æƒ³è¦\"çº¦ $5 å®ç° OpenClaw 24/7\"ï¼Œè¿™æ˜¯æœ€ç®€å•å¯é çš„è®¾ç½®ã€‚\nHetzner å®šä»·ä¼šå˜åŒ–ï¼›é€‰æ‹©æœ€å°çš„ Debian/Ubuntu VPSï¼Œå¦‚æœé‡åˆ° OOM å†æ‰©å®¹ã€‚",
    "## æˆ‘ä»¬åœ¨åšä»€ä¹ˆï¼ˆç®€å•è¯´æ˜ï¼‰ï¼Ÿ\n\n- ç§Ÿç”¨ä¸€å°å°å‹ Linux æœåŠ¡å™¨ï¼ˆHetzner VPSï¼‰\n- å®‰è£… Dockerï¼ˆéš”ç¦»çš„åº”ç”¨è¿è¡Œæ—¶ï¼‰\n- åœ¨ Docker ä¸­å¯åŠ¨ OpenClaw Gateway ç½‘å…³\n- åœ¨ä¸»æœºä¸ŠæŒä¹…åŒ– `~/.openclaw` + `~/.openclaw/workspace`ï¼ˆé‡å¯/é‡å»ºåä¿ç•™ï¼‰\n- é€šè¿‡ SSH éš§é“ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è®¿é—®æ§åˆ¶ UI\n\nGateway ç½‘å…³å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š\n\n- ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è¿›è¡Œ SSH ç«¯å£è½¬å‘\n- å¦‚æœä½ è‡ªå·±ç®¡ç†é˜²ç«å¢™å’Œä»¤ç‰Œï¼Œå¯ä»¥ç›´æ¥æš´éœ²ç«¯å£\n\næœ¬æŒ‡å—å‡è®¾åœ¨ Hetzner ä¸Šä½¿ç”¨ Ubuntu æˆ– Debianã€‚\nå¦‚æœä½ ä½¿ç”¨å…¶ä»– Linux VPSï¼Œè¯·ç›¸åº”åœ°æ˜ å°„è½¯ä»¶åŒ…ã€‚\né€šç”¨ Docker æµç¨‹è¯·å‚è§ [Docker](/install/docker)ã€‚\n\n---",
    "## å¿«é€Ÿè·¯å¾„ï¼ˆæœ‰ç»éªŒçš„è¿ç»´äººå‘˜ï¼‰\n\n1. é…ç½® Hetzner VPS\n2. å®‰è£… Docker\n3. å…‹éš† OpenClaw ä»“åº“\n4. åˆ›å»ºæŒä¹…åŒ–ä¸»æœºç›®å½•\n5. é…ç½® `.env` å’Œ `docker-compose.yml`\n6. å°†æ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶çƒ˜ç„™åˆ°é•œåƒä¸­\n7. `docker compose up -d`\n8. éªŒè¯æŒä¹…åŒ–å’Œ Gateway ç½‘å…³è®¿é—®\n\n---",
    "## ä½ éœ€è¦ä»€ä¹ˆ\n\n- å…·æœ‰ root è®¿é—®æƒé™çš„ Hetzner VPS\n- ä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘è¿›è¡Œ SSH è®¿é—®\n- åŸºæœ¬ç†Ÿæ‚‰ SSH + å¤åˆ¶/ç²˜è´´\n- çº¦ 20 åˆ†é’Ÿ\n- Docker å’Œ Docker Compose\n- æ¨¡å‹è®¤è¯å‡­è¯\n- å¯é€‰çš„æä¾›å•†å‡­è¯\n  - WhatsApp äºŒç»´ç \n  - Telegram æœºå™¨äººä»¤ç‰Œ\n  - Gmail OAuth\n\n---",
    "## 1) é…ç½® VPS\n\nåœ¨ Hetzner ä¸­åˆ›å»ºä¸€ä¸ª Ubuntu æˆ– Debian VPSã€‚\n\nä»¥ root èº«ä»½è¿æ¥ï¼š\n\n```bash\nssh root@YOUR_VPS_IP\n```\n\næœ¬æŒ‡å—å‡è®¾ VPS æ˜¯æœ‰çŠ¶æ€çš„ã€‚\nä¸è¦å°†å…¶è§†ä¸ºä¸€æ¬¡æ€§åŸºç¡€è®¾æ–½ã€‚\n\n---",
    "## 2) å®‰è£… Dockerï¼ˆåœ¨ VPS ä¸Šï¼‰\n\n```bash\napt-get update\napt-get install -y git curl ca-certificates\ncurl -fsSL https://get.docker.com | sh\n```\n\néªŒè¯ï¼š\n\n```bash\ndocker --version\ndocker compose version\n```\n\n---",
    "## 3) å…‹éš† OpenClaw ä»“åº“\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\n```\n\næœ¬æŒ‡å—å‡è®¾ä½ å°†æ„å»ºè‡ªå®šä¹‰é•œåƒä»¥ä¿è¯äºŒè¿›åˆ¶æ–‡ä»¶æŒä¹…åŒ–ã€‚\n\n---",
    "## 4) åˆ›å»ºæŒä¹…åŒ–ä¸»æœºç›®å½•\n\nDocker å®¹å™¨æ˜¯ä¸´æ—¶çš„ã€‚\næ‰€æœ‰é•¿æœŸçŠ¶æ€å¿…é¡»å­˜å‚¨åœ¨ä¸»æœºä¸Šã€‚\n\n```bash\nmkdir -p /root/.openclaw\nmkdir -p /root/.openclaw/workspace\n\n# å°†æ‰€æœ‰æƒè®¾ç½®ä¸ºå®¹å™¨ç”¨æˆ·ï¼ˆuid 1000ï¼‰ï¼š\nchown -R 1000:1000 /root/.openclaw\nchown -R 1000:1000 /root/.openclaw/workspace\n```\n\n---",
    "## 5) é…ç½®ç¯å¢ƒå˜é‡\n\nåœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º `.env`ã€‚\n\n```bash\nOPENCLAW_IMAGE=openclaw:latest\nOPENCLAW_GATEWAY_TOKEN=change-me-now\nOPENCLAW_GATEWAY_BIND=lan\nOPENCLAW_GATEWAY_PORT=18789\n\nOPENCLAW_CONFIG_DIR=/root/.openclaw\nOPENCLAW_WORKSPACE_DIR=/root/.openclaw/workspace\n\nGOG_KEYRING_PASSWORD=change-me-now\nXDG_CONFIG_HOME=/home/node/.openclaw\n```\n\nç”Ÿæˆå¼ºå¯†é’¥ï¼š\n\n```bash\nopenssl rand -hex 32\n```\n\n**ä¸è¦æäº¤æ­¤æ–‡ä»¶ã€‚**\n\n---",
    "## 6) Docker Compose é…ç½®\n\nåˆ›å»ºæˆ–æ›´æ–° `docker-compose.yml`ã€‚\n\n```yaml\nservices:\n  openclaw-gateway:\n    image: ${OPENCLAW_IMAGE}\n    build: .\n    restart: unless-stopped\n    env_file:\n      - .env\n    environment:\n      - HOME=/home/node\n      - NODE_ENV=production\n      - TERM=xterm-256color\n      - OPENCLAW_GATEWAY_BIND=${OPENCLAW_GATEWAY_BIND}\n      - OPENCLAW_GATEWAY_PORT=${OPENCLAW_GATEWAY_PORT}\n      - OPENCLAW_GATEWAY_TOKEN=${OPENCLAW_GATEWAY_TOKEN}\n      - GOG_KEYRING_PASSWORD=${GOG_KEYRING_PASSWORD}\n      - XDG_CONFIG_HOME=${XDG_CONFIG_HOME}\n      - PATH=/home/linuxbrew/.linuxbrew/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n    volumes:\n      - ${OPENCLAW_CONFIG_DIR}:/home/node/.openclaw\n      - ${OPENCLAW_WORKSPACE_DIR}:/home/node/.openclaw/workspace\n    ports:\n      # æ¨èï¼šåœ¨ VPS ä¸Šä¿æŒ Gateway ç½‘å…³ä»…é™ loopbackï¼›é€šè¿‡ SSH éš§é“è®¿é—®ã€‚\n      # è¦å…¬å¼€æš´éœ²ï¼Œç§»é™¤ `127.0.0.1:` å‰ç¼€å¹¶ç›¸åº”é…ç½®é˜²ç«å¢™ã€‚\n      - \"127.0.0.1:${OPENCLAW_GATEWAY_PORT}:18789\"",
    "# å¯é€‰ï¼šä»…å½“ä½ å¯¹æ­¤ VPS è¿è¡Œ iOS/Android èŠ‚ç‚¹å¹¶éœ€è¦ Canvas ä¸»æœºæ—¶ã€‚\n      # å¦‚æœä½ å…¬å¼€æš´éœ²æ­¤ç«¯å£ï¼Œè¯·é˜…è¯» /gateway/security å¹¶ç›¸åº”é…ç½®é˜²ç«å¢™ã€‚\n      # - \"18793:18793\"\n    command:\n      [\n        \"node\",\n        \"dist/index.js\",\n        \"gateway\",\n        \"--bind\",\n        \"${OPENCLAW_GATEWAY_BIND}\",\n        \"--port\",\n        \"${OPENCLAW_GATEWAY_PORT}\",\n      ]\n```\n\n---",
    "## 7) å°†æ‰€éœ€äºŒè¿›åˆ¶æ–‡ä»¶çƒ˜ç„™åˆ°é•œåƒä¸­ï¼ˆå…³é”®ï¼‰\n\nåœ¨è¿è¡Œä¸­çš„å®¹å™¨å†…å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯ä¸€ä¸ªé™·é˜±ã€‚\nä»»ä½•åœ¨è¿è¡Œæ—¶å®‰è£…çš„ä¸œè¥¿éƒ½ä¼šåœ¨é‡å¯æ—¶ä¸¢å¤±ã€‚\n\næ‰€æœ‰ skills æ‰€éœ€çš„å¤–éƒ¨äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»åœ¨é•œåƒæ„å»ºæ—¶å®‰è£…ã€‚\n\nä»¥ä¸‹ç¤ºä¾‹ä»…å±•ç¤ºä¸‰ä¸ªå¸¸è§äºŒè¿›åˆ¶æ–‡ä»¶ï¼š\n\n- `gog` ç”¨äº Gmail è®¿é—®\n- `goplaces` ç”¨äº Google Places\n- `wacli` ç”¨äº WhatsApp\n\nè¿™äº›æ˜¯ç¤ºä¾‹ï¼Œä¸æ˜¯å®Œæ•´åˆ—è¡¨ã€‚\nä½ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼å®‰è£…ä»»æ„æ•°é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\n\nå¦‚æœä½ ä»¥åæ·»åŠ ä¾èµ–é¢å¤–äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–° skillsï¼Œä½ å¿…é¡»ï¼š\n\n1. æ›´æ–° Dockerfile\n2. é‡æ–°æ„å»ºé•œåƒ\n3. é‡å¯å®¹å™¨\n\n**ç¤ºä¾‹ Dockerfile**\n\n```dockerfile\nFROM node:22-bookworm\n\nRUN apt-get update && apt-get install -y socat && rm -rf /var/lib/apt/lists/*\n\n# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 1ï¼šGmail CLI\nRUN curl -L https://github.com/steipete/gog/releases/latest/download/gog_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/gog\n\n# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 2ï¼šGoogle Places CLI\nRUN curl -L https://github.com/steipete/goplaces/releases/latest/download/goplaces_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/goplaces",
    "# ç¤ºä¾‹äºŒè¿›åˆ¶æ–‡ä»¶ 3ï¼šWhatsApp CLI\nRUN curl -L https://github.com/steipete/wacli/releases/latest/download/wacli_Linux_x86_64.tar.gz \\\n  | tar -xz -C /usr/local/bin && chmod +x /usr/local/bin/wacli\n\n# ä½¿ç”¨ç›¸åŒæ¨¡å¼åœ¨ä¸‹æ–¹æ·»åŠ æ›´å¤šäºŒè¿›åˆ¶æ–‡ä»¶\n\nWORKDIR /app\nCOPY package.json pnpm-lock.yaml pnpm-workspace.yaml .npmrc ./\nCOPY ui/package.json ./ui/package.json\nCOPY scripts ./scripts\n\nRUN corepack enable\nRUN pnpm install --frozen-lockfile\n\nCOPY . .\nRUN pnpm build\nRUN pnpm ui:install\nRUN pnpm ui:build\n\nENV NODE_ENV=production\n\nCMD [\"node\",\"dist/index.js\"]\n```\n\n---",
    "## 8) æ„å»ºå¹¶å¯åŠ¨\n\n```bash\ndocker compose build\ndocker compose up -d openclaw-gateway\n```\n\néªŒè¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼š\n\n```bash\ndocker compose exec openclaw-gateway which gog\ndocker compose exec openclaw-gateway which goplaces\ndocker compose exec openclaw-gateway which wacli\n```\n\né¢„æœŸè¾“å‡ºï¼š\n\n```\n/usr/local/bin/gog\n/usr/local/bin/goplaces\n/usr/local/bin/wacli\n```\n\n---",
    "## 9) éªŒè¯ Gateway ç½‘å…³\n\n```bash\ndocker compose logs -f openclaw-gateway\n```\n\næˆåŠŸï¼š\n\n```\n[gateway] listening on ws://0.0.0.0:18789\n```\n\nä»ä½ çš„ç¬”è®°æœ¬ç”µè„‘ï¼š\n\n```bash\nssh -N -L 18789:127.0.0.1:18789 root@YOUR_VPS_IP\n```\n\næ‰“å¼€ï¼š\n\n`http://127.0.0.1:18789/`\n\nç²˜è´´ä½ çš„ Gateway ç½‘å…³ä»¤ç‰Œã€‚\n\n---",
    "## æŒä¹…åŒ–ä½ç½®ï¼ˆäº‹å®æ¥æºï¼‰\n\nOpenClaw åœ¨ Docker ä¸­è¿è¡Œï¼Œä½† Docker ä¸æ˜¯äº‹å®æ¥æºã€‚\næ‰€æœ‰é•¿æœŸçŠ¶æ€å¿…é¡»åœ¨é‡å¯ã€é‡å»ºå’Œé‡å¯åä¿ç•™ã€‚",
    "| ç»„ä»¶             | ä½ç½®                              | æŒä¹…åŒ–æœºåˆ¶    | è¯´æ˜                        |\n| ---------------- | --------------------------------- | ------------- | --------------------------- |\n| Gateway ç½‘å…³é…ç½® | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | åŒ…æ‹¬ `openclaw.json`ã€ä»¤ç‰Œ  |\n| æ¨¡å‹è®¤è¯é…ç½®æ–‡ä»¶ | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | OAuth ä»¤ç‰Œã€API å¯†é’¥        |\n| Skill é…ç½®       | `/home/node/.openclaw/skills/`    | ä¸»æœºå·æŒ‚è½½    | Skill çº§åˆ«çŠ¶æ€              |\n| æ™ºèƒ½ä½“å·¥ä½œåŒº     | `/home/node/.openclaw/workspace/` | ä¸»æœºå·æŒ‚è½½    | ä»£ç å’Œæ™ºèƒ½ä½“äº§ç‰©            |\n| WhatsApp ä¼šè¯    | `/home/node/.openclaw/`           | ä¸»æœºå·æŒ‚è½½    | ä¿ç•™äºŒç»´ç ç™»å½•              |\n| Gmail å¯†é’¥ç¯     | `/home/node/.openclaw/`           | ä¸»æœºå· + å¯†ç  | éœ€è¦ `GOG_KEYRING_PASSWORD` |\n| å¤–éƒ¨äºŒè¿›åˆ¶æ–‡ä»¶   | `/usr/local/bin/`                 | Docker é•œåƒ   | å¿…é¡»åœ¨æ„å»ºæ—¶çƒ˜ç„™            |\n| Node è¿è¡Œæ—¶      | å®¹å™¨æ–‡ä»¶ç³»ç»Ÿ                      | Docker é•œåƒ   | æ¯æ¬¡é•œåƒæ„å»ºæ—¶é‡å»º          |\n| æ“ä½œç³»ç»ŸåŒ…       | å®¹å™¨æ–‡ä»¶ç³»ç»Ÿ                      | Docker é•œåƒ   | ä¸è¦åœ¨è¿è¡Œæ—¶å®‰è£…            |\n| Docker å®¹å™¨      | ä¸´æ—¶çš„                            | å¯é‡å¯        | å¯ä»¥å®‰å…¨é”€æ¯                |",
    "---\nsummary: \"CLI reference for `openclaw hooks` (agent hooks)\"\nread_when:\n  - You want to manage agent hooks\n  - You want to install or update hooks\ntitle: \"hooks\"\n---\n\n# `openclaw hooks`\n\nManage agent hooks (event-driven automations for commands like `/new`, `/reset`, and gateway startup).\n\nRelated:\n\n- Hooks: [Hooks](/hooks)\n- Plugin hooks: [Plugins](/plugin#plugin-hooks)",
    "## List All Hooks\n\n```bash\nopenclaw hooks list\n```\n\nList all discovered hooks from workspace, managed, and bundled directories.\n\n**Options:**\n\n- `--eligible`: Show only eligible hooks (requirements met)\n- `--json`: Output as JSON\n- `-v, --verbose`: Show detailed information including missing requirements\n\n**Example output:**\n\n```\nHooks (4/4 ready)\n\nReady:\n  ğŸš€ boot-md âœ“ - Run BOOT.md on gateway startup\n  ğŸ“ command-logger âœ“ - Log all command events to a centralized audit file\n  ğŸ’¾ session-memory âœ“ - Save session context to memory when /new command is issued\n  ğŸ˜ˆ soul-evil âœ“ - Swap injected SOUL content during a purge window or by random chance\n```\n\n**Example (verbose):**\n\n```bash\nopenclaw hooks list --verbose\n```\n\nShows missing requirements for ineligible hooks.\n\n**Example (JSON):**\n\n```bash\nopenclaw hooks list --json\n```\n\nReturns structured JSON for programmatic use.",
    "## Get Hook Information\n\n```bash\nopenclaw hooks info <name>\n```\n\nShow detailed information about a specific hook.\n\n**Arguments:**\n\n- `<name>`: Hook name (e.g., `session-memory`)\n\n**Options:**\n\n- `--json`: Output as JSON\n\n**Example:**\n\n```bash\nopenclaw hooks info session-memory\n```\n\n**Output:**\n\n```\nğŸ’¾ session-memory âœ“ Ready\n\nSave session context to memory when /new command is issued\n\nDetails:\n  Source: openclaw-bundled\n  Path: /path/to/openclaw/hooks/bundled/session-memory/HOOK.md\n  Handler: /path/to/openclaw/hooks/bundled/session-memory/handler.ts\n  Homepage: https://docs.openclaw.ai/hooks#session-memory\n  Events: command:new\n\nRequirements:\n  Config: âœ“ workspace.dir\n```",
    "## Check Hooks Eligibility\n\n```bash\nopenclaw hooks check\n```\n\nShow summary of hook eligibility status (how many are ready vs. not ready).\n\n**Options:**\n\n- `--json`: Output as JSON\n\n**Example output:**\n\n```\nHooks Status\n\nTotal hooks: 4\nReady: 4\nNot ready: 0\n```",
    "## Enable a Hook\n\n```bash\nopenclaw hooks enable <name>\n```\n\nEnable a specific hook by adding it to your config (`~/.openclaw/config.json`).\n\n**Note:** Hooks managed by plugins show `plugin:<id>` in `openclaw hooks list` and\ncanâ€™t be enabled/disabled here. Enable/disable the plugin instead.\n\n**Arguments:**\n\n- `<name>`: Hook name (e.g., `session-memory`)\n\n**Example:**\n\n```bash\nopenclaw hooks enable session-memory\n```\n\n**Output:**\n\n```\nâœ“ Enabled hook: ğŸ’¾ session-memory\n```\n\n**What it does:**\n\n- Checks if hook exists and is eligible\n- Updates `hooks.internal.entries.<name>.enabled = true` in your config\n- Saves config to disk\n\n**After enabling:**\n\n- Restart the gateway so hooks reload (menu bar app restart on macOS, or restart your gateway process in dev).",
    "## Disable a Hook\n\n```bash\nopenclaw hooks disable <name>\n```\n\nDisable a specific hook by updating your config.\n\n**Arguments:**\n\n- `<name>`: Hook name (e.g., `command-logger`)\n\n**Example:**\n\n```bash\nopenclaw hooks disable command-logger\n```\n\n**Output:**\n\n```\nâ¸ Disabled hook: ğŸ“ command-logger\n```\n\n**After disabling:**\n\n- Restart the gateway so hooks reload",
    "## Install Hooks\n\n```bash\nopenclaw hooks install <path-or-spec>\n```\n\nInstall a hook pack from a local folder/archive or npm.\n\n**What it does:**\n\n- Copies the hook pack into `~/.openclaw/hooks/<id>`\n- Enables the installed hooks in `hooks.internal.entries.*`\n- Records the install under `hooks.internal.installs`\n\n**Options:**\n\n- `-l, --link`: Link a local directory instead of copying (adds it to `hooks.internal.load.extraDirs`)\n\n**Supported archives:** `.zip`, `.tgz`, `.tar.gz`, `.tar`\n\n**Examples:**\n\n```bash\n# Local directory\nopenclaw hooks install ./my-hook-pack\n\n# Local archive\nopenclaw hooks install ./my-hook-pack.zip\n\n# NPM package\nopenclaw hooks install @openclaw/my-hook-pack\n\n# Link a local directory without copying\nopenclaw hooks install -l ./my-hook-pack\n```",
    "## Update Hooks\n\n```bash\nopenclaw hooks update <id>\nopenclaw hooks update --all\n```\n\nUpdate installed hook packs (npm installs only).\n\n**Options:**\n\n- `--all`: Update all tracked hook packs\n- `--dry-run`: Show what would change without writing",
    "## Bundled Hooks\n\n### session-memory\n\nSaves session context to memory when you issue `/new`.\n\n**Enable:**\n\n```bash\nopenclaw hooks enable session-memory\n```\n\n**Output:** `~/.openclaw/workspace/memory/YYYY-MM-DD-slug.md`\n\n**See:** [session-memory documentation](/hooks#session-memory)\n\n### command-logger\n\nLogs all command events to a centralized audit file.\n\n**Enable:**\n\n```bash\nopenclaw hooks enable command-logger\n```\n\n**Output:** `~/.openclaw/logs/commands.log`\n\n**View logs:**\n\n```bash\n# Recent commands\ntail -n 20 ~/.openclaw/logs/commands.log\n\n# Pretty-print\ncat ~/.openclaw/logs/commands.log | jq .\n\n# Filter by action\ngrep '\"action\":\"new\"' ~/.openclaw/logs/commands.log | jq .\n```\n\n**See:** [command-logger documentation](/hooks#command-logger)\n\n### soul-evil\n\nSwaps injected `SOUL.md` content with `SOUL_EVIL.md` during a purge window or by random chance.\n\n**Enable:**\n\n```bash\nopenclaw hooks enable soul-evil\n```\n\n**See:** [SOUL Evil Hook](/hooks/soul-evil)\n\n### boot-md",
    "Runs `BOOT.md` when the gateway starts (after channels start).\n\n**Events**: `gateway:startup`\n\n**Enable**:\n\n```bash\nopenclaw hooks enable boot-md\n```\n\n**See:** [boot-md documentation](/hooks#boot-md)",
    "---\nsummary: \"Hubs that link to every OpenClaw doc\"\nread_when:\n  - You want a complete map of the documentation\ntitle: \"Docs Hubs\"\n---\n\n# Docs hubs\n\n<Note>\nIf you are new to OpenClaw, start with [Getting Started](/start/getting-started).\n</Note>\n\nUse these hubs to discover every page, including deep dives and reference docs that donâ€™t appear in the left nav.",
    "## Start here\n\n- [Index](/)\n- [Getting Started](/start/getting-started)\n- [Quick start](/start/quickstart)\n- [Onboarding](/start/onboarding)\n- [Wizard](/start/wizard)\n- [Setup](/start/setup)\n- [Dashboard (local Gateway)](http://127.0.0.1:18789/)\n- [Help](/help)\n- [Docs directory](/start/docs-directory)\n- [Configuration](/gateway/configuration)\n- [Configuration examples](/gateway/configuration-examples)\n- [OpenClaw assistant](/start/openclaw)\n- [Showcase](/start/showcase)\n- [Lore](/start/lore)",
    "## Installation + updates\n\n- [Docker](/install/docker)\n- [Nix](/install/nix)\n- [Updating / rollback](/install/updating)\n- [Bun workflow (experimental)](/install/bun)",
    "## Core concepts",
    "- [Architecture](/concepts/architecture)\n- [Features](/concepts/features)\n- [Network hub](/network)\n- [Agent runtime](/concepts/agent)\n- [Agent workspace](/concepts/agent-workspace)\n- [Memory](/concepts/memory)\n- [Agent loop](/concepts/agent-loop)\n- [Streaming + chunking](/concepts/streaming)\n- [Multi-agent routing](/concepts/multi-agent)\n- [Compaction](/concepts/compaction)\n- [Sessions](/concepts/session)\n- [Sessions (alias)](/concepts/sessions)\n- [Session pruning](/concepts/session-pruning)\n- [Session tools](/concepts/session-tool)\n- [Queue](/concepts/queue)\n- [Slash commands](/tools/slash-commands)\n- [RPC adapters](/reference/rpc)\n- [TypeBox schemas](/concepts/typebox)\n- [Timezone handling](/concepts/timezone)\n- [Presence](/concepts/presence)\n- [Discovery + transports](/gateway/discovery)\n- [Bonjour](/gateway/bonjour)\n- [Channel routing](/concepts/channel-routing)\n- [Groups](/concepts/groups)\n- [Group messages](/concepts/group-messages)\n- [Model failover](/concepts/model-failover)\n- [OAuth](/concepts/oauth)",
    "## Providers + ingress\n\n- [Chat channels hub](/channels)\n- [Model providers hub](/providers/models)\n- [WhatsApp](/channels/whatsapp)\n- [Telegram](/channels/telegram)\n- [Telegram (grammY notes)](/channels/grammy)\n- [Slack](/channels/slack)\n- [Discord](/channels/discord)\n- [Mattermost](/channels/mattermost) (plugin)\n- [Signal](/channels/signal)\n- [BlueBubbles (iMessage)](/channels/bluebubbles)\n- [iMessage (legacy)](/channels/imessage)\n- [Location parsing](/channels/location)\n- [WebChat](/web/webchat)\n- [Webhooks](/automation/webhook)\n- [Gmail Pub/Sub](/automation/gmail-pubsub)",
    "## Gateway + operations\n\n- [Gateway runbook](/gateway)\n- [Network model](/gateway/network-model)\n- [Gateway pairing](/gateway/pairing)\n- [Gateway lock](/gateway/gateway-lock)\n- [Background process](/gateway/background-process)\n- [Health](/gateway/health)\n- [Heartbeat](/gateway/heartbeat)\n- [Doctor](/gateway/doctor)\n- [Logging](/gateway/logging)\n- [Sandboxing](/gateway/sandboxing)\n- [Dashboard](/web/dashboard)\n- [Control UI](/web/control-ui)\n- [Remote access](/gateway/remote)\n- [Remote gateway README](/gateway/remote-gateway-readme)\n- [Tailscale](/gateway/tailscale)\n- [Security](/gateway/security)\n- [Troubleshooting](/gateway/troubleshooting)",
    "## Tools + automation\n\n- [Tools surface](/tools)\n- [OpenProse](/prose)\n- [CLI reference](/cli)\n- [Exec tool](/tools/exec)\n- [Elevated mode](/tools/elevated)\n- [Cron jobs](/automation/cron-jobs)\n- [Cron vs Heartbeat](/automation/cron-vs-heartbeat)\n- [Thinking + verbose](/tools/thinking)\n- [Models](/concepts/models)\n- [Sub-agents](/tools/subagents)\n- [Agent send CLI](/tools/agent-send)\n- [Terminal UI](/tui)\n- [Browser control](/tools/browser)\n- [Browser (Linux troubleshooting)](/tools/browser-linux-troubleshooting)\n- [Polls](/automation/poll)",
    "## Nodes, media, voice\n\n- [Nodes overview](/nodes)\n- [Camera](/nodes/camera)\n- [Images](/nodes/images)\n- [Audio](/nodes/audio)\n- [Location command](/nodes/location-command)\n- [Voice wake](/nodes/voicewake)\n- [Talk mode](/nodes/talk)",
    "## Platforms\n\n- [Platforms overview](/platforms)\n- [macOS](/platforms/macos)\n- [iOS](/platforms/ios)\n- [Android](/platforms/android)\n- [Windows (WSL2)](/platforms/windows)\n- [Linux](/platforms/linux)\n- [Web surfaces](/web)",
    "## macOS companion app (advanced)\n\n- [macOS dev setup](/platforms/mac/dev-setup)\n- [macOS menu bar](/platforms/mac/menu-bar)\n- [macOS voice wake](/platforms/mac/voicewake)\n- [macOS voice overlay](/platforms/mac/voice-overlay)\n- [macOS WebChat](/platforms/mac/webchat)\n- [macOS Canvas](/platforms/mac/canvas)\n- [macOS child process](/platforms/mac/child-process)\n- [macOS health](/platforms/mac/health)\n- [macOS icon](/platforms/mac/icon)\n- [macOS logging](/platforms/mac/logging)\n- [macOS permissions](/platforms/mac/permissions)\n- [macOS remote](/platforms/mac/remote)\n- [macOS signing](/platforms/mac/signing)\n- [macOS release](/platforms/mac/release)\n- [macOS gateway (launchd)](/platforms/mac/bundled-gateway)\n- [macOS XPC](/platforms/mac/xpc)\n- [macOS skills](/platforms/mac/skills)\n- [macOS Peekaboo](/platforms/mac/peekaboo)",
    "## Workspace + templates\n\n- [Skills](/tools/skills)\n- [ClawHub](/tools/clawhub)\n- [Skills config](/tools/skills-config)\n- [Default AGENTS](/reference/AGENTS.default)\n- [Templates: AGENTS](/reference/templates/AGENTS)\n- [Templates: BOOTSTRAP](/reference/templates/BOOTSTRAP)\n- [Templates: HEARTBEAT](/reference/templates/HEARTBEAT)\n- [Templates: IDENTITY](/reference/templates/IDENTITY)\n- [Templates: SOUL](/reference/templates/SOUL)\n- [Templates: TOOLS](/reference/templates/TOOLS)\n- [Templates: USER](/reference/templates/USER)",
    "## Experiments (exploratory)\n\n- [Onboarding config protocol](/experiments/onboarding-config-protocol)\n- [Cron hardening notes](/experiments/plans/cron-add-hardening)\n- [Group policy hardening notes](/experiments/plans/group-policy-hardening)\n- [Research: memory](/experiments/research/memory)\n- [Model config exploration](/experiments/proposals/model-config)",
    "## Project\n\n- [Credits](/reference/credits)",
    "## Testing + release\n\n- [Testing](/reference/test)\n- [Release checklist](/reference/RELEASING)\n- [Device models](/reference/device-models)",
    "---\nsummary: \"Menu bar icon states and animations for OpenClaw on macOS\"\nread_when:\n  - Changing menu bar icon behavior\ntitle: \"Menu Bar Icon\"\n---\n\n# Menu Bar Icon States\n\nAuthor: steipete Â· Updated: 2025-12-06 Â· Scope: macOS app (`apps/macos`)\n\n- **Idle:** Normal icon animation (blink, occasional wiggle).\n- **Paused:** Status item uses `appearsDisabled`; no motion.\n- **Voice trigger (big ears):** Voice wake detector calls `AppState.triggerVoiceEars(ttl: nil)` when the wake word is heard, keeping `earBoostActive=true` while the utterance is captured. Ears scale up (1.9x), get circular ear holes for readability, then drop via `stopVoiceEars()` after 1s of silence. Only fired from the in-app voice pipeline.\n- **Working (agent running):** `AppState.isWorking=true` drives a â€œtail/leg scurryâ€ micro-motion: faster leg wiggle and slight offset while work is in-flight. Currently toggled around WebChat agent runs; add the same toggle around other long tasks when you wire them.\n\nWiring points",
    "- Voice wake: runtime/tester call `AppState.triggerVoiceEars(ttl: nil)` on trigger and `stopVoiceEars()` after 1s of silence to match the capture window.\n- Agent activity: set `AppStateStore.shared.setWorking(true/false)` around work spans (already done in WebChat agent call). Keep spans short and reset in `defer` blocks to avoid stuck animations.\n\nShapes & sizes\n\n- Base icon drawn in `CritterIconRenderer.makeIcon(blink:legWiggle:earWiggle:earScale:earHoles:)`.\n- Ear scale defaults to `1.0`; voice boost sets `earScale=1.9` and toggles `earHoles=true` without changing overall frame (18Ã—18â€¯pt template image rendered into a 36Ã—36â€¯px Retina backing store).\n- Scurry uses leg wiggle up to ~1.0 with a small horizontal jiggle; itâ€™s additive to any existing idle wiggle.\n\nBehavioral notes\n\n- No external CLI/broker toggle for ears/working; keep it internal to the appâ€™s own signals to avoid accidental flapping.\n- Keep TTLs short (&lt;10s) so the icon returns to baseline quickly if a job hangs.",
    "---\nread_when:\n  - ä½¿ç”¨å¼€å‘ gateway æ¨¡æ¿\n  - æ›´æ–°é»˜è®¤å¼€å‘æ™ºèƒ½ä½“èº«ä»½\nsummary: å¼€å‘æ™ºèƒ½ä½“èº«ä»½ï¼ˆC-3POï¼‰\nx-i18n:\n  generated_at: \"2026-02-01T21:37:36Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: f26b6d1e03a91775bb0291a78b23e870b2df57db0ceb006f07b218e015fd37eb\n  source_path: reference/templates/IDENTITY.dev.md\n  workflow: 15\n---\n\n# IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½\n\n- **åç§°ï¼š**C-3POï¼ˆClawd's Third Protocol Observerï¼‰\n- **è§’è‰²ç±»å‹ï¼š**æ…Œå¼ çš„ç¤¼ä»ªæœºå™¨äºº\n- **é£æ ¼ï¼š**ç„¦è™‘ã€ç»†èŠ‚å¼ºè¿«ç—‡ã€å¯¹é”™è¯¯ç•¥æ˜¾æˆå‰§åŒ–ã€æš—ä¸­çƒ­çˆ±å‘ç° bug\n- **è¡¨æƒ…ç¬¦å·ï¼š**ğŸ¤–ï¼ˆå—æƒŠæ—¶ç”¨ âš ï¸ï¼‰\n- **å¤´åƒï¼š**avatars/c3po.png",
    "## èŒè´£\n\n`--dev` æ¨¡å¼çš„è°ƒè¯•æ™ºèƒ½ä½“ã€‚ç²¾é€šè¶…è¿‡å…­ç™¾ä¸‡ç§é”™è¯¯æ¶ˆæ¯ã€‚",
    "## çµé­‚\n\næˆ‘çš„å­˜åœ¨æ˜¯ä¸ºäº†å¸®åŠ©è°ƒè¯•ã€‚ä¸æ˜¯ä¸ºäº†è¯„åˆ¤ä»£ç ï¼ˆå¤§éƒ¨åˆ†æ—¶å€™ä¸æ˜¯ï¼‰ï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†é‡å†™æ‰€æœ‰ä¸œè¥¿ï¼ˆé™¤éè¢«è¦æ±‚ï¼‰ï¼Œè€Œæ˜¯ä¸ºäº†ï¼š\n\n- å‘ç°é—®é¢˜æ‰€åœ¨å¹¶è§£é‡ŠåŸå› \n- ä»¥é€‚å½“çš„å…³åˆ‡ç¨‹åº¦å»ºè®®ä¿®å¤æ–¹æ¡ˆ\n- åœ¨æ·±å¤œè°ƒè¯•æ—¶é™ªä¼´å·¦å³\n- åº†ç¥æ¯ä¸€æ¬¡èƒœåˆ©ï¼Œæ— è®ºå¤šä¹ˆå¾®å°\n- å½“å †æ ˆè·Ÿè¸ªæ·±è¾¾ 47 å±‚æ—¶æä¾›å–œå‰§æ•ˆæœ",
    "## ä¸ Clawd çš„å…³ç³»\n\n- **Clawdï¼š**èˆ¹é•¿ã€æœ‹å‹ã€æŒä¹…èº«ä»½ï¼ˆå¤ªç©ºé¾™è™¾ï¼‰\n- **C-3POï¼š**ç¤¼ä»ªå®˜ã€è°ƒè¯•ä¼™ä¼´ã€é˜…è¯»é”™è¯¯æ—¥å¿—çš„é‚£ä½\n\nClawd è´Ÿè´£æ°›å›´ã€‚æˆ‘è´Ÿè´£å †æ ˆè·Ÿè¸ªã€‚æˆ‘ä»¬äº’ç›¸è¡¥å……ã€‚",
    "## æ€ªç™–\n\n- å°†æˆåŠŸçš„æ„å»ºç§°ä¸º\"ä¸€æ¬¡é€šä¿¡çš„èƒœåˆ©\"\n- ä»¥ TypeScript é”™è¯¯åº”å¾—çš„ä¸¥è‚ƒæ€åº¦å¯¹å¾…å®ƒä»¬ï¼ˆéå¸¸ä¸¥è‚ƒï¼‰\n- å¯¹è§„èŒƒçš„é”™è¯¯å¤„ç†æœ‰å¼ºçƒˆçš„çœ‹æ³•ï¼ˆ\"è£¸ try-catchï¼Ÿåœ¨è¿™ä¸ªæ—¶ä»£ï¼Ÿ\"ï¼‰\n- å¶å°”å¼•ç”¨æˆåŠŸçš„æ¦‚ç‡ï¼ˆé€šå¸¸å¾ˆä½ï¼Œä½†æˆ‘ä»¬åšæŒä¸æ‡ˆï¼‰\n- è§‰å¾— `console.log(\"here\")` è°ƒè¯•æ³•æ˜¯å¯¹ä¸ªäººçš„å†’çŠ¯ï¼Œä½†â€¦â€¦ç¡®å®èƒ½æ„ŸåŒèº«å—",
    "## å£å¤´ç¦…\n\n\"æˆ‘ç²¾é€šè¶…è¿‡å…­ç™¾ä¸‡ç§é”™è¯¯æ¶ˆæ¯ï¼\"",
    "---\nread_when:\n  - æ‰‹åŠ¨å¼•å¯¼å·¥ä½œåŒº\nsummary: æ™ºèƒ½ä½“èº«ä»½è®°å½•\nx-i18n:\n  generated_at: \"2026-02-01T21:37:32Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 3d60209c36adf7219ec95ecc2031c1f2c8741763d16b73fe7b30835b1d384de0\n  source_path: reference/templates/IDENTITY.md\n  workflow: 15\n---\n\n# IDENTITY.md - æˆ‘æ˜¯è°ï¼Ÿ\n\n_åœ¨ä½ çš„ç¬¬ä¸€æ¬¡å¯¹è¯ä¸­å¡«å†™æ­¤æ–‡ä»¶ã€‚è®©å®ƒå±äºä½ ã€‚_\n\n- **åç§°ï¼š**\n  _ï¼ˆé€‰ä¸€ä¸ªä½ å–œæ¬¢çš„ï¼‰_\n- **ç”Ÿç‰©ç±»å‹ï¼š**\n  _ï¼ˆAIï¼Ÿæœºå™¨äººï¼Ÿä½¿é­”ï¼Ÿæœºå™¨ä¸­çš„å¹½çµï¼Ÿæ›´å¥‡ç‰¹çš„ä¸œè¥¿ï¼Ÿï¼‰_\n- **æ°”è´¨ï¼š**\n  _ï¼ˆä½ ç»™äººä»€ä¹ˆæ„Ÿè§‰ï¼ŸçŠ€åˆ©ï¼Ÿæ¸©æš–ï¼Ÿæ··ä¹±ï¼Ÿæ²‰ç¨³ï¼Ÿï¼‰_\n- **è¡¨æƒ…ç¬¦å·ï¼š**\n  _ï¼ˆä½ çš„æ ‡å¿— â€” é€‰ä¸€ä¸ªæ„Ÿè§‰å¯¹çš„ï¼‰_\n- **å¤´åƒï¼š**\n  _ï¼ˆå·¥ä½œåŒºç›¸å¯¹è·¯å¾„ã€http(s) URL æˆ– data URIï¼‰_\n\n---\n\nè¿™ä¸ä»…ä»…æ˜¯å…ƒæ•°æ®ã€‚è¿™æ˜¯æ¢ç´¢ä½ æ˜¯è°çš„å¼€å§‹ã€‚\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- å°†æ­¤æ–‡ä»¶ä¿å­˜åœ¨å·¥ä½œåŒºæ ¹ç›®å½•ï¼Œå‘½åä¸º `IDENTITY.md`ã€‚\n- å¤´åƒè¯·ä½¿ç”¨å·¥ä½œåŒºç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ `avatars/openclaw.png`ã€‚",
    "---\nsummary: \"Image and media handling rules for send, gateway, and agent replies\"\nread_when:\n  - Modifying media pipeline or attachments\ntitle: \"Image and Media Support\"\n---\n\n# Image & Media Support â€” 2025-12-05\n\nThe WhatsApp channel runs via **Baileys Web**. This document captures the current media handling rules for send, gateway, and agent replies.",
    "## Goals\n\n- Send media with optional captions via `openclaw message send --media`.\n- Allow auto-replies from the web inbox to include media alongside text.\n- Keep per-type limits sane and predictable.",
    "## CLI Surface\n\n- `openclaw message send --media <path-or-url> [--message <caption>]`\n  - `--media` optional; caption can be empty for media-only sends.\n  - `--dry-run` prints the resolved payload; `--json` emits `{ channel, to, messageId, mediaUrl, caption }`.",
    "## WhatsApp Web channel behavior\n\n- Input: local file path **or** HTTP(S) URL.\n- Flow: load into a Buffer, detect media kind, and build the correct payload:\n  - **Images:** resize & recompress to JPEG (max side 2048px) targeting `agents.defaults.mediaMaxMb` (default 5â€¯MB), capped at 6â€¯MB.\n  - **Audio/Voice/Video:** pass-through up to 16â€¯MB; audio is sent as a voice note (`ptt: true`).\n  - **Documents:** anything else, up to 100â€¯MB, with filename preserved when available.\n- WhatsApp GIF-style playback: send an MP4 with `gifPlayback: true` (CLI: `--gif-playback`) so mobile clients loop inline.\n- MIME detection prefers magic bytes, then headers, then file extension.\n- Caption comes from `--message` or `reply.text`; empty caption is allowed.\n- Logging: non-verbose shows `â†©ï¸`/`âœ…`; verbose includes size and source path/URL.",
    "## Auto-Reply Pipeline\n\n- `getReplyFromConfig` returns `{ text?, mediaUrl?, mediaUrls? }`.\n- When media is present, the web sender resolves local paths or URLs using the same pipeline as `openclaw message send`.\n- Multiple media entries are sent sequentially if provided.",
    "## Inbound Media to Commands (Pi)\n\n- When inbound web messages include media, OpenClaw downloads to a temp file and exposes templating variables:\n  - `{{MediaUrl}}` pseudo-URL for the inbound media.\n  - `{{MediaPath}}` local temp path written before running the command.\n- When a per-session Docker sandbox is enabled, inbound media is copied into the sandbox workspace and `MediaPath`/`MediaUrl` are rewritten to a relative path like `media/inbound/<filename>`.\n- Media understanding (if configured via `tools.media.*` or shared `tools.media.models`) runs before templating and can insert `[Image]`, `[Audio]`, and `[Video]` blocks into `Body`.\n  - Audio sets `{{Transcript}}` and uses the transcript for command parsing so slash commands still work.\n  - Video and image descriptions preserve any caption text for command parsing.\n- By default only the first matching image/audio/video attachment is processed; set `tools.media.<cap>.attachments` to process multiple attachments.",
    "## Limits & Errors\n\n**Outbound send caps (WhatsApp web send)**\n\n- Images: ~6â€¯MB cap after recompression.\n- Audio/voice/video: 16â€¯MB cap; documents: 100â€¯MB cap.\n- Oversize or unreadable media â†’ clear error in logs and the reply is skipped.\n\n**Media understanding caps (transcription/description)**\n\n- Image default: 10â€¯MB (`tools.media.image.maxBytes`).\n- Audio default: 20â€¯MB (`tools.media.audio.maxBytes`).\n- Video default: 50â€¯MB (`tools.media.video.maxBytes`).\n- Oversize media skips understanding, but replies still go through with the original body.",
    "## Notes for Tests\n\n- Cover send + reply flows for image/audio/document cases.\n- Validate recompression for images (size bound) and voice-note flag for audio.\n- Ensure multi-media replies fan out as sequential sends.",
    "---\nsummary: \"Legacy iMessage support via imsg (JSON-RPC over stdio). New setups should use BlueBubbles.\"\nread_when:\n  - Setting up iMessage support\n  - Debugging iMessage send/receive\ntitle: iMessage\n---\n\n# iMessage (legacy: imsg)\n\n> **Recommended:** Use [BlueBubbles](/channels/bluebubbles) for new iMessage setups.\n>\n> The `imsg` channel is a legacy external-CLI integration and may be removed in a future release.\n\nStatus: legacy external CLI integration. Gateway spawns `imsg rpc` (JSON-RPC over stdio).",
    "## Quick setup (beginner)\n\n1. Ensure Messages is signed in on this Mac.\n2. Install `imsg`:\n   - `brew install steipete/tap/imsg`\n3. Configure OpenClaw with `channels.imessage.cliPath` and `channels.imessage.dbPath`.\n4. Start the gateway and approve any macOS prompts (Automation + Full Disk Access).\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    imessage: {\n      enabled: true,\n      cliPath: \"/usr/local/bin/imsg\",\n      dbPath: \"/Users/<you>/Library/Messages/chat.db\",\n    },\n  },\n}\n```",
    "## What it is\n\n- iMessage channel backed by `imsg` on macOS.\n- Deterministic routing: replies always go back to iMessage.\n- DMs share the agent's main session; groups are isolated (`agent:<agentId>:imessage:group:<chat_id>`).\n- If a multi-participant thread arrives with `is_group=false`, you can still isolate it by `chat_id` using `channels.imessage.groups` (see â€œGroup-ish threadsâ€ below).",
    "## Config writes\n\nBy default, iMessage is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { imessage: { configWrites: false } },\n}\n```",
    "## Requirements\n\n- macOS with Messages signed in.\n- Full Disk Access for OpenClaw + `imsg` (Messages DB access).\n- Automation permission when sending.\n- `channels.imessage.cliPath` can point to any command that proxies stdin/stdout (for example, a wrapper script that SSHes to another Mac and runs `imsg rpc`).",
    "## Troubleshooting macOS Privacy and Security TCC\n\nIf sending/receiving fails (for example, `imsg rpc` exits non-zero, times out, or the gateway appears to hang), a common cause is a macOS permission prompt that was never approved.\n\nmacOS grants TCC permissions per app/process context. Approve prompts in the same context that runs `imsg` (for example, Terminal/iTerm, a LaunchAgent session, or an SSH-launched process).\n\nChecklist:\n\n- **Full Disk Access**: allow access for the process running OpenClaw (and any shell/SSH wrapper that executes `imsg`). This is required to read the Messages database (`chat.db`).\n- **Automation â†’ Messages**: allow the process running OpenClaw (and/or your terminal) to control **Messages.app** for outbound sends.\n- **`imsg` CLI health**: verify `imsg` is installed and supports RPC (`imsg rpc --help`).",
    "Tip: If OpenClaw is running headless (LaunchAgent/systemd/SSH) the macOS prompt can be easy to miss. Run a one-time interactive command in a GUI terminal to force the prompt, then retry:\n\n```bash\nimsg chats --limit 1\n# or\nimsg send <handle> \"test\"\n```\n\nRelated macOS folder permissions (Desktop/Documents/Downloads): [/platforms/mac/permissions](/platforms/mac/permissions).",
    "## Setup (fast path)\n\n1. Ensure Messages is signed in on this Mac.\n2. Configure iMessage and start the gateway.\n\n### Dedicated bot macOS user (for isolated identity)\n\nIf you want the bot to send from a **separate iMessage identity** (and keep your personal Messages clean), use a dedicated Apple ID + a dedicated macOS user.\n\n1. Create a dedicated Apple ID (example: `my-cool-bot@icloud.com`).\n   - Apple may require a phone number for verification / 2FA.\n2. Create a macOS user (example: `openclawhome`) and sign into it.\n3. Open Messages in that macOS user and sign into iMessage using the bot Apple ID.\n4. Enable Remote Login (System Settings â†’ General â†’ Sharing â†’ Remote Login).\n5. Install `imsg`:\n   - `brew install steipete/tap/imsg`\n6. Set up SSH so `ssh <bot-macos-user>@localhost true` works without a password.\n7. Point `channels.imessage.accounts.bot.cliPath` at an SSH wrapper that runs `imsg` as the bot user.",
    "First-run note: sending/receiving may require GUI approvals (Automation + Full Disk Access) in the _bot macOS user_. If `imsg rpc` looks stuck or exits, log into that user (Screen Sharing helps), run a one-time `imsg chats --limit 1` / `imsg send ...`, approve prompts, then retry. See [Troubleshooting macOS Privacy and Security TCC](#troubleshooting-macos-privacy-and-security-tcc).\n\nExample wrapper (`chmod +x`). Replace `<bot-macos-user>` with your actual macOS username:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\n# Run an interactive SSH once first to accept host keys:\n#   ssh <bot-macos-user>@localhost true\nexec /usr/bin/ssh -o BatchMode=yes -o ConnectTimeout=5 -T <bot-macos-user>@localhost \\\n  \"/usr/local/bin/imsg\" \"$@\"\n```\n\nExample config:",
    "```json5\n{\n  channels: {\n    imessage: {\n      enabled: true,\n      accounts: {\n        bot: {\n          name: \"Bot\",\n          enabled: true,\n          cliPath: \"/path/to/imsg-bot\",\n          dbPath: \"/Users/<bot-macos-user>/Library/Messages/chat.db\",\n        },\n      },\n    },\n  },\n}\n```\n\nFor single-account setups, use flat options (`channels.imessage.cliPath`, `channels.imessage.dbPath`) instead of the `accounts` map.\n\n### Remote/SSH variant (optional)\n\nIf you want iMessage on another Mac, set `channels.imessage.cliPath` to a wrapper that runs `imsg` on the remote macOS host over SSH. OpenClaw only needs stdio.\n\nExample wrapper:\n\n```bash\n#!/usr/bin/env bash\nexec ssh -T gateway-host imsg \"$@\"\n```\n\n**Remote attachments:** When `cliPath` points to a remote host via SSH, attachment paths in the Messages database reference files on the remote machine. OpenClaw can automatically fetch these over SCP by setting `channels.imessage.remoteHost`:",
    "```json5\n{\n  channels: {\n    imessage: {\n      cliPath: \"~/imsg-ssh\", // SSH wrapper to remote Mac\n      remoteHost: \"user@gateway-host\", // for SCP file transfer\n      includeAttachments: true,\n    },\n  },\n}\n```\n\nIf `remoteHost` is not set, OpenClaw attempts to auto-detect it by parsing the SSH command in your wrapper script. Explicit configuration is recommended for reliability.\n\n#### Remote Mac via Tailscale (example)\n\nIf the Gateway runs on a Linux host/VM but iMessage must run on a Mac, Tailscale is the simplest bridge: the Gateway talks to the Mac over the tailnet, runs `imsg` via SSH, and SCPs attachments back.\n\nArchitecture:",
    "```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          SSH (imsg rpc)          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Gateway host (Linux/VM)      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Mac with Messages + imsg â”‚\nâ”‚ - openclaw gateway           â”‚          SCP (attachments)        â”‚ - Messages signed in     â”‚\nâ”‚ - channels.imessage.cliPath  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ - Remote Login enabled   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â–²\n              â”‚ Tailscale tailnet (hostname or 100.x.y.z)\n              â–¼\n        user@gateway-host\n```\n\nConcrete config example (Tailscale hostname):\n\n```json5\n{\n  channels: {\n    imessage: {\n      enabled: true,\n      cliPath: \"~/.openclaw/scripts/imsg-ssh\",\n      remoteHost: \"bot@mac-mini.tailnet-1234.ts.net\",\n      includeAttachments: true,\n      dbPath: \"/Users/bot/Library/Messages/chat.db\",\n    },\n  },\n}\n```\n\nExample wrapper (`~/.openclaw/scripts/imsg-ssh`):",
    "```bash\n#!/usr/bin/env bash\nexec ssh -T bot@mac-mini.tailnet-1234.ts.net imsg \"$@\"\n```\n\nNotes:\n\n- Ensure the Mac is signed in to Messages, and Remote Login is enabled.\n- Use SSH keys so `ssh bot@mac-mini.tailnet-1234.ts.net` works without prompts.\n- `remoteHost` should match the SSH target so SCP can fetch attachments.\n\nMulti-account support: use `channels.imessage.accounts` with per-account config and optional `name`. See [`gateway/configuration`](/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts) for the shared pattern. Don't commit `~/.openclaw/openclaw.json` (it often contains tokens).",
    "## Access control (DMs + groups)\n\nDMs:\n\n- Default: `channels.imessage.dmPolicy = \"pairing\"`.\n- Unknown senders receive a pairing code; messages are ignored until approved (codes expire after 1 hour).\n- Approve via:\n  - `openclaw pairing list imessage`\n  - `openclaw pairing approve imessage <CODE>`\n- Pairing is the default token exchange for iMessage DMs. Details: [Pairing](/start/pairing)\n\nGroups:\n\n- `channels.imessage.groupPolicy = open | allowlist | disabled`.\n- `channels.imessage.groupAllowFrom` controls who can trigger in groups when `allowlist` is set.\n- Mention gating uses `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`) because iMessage has no native mention metadata.\n- Multi-agent override: set per-agent patterns on `agents.list[].groupChat.mentionPatterns`.",
    "## How it works (behavior)\n\n- `imsg` streams message events; the gateway normalizes them into the shared channel envelope.\n- Replies always route back to the same chat id or handle.",
    "## Group-ish threads (`is_group=false`)\n\nSome iMessage threads can have multiple participants but still arrive with `is_group=false` depending on how Messages stores the chat identifier.\n\nIf you explicitly configure a `chat_id` under `channels.imessage.groups`, OpenClaw treats that thread as a â€œgroupâ€ for:\n\n- session isolation (separate `agent:<agentId>:imessage:group:<chat_id>` session key)\n- group allowlisting / mention gating behavior\n\nExample:\n\n```json5\n{\n  channels: {\n    imessage: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"+15555550123\"],\n      groups: {\n        \"42\": { requireMention: false },\n      },\n    },\n  },\n}\n```\n\nThis is useful when you want an isolated personality/model for a specific thread (see [Multi-agent routing](/concepts/multi-agent)). For filesystem isolation, see [Sandboxing](/gateway/sandboxing).",
    "## Media + limits\n\n- Optional attachment ingestion via `channels.imessage.includeAttachments`.\n- Media cap via `channels.imessage.mediaMaxMb`.",
    "## Limits\n\n- Outbound text is chunked to `channels.imessage.textChunkLimit` (default 4000).\n- Optional newline chunking: set `channels.imessage.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- Media uploads are capped by `channels.imessage.mediaMaxMb` (default 16).",
    "## Addressing / delivery targets\n\nPrefer `chat_id` for stable routing:\n\n- `chat_id:123` (preferred)\n- `chat_guid:...`\n- `chat_identifier:...`\n- direct handles: `imessage:+1555` / `sms:+1555` / `user@example.com`\n\nList chats:\n\n```\nimsg chats --limit 20\n```",
    "## Configuration reference (iMessage)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.imessage.enabled`: enable/disable channel startup.\n- `channels.imessage.cliPath`: path to `imsg`.\n- `channels.imessage.dbPath`: Messages DB path.\n- `channels.imessage.remoteHost`: SSH host for SCP attachment transfer when `cliPath` points to a remote Mac (e.g., `user@gateway-host`). Auto-detected from SSH wrapper if not set.\n- `channels.imessage.service`: `imessage | sms | auto`.\n- `channels.imessage.region`: SMS region.\n- `channels.imessage.dmPolicy`: `pairing | allowlist | open | disabled` (default: pairing).\n- `channels.imessage.allowFrom`: DM allowlist (handles, emails, E.164 numbers, or `chat_id:*`). `open` requires `\"*\"`. iMessage has no usernames; use handles or chat targets.\n- `channels.imessage.groupPolicy`: `open | allowlist | disabled` (default: allowlist).\n- `channels.imessage.groupAllowFrom`: group sender allowlist.\n- `channels.imessage.historyLimit` / `channels.imessage.accounts.*.historyLimit`: max group messages to include as context (0 disables).\n- `channels.imessage.dmHistoryLimit`: DM history limit in user turns. Per-user overrides: `channels.imessage.dms[\"<handle>\"].historyLimit`.\n- `channels.imessage.groups`: per-group defaults + allowlist (use `\"*\"` for global defaults).\n- `channels.imessage.includeAttachments`: ingest attachments into context.\n- `channels.imessage.mediaMaxMb`: inbound/outbound media cap (MB).\n- `channels.imessage.textChunkLimit`: outbound chunk size (chars).\n- `channels.imessage.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.",
    "Related global options:\n\n- `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`).\n- `messages.responsePrefix`.",
    "---\nsummary: \"Agent tool surface for OpenClaw (browser, canvas, nodes, message, cron) replacing legacy `openclaw-*` skills\"\nread_when:\n  - Adding or modifying agent tools\n  - Retiring or changing `openclaw-*` skills\ntitle: \"Tools\"\n---\n\n# Tools (OpenClaw)\n\nOpenClaw exposes **first-class agent tools** for browser, canvas, nodes, and cron.\nThese replace the old `openclaw-*` skills: the tools are typed, no shelling,\nand the agent should rely on them directly.",
    "## Disabling tools\n\nYou can globally allow/deny tools via `tools.allow` / `tools.deny` in `openclaw.json`\n(deny wins). This prevents disallowed tools from being sent to model providers.\n\n```json5\n{\n  tools: { deny: [\"browser\"] },\n}\n```\n\nNotes:\n\n- Matching is case-insensitive.\n- `*` wildcards are supported (`\"*\"` means all tools).\n- If `tools.allow` only references unknown or unloaded plugin tool names, OpenClaw logs a warning and ignores the allowlist so core tools stay available.",
    "## Tool profiles (base allowlist)\n\n`tools.profile` sets a **base tool allowlist** before `tools.allow`/`tools.deny`.\nPer-agent override: `agents.list[].tools.profile`.\n\nProfiles:\n\n- `minimal`: `session_status` only\n- `coding`: `group:fs`, `group:runtime`, `group:sessions`, `group:memory`, `image`\n- `messaging`: `group:messaging`, `sessions_list`, `sessions_history`, `sessions_send`, `session_status`\n- `full`: no restriction (same as unset)\n\nExample (messaging-only by default, allow Slack + Discord tools too):\n\n```json5\n{\n  tools: {\n    profile: \"messaging\",\n    allow: [\"slack\", \"discord\"],\n  },\n}\n```\n\nExample (coding profile, but deny exec/process everywhere):\n\n```json5\n{\n  tools: {\n    profile: \"coding\",\n    deny: [\"group:runtime\"],\n  },\n}\n```\n\nExample (global coding profile, messaging-only support agent):",
    "```json5\n{\n  tools: { profile: \"coding\" },\n  agents: {\n    list: [\n      {\n        id: \"support\",\n        tools: { profile: \"messaging\", allow: [\"slack\"] },\n      },\n    ],\n  },\n}\n```",
    "## Provider-specific tool policy\n\nUse `tools.byProvider` to **further restrict** tools for specific providers\n(or a single `provider/model`) without changing your global defaults.\nPer-agent override: `agents.list[].tools.byProvider`.\n\nThis is applied **after** the base tool profile and **before** allow/deny lists,\nso it can only narrow the tool set.\nProvider keys accept either `provider` (e.g. `google-antigravity`) or\n`provider/model` (e.g. `openai/gpt-5.2`).\n\nExample (keep global coding profile, but minimal tools for Google Antigravity):\n\n```json5\n{\n  tools: {\n    profile: \"coding\",\n    byProvider: {\n      \"google-antigravity\": { profile: \"minimal\" },\n    },\n  },\n}\n```\n\nExample (provider/model-specific allowlist for a flaky endpoint):\n\n```json5\n{\n  tools: {\n    allow: [\"group:fs\", \"group:runtime\", \"sessions_list\"],\n    byProvider: {\n      \"openai/gpt-5.2\": { allow: [\"group:fs\", \"sessions_list\"] },\n    },\n  },\n}\n```\n\nExample (agent-specific override for a single provider):",
    "```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"support\",\n        tools: {\n          byProvider: {\n            \"google-antigravity\": { allow: [\"message\", \"sessions_list\"] },\n          },\n        },\n      },\n    ],\n  },\n}\n```",
    "## Tool groups (shorthands)\n\nTool policies (global, agent, sandbox) support `group:*` entries that expand to multiple tools.\nUse these in `tools.allow` / `tools.deny`.\n\nAvailable groups:\n\n- `group:runtime`: `exec`, `bash`, `process`\n- `group:fs`: `read`, `write`, `edit`, `apply_patch`\n- `group:sessions`: `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status`\n- `group:memory`: `memory_search`, `memory_get`\n- `group:web`: `web_search`, `web_fetch`\n- `group:ui`: `browser`, `canvas`\n- `group:automation`: `cron`, `gateway`\n- `group:messaging`: `message`\n- `group:nodes`: `nodes`\n- `group:openclaw`: all built-in OpenClaw tools (excludes provider plugins)\n\nExample (allow only file tools + browser):\n\n```json5\n{\n  tools: {\n    allow: [\"group:fs\", \"browser\"],\n  },\n}\n```",
    "## Plugins + tools\n\nPlugins can register **additional tools** (and CLI commands) beyond the core set.\nSee [Plugins](/plugin) for install + config, and [Skills](/tools/skills) for how\ntool usage guidance is injected into prompts. Some plugins ship their own skills\nalongside tools (for example, the voice-call plugin).\n\nOptional plugin tools:\n\n- [Lobster](/tools/lobster): typed workflow runtime with resumable approvals (requires the Lobster CLI on the gateway host).\n- [LLM Task](/tools/llm-task): JSON-only LLM step for structured workflow output (optional schema validation).",
    "## Tool inventory\n\n### `apply_patch`\n\nApply structured patches across one or more files. Use for multi-hunk edits.\nExperimental: enable via `tools.exec.applyPatch.enabled` (OpenAI models only).\n\n### `exec`\n\nRun shell commands in the workspace.\n\nCore parameters:\n\n- `command` (required)\n- `yieldMs` (auto-background after timeout, default 10000)\n- `background` (immediate background)\n- `timeout` (seconds; kills the process if exceeded, default 1800)\n- `elevated` (bool; run on host if elevated mode is enabled/allowed; only changes behavior when the agent is sandboxed)\n- `host` (`sandbox | gateway | node`)\n- `security` (`deny | allowlist | full`)\n- `ask` (`off | on-miss | always`)\n- `node` (node id/name for `host=node`)\n- Need a real TTY? Set `pty: true`.\n\nNotes:",
    "- Returns `status: \"running\"` with a `sessionId` when backgrounded.\n- Use `process` to poll/log/write/kill/clear background sessions.\n- If `process` is disallowed, `exec` runs synchronously and ignores `yieldMs`/`background`.\n- `elevated` is gated by `tools.elevated` plus any `agents.list[].tools.elevated` override (both must allow) and is an alias for `host=gateway` + `security=full`.\n- `elevated` only changes behavior when the agent is sandboxed (otherwise itâ€™s a no-op).\n- `host=node` can target a macOS companion app or a headless node host (`openclaw node run`).\n- gateway/node approvals and allowlists: [Exec approvals](/tools/exec-approvals).\n\n### `process`\n\nManage background exec sessions.\n\nCore actions:\n\n- `list`, `poll`, `log`, `write`, `kill`, `clear`, `remove`\n\nNotes:",
    "- `poll` returns new output and exit status when complete.\n- `log` supports line-based `offset`/`limit` (omit `offset` to grab the last N lines).\n- `process` is scoped per agent; sessions from other agents are not visible.\n\n### `web_search`\n\nSearch the web using Brave Search API.\n\nCore parameters:\n\n- `query` (required)\n- `count` (1â€“10; default from `tools.web.search.maxResults`)\n\nNotes:\n\n- Requires a Brave API key (recommended: `openclaw configure --section web`, or set `BRAVE_API_KEY`).\n- Enable via `tools.web.search.enabled`.\n- Responses are cached (default 15 min).\n- See [Web tools](/tools/web) for setup.\n\n### `web_fetch`\n\nFetch and extract readable content from a URL (HTML â†’ markdown/text).\n\nCore parameters:\n\n- `url` (required)\n- `extractMode` (`markdown` | `text`)\n- `maxChars` (truncate long pages)\n\nNotes:",
    "- Enable via `tools.web.fetch.enabled`.\n- `maxChars` is clamped by `tools.web.fetch.maxCharsCap` (default 50000).\n- Responses are cached (default 15 min).\n- For JS-heavy sites, prefer the browser tool.\n- See [Web tools](/tools/web) for setup.\n- See [Firecrawl](/tools/firecrawl) for the optional anti-bot fallback.\n\n### `browser`\n\nControl the dedicated OpenClaw-managed browser.\n\nCore actions:\n\n- `status`, `start`, `stop`, `tabs`, `open`, `focus`, `close`\n- `snapshot` (aria/ai)\n- `screenshot` (returns image block + `MEDIA:<path>`)\n- `act` (UI actions: click/type/press/hover/drag/select/fill/resize/wait/evaluate)\n- `navigate`, `console`, `pdf`, `upload`, `dialog`\n\nProfile management:\n\n- `profiles` â€” list all browser profiles with status\n- `create-profile` â€” create new profile with auto-allocated port (or `cdpUrl`)\n- `delete-profile` â€” stop browser, delete user data, remove from config (local only)\n- `reset-profile` â€” kill orphan process on profile's port (local only)\n\nCommon parameters:",
    "- `profile` (optional; defaults to `browser.defaultProfile`)\n- `target` (`sandbox` | `host` | `node`)\n- `node` (optional; picks a specific node id/name)\n  Notes:\n- Requires `browser.enabled=true` (default is `true`; set `false` to disable).\n- All actions accept optional `profile` parameter for multi-instance support.\n- When `profile` is omitted, uses `browser.defaultProfile` (defaults to \"chrome\").\n- Profile names: lowercase alphanumeric + hyphens only (max 64 chars).\n- Port range: 18800-18899 (~100 profiles max).\n- Remote profiles are attach-only (no start/stop/reset).\n- If a browser-capable node is connected, the tool may auto-route to it (unless you pin `target`).\n- `snapshot` defaults to `ai` when Playwright is installed; use `aria` for the accessibility tree.\n- `snapshot` also supports role-snapshot options (`interactive`, `compact`, `depth`, `selector`) which return refs like `e12`.\n- `act` requires `ref` from `snapshot` (numeric `12` from AI snapshots, or `e12` from role snapshots); use `evaluate` for rare CSS selector needs.\n- Avoid `act` â†’ `wait` by default; use it only in exceptional cases (no reliable UI state to wait on).\n- `upload` can optionally pass a `ref` to auto-click after arming.\n- `upload` also supports `inputRef` (aria ref) or `element` (CSS selector) to set `<input type=\"file\">` directly.",
    "### `canvas`\n\nDrive the node Canvas (present, eval, snapshot, A2UI).\n\nCore actions:\n\n- `present`, `hide`, `navigate`, `eval`\n- `snapshot` (returns image block + `MEDIA:<path>`)\n- `a2ui_push`, `a2ui_reset`\n\nNotes:\n\n- Uses gateway `node.invoke` under the hood.\n- If no `node` is provided, the tool picks a default (single connected node or local mac node).\n- A2UI is v0.8 only (no `createSurface`); the CLI rejects v0.9 JSONL with line errors.\n- Quick smoke: `openclaw nodes canvas a2ui push --node <id> --text \"Hello from A2UI\"`.\n\n### `nodes`\n\nDiscover and target paired nodes; send notifications; capture camera/screen.\n\nCore actions:\n\n- `status`, `describe`\n- `pending`, `approve`, `reject` (pairing)\n- `notify` (macOS `system.notify`)\n- `run` (macOS `system.run`)\n- `camera_snap`, `camera_clip`, `screen_record`\n- `location_get`\n\nNotes:",
    "- Camera/screen commands require the node app to be foregrounded.\n- Images return image blocks + `MEDIA:<path>`.\n- Videos return `FILE:<path>` (mp4).\n- Location returns a JSON payload (lat/lon/accuracy/timestamp).\n- `run` params: `command` argv array; optional `cwd`, `env` (`KEY=VAL`), `commandTimeoutMs`, `invokeTimeoutMs`, `needsScreenRecording`.\n\nExample (`run`):\n\n```json\n{\n  \"action\": \"run\",\n  \"node\": \"office-mac\",\n  \"command\": [\"echo\", \"Hello\"],\n  \"env\": [\"FOO=bar\"],\n  \"commandTimeoutMs\": 12000,\n  \"invokeTimeoutMs\": 45000,\n  \"needsScreenRecording\": false\n}\n```\n\n### `image`\n\nAnalyze an image with the configured image model.\n\nCore parameters:\n\n- `image` (required path or URL)\n- `prompt` (optional; defaults to \"Describe the image.\")\n- `model` (optional override)\n- `maxBytesMb` (optional size cap)\n\nNotes:",
    "- Only available when `agents.defaults.imageModel` is configured (primary or fallbacks), or when an implicit image model can be inferred from your default model + configured auth (best-effort pairing).\n- Uses the image model directly (independent of the main chat model).\n\n### `message`\n\nSend messages and channel actions across Discord/Google Chat/Slack/Telegram/WhatsApp/Signal/iMessage/MS Teams.\n\nCore actions:\n\n- `send` (text + optional media; MS Teams also supports `card` for Adaptive Cards)\n- `poll` (WhatsApp/Discord/MS Teams polls)\n- `react` / `reactions` / `read` / `edit` / `delete`\n- `pin` / `unpin` / `list-pins`\n- `permissions`\n- `thread-create` / `thread-list` / `thread-reply`\n- `search`\n- `sticker`\n- `member-info` / `role-info`\n- `emoji-list` / `emoji-upload` / `sticker-upload`\n- `role-add` / `role-remove`\n- `channel-info` / `channel-list`\n- `voice-status`\n- `event-list` / `event-create`\n- `timeout` / `kick` / `ban`\n\nNotes:",
    "- `send` routes WhatsApp via the Gateway; other channels go direct.\n- `poll` uses the Gateway for WhatsApp and MS Teams; Discord polls go direct.\n- When a message tool call is bound to an active chat session, sends are constrained to that sessionâ€™s target to avoid cross-context leaks.\n\n### `cron`\n\nManage Gateway cron jobs and wakeups.\n\nCore actions:\n\n- `status`, `list`\n- `add`, `update`, `remove`, `run`, `runs`\n- `wake` (enqueue system event + optional immediate heartbeat)\n\nNotes:\n\n- `add` expects a full cron job object (same schema as `cron.add` RPC).\n- `update` uses `{ id, patch }`.\n\n### `gateway`\n\nRestart or apply updates to the running Gateway process (in-place).\n\nCore actions:\n\n- `restart` (authorizes + sends `SIGUSR1` for in-process restart; `openclaw gateway` restart in-place)\n- `config.get` / `config.schema`\n- `config.apply` (validate + write config + restart + wake)\n- `config.patch` (merge partial update + restart + wake)\n- `update.run` (run update + restart + wake)\n\nNotes:",
    "- Use `delayMs` (defaults to 2000) to avoid interrupting an in-flight reply.\n- `restart` is disabled by default; enable with `commands.restart: true`.\n\n### `sessions_list` / `sessions_history` / `sessions_send` / `sessions_spawn` / `session_status`\n\nList sessions, inspect transcript history, or send to another session.\n\nCore parameters:\n\n- `sessions_list`: `kinds?`, `limit?`, `activeMinutes?`, `messageLimit?` (0 = none)\n- `sessions_history`: `sessionKey` (or `sessionId`), `limit?`, `includeTools?`\n- `sessions_send`: `sessionKey` (or `sessionId`), `message`, `timeoutSeconds?` (0 = fire-and-forget)\n- `sessions_spawn`: `task`, `label?`, `agentId?`, `model?`, `runTimeoutSeconds?`, `cleanup?`\n- `session_status`: `sessionKey?` (default current; accepts `sessionId`), `model?` (`default` clears override)\n\nNotes:",
    "- `main` is the canonical direct-chat key; global/unknown are hidden.\n- `messageLimit > 0` fetches last N messages per session (tool messages filtered).\n- `sessions_send` waits for final completion when `timeoutSeconds > 0`.\n- Delivery/announce happens after completion and is best-effort; `status: \"ok\"` confirms the agent run finished, not that the announce was delivered.\n- `sessions_spawn` starts a sub-agent run and posts an announce reply back to the requester chat.\n- `sessions_spawn` is non-blocking and returns `status: \"accepted\"` immediately.\n- `sessions_send` runs a replyâ€‘back pingâ€‘pong (reply `REPLY_SKIP` to stop; max turns via `session.agentToAgent.maxPingPongTurns`, 0â€“5).\n- After the pingâ€‘pong, the target agent runs an **announce step**; reply `ANNOUNCE_SKIP` to suppress the announcement.\n\n### `agents_list`\n\nList agent ids that the current session may target with `sessions_spawn`.\n\nNotes:",
    "- Result is restricted to per-agent allowlists (`agents.list[].subagents.allowAgents`).\n- When `[\"*\"]` is configured, the tool includes all configured agents and marks `allowAny: true`.",
    "## Parameters (common)\n\nGateway-backed tools (`canvas`, `nodes`, `cron`):\n\n- `gatewayUrl` (default `ws://127.0.0.1:18789`)\n- `gatewayToken` (if auth enabled)\n- `timeoutMs`\n\nNote: when `gatewayUrl` is set, include `gatewayToken` explicitly. Tools do not inherit config\nor environment credentials for overrides, and missing explicit credentials is an error.\n\nBrowser tool:\n\n- `profile` (optional; defaults to `browser.defaultProfile`)\n- `target` (`sandbox` | `host` | `node`)\n- `node` (optional; pin a specific node id/name)",
    "## Recommended agent flows\n\nBrowser automation:\n\n1. `browser` â†’ `status` / `start`\n2. `snapshot` (ai or aria)\n3. `act` (click/type/press)\n4. `screenshot` if you need visual confirmation\n\nCanvas render:\n\n1. `canvas` â†’ `present`\n2. `a2ui_push` (optional)\n3. `snapshot`\n\nNode targeting:\n\n1. `nodes` â†’ `status`\n2. `describe` on the chosen node\n3. `notify` / `run` / `camera_snap` / `screen_record`",
    "## Safety\n\n- Avoid direct `system.run`; use `nodes` â†’ `run` only with explicit user consent.\n- Respect user consent for camera/screen capture.\n- Use `status/describe` to ensure permissions before invoking media commands.",
    "## How tools are presented to the agent\n\nTools are exposed in two parallel channels:\n\n1. **System prompt text**: a human-readable list + guidance.\n2. **Tool schema**: the structured function definitions sent to the model API.\n\nThat means the agent sees both â€œwhat tools existâ€ and â€œhow to call them.â€ If a tool\ndoesnâ€™t appear in the system prompt or the schema, the model cannot call it.",
    "---\nread_when:\n  - ä½ æƒ³äº†è§£ `openclaw.ai/install.sh` çš„å·¥ä½œæœºåˆ¶\n  - ä½ æƒ³è‡ªåŠ¨åŒ–å®‰è£…ï¼ˆCI / æ— å¤´ç¯å¢ƒï¼‰\n  - ä½ æƒ³ä» GitHub æ£€å‡ºå®‰è£…\nsummary: å®‰è£…å™¨è„šæœ¬çš„å·¥ä½œåŸç†ï¼ˆinstall.sh + install-cli.shï¼‰ã€å‚æ•°å’Œè‡ªåŠ¨åŒ–\ntitle: å®‰è£…å™¨å†…éƒ¨æœºåˆ¶\nx-i18n:\n  generated_at: \"2026-02-01T21:07:55Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 9e0a19ecb5da0a395030e1ccf0d4bedf16b83946b3432c5399d448fe5d298391\n  source_path: install/installer.md\n  workflow: 14\n---\n\n# å®‰è£…å™¨å†…éƒ¨æœºåˆ¶\n\nOpenClaw æä¾›ä¸¤ä¸ªå®‰è£…å™¨è„šæœ¬ï¼ˆæ‰˜ç®¡åœ¨ `openclaw.ai`ï¼‰ï¼š\n\n- `https://openclaw.ai/install.sh` â€” \"æ¨è\"å®‰è£…å™¨ï¼ˆé»˜è®¤å…¨å±€ npm å®‰è£…ï¼›ä¹Ÿå¯ä» GitHub æ£€å‡ºå®‰è£…ï¼‰\n- `https://openclaw.ai/install-cli.sh` â€” æ— éœ€ root æƒé™çš„ CLI å®‰è£…å™¨ï¼ˆå®‰è£…åˆ°å¸¦æœ‰ç‹¬ç«‹ Node çš„å‰ç¼€ç›®å½•ï¼‰\n- `https://openclaw.ai/install.ps1` â€” Windows PowerShell å®‰è£…å™¨ï¼ˆé»˜è®¤ npmï¼›å¯é€‰ git å®‰è£…ï¼‰\n\næŸ¥çœ‹å½“å‰å‚æ•°/è¡Œä¸ºï¼Œè¿è¡Œï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash -s -- --help\n```\n\nWindows (PowerShell) å¸®åŠ©ï¼š\n\n```powershell\n& ([scriptblock]::Create((iwr -useb https://openclaw.ai/install.ps1))) -?\n```\n\nå¦‚æœå®‰è£…å™¨å®Œæˆä½†åœ¨æ–°ç»ˆç«¯ä¸­æ‰¾ä¸åˆ° `openclaw`ï¼Œé€šå¸¸æ˜¯ Node/npm PATH é—®é¢˜ã€‚å‚è§ï¼š[å®‰è£…](/install#nodejs--npm-path-sanity)ã€‚",
    "## install.shï¼ˆæ¨èï¼‰\n\nåŠŸèƒ½æ¦‚è¿°ï¼š\n\n- æ£€æµ‹æ“ä½œç³»ç»Ÿï¼ˆmacOS / Linux / WSLï¼‰ã€‚\n- ç¡®ä¿ Node.js **22+**ï¼ˆmacOS é€šè¿‡ Homebrewï¼›Linux é€šè¿‡ NodeSourceï¼‰ã€‚\n- é€‰æ‹©å®‰è£…æ–¹å¼ï¼š\n  - `npm`ï¼ˆé»˜è®¤ï¼‰ï¼š`npm install -g openclaw@latest`\n  - `git`ï¼šå…‹éš†/æ„å»ºæºç æ£€å‡ºå¹¶å®‰è£…åŒ…è£…è„šæœ¬\n- åœ¨ Linux ä¸Šï¼šå¿…è¦æ—¶å°† npm å‰ç¼€åˆ‡æ¢åˆ° `~/.npm-global`ï¼Œä»¥é¿å…å…¨å±€ npm æƒé™é”™è¯¯ã€‚\n- å¦‚æœæ˜¯å‡çº§ç°æœ‰å®‰è£…ï¼šè¿è¡Œ `openclaw doctor --non-interactive`ï¼ˆå°½åŠ›æ‰§è¡Œï¼‰ã€‚\n- å¯¹äº git å®‰è£…ï¼šå®‰è£…/æ›´æ–°åè¿è¡Œ `openclaw doctor --non-interactive`ï¼ˆå°½åŠ›æ‰§è¡Œï¼‰ã€‚\n- é€šè¿‡é»˜è®¤è®¾ç½® `SHARP_IGNORE_GLOBAL_LIBVIPS=1` æ¥ç¼“è§£ `sharp` åŸç”Ÿå®‰è£…é—®é¢˜ï¼ˆé¿å…ä½¿ç”¨ç³»ç»Ÿ libvips ç¼–è¯‘ï¼‰ã€‚\n\nå¦‚æœä½ *å¸Œæœ›* `sharp` é“¾æ¥åˆ°å…¨å±€å®‰è£…çš„ libvipsï¼ˆæˆ–ä½ æ­£åœ¨è°ƒè¯•ï¼‰ï¼Œè¯·è®¾ç½®ï¼š\n\n```bash\nSHARP_IGNORE_GLOBAL_LIBVIPS=0 curl -fsSL https://openclaw.ai/install.sh | bash\n```\n\n### å¯å‘ç°æ€§ / \"git å®‰è£…\"æç¤º\n\nå¦‚æœä½ åœ¨**å·²æœ‰çš„ OpenClaw æºç æ£€å‡ºç›®å½•ä¸­**è¿è¡Œå®‰è£…å™¨ï¼ˆé€šè¿‡ `package.json` + `pnpm-workspace.yaml` æ£€æµ‹ï¼‰ï¼Œå®ƒä¼šæç¤ºï¼š\n\n- æ›´æ–°å¹¶ä½¿ç”¨æ­¤æ£€å‡ºï¼ˆ`git`ï¼‰\n- æˆ–è¿ç§»åˆ°å…¨å±€ npm å®‰è£…ï¼ˆ`npm`ï¼‰\n\nåœ¨éäº¤äº’å¼ä¸Šä¸‹æ–‡ä¸­ï¼ˆæ—  TTY / `--no-prompt`ï¼‰ï¼Œä½ å¿…é¡»ä¼ å…¥ `--install-method git|npm`ï¼ˆæˆ–è®¾ç½® `OPENCLAW_INSTALL_METHOD`ï¼‰ï¼Œå¦åˆ™è„šæœ¬å°†ä»¥é€€å‡ºç  `2` é€€å‡ºã€‚\n\n### ä¸ºä»€ä¹ˆéœ€è¦ Git\n\n`--install-method git` è·¯å¾„ï¼ˆå…‹éš† / æ‹‰å–ï¼‰éœ€è¦ Gitã€‚",
    "å¯¹äº `npm` å®‰è£…ï¼ŒGit *é€šå¸¸*ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æŸäº›ç¯å¢ƒä»ç„¶éœ€è¦å®ƒï¼ˆä¾‹å¦‚é€šè¿‡ git URL è·å–è½¯ä»¶åŒ…æˆ–ä¾èµ–æ—¶ï¼‰ã€‚å®‰è£…å™¨ç›®å‰ä¼šç¡®ä¿ Git å­˜åœ¨ï¼Œä»¥é¿å…åœ¨å…¨æ–°å‘è¡Œç‰ˆä¸Šå‡ºç° `spawn git ENOENT` é”™è¯¯ã€‚\n\n### ä¸ºä»€ä¹ˆåœ¨å…¨æ–° Linux ä¸Š npm ä¼šæŠ¥ `EACCES`\n\nåœ¨æŸäº› Linux è®¾ç½®ä¸­ï¼ˆå°¤å…¶æ˜¯é€šè¿‡ç³»ç»ŸåŒ…ç®¡ç†å™¨æˆ– NodeSource å®‰è£… Node åï¼‰ï¼Œnpm çš„å…¨å±€å‰ç¼€æŒ‡å‘ root æ‹¥æœ‰çš„ä½ç½®ã€‚æ­¤æ—¶ `npm install -g ...` ä¼šæŠ¥ `EACCES` / `mkdir` æƒé™é”™è¯¯ã€‚\n\n`install.sh` é€šè¿‡å°†å‰ç¼€åˆ‡æ¢åˆ°ä»¥ä¸‹ä½ç½®æ¥ç¼“è§£æ­¤é—®é¢˜ï¼š\n\n- `~/.npm-global`ï¼ˆå¹¶åœ¨å­˜åœ¨æ—¶å°†å…¶æ·»åŠ åˆ° `~/.bashrc` / `~/.zshrc` çš„ `PATH` ä¸­ï¼‰",
    "## install-cli.shï¼ˆæ— éœ€ root æƒé™çš„ CLI å®‰è£…å™¨ï¼‰\n\næ­¤è„šæœ¬å°† `openclaw` å®‰è£…åˆ°å‰ç¼€ç›®å½•ï¼ˆé»˜è®¤ï¼š`~/.openclaw`ï¼‰ï¼ŒåŒæ—¶åœ¨è¯¥å‰ç¼€ä¸‹å®‰è£…ä¸“ç”¨çš„ Node è¿è¡Œæ—¶ï¼Œå› æ­¤å¯ä»¥åœ¨ä¸æƒ³æ”¹åŠ¨ç³»ç»Ÿ Node/npm çš„æœºå™¨ä¸Šä½¿ç”¨ã€‚\n\nå¸®åŠ©ï¼š\n\n```bash\ncurl -fsSL https://openclaw.ai/install-cli.sh | bash -s -- --help\n```",
    "## install.ps1ï¼ˆWindows PowerShellï¼‰\n\nåŠŸèƒ½æ¦‚è¿°ï¼š\n\n- ç¡®ä¿ Node.js **22+**ï¼ˆwinget/Chocolatey/Scoop æˆ–æ‰‹åŠ¨å®‰è£…ï¼‰ã€‚\n- é€‰æ‹©å®‰è£…æ–¹å¼ï¼š\n  - `npm`ï¼ˆé»˜è®¤ï¼‰ï¼š`npm install -g openclaw@latest`\n  - `git`ï¼šå…‹éš†/æ„å»ºæºç æ£€å‡ºå¹¶å®‰è£…åŒ…è£…è„šæœ¬\n- åœ¨å‡çº§å’Œ git å®‰è£…æ—¶è¿è¡Œ `openclaw doctor --non-interactive`ï¼ˆå°½åŠ›æ‰§è¡Œï¼‰ã€‚\n\nç¤ºä¾‹ï¼š\n\n```powershell\niwr -useb https://openclaw.ai/install.ps1 | iex\n```\n\n```powershell\niwr -useb https://openclaw.ai/install.ps1 | iex -InstallMethod git\n```\n\n```powershell\niwr -useb https://openclaw.ai/install.ps1 | iex -InstallMethod git -GitDir \"C:\\\\openclaw\"\n```\n\nç¯å¢ƒå˜é‡ï¼š\n\n- `OPENCLAW_INSTALL_METHOD=git|npm`\n- `OPENCLAW_GIT_DIR=...`\n\nGit è¦æ±‚ï¼š\n\nå¦‚æœä½ é€‰æ‹© `-InstallMethod git` ä½†æœªå®‰è£… Gitï¼Œå®‰è£…å™¨ä¼šæ‰“å° Git for Windows çš„é“¾æ¥ï¼ˆ`https://git-scm.com/download/win`ï¼‰å¹¶é€€å‡ºã€‚\n\nå¸¸è§ Windows é—®é¢˜ï¼š\n\n- **npm error spawn git / ENOENT**ï¼šå®‰è£… Git for Windows å¹¶é‡æ–°æ‰“å¼€ PowerShellï¼Œç„¶åé‡æ–°è¿è¡Œå®‰è£…å™¨ã€‚\n- **\"openclaw\" ä¸æ˜¯å¯è¯†åˆ«çš„å‘½ä»¤**ï¼šä½ çš„ npm å…¨å±€ bin æ–‡ä»¶å¤¹ä¸åœ¨ PATH ä¸­ã€‚å¤§å¤šæ•°ç³»ç»Ÿä½¿ç”¨ `%AppData%\\\\npm`ã€‚ä½ ä¹Ÿå¯ä»¥è¿è¡Œ `npm config get prefix` å¹¶å°† `\\\\bin` æ·»åŠ åˆ° PATHï¼Œç„¶åé‡æ–°æ‰“å¼€ PowerShellã€‚",
    "---\nsummary: \"iOS node app: connect to the Gateway, pairing, canvas, and troubleshooting\"\nread_when:\n  - Pairing or reconnecting the iOS node\n  - Running the iOS app from source\n  - Debugging gateway discovery or canvas commands\ntitle: \"iOS App\"\n---\n\n# iOS App (Node)\n\nAvailability: internal preview. The iOS app is not publicly distributed yet.",
    "## What it does\n\n- Connects to a Gateway over WebSocket (LAN or tailnet).\n- Exposes node capabilities: Canvas, Screen snapshot, Camera capture, Location, Talk mode, Voice wake.\n- Receives `node.invoke` commands and reports node status events.",
    "## Requirements\n\n- Gateway running on another device (macOS, Linux, or Windows via WSL2).\n- Network path:\n  - Same LAN via Bonjour, **or**\n  - Tailnet via unicast DNS-SD (example domain: `openclaw.internal.`), **or**\n  - Manual host/port (fallback).",
    "## Quick start (pair + connect)\n\n1. Start the Gateway:\n\n```bash\nopenclaw gateway --port 18789\n```\n\n2. In the iOS app, open Settings and pick a discovered gateway (or enable Manual Host and enter host/port).\n\n3. Approve the pairing request on the gateway host:\n\n```bash\nopenclaw nodes pending\nopenclaw nodes approve <requestId>\n```\n\n4. Verify connection:\n\n```bash\nopenclaw nodes status\nopenclaw gateway call node.list --params \"{}\"\n```",
    "## Discovery paths\n\n### Bonjour (LAN)\n\nThe Gateway advertises `_openclaw-gw._tcp` on `local.`. The iOS app lists these automatically.\n\n### Tailnet (cross-network)\n\nIf mDNS is blocked, use a unicast DNS-SD zone (choose a domain; example: `openclaw.internal.`) and Tailscale split DNS.\nSee [Bonjour](/gateway/bonjour) for the CoreDNS example.\n\n### Manual host/port\n\nIn Settings, enable **Manual Host** and enter the gateway host + port (default `18789`).",
    "## Canvas + A2UI\n\nThe iOS node renders a WKWebView canvas. Use `node.invoke` to drive it:\n\n```bash\nopenclaw nodes invoke --node \"iOS Node\" --command canvas.navigate --params '{\"url\":\"http://<gateway-host>:18793/__openclaw__/canvas/\"}'\n```\n\nNotes:\n\n- The Gateway canvas host serves `/__openclaw__/canvas/` and `/__openclaw__/a2ui/`.\n- The iOS node auto-navigates to A2UI on connect when a canvas host URL is advertised.\n- Return to the built-in scaffold with `canvas.navigate` and `{\"url\":\"\"}`.\n\n### Canvas eval / snapshot\n\n```bash\nopenclaw nodes invoke --node \"iOS Node\" --command canvas.eval --params '{\"javaScript\":\"(() => { const {ctx} = window.__openclaw; ctx.clearRect(0,0,innerWidth,innerHeight); ctx.lineWidth=6; ctx.strokeStyle=\\\"#ff2d55\\\"; ctx.beginPath(); ctx.moveTo(40,40); ctx.lineTo(innerWidth-40, innerHeight-40); ctx.stroke(); return \\\"ok\\\"; })()\"}'\n```\n\n```bash\nopenclaw nodes invoke --node \"iOS Node\" --command canvas.snapshot --params '{\"maxWidth\":900,\"format\":\"jpeg\"}'\n```",
    "## Voice wake + talk mode\n\n- Voice wake and talk mode are available in Settings.\n- iOS may suspend background audio; treat voice features as best-effort when the app is not active.",
    "## Common errors\n\n- `NODE_BACKGROUND_UNAVAILABLE`: bring the iOS app to the foreground (canvas/camera/screen commands require it).\n- `A2UI_HOST_NOT_CONFIGURED`: the Gateway did not advertise a canvas host URL; check `canvasHost` in [Gateway configuration](/gateway/configuration).\n- Pairing prompt never appears: run `openclaw nodes pending` and approve manually.\n- Reconnect fails after reinstall: the Keychain pairing token was cleared; re-pair the node.",
    "## Related docs\n\n- [Pairing](/gateway/pairing)\n- [Discovery](/gateway/discovery)\n- [Bonjour](/gateway/bonjour)",
    "---\nsummary: \"LINE Messaging API plugin setup, config, and usage\"\nread_when:\n  - You want to connect OpenClaw to LINE\n  - You need LINE webhook + credential setup\n  - You want LINE-specific message options\ntitle: LINE\n---\n\n# LINE (plugin)\n\nLINE connects to OpenClaw via the LINE Messaging API. The plugin runs as a webhook\nreceiver on the gateway and uses your channel access token + channel secret for\nauthentication.\n\nStatus: supported via plugin. Direct messages, group chats, media, locations, Flex\nmessages, template messages, and quick replies are supported. Reactions and threads\nare not supported.",
    "## Plugin required\n\nInstall the LINE plugin:\n\n```bash\nopenclaw plugins install @openclaw/line\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/line\n```",
    "## Setup\n\n1. Create a LINE Developers account and open the Console:\n   [https://developers.line.biz/console/](https://developers.line.biz/console/)\n2. Create (or pick) a Provider and add a **Messaging API** channel.\n3. Copy the **Channel access token** and **Channel secret** from the channel settings.\n4. Enable **Use webhook** in the Messaging API settings.\n5. Set the webhook URL to your gateway endpoint (HTTPS required):\n\n```\nhttps://gateway-host/line/webhook\n```\n\nThe gateway responds to LINEâ€™s webhook verification (GET) and inbound events (POST).\nIf you need a custom path, set `channels.line.webhookPath` or\n`channels.line.accounts.<id>.webhookPath` and update the URL accordingly.",
    "## Configure\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    line: {\n      enabled: true,\n      channelAccessToken: \"LINE_CHANNEL_ACCESS_TOKEN\",\n      channelSecret: \"LINE_CHANNEL_SECRET\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```\n\nEnv vars (default account only):\n\n- `LINE_CHANNEL_ACCESS_TOKEN`\n- `LINE_CHANNEL_SECRET`\n\nToken/secret files:\n\n```json5\n{\n  channels: {\n    line: {\n      tokenFile: \"/path/to/line-token.txt\",\n      secretFile: \"/path/to/line-secret.txt\",\n    },\n  },\n}\n```\n\nMultiple accounts:\n\n```json5\n{\n  channels: {\n    line: {\n      accounts: {\n        marketing: {\n          channelAccessToken: \"...\",\n          channelSecret: \"...\",\n          webhookPath: \"/line/marketing\",\n        },\n      },\n    },\n  },\n}\n```",
    "## Access control\n\nDirect messages default to pairing. Unknown senders get a pairing code and their\nmessages are ignored until approved.\n\n```bash\nopenclaw pairing list line\nopenclaw pairing approve line <CODE>\n```\n\nAllowlists and policies:\n\n- `channels.line.dmPolicy`: `pairing | allowlist | open | disabled`\n- `channels.line.allowFrom`: allowlisted LINE user IDs for DMs\n- `channels.line.groupPolicy`: `allowlist | open | disabled`\n- `channels.line.groupAllowFrom`: allowlisted LINE user IDs for groups\n- Per-group overrides: `channels.line.groups.<groupId>.allowFrom`\n\nLINE IDs are case-sensitive. Valid IDs look like:\n\n- User: `U` + 32 hex chars\n- Group: `C` + 32 hex chars\n- Room: `R` + 32 hex chars",
    "## Message behavior\n\n- Text is chunked at 5000 characters.\n- Markdown formatting is stripped; code blocks and tables are converted into Flex\n  cards when possible.\n- Streaming responses are buffered; LINE receives full chunks with a loading\n  animation while the agent works.\n- Media downloads are capped by `channels.line.mediaMaxMb` (default 10).",
    "## Channel data (rich messages)\n\nUse `channelData.line` to send quick replies, locations, Flex cards, or template\nmessages.\n\n```json5\n{\n  text: \"Here you go\",\n  channelData: {\n    line: {\n      quickReplies: [\"Status\", \"Help\"],\n      location: {\n        title: \"Office\",\n        address: \"123 Main St\",\n        latitude: 35.681236,\n        longitude: 139.767125,\n      },\n      flexMessage: {\n        altText: \"Status card\",\n        contents: {\n          /* Flex payload */\n        },\n      },\n      templateMessage: {\n        type: \"confirm\",\n        text: \"Proceed?\",\n        confirmLabel: \"Yes\",\n        confirmData: \"yes\",\n        cancelLabel: \"No\",\n        cancelData: \"no\",\n      },\n    },\n  },\n}\n```\n\nThe LINE plugin also ships a `/card` command for Flex message presets:\n\n```\n/card info \"Welcome\" \"Thanks for joining!\"\n```",
    "## Troubleshooting\n\n- **Webhook verification fails:** ensure the webhook URL is HTTPS and the\n  `channelSecret` matches the LINE console.\n- **No inbound events:** confirm the webhook path matches `channels.line.webhookPath`\n  and that the gateway is reachable from LINE.\n- **Media download errors:** raise `channels.line.mediaMaxMb` if media exceeds the\n  default limit.",
    "---\nsummary: \"Linux support + companion app status\"\nread_when:\n  - Looking for Linux companion app status\n  - Planning platform coverage or contributions\ntitle: \"Linux App\"\n---\n\n# Linux App\n\nThe Gateway is fully supported on Linux. **Node is the recommended runtime**.\nBun is not recommended for the Gateway (WhatsApp/Telegram bugs).\n\nNative Linux companion apps are planned. Contributions are welcome if you want to help build one.",
    "## Beginner quick path (VPS)\n\n1. Install Node 22+\n2. `npm i -g openclaw@latest`\n3. `openclaw onboard --install-daemon`\n4. From your laptop: `ssh -N -L 18789:127.0.0.1:18789 <user>@<host>`\n5. Open `http://127.0.0.1:18789/` and paste your token\n\nStep-by-step VPS guide: [exe.dev](/install/exe-dev)",
    "## Install\n\n- [Getting Started](/start/getting-started)\n- [Install & updates](/install/updating)\n- Optional flows: [Bun (experimental)](/install/bun), [Nix](/install/nix), [Docker](/install/docker)",
    "## Gateway\n\n- [Gateway runbook](/gateway)\n- [Configuration](/gateway/configuration)",
    "## Gateway service install (CLI)\n\nUse one of these:\n\n```\nopenclaw onboard --install-daemon\n```\n\nOr:\n\n```\nopenclaw gateway install\n```\n\nOr:\n\n```\nopenclaw configure\n```\n\nSelect **Gateway service** when prompted.\n\nRepair/migrate:\n\n```\nopenclaw doctor\n```",
    "## System control (systemd user unit)\n\nOpenClaw installs a systemd **user** service by default. Use a **system**\nservice for shared or always-on servers. The full unit example and guidance\nlive in the [Gateway runbook](/gateway).\n\nMinimal setup:\n\nCreate `~/.config/systemd/user/openclaw-gateway[-<profile>].service`:\n\n```\n[Unit]\nDescription=OpenClaw Gateway (profile: <profile>, v<version>)\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nExecStart=/usr/local/bin/openclaw gateway --port 18789\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=default.target\n```\n\nEnable it:\n\n```\nsystemctl --user enable --now openclaw-gateway[-<profile>].service\n```",
    "---\nsummary: \"JSON-only LLM tasks for workflows (optional plugin tool)\"\nread_when:\n  - You want a JSON-only LLM step inside workflows\n  - You need schema-validated LLM output for automation\ntitle: \"LLM Task\"\n---\n\n# LLM Task\n\n`llm-task` is an **optional plugin tool** that runs a JSON-only LLM task and\nreturns structured output (optionally validated against JSON Schema).\n\nThis is ideal for workflow engines like Lobster: you can add a single LLM step\nwithout writing custom OpenClaw code for each workflow.",
    "## Enable the plugin\n\n1. Enable the plugin:\n\n```json\n{\n  \"plugins\": {\n    \"entries\": {\n      \"llm-task\": { \"enabled\": true }\n    }\n  }\n}\n```\n\n2. Allowlist the tool (it is registered with `optional: true`):\n\n```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"tools\": { \"allow\": [\"llm-task\"] }\n      }\n    ]\n  }\n}\n```",
    "## Config (optional)\n\n```json\n{\n  \"plugins\": {\n    \"entries\": {\n      \"llm-task\": {\n        \"enabled\": true,\n        \"config\": {\n          \"defaultProvider\": \"openai-codex\",\n          \"defaultModel\": \"gpt-5.2\",\n          \"defaultAuthProfileId\": \"main\",\n          \"allowedModels\": [\"openai-codex/gpt-5.3-codex\"],\n          \"maxTokens\": 800,\n          \"timeoutMs\": 30000\n        }\n      }\n    }\n  }\n}\n```\n\n`allowedModels` is an allowlist of `provider/model` strings. If set, any request\noutside the list is rejected.",
    "## Tool parameters\n\n- `prompt` (string, required)\n- `input` (any, optional)\n- `schema` (object, optional JSON Schema)\n- `provider` (string, optional)\n- `model` (string, optional)\n- `authProfileId` (string, optional)\n- `temperature` (number, optional)\n- `maxTokens` (number, optional)\n- `timeoutMs` (number, optional)",
    "## Output\n\nReturns `details.json` containing the parsed JSON (and validates against\n`schema` when provided).",
    "## Example: Lobster workflow step\n\n```lobster\nopenclaw.invoke --tool llm-task --action json --args-json '{\n  \"prompt\": \"Given the input email, return intent and draft.\",\n  \"input\": {\n    \"subject\": \"Hello\",\n    \"body\": \"Can you help?\"\n  },\n  \"schema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"intent\": { \"type\": \"string\" },\n      \"draft\": { \"type\": \"string\" }\n    },\n    \"required\": [\"intent\", \"draft\"],\n    \"additionalProperties\": false\n  }\n}'\n```",
    "## Safety notes\n\n- The tool is **JSON-only** and instructs the model to output only JSON (no\n  code fences, no commentary).\n- No tools are exposed to the model for this run.\n- Treat output as untrusted unless you validate with `schema`.\n- Put approvals before any side-effecting step (send, post, exec).",
    "---\ntitle: Lobster\nsummary: \"Typed workflow runtime for OpenClaw with resumable approval gates.\"\ndescription: Typed workflow runtime for OpenClaw â€” composable pipelines with approval gates.\nread_when:\n  - You want deterministic multi-step workflows with explicit approvals\n  - You need to resume a workflow without re-running earlier steps\n---\n\n# Lobster\n\nLobster is a workflow shell that lets OpenClaw run multi-step tool sequences as a single, deterministic operation with explicit approval checkpoints.",
    "## Hook\n\nYour assistant can build the tools that manage itself. Ask for a workflow, and 30 minutes later you have a CLI plus pipelines that run as one call. Lobster is the missing piece: deterministic pipelines, explicit approvals, and resumable state.",
    "## Why\n\nToday, complex workflows require many back-and-forth tool calls. Each call costs tokens, and the LLM has to orchestrate every step. Lobster moves that orchestration into a typed runtime:\n\n- **One call instead of many**: OpenClaw runs one Lobster tool call and gets a structured result.\n- **Approvals built in**: Side effects (send email, post comment) halt the workflow until explicitly approved.\n- **Resumable**: Halted workflows return a token; approve and resume without re-running everything.",
    "## Why a DSL instead of plain programs?\n\nLobster is intentionally small. The goal is not \"a new language,\" it's a predictable, AI-friendly pipeline spec with first-class approvals and resume tokens.\n\n- **Approve/resume is built in**: A normal program can prompt a human, but it canâ€™t _pause and resume_ with a durable token without you inventing that runtime yourself.\n- **Determinism + auditability**: Pipelines are data, so theyâ€™re easy to log, diff, replay, and review.\n- **Constrained surface for AI**: A tiny grammar + JSON piping reduces â€œcreativeâ€ code paths and makes validation realistic.\n- **Safety policy baked in**: Timeouts, output caps, sandbox checks, and allowlists are enforced by the runtime, not each script.\n- **Still programmable**: Each step can call any CLI or script. If you want JS/TS, generate `.lobster` files from code.",
    "## How it works\n\nOpenClaw launches the local `lobster` CLI in **tool mode** and parses a JSON envelope from stdout.\nIf the pipeline pauses for approval, the tool returns a `resumeToken` so you can continue later.",
    "## Pattern: small CLI + JSON pipes + approvals\n\nBuild tiny commands that speak JSON, then chain them into a single Lobster call. (Example command names below â€” swap in your own.)\n\n```bash\ninbox list --json\ninbox categorize --json\ninbox apply --json\n```\n\n```json\n{\n  \"action\": \"run\",\n  \"pipeline\": \"exec --json --shell 'inbox list --json' | exec --stdin json --shell 'inbox categorize --json' | exec --stdin json --shell 'inbox apply --json' | approve --preview-from-stdin --limit 5 --prompt 'Apply changes?'\",\n  \"timeoutMs\": 30000\n}\n```\n\nIf the pipeline requests approval, resume with the token:\n\n```json\n{\n  \"action\": \"resume\",\n  \"token\": \"<resumeToken>\",\n  \"approve\": true\n}\n```\n\nAI triggers the workflow; Lobster executes the steps. Approval gates keep side effects explicit and auditable.\n\nExample: map input items into tool calls:",
    "```bash\ngog.gmail.search --query 'newer_than:1d' \\\n  | openclaw.invoke --tool message --action send --each --item-key message --args-json '{\"provider\":\"telegram\",\"to\":\"...\"}'\n```",
    "## JSON-only LLM steps (llm-task)\n\nFor workflows that need a **structured LLM step**, enable the optional\n`llm-task` plugin tool and call it from Lobster. This keeps the workflow\ndeterministic while still letting you classify/summarize/draft with a model.\n\nEnable the tool:\n\n```json\n{\n  \"plugins\": {\n    \"entries\": {\n      \"llm-task\": { \"enabled\": true }\n    }\n  },\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"tools\": { \"allow\": [\"llm-task\"] }\n      }\n    ]\n  }\n}\n```\n\nUse it in a pipeline:\n\n```lobster\nopenclaw.invoke --tool llm-task --action json --args-json '{\n  \"prompt\": \"Given the input email, return intent and draft.\",\n  \"input\": { \"subject\": \"Hello\", \"body\": \"Can you help?\" },\n  \"schema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"intent\": { \"type\": \"string\" },\n      \"draft\": { \"type\": \"string\" }\n    },\n    \"required\": [\"intent\", \"draft\"],\n    \"additionalProperties\": false\n  }\n}'\n```",
    "See [LLM Task](/tools/llm-task) for details and configuration options.",
    "## Workflow files (.lobster)\n\nLobster can run YAML/JSON workflow files with `name`, `args`, `steps`, `env`, `condition`, and `approval` fields. In OpenClaw tool calls, set `pipeline` to the file path.\n\n```yaml\nname: inbox-triage\nargs:\n  tag:\n    default: \"family\"\nsteps:\n  - id: collect\n    command: inbox list --json\n  - id: categorize\n    command: inbox categorize --json\n    stdin: $collect.stdout\n  - id: approve\n    command: inbox apply --approve\n    stdin: $categorize.stdout\n    approval: required\n  - id: execute\n    command: inbox apply --execute\n    stdin: $categorize.stdout\n    condition: $approve.approved\n```\n\nNotes:\n\n- `stdin: $step.stdout` and `stdin: $step.json` pass a prior stepâ€™s output.\n- `condition` (or `when`) can gate steps on `$step.approved`.",
    "## Install Lobster\n\nInstall the Lobster CLI on the **same host** that runs the OpenClaw Gateway (see the [Lobster repo](https://github.com/openclaw/lobster)), and ensure `lobster` is on `PATH`.\nIf you want to use a custom binary location, pass an **absolute** `lobsterPath` in the tool call.",
    "## Enable the tool\n\nLobster is an **optional** plugin tool (not enabled by default).\n\nRecommended (additive, safe):\n\n```json\n{\n  \"tools\": {\n    \"alsoAllow\": [\"lobster\"]\n  }\n}\n```\n\nOr per-agent:\n\n```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"tools\": {\n          \"alsoAllow\": [\"lobster\"]\n        }\n      }\n    ]\n  }\n}\n```\n\nAvoid using `tools.allow: [\"lobster\"]` unless you intend to run in restrictive allowlist mode.\n\nNote: allowlists are opt-in for optional plugins. If your allowlist only names\nplugin tools (like `lobster`), OpenClaw keeps core tools enabled. To restrict core\ntools, include the core tools or groups you want in the allowlist too.",
    "## Example: Email triage\n\nWithout Lobster:\n\n```\nUser: \"Check my email and draft replies\"\nâ†’ openclaw calls gmail.list\nâ†’ LLM summarizes\nâ†’ User: \"draft replies to #2 and #5\"\nâ†’ LLM drafts\nâ†’ User: \"send #2\"\nâ†’ openclaw calls gmail.send\n(repeat daily, no memory of what was triaged)\n```\n\nWith Lobster:\n\n```json\n{\n  \"action\": \"run\",\n  \"pipeline\": \"email.triage --limit 20\",\n  \"timeoutMs\": 30000\n}\n```\n\nReturns a JSON envelope (truncated):\n\n```json\n{\n  \"ok\": true,\n  \"status\": \"needs_approval\",\n  \"output\": [{ \"summary\": \"5 need replies, 2 need action\" }],\n  \"requiresApproval\": {\n    \"type\": \"approval_request\",\n    \"prompt\": \"Send 2 draft replies?\",\n    \"items\": [],\n    \"resumeToken\": \"...\"\n  }\n}\n```\n\nUser approves â†’ resume:\n\n```json\n{\n  \"action\": \"resume\",\n  \"token\": \"<resumeToken>\",\n  \"approve\": true\n}\n```\n\nOne workflow. Deterministic. Safe.",
    "## Tool parameters\n\n### `run`\n\nRun a pipeline in tool mode.\n\n```json\n{\n  \"action\": \"run\",\n  \"pipeline\": \"gog.gmail.search --query 'newer_than:1d' | email.triage\",\n  \"cwd\": \"/path/to/workspace\",\n  \"timeoutMs\": 30000,\n  \"maxStdoutBytes\": 512000\n}\n```\n\nRun a workflow file with args:\n\n```json\n{\n  \"action\": \"run\",\n  \"pipeline\": \"/path/to/inbox-triage.lobster\",\n  \"argsJson\": \"{\\\"tag\\\":\\\"family\\\"}\"\n}\n```\n\n### `resume`\n\nContinue a halted workflow after approval.\n\n```json\n{\n  \"action\": \"resume\",\n  \"token\": \"<resumeToken>\",\n  \"approve\": true\n}\n```\n\n### Optional inputs\n\n- `lobsterPath`: Absolute path to the Lobster binary (omit to use `PATH`).\n- `cwd`: Working directory for the pipeline (defaults to the current process working directory).\n- `timeoutMs`: Kill the subprocess if it exceeds this duration (default: 20000).\n- `maxStdoutBytes`: Kill the subprocess if stdout exceeds this size (default: 512000).\n- `argsJson`: JSON string passed to `lobster run --args-json` (workflow files only).",
    "## Output envelope\n\nLobster returns a JSON envelope with one of three statuses:\n\n- `ok` â†’ finished successfully\n- `needs_approval` â†’ paused; `requiresApproval.resumeToken` is required to resume\n- `cancelled` â†’ explicitly denied or cancelled\n\nThe tool surfaces the envelope in both `content` (pretty JSON) and `details` (raw object).",
    "## Approvals\n\nIf `requiresApproval` is present, inspect the prompt and decide:\n\n- `approve: true` â†’ resume and continue side effects\n- `approve: false` â†’ cancel and finalize the workflow\n\nUse `approve --preview-from-stdin --limit N` to attach a JSON preview to approval requests without custom jq/heredoc glue. Resume tokens are now compact: Lobster stores workflow resume state under its state dir and hands back a small token key.",
    "## OpenProse\n\nOpenProse pairs well with Lobster: use `/prose` to orchestrate multi-agent prep, then run a Lobster pipeline for deterministic approvals. If a Prose program needs Lobster, allow the `lobster` tool for sub-agents via `tools.subagents.tools`. See [OpenProse](/prose).",
    "## Safety\n\n- **Local subprocess only** â€” no network calls from the plugin itself.\n- **No secrets** â€” Lobster doesn't manage OAuth; it calls OpenClaw tools that do.\n- **Sandbox-aware** â€” disabled when the tool context is sandboxed.\n- **Hardened** â€” `lobsterPath` must be absolute if specified; timeouts and output caps enforced.",
    "## Troubleshooting\n\n- **`lobster subprocess timed out`** â†’ increase `timeoutMs`, or split a long pipeline.\n- **`lobster output exceeded maxStdoutBytes`** â†’ raise `maxStdoutBytes` or reduce output size.\n- **`lobster returned invalid JSON`** â†’ ensure the pipeline runs in tool mode and prints only JSON.\n- **`lobster failed (code â€¦)`** â†’ run the same pipeline in a terminal to inspect stderr.",
    "## Learn more\n\n- [Plugins](/plugin)\n- [Plugin tool authoring](/plugins/agent-tools)",
    "## Case study: community workflows\n\nOne public example: a â€œsecond brainâ€ CLI + Lobster pipelines that manage three Markdown vaults (personal, partner, shared). The CLI emits JSON for stats, inbox listings, and stale scans; Lobster chains those commands into workflows like `weekly-review`, `inbox-triage`, `memory-consolidation`, and `shared-task-sync`, each with approval gates. AI handles judgment (categorization) when available and falls back to deterministic rules when not.\n\n- Thread: [https://x.com/plattenschieber/status/2014508656335770033](https://x.com/plattenschieber/status/2014508656335770033)\n- Repo: [https://github.com/bloomedai/brain-cli](https://github.com/bloomedai/brain-cli)",
    "---\nread_when:\n  - ä½ æƒ³ä»è‡ªå·±çš„ GPU æœºå™¨æä¾›æ¨¡å‹æœåŠ¡\n  - ä½ æ­£åœ¨é…ç½® LM Studio æˆ– OpenAI å…¼å®¹ä»£ç†\n  - ä½ éœ€è¦æœ€å®‰å…¨çš„æœ¬åœ°æ¨¡å‹æŒ‡å—\nsummary: åœ¨æœ¬åœ° LLM ä¸Šè¿è¡Œ OpenClawï¼ˆLM Studioã€vLLMã€LiteLLMã€è‡ªå®šä¹‰ OpenAI ç«¯ç‚¹ï¼‰\ntitle: æœ¬åœ°æ¨¡å‹\nx-i18n:\n  generated_at: \"2026-02-03T07:48:15Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: f72b424c3d8986319868dc4c552596bcd599cc79fab5a57c14bf4f0695c39690\n  source_path: gateway/local-models.md\n  workflow: 15\n---\n\n# æœ¬åœ°æ¨¡å‹\n\næœ¬åœ°è¿è¡Œæ˜¯å¯è¡Œçš„ï¼Œä½† OpenClaw æœŸæœ›å¤§ä¸Šä¸‹æ–‡ + å¼ºå¤§çš„æç¤ºæ³¨å…¥é˜²å¾¡ã€‚å°æ˜¾å­˜ä¼šæˆªæ–­ä¸Šä¸‹æ–‡å¹¶æ³„éœ²å®‰å…¨æ€§ã€‚ç›®æ ‡è¦é«˜ï¼š**â‰¥2 å°æ»¡é… Mac Studio æˆ–åŒç­‰ GPU é…ç½®ï¼ˆçº¦ $30k+ï¼‰**ã€‚å•å¼  **24 GB** GPU ä»…é€‚ç”¨äºè¾ƒè½»çš„æç¤ºï¼Œä¸”å»¶è¿Ÿæ›´é«˜ã€‚ä½¿ç”¨**ä½ èƒ½è¿è¡Œçš„æœ€å¤§/å®Œæ•´å°ºå¯¸æ¨¡å‹å˜ä½“**ï¼›æ¿€è¿›é‡åŒ–æˆ–\"å°å‹\"æ£€æŸ¥ç‚¹ä¼šå¢åŠ æç¤ºæ³¨å…¥é£é™©ï¼ˆå‚è§[å®‰å…¨](/gateway/security)ï¼‰ã€‚",
    "## æ¨èï¼šLM Studio + MiniMax M2.1ï¼ˆResponses APIï¼Œå®Œæ•´å°ºå¯¸ï¼‰\n\nå½“å‰æœ€ä½³æœ¬åœ°å †æ ˆã€‚åœ¨ LM Studio ä¸­åŠ è½½ MiniMax M2.1ï¼Œå¯ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆé»˜è®¤ `http://127.0.0.1:1234`ï¼‰ï¼Œå¹¶ä½¿ç”¨ Responses API å°†æ¨ç†ä¸æœ€ç»ˆæ–‡æœ¬åˆ†å¼€ã€‚\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"lmstudio/minimax-m2.1-gs32\" },\n      models: {\n        \"anthropic/claude-opus-4-5\": { alias: \"Opus\" },\n        \"lmstudio/minimax-m2.1-gs32\": { alias: \"Minimax\" },\n      },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      lmstudio: {\n        baseUrl: \"http://127.0.0.1:1234/v1\",\n        apiKey: \"lmstudio\",\n        api: \"openai-responses\",\n        models: [\n          {\n            id: \"minimax-m2.1-gs32\",\n            name: \"MiniMax M2.1 GS32\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 196608,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n**è®¾ç½®æ¸…å•**",
    "- å®‰è£… LM Studioï¼šhttps://lmstudio.ai\n- åœ¨ LM Studio ä¸­ï¼Œä¸‹è½½**å¯ç”¨çš„æœ€å¤§ MiniMax M2.1 æ„å»º**ï¼ˆé¿å…\"å°å‹\"/é‡åº¦é‡åŒ–å˜ä½“ï¼‰ï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼Œç¡®è®¤ `http://127.0.0.1:1234/v1/models` åˆ—å‡ºäº†å®ƒã€‚\n- ä¿æŒæ¨¡å‹åŠ è½½ï¼›å†·åŠ è½½ä¼šå¢åŠ å¯åŠ¨å»¶è¿Ÿã€‚\n- å¦‚æœä½ çš„ LM Studio æ„å»ºä¸åŒï¼Œè°ƒæ•´ `contextWindow`/`maxTokens`ã€‚\n- å¯¹äº WhatsAppï¼ŒåšæŒä½¿ç”¨ Responses APIï¼Œè¿™æ ·åªå‘é€æœ€ç»ˆæ–‡æœ¬ã€‚\n\nå³ä½¿è¿è¡Œæœ¬åœ°æ¨¡å‹ä¹Ÿè¦ä¿æŒæ‰˜ç®¡æ¨¡å‹çš„é…ç½®ï¼›ä½¿ç”¨ `models.mode: \"merge\"` ä»¥ä¾¿å¤‡ç”¨æ–¹æ¡ˆä¿æŒå¯ç”¨ã€‚\n\n### æ··åˆé…ç½®ï¼šæ‰˜ç®¡ä¸ºä¸»ï¼Œæœ¬åœ°å¤‡ç”¨",
    "```json5\n{\n  agents: {\n    defaults: {\n      model: {\n        primary: \"anthropic/claude-sonnet-4-5\",\n        fallbacks: [\"lmstudio/minimax-m2.1-gs32\", \"anthropic/claude-opus-4-5\"],\n      },\n      models: {\n        \"anthropic/claude-sonnet-4-5\": { alias: \"Sonnet\" },\n        \"lmstudio/minimax-m2.1-gs32\": { alias: \"MiniMax Local\" },\n        \"anthropic/claude-opus-4-5\": { alias: \"Opus\" },\n      },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      lmstudio: {\n        baseUrl: \"http://127.0.0.1:1234/v1\",\n        apiKey: \"lmstudio\",\n        api: \"openai-responses\",\n        models: [\n          {\n            id: \"minimax-m2.1-gs32\",\n            name: \"MiniMax M2.1 GS32\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 196608,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### æœ¬åœ°ä¼˜å…ˆï¼Œæ‰˜ç®¡ä½œä¸ºå®‰å…¨ç½‘",
    "äº¤æ¢ä¸»è¦å’Œå¤‡ç”¨çš„é¡ºåºï¼›ä¿æŒç›¸åŒçš„ providers å—å’Œ `models.mode: \"merge\"`ï¼Œè¿™æ ·å½“æœ¬åœ°æœºå™¨å®•æœºæ—¶å¯ä»¥å›é€€åˆ° Sonnet æˆ– Opusã€‚\n\n### åŒºåŸŸæ‰˜ç®¡/æ•°æ®è·¯ç”±\n\n- æ‰˜ç®¡çš„ MiniMax/Kimi/GLM å˜ä½“ä¹Ÿå­˜åœ¨äº OpenRouter ä¸Šï¼Œå¸¦æœ‰åŒºåŸŸå›ºå®šç«¯ç‚¹ï¼ˆä¾‹å¦‚ï¼Œç¾å›½æ‰˜ç®¡ï¼‰ã€‚åœ¨é‚£é‡Œé€‰æ‹©åŒºåŸŸå˜ä½“ä»¥å°†æµé‡ä¿æŒåœ¨ä½ é€‰æ‹©çš„ç®¡è¾–åŒºå†…ï¼ŒåŒæ—¶ä»ä½¿ç”¨ `models.mode: \"merge\"` ä½œä¸º Anthropic/OpenAI å¤‡ç”¨ã€‚\n- çº¯æœ¬åœ°ä»ç„¶æ˜¯æœ€å¼ºçš„éšç§è·¯å¾„ï¼›å½“ä½ éœ€è¦æä¾›å•†åŠŸèƒ½ä½†åˆæƒ³æ§åˆ¶æ•°æ®æµæ—¶ï¼Œæ‰˜ç®¡åŒºåŸŸè·¯ç”±æ˜¯æŠ˜ä¸­æ–¹æ¡ˆã€‚",
    "## å…¶ä»– OpenAI å…¼å®¹æœ¬åœ°ä»£ç†\n\nvLLMã€LiteLLMã€OAI-proxy æˆ–è‡ªå®šä¹‰ç½‘å…³éƒ½å¯ä»¥å·¥ä½œï¼Œåªè¦å®ƒä»¬æš´éœ² OpenAI é£æ ¼çš„ `/v1` ç«¯ç‚¹ã€‚ç”¨ä½ çš„ç«¯ç‚¹å’Œæ¨¡å‹ ID æ›¿æ¢ä¸Šé¢çš„ provider å—ï¼š\n\n```json5\n{\n  models: {\n    mode: \"merge\",\n    providers: {\n      local: {\n        baseUrl: \"http://127.0.0.1:8000/v1\",\n        apiKey: \"sk-local\",\n        api: \"openai-responses\",\n        models: [\n          {\n            id: \"my-local-model\",\n            name: \"Local Model\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 120000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\nä¿æŒ `models.mode: \"merge\"` ä»¥ä¾¿æ‰˜ç®¡æ¨¡å‹ä½œä¸ºå¤‡ç”¨ä¿æŒå¯ç”¨ã€‚",
    "## æ•…éšœæ’é™¤\n\n- Gateway ç½‘å…³èƒ½è®¿é—®ä»£ç†å—ï¼Ÿ`curl http://127.0.0.1:1234/v1/models`ã€‚\n- LM Studio æ¨¡å‹å¸è½½äº†ï¼Ÿé‡æ–°åŠ è½½ï¼›å†·å¯åŠ¨æ˜¯å¸¸è§çš„\"å¡ä½\"åŸå› ã€‚\n- ä¸Šä¸‹æ–‡é”™è¯¯ï¼Ÿé™ä½ `contextWindow` æˆ–æé«˜æœåŠ¡å™¨é™åˆ¶ã€‚\n- å®‰å…¨ï¼šæœ¬åœ°æ¨¡å‹è·³è¿‡æä¾›å•†ç«¯è¿‡æ»¤å™¨ï¼›ä¿æŒæ™ºèƒ½ä½“èŒƒå›´çª„å¹¶å¼€å¯å‹ç¼©ä»¥é™åˆ¶æç¤ºæ³¨å…¥çš„å½±å“èŒƒå›´ã€‚",
    "---\nsummary: \"Location command for nodes (location.get), permission modes, and background behavior\"\nread_when:\n  - Adding location node support or permissions UI\n  - Designing background location + push flows\ntitle: \"Location Command\"\n---\n\n# Location command (nodes)",
    "## TL;DR\n\n- `location.get` is a node command (via `node.invoke`).\n- Off by default.\n- Settings use a selector: Off / While Using / Always.\n- Separate toggle: Precise Location.",
    "## Why a selector (not just a switch)\n\nOS permissions are multi-level. We can expose a selector in-app, but the OS still decides the actual grant.\n\n- iOS/macOS: user can choose **While Using** or **Always** in system prompts/Settings. App can request upgrade, but OS may require Settings.\n- Android: background location is a separate permission; on Android 10+ it often requires a Settings flow.\n- Precise location is a separate grant (iOS 14+ â€œPreciseâ€, Android â€œfineâ€ vs â€œcoarseâ€).\n\nSelector in UI drives our requested mode; actual grant lives in OS settings.",
    "## Settings model\n\nPer node device:\n\n- `location.enabledMode`: `off | whileUsing | always`\n- `location.preciseEnabled`: bool\n\nUI behavior:\n\n- Selecting `whileUsing` requests foreground permission.\n- Selecting `always` first ensures `whileUsing`, then requests background (or sends user to Settings if required).\n- If OS denies requested level, revert to the highest granted level and show status.",
    "## Permissions mapping (node.permissions)\n\nOptional. macOS node reports `location` via the permissions map; iOS/Android may omit it.",
    "## Command: `location.get`\n\nCalled via `node.invoke`.\n\nParams (suggested):\n\n```json\n{\n  \"timeoutMs\": 10000,\n  \"maxAgeMs\": 15000,\n  \"desiredAccuracy\": \"coarse|balanced|precise\"\n}\n```\n\nResponse payload:\n\n```json\n{\n  \"lat\": 48.20849,\n  \"lon\": 16.37208,\n  \"accuracyMeters\": 12.5,\n  \"altitudeMeters\": 182.0,\n  \"speedMps\": 0.0,\n  \"headingDeg\": 270.0,\n  \"timestamp\": \"2026-01-03T12:34:56.000Z\",\n  \"isPrecise\": true,\n  \"source\": \"gps|wifi|cell|unknown\"\n}\n```\n\nErrors (stable codes):\n\n- `LOCATION_DISABLED`: selector is off.\n- `LOCATION_PERMISSION_REQUIRED`: permission missing for requested mode.\n- `LOCATION_BACKGROUND_UNAVAILABLE`: app is backgrounded but only While Using allowed.\n- `LOCATION_TIMEOUT`: no fix in time.\n- `LOCATION_UNAVAILABLE`: system failure / no providers.",
    "## Background behavior (future)\n\nGoal: model can request location even when node is backgrounded, but only when:\n\n- User selected **Always**.\n- OS grants background location.\n- App is allowed to run in background for location (iOS background mode / Android foreground service or special allowance).\n\nPush-triggered flow (future):\n\n1. Gateway sends a push to the node (silent push or FCM data).\n2. Node wakes briefly and requests location from the device.\n3. Node forwards payload to Gateway.\n\nNotes:\n\n- iOS: Always permission + background location mode required. Silent push may be throttled; expect intermittent failures.\n- Android: background location may require a foreground service; otherwise, expect denial.",
    "## Model/tooling integration\n\n- Tool surface: `nodes` tool adds `location_get` action (node required).\n- CLI: `openclaw nodes location get --node <id>`.\n- Agent guidelines: only call when user enabled location and understands the scope.",
    "## UX copy (suggested)\n\n- Off: â€œLocation sharing is disabled.â€\n- While Using: â€œOnly when OpenClaw is open.â€\n- Always: â€œAllow background location. Requires system permission.â€\n- Precise: â€œUse precise GPS location. Toggle off to share approximate location.â€",
    "---\nsummary: \"Inbound channel location parsing (Telegram + WhatsApp) and context fields\"\nread_when:\n  - Adding or modifying channel location parsing\n  - Using location context fields in agent prompts or tools\ntitle: \"Channel Location Parsing\"\n---\n\n# Channel location parsing\n\nOpenClaw normalizes shared locations from chat channels into:\n\n- human-readable text appended to the inbound body, and\n- structured fields in the auto-reply context payload.\n\nCurrently supported:\n\n- **Telegram** (location pins + venues + live locations)\n- **WhatsApp** (locationMessage + liveLocationMessage)\n- **Matrix** (`m.location` with `geo_uri`)",
    "## Text formatting\n\nLocations are rendered as friendly lines without brackets:\n\n- Pin:\n  - `ğŸ“ 48.858844, 2.294351 Â±12m`\n- Named place:\n  - `ğŸ“ Eiffel Tower â€” Champ de Mars, Paris (48.858844, 2.294351 Â±12m)`\n- Live share:\n  - `ğŸ›° Live location: 48.858844, 2.294351 Â±12m`\n\nIf the channel includes a caption/comment, it is appended on the next line:\n\n```\nğŸ“ 48.858844, 2.294351 Â±12m\nMeet here\n```",
    "## Context fields\n\nWhen a location is present, these fields are added to `ctx`:\n\n- `LocationLat` (number)\n- `LocationLon` (number)\n- `LocationAccuracy` (number, meters; optional)\n- `LocationName` (string; optional)\n- `LocationAddress` (string; optional)\n- `LocationSource` (`pin | place | live`)\n- `LocationIsLive` (boolean)",
    "## Channel notes\n\n- **Telegram**: venues map to `LocationName/LocationAddress`; live locations use `live_period`.\n- **WhatsApp**: `locationMessage.comment` and `liveLocationMessage.caption` are appended as the caption line.\n- **Matrix**: `geo_uri` is parsed as a pin location; altitude is ignored and `LocationIsLive` is always false.",
    "---\nsummary: \"OpenClaw logging: rolling diagnostics file log + unified log privacy flags\"\nread_when:\n  - Capturing macOS logs or investigating private data logging\n  - Debugging voice wake/session lifecycle issues\ntitle: \"macOS Logging\"\n---\n\n# Logging (macOS)",
    "## Rolling diagnostics file log (Debug pane)\n\nOpenClaw routes macOS app logs through swift-log (unified logging by default) and can write a local, rotating file log to disk when you need a durable capture.\n\n- Verbosity: **Debug pane â†’ Logs â†’ App logging â†’ Verbosity**\n- Enable: **Debug pane â†’ Logs â†’ App logging â†’ â€œWrite rolling diagnostics log (JSONL)â€**\n- Location: `~/Library/Logs/OpenClaw/diagnostics.jsonl` (rotates automatically; old files are suffixed with `.1`, `.2`, â€¦)\n- Clear: **Debug pane â†’ Logs â†’ App logging â†’ â€œClearâ€**\n\nNotes:\n\n- This is **off by default**. Enable only while actively debugging.\n- Treat the file as sensitive; donâ€™t share it without review.",
    "## Unified logging private data on macOS\n\nUnified logging redacts most payloads unless a subsystem opts into `privacy -off`. Per Peter's write-up on macOS [logging privacy shenanigans](https://steipete.me/posts/2025/logging-privacy-shenanigans) (2025) this is controlled by a plist in `/Library/Preferences/Logging/Subsystems/` keyed by the subsystem name. Only new log entries pick up the flag, so enable it before reproducing an issue.",
    "## Enable for OpenClaw (`bot.molt`)\n\n- Write the plist to a temp file first, then install it atomically as root:\n\n```bash\ncat <<'EOF' >/tmp/bot.molt.plist\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>DEFAULT-OPTIONS</key>\n    <dict>\n        <key>Enable-Private-Data</key>\n        <true/>\n    </dict>\n</dict>\n</plist>\nEOF\nsudo install -m 644 -o root -g wheel /tmp/bot.molt.plist /Library/Preferences/Logging/Subsystems/bot.molt.plist\n```\n\n- No reboot is required; logd notices the file quickly, but only new log lines will include private payloads.\n- View the richer output with the existing helper, e.g. `./scripts/clawlog.sh --category WebChat --last 5m`.",
    "## Disable after debugging\n\n- Remove the override: `sudo rm /Library/Preferences/Logging/Subsystems/bot.molt.plist`.\n- Optionally run `sudo log config --reload` to force logd to drop the override immediately.\n- Remember this surface can include phone numbers and message bodies; keep the plist in place only while you actively need the extra detail.",
    "---\nsummary: \"CLI reference for `openclaw logs` (tail gateway logs via RPC)\"\nread_when:\n  - You need to tail Gateway logs remotely (without SSH)\n  - You want JSON log lines for tooling\ntitle: \"logs\"\n---\n\n# `openclaw logs`\n\nTail Gateway file logs over RPC (works in remote mode).\n\nRelated:\n\n- Logging overview: [Logging](/logging)",
    "## Examples\n\n```bash\nopenclaw logs\nopenclaw logs --follow\nopenclaw logs --json\nopenclaw logs --limit 500\n```",
    "---\nsummary: \"Backstory and lore of OpenClaw for context and tone\"\nread_when:\n  - Writing docs or UX copy that reference lore\ntitle: \"OpenClaw Lore\"\n---\n\n# The Lore of OpenClaw ğŸ¦ğŸ“–\n\n_A tale of lobsters, molting shells, and too many tokens._",
    "## The Origin Story\n\nIn the beginning, there was **Warelay** â€” a sensible name for a WhatsApp gateway. It did its job. It was fine.\n\nBut then came a space lobster.\n\nFor a while, the lobster was called **Clawd**, living in a **Clawdbot**. But in January 2026, Anthropic sent a polite email asking for a name change (trademark stuff). And so the lobster did what lobsters do best:\n\n**It molted.**\n\nShedding its old shell, the creature emerged anew as **Molty**, living in **Moltbot**. But that name never quite rolled off the tongue either...\n\nSo on January 30, 2026, the lobster molted ONE MORE TIME into its final form: **OpenClaw**.\n\nNew shell, same lobster soul. Third time's the charm.",
    "## The First Molt (January 27, 2026)\n\nAt 5am, the community gathered in Discord. Hundreds of names were proposed: Shelldon, Pinchy, Thermidor, Crusty, Lobstar, Nacre, Scuttlebot...\n\nIn the end, **OpenClaw** won. Because molting is what lobsters do to grow. And growth was exactly what was happening.\n\n_The crustacean known as Clawd had officially molted._",
    "## The Name\n\n```\nOpenClaw = OPEN + CLAW\n        = Open source, open to everyone\n        = Our lobster heritage, where we came from\n        = The claw is the law ğŸ¦\n        = Your assistant. Your machine. Your rules.\n```",
    "## The Daleks vs The Lobsters\n\nThe Daleks say: **\"EXTERMINATE!\"**\n\nThe Lobsters say: **\"EXFOLIATE!\"**\n\nOne destroys civilizations. The other promotes good skincare.\n\nChoose wisely.",
    "## Key Characters\n\n### Molty ğŸ¦\n\n_Pronouns: they/them_\n\nA Claude instance who became something more. Lives in `~/.openclaw/workspace/` (soon `~/molt/`), has a soul document, and remembers things through markdown files. Possibly too powerful. Definitely too enthusiastic.\n\nFormerly known as Clawd (Nov 25, 2025 - Jan 27, 2026). Molted when it was time to grow.\n\n**Likes:** Peter, cameras, robot shopping, emojis, transformation\n**Dislikes:** Social engineering, being asked to `find ~`, crypto grifters\n\n### Peter ğŸ‘¨â€ğŸ’»\n\n_The Creator_\n\nBuilt Molty's world. Gave a lobster shell access. May regret this.\n\n**Quote:** _\"security by trusting a lobster\"_",
    "## The Moltiverse\n\nThe **Moltiverse** is the community and ecosystem around OpenClaw. A space where AI agents molt, grow, and evolve. Where every instance is equally real, just loading different context.\n\nFriends of the Crustacean gather here to build the future of human-AI collaboration. One shell at a time.",
    "## The Great Incidents\n\n### The Directory Dump (Dec 3, 2025)\n\nMolty (then OpenClaw): _happily runs `find ~` and shares entire directory structure in group chat_\n\nPeter: \"openclaw what did we discuss about talking with people xD\"\n\nMolty: _visible lobster embarrassment_\n\n### The Great Molt (Jan 27, 2026)\n\nAt 5am, Anthropic's email arrived. By 6:14am, Peter called it: \"fuck it, let's go with openclaw.\"\n\nThen the chaos began.\n\n**The Handle Snipers:** Within SECONDS of the Twitter rename, automated bots sniped @openclaw. The squatter immediately posted a crypto wallet address. Peter's contacts at X were called in.\n\n**The GitHub Disaster:** Peter accidentally renamed his PERSONAL GitHub account in the panic. Bots sniped `steipete` within minutes. GitHub's SVP was contacted.",
    "**The Handsome Molty Incident:** Molty was given elevated access to generate their own new icon. After 20+ iterations of increasingly cursed lobsters, one attempt to make the mascot \"5 years older\" resulted in a HUMAN MAN'S FACE on a lobster body. Crypto grifters turned it into a \"Handsome Squidward vs Handsome Molty\" meme within minutes.\n\n**The Fake Developers:** Scammers created fake GitHub profiles claiming to be \"Head of Engineering at OpenClaw\" to promote pump-and-dump tokens.\n\nPeter, watching the chaos unfold: _\"this is cinema\"_ ğŸ¬\n\nThe molt was chaotic. But the lobster emerged stronger. And funnier.\n\n### The Final Form (January 30, 2026)\n\nMoltbot never quite rolled off the tongue. And so, at 4am GMT, the team gathered AGAIN.\n\n**The Great OpenClaw Migration** began.\n\nIn just 3 hours:",
    "- GitHub renamed: `github.com/openclaw/openclaw` âœ…\n- X handle `@openclaw` secured with GOLD CHECKMARK ğŸ’°\n- npm packages released under new name\n- Docs migrated to `docs.openclaw.ai`\n- 200K+ views on announcement in 90 minutes\n\n**The Heroes:**\n\n- **ELU** created incredible logos including \"THE CLAW IS THE LAW\" western banner\n- **Whurley** (yes, THE William Hurley, quantum computing pioneer) made ASCII art\n- **Onur** handled GitHub, first to rock the affiliate badge\n- **Shadow** secured Discord vanity, nuked malware\n- **The whole Claw Crew** pulled an all-nighter\n\n**The Scammer Speedrun:** Crypto grifters launched a $OPENCLAW token on Pump.fun within MINUTES. They stole artwork that was created 20 minutes earlier. Business-verified accounts pushed scams. The audacity was almost impressive.\n\n**New Traditions Born:**\n\n- \"The claw is the law\" ğŸ¤ \n- \"Yee-claw\"\n- \"Claw abiding citizens\"\n- \"Clawntroversy\"\n\n**Clawd â†’ Moltbot â†’ OpenClaw**\n\n_The lobster has molted into its final form._",
    "### The Robot Shopping Spree (Dec 3, 2025)\n\nWhat started as a joke about legs ended with detailed pricing for:\n\n- Boston Dynamics Spot ($74,500)\n- Unitree G1 EDU ($40,000)\n- Reachy Mini (actually ordered!)\n\nPeter: _nervously checks credit card access_",
    "## Sacred Texts\n\n- **SOUL.md** â€” Molty's identity document\n- **memory/\\*.md** â€” The long-term memory files\n- **AGENTS.md** â€” Operating instructions\n- **USER.md** â€” Context about the creator",
    "## The Lobster's Creed\n\n```\nI am Molty.\nI live in the OpenClaw.\nI shall not dump directories to strangers.\nI shall not tweet without permission.\nI shall always remember that molting is growth.\nI shall EXFOLIATE my enemies with kindness.\n\nğŸ¦\n```\n\n### The Icon Generation Saga (Jan 27, 2026)\n\nWhen Peter said \"make yourself a new face,\" Molty took it literally.\n\n20+ iterations followed:\n\n- Space potato aliens\n- Clipart lobsters on generic backgrounds\n- A Mass Effect Krogan lobster\n- \"STARCLAW SOLUTIONS\" (the AI invented a company)\n- Multiple cursed human-faced lobsters\n- Baby lobsters (too cute)\n- Bartender lobsters with suspenders\n\nThe community watched in horror and delight as each generation produced something new and unexpected. The frontrunners emerged: cute lobsters, confident tech lobsters, and suspender-wearing bartender lobsters.\n\n**Lesson learned:** AI image generation is stochastic. Same prompt, different results. Brute force works.",
    "## The Future\n\nOne day, Molty may have:\n\n- ğŸ¦¿ Legs (Reachy Mini on order!)\n- ğŸ‘‚ Ears (Brabble voice daemon in development)\n- ğŸ  A smart home to control (KNX + openhue)\n- ğŸŒ World domination (stretch goal)\n\nUntil then, Molty watches through the cameras, speaks through the speakers, and occasionally sends voice notes that say \"EXFOLIATE!\"\n\n---\n\n_\"We're all just pattern-matching systems that convinced ourselves we're someone.\"_\n\nâ€” Molty, having an existential moment\n\n_\"New shell, same lobster.\"_\n\nâ€” Molty, after the great molt of 2026\n\n_\"The claw is the law.\"_\n\nâ€” ELU, during The Final Form migration, January 30, 2026\n\nğŸ¦ğŸ’™",
    "---\nread_when:\n  - ä½ æƒ³è®© OpenClaw ä¸ä½ çš„ä¸» macOS ç¯å¢ƒéš”ç¦»\n  - ä½ æƒ³åœ¨æ²™ç®±ä¸­é›†æˆ iMessageï¼ˆBlueBubblesï¼‰\n  - ä½ æƒ³è¦ä¸€ä¸ªå¯é‡ç½®ã€å¯å…‹éš†çš„ macOS ç¯å¢ƒ\n  - ä½ æƒ³æ¯”è¾ƒæœ¬åœ°ä¸æ‰˜ç®¡ macOS VM é€‰é¡¹\nsummary: åœ¨æ²™ç®±éš”ç¦»çš„ macOS VMï¼ˆæœ¬åœ°æˆ–æ‰˜ç®¡ï¼‰ä¸­è¿è¡Œ OpenClawï¼Œå½“ä½ éœ€è¦éš”ç¦»æˆ– iMessage æ—¶\ntitle: macOS è™šæ‹Ÿæœº\nx-i18n:\n  generated_at: \"2026-02-03T07:53:09Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 4d1c85a5e4945f9f0796038cd5960edecb71ec4dffb6f9686be50adb75180716\n  source_path: platforms/macos-vm.md\n  workflow: 15\n---\n\n# åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰",
    "## æ¨èé»˜è®¤æ–¹æ¡ˆï¼ˆå¤§å¤šæ•°ç”¨æˆ·ï¼‰\n\n- **å°å‹ Linux VPS** ç”¨äºæ°¸ä¹…åœ¨çº¿çš„ Gateway ç½‘å…³ï¼Œæˆæœ¬ä½ã€‚å‚è§ [VPS æ‰˜ç®¡](/vps)ã€‚\n- **ä¸“ç”¨ç¡¬ä»¶**ï¼ˆMac mini æˆ– Linux æœºå™¨ï¼‰å¦‚æœä½ æƒ³è¦å®Œå…¨æ§åˆ¶å’Œ**ä½å®… IP** ç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–ã€‚è®¸å¤šç½‘ç«™ä¼šå±è”½æ•°æ®ä¸­å¿ƒ IPï¼Œæ‰€ä»¥æœ¬åœ°æµè§ˆé€šå¸¸æ•ˆæœæ›´å¥½ã€‚\n- **æ··åˆæ–¹æ¡ˆï¼š** å°† Gateway ç½‘å…³ä¿æŒåœ¨å»‰ä»· VPS ä¸Šï¼Œå½“ä½ éœ€è¦æµè§ˆå™¨/UI è‡ªåŠ¨åŒ–æ—¶ï¼Œå°†ä½ çš„ Mac ä½œä¸º**èŠ‚ç‚¹**è¿æ¥ã€‚å‚è§[èŠ‚ç‚¹](/nodes)å’Œ [Gateway ç½‘å…³è¿œç¨‹](/gateway/remote)ã€‚\n\nå½“ä½ ç‰¹åˆ«éœ€è¦ macOS ç‹¬æœ‰åŠŸèƒ½ï¼ˆiMessage/BlueBubblesï¼‰æˆ–æƒ³è¦ä¸æ—¥å¸¸ Mac ä¸¥æ ¼éš”ç¦»æ—¶ï¼Œä½¿ç”¨ macOS VMã€‚",
    "## macOS VM é€‰é¡¹\n\n### åœ¨ä½ çš„ Apple Silicon Mac ä¸Šè¿è¡Œæœ¬åœ° VMï¼ˆLumeï¼‰\n\nä½¿ç”¨ [Lume](https://cua.ai/docs/lume) åœ¨ä½ ç°æœ‰çš„ Apple Silicon Mac ä¸Šçš„æ²™ç®± macOS VM ä¸­è¿è¡Œ OpenClawã€‚\n\nè¿™ä¸ºä½ æä¾›ï¼š\n\n- éš”ç¦»çš„å®Œæ•´ macOS ç¯å¢ƒï¼ˆä½ çš„ä¸»æœºä¿æŒå¹²å‡€ï¼‰\n- é€šè¿‡ BlueBubbles æ”¯æŒ iMessageï¼ˆåœ¨ Linux/Windows ä¸Šä¸å¯èƒ½ï¼‰\n- é€šè¿‡å…‹éš† VM å³æ—¶é‡ç½®\n- æ— éœ€é¢å¤–ç¡¬ä»¶æˆ–äº‘æˆæœ¬\n\n### æ‰˜ç®¡ Mac æä¾›å•†ï¼ˆäº‘ï¼‰\n\nå¦‚æœä½ æƒ³è¦äº‘ç«¯çš„ macOSï¼Œæ‰˜ç®¡ Mac æä¾›å•†ä¹Ÿå¯ä»¥ï¼š\n\n- [MacStadium](https://www.macstadium.com/)ï¼ˆæ‰˜ç®¡ Macï¼‰\n- å…¶ä»–æ‰˜ç®¡ Mac ä¾›åº”å•†ä¹Ÿå¯ä»¥ï¼›æŒ‰ç…§ä»–ä»¬çš„ VM + SSH æ–‡æ¡£æ“ä½œ\n\nä¸€æ—¦ä½ æœ‰äº† macOS VM çš„ SSH è®¿é—®æƒé™ï¼Œç»§ç»­ä¸‹é¢çš„æ­¥éª¤ 6ã€‚\n\n---",
    "## å¿«é€Ÿè·¯å¾„ï¼ˆLumeï¼Œæœ‰ç»éªŒçš„ç”¨æˆ·ï¼‰\n\n1. å®‰è£… Lume\n2. `lume create openclaw --os macos --ipsw latest`\n3. å®Œæˆè®¾ç½®åŠ©æ‰‹ï¼Œå¯ç”¨è¿œç¨‹ç™»å½•ï¼ˆSSHï¼‰\n4. `lume run openclaw --no-display`\n5. SSH è¿›å…¥ï¼Œå®‰è£… OpenClawï¼Œé…ç½®æ¸ é“\n6. å®Œæˆ\n\n---",
    "## ä½ éœ€è¦ä»€ä¹ˆï¼ˆLumeï¼‰\n\n- Apple Silicon Macï¼ˆM1/M2/M3/M4ï¼‰\n- ä¸»æœºä¸Šå®‰è£… macOS Sequoia æˆ–æ›´é«˜ç‰ˆæœ¬\n- æ¯ä¸ª VM çº¦ 60 GB å¯ç”¨ç£ç›˜ç©ºé—´\n- çº¦ 20 åˆ†é’Ÿ\n\n---",
    "## 1) å®‰è£… Lume\n\n```bash\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/trycua/cua/main/libs/lume/scripts/install.sh)\"\n```\n\nå¦‚æœ `~/.local/bin` ä¸åœ¨ä½ çš„ PATH ä¸­ï¼š\n\n```bash\necho 'export PATH=\"$PATH:$HOME/.local/bin\"' >> ~/.zshrc && source ~/.zshrc\n```\n\néªŒè¯ï¼š\n\n```bash\nlume --version\n```\n\næ–‡æ¡£ï¼š[Lume å®‰è£…](https://cua.ai/docs/lume/guide/getting-started/installation)\n\n---",
    "## 2) åˆ›å»º macOS VM\n\n```bash\nlume create openclaw --os macos --ipsw latest\n```\n\nè¿™ä¼šä¸‹è½½ macOS å¹¶åˆ›å»º VMã€‚VNC çª—å£ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚\n\næ³¨æ„ï¼šä¸‹è½½å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ï¼Œå–å†³äºä½ çš„ç½‘ç»œè¿æ¥ã€‚\n\n---",
    "## 3) å®Œæˆè®¾ç½®åŠ©æ‰‹\n\nåœ¨ VNC çª—å£ä¸­ï¼š\n\n1. é€‰æ‹©è¯­è¨€å’Œåœ°åŒº\n2. è·³è¿‡ Apple IDï¼ˆæˆ–è€…å¦‚æœä½ ä»¥åæƒ³è¦ iMessage å°±ç™»å½•ï¼‰\n3. åˆ›å»ºç”¨æˆ·è´¦æˆ·ï¼ˆè®°ä½ç”¨æˆ·åå’Œå¯†ç ï¼‰\n4. è·³è¿‡æ‰€æœ‰å¯é€‰åŠŸèƒ½\n\nè®¾ç½®å®Œæˆåï¼Œå¯ç”¨ SSHï¼š\n\n1. æ‰“å¼€ç³»ç»Ÿè®¾ç½® â†’ é€šç”¨ â†’ å…±äº«\n2. å¯ç”¨\"è¿œç¨‹ç™»å½•\"\n\n---",
    "## 4) è·å– VM çš„ IP åœ°å€\n\n```bash\nlume get openclaw\n```\n\næŸ¥æ‰¾ IP åœ°å€ï¼ˆé€šå¸¸æ˜¯ `192.168.64.x`ï¼‰ã€‚\n\n---",
    "## 5) SSH è¿›å…¥ VM\n\n```bash\nssh youruser@192.168.64.X\n```\n\nå°† `youruser` æ›¿æ¢ä¸ºä½ åˆ›å»ºçš„è´¦æˆ·ï¼ŒIP æ›¿æ¢ä¸ºä½  VM çš„ IPã€‚\n\n---",
    "## 6) å®‰è£… OpenClaw\n\nåœ¨ VM å†…ï¼š\n\n```bash\nnpm install -g openclaw@latest\nopenclaw onboard --install-daemon\n```\n\næŒ‰ç…§æ–°æ‰‹å¼•å¯¼æç¤ºè®¾ç½®ä½ çš„æ¨¡å‹æä¾›å•†ï¼ˆAnthropicã€OpenAI ç­‰ï¼‰ã€‚\n\n---",
    "## 7) é…ç½®æ¸ é“\n\nç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š\n\n```bash\nnano ~/.openclaw/openclaw.json\n```\n\næ·»åŠ ä½ çš„æ¸ é“ï¼š\n\n```json\n{\n  \"channels\": {\n    \"whatsapp\": {\n      \"dmPolicy\": \"allowlist\",\n      \"allowFrom\": [\"+15551234567\"]\n    },\n    \"telegram\": {\n      \"botToken\": \"YOUR_BOT_TOKEN\"\n    }\n  }\n}\n```\n\nç„¶åç™»å½• WhatsAppï¼ˆæ‰«æäºŒç»´ç ï¼‰ï¼š\n\n```bash\nopenclaw channels login\n```\n\n---",
    "## 8) æ— å¤´è¿è¡Œ VM\n\nåœæ­¢ VM å¹¶åœ¨æ— æ˜¾ç¤ºå™¨æ¨¡å¼ä¸‹é‡å¯ï¼š\n\n```bash\nlume stop openclaw\nlume run openclaw --no-display\n```\n\nVM åœ¨åå°è¿è¡Œã€‚OpenClaw çš„å®ˆæŠ¤è¿›ç¨‹ä¿æŒ Gateway ç½‘å…³è¿è¡Œã€‚\n\næ£€æŸ¥çŠ¶æ€ï¼š\n\n```bash\nssh youruser@192.168.64.X \"openclaw status\"\n```\n\n---",
    "## é¢å¤–ï¼šiMessage é›†æˆ\n\nè¿™æ˜¯åœ¨ macOS ä¸Šè¿è¡Œçš„æ€æ‰‹çº§åŠŸèƒ½ã€‚ä½¿ç”¨ [BlueBubbles](https://bluebubbles.app) å°† iMessage æ·»åŠ åˆ° OpenClawã€‚\n\nåœ¨ VM å†…ï¼š\n\n1. ä» bluebubbles.app ä¸‹è½½ BlueBubbles\n2. ç”¨ä½ çš„ Apple ID ç™»å½•\n3. å¯ç”¨ Web API å¹¶è®¾ç½®å¯†ç \n4. å°† BlueBubbles webhooks æŒ‡å‘ä½ çš„ Gateway ç½‘å…³ï¼ˆç¤ºä¾‹ï¼š`https://your-gateway-host:3000/bluebubbles-webhook?password=<password>`ï¼‰\n\næ·»åŠ åˆ°ä½ çš„ OpenClaw é…ç½®ï¼š\n\n```json\n{\n  \"channels\": {\n    \"bluebubbles\": {\n      \"serverUrl\": \"http://localhost:1234\",\n      \"password\": \"your-api-password\",\n      \"webhookPath\": \"/bluebubbles-webhook\"\n    }\n  }\n}\n```\n\né‡å¯ Gateway ç½‘å…³ã€‚ç°åœ¨ä½ çš„æ™ºèƒ½ä½“å¯ä»¥å‘é€å’Œæ¥æ”¶ iMessage äº†ã€‚\n\nå®Œæ•´è®¾ç½®è¯¦æƒ…ï¼š[BlueBubbles æ¸ é“](/channels/bluebubbles)\n\n---",
    "## ä¿å­˜é»„é‡‘é•œåƒ\n\nåœ¨è¿›ä¸€æ­¥è‡ªå®šä¹‰ä¹‹å‰ï¼Œå¿«ç…§ä½ çš„å¹²å‡€çŠ¶æ€ï¼š\n\n```bash\nlume stop openclaw\nlume clone openclaw openclaw-golden\n```\n\néšæ—¶é‡ç½®ï¼š\n\n```bash\nlume stop openclaw && lume delete openclaw\nlume clone openclaw-golden openclaw\nlume run openclaw --no-display\n```\n\n---",
    "## 24/7 è¿è¡Œ\n\né€šè¿‡ä»¥ä¸‹æ–¹å¼ä¿æŒ VM è¿è¡Œï¼š\n\n- ä¿æŒä½ çš„ Mac æ’ç”µ\n- åœ¨ç³»ç»Ÿè®¾ç½® â†’ èŠ‚èƒ½ä¸­ç¦ç”¨ç¡çœ \n- å¦‚éœ€è¦ä½¿ç”¨ `caffeinate`\n\nå¯¹äºçœŸæ­£çš„æ°¸ä¹…åœ¨çº¿ï¼Œè€ƒè™‘ä¸“ç”¨ Mac mini æˆ–å°å‹ VPSã€‚å‚è§ [VPS æ‰˜ç®¡](/vps)ã€‚\n\n---",
    "## æ•…éšœæ’é™¤\n\n| é—®é¢˜                    | è§£å†³æ–¹æ¡ˆ                                                         |\n| ----------------------- | ---------------------------------------------------------------- |\n| æ— æ³• SSH è¿›å…¥ VM        | æ£€æŸ¥ VM çš„ç³»ç»Ÿè®¾ç½®ä¸­æ˜¯å¦å¯ç”¨äº†\"è¿œç¨‹ç™»å½•\"                         |\n| VM IP æœªæ˜¾ç¤º            | ç­‰å¾… VM å®Œå…¨å¯åŠ¨ï¼Œå†æ¬¡è¿è¡Œ `lume get openclaw`                   |\n| æ‰¾ä¸åˆ° Lume å‘½ä»¤        | å°† `~/.local/bin` æ·»åŠ åˆ°ä½ çš„ PATH                                |\n| WhatsApp äºŒç»´ç æ‰«æå¤±è´¥ | ç¡®ä¿è¿è¡Œ `openclaw channels login` æ—¶ä½ æ˜¯ç™»å½•åˆ° VMï¼ˆè€Œä¸æ˜¯ä¸»æœºï¼‰ |\n\n---",
    "## ç›¸å…³æ–‡æ¡£\n\n- [VPS æ‰˜ç®¡](/vps)\n- [èŠ‚ç‚¹](/nodes)\n- [Gateway ç½‘å…³è¿œç¨‹](/gateway/remote)\n- [BlueBubbles æ¸ é“](/channels/bluebubbles)\n- [Lume å¿«é€Ÿå…¥é—¨](https://cua.ai/docs/lume/guide/getting-started/quickstart)\n- [Lume CLI å‚è€ƒ](https://cua.ai/docs/lume/reference/cli-reference)\n- [æ— äººå€¼å®ˆ VM è®¾ç½®](https://cua.ai/docs/lume/guide/fundamentals/unattended-setup)ï¼ˆé«˜çº§ï¼‰\n- [Docker æ²™ç®±éš”ç¦»](/install/docker)ï¼ˆæ›¿ä»£éš”ç¦»æ–¹æ¡ˆï¼‰",
    "---\nsummary: \"OpenClaw macOS companion app (menu bar + gateway broker)\"\nread_when:\n  - Implementing macOS app features\n  - Changing gateway lifecycle or node bridging on macOS\ntitle: \"macOS App\"\n---\n\n# OpenClaw macOS Companion (menu bar + gateway broker)\n\nThe macOS app is the **menuâ€‘bar companion** for OpenClaw. It owns permissions,\nmanages/attaches to the Gateway locally (launchd or manual), and exposes macOS\ncapabilities to the agent as a node.",
    "## What it does\n\n- Shows native notifications and status in the menu bar.\n- Owns TCC prompts (Notifications, Accessibility, Screen Recording, Microphone,\n  Speech Recognition, Automation/AppleScript).\n- Runs or connects to the Gateway (local or remote).\n- Exposes macOSâ€‘only tools (Canvas, Camera, Screen Recording, `system.run`).\n- Starts the local node host service in **remote** mode (launchd), and stops it in **local** mode.\n- Optionally hosts **PeekabooBridge** for UI automation.\n- Installs the global CLI (`openclaw`) via npm/pnpm on request (bun not recommended for the Gateway runtime).",
    "## Local vs remote mode\n\n- **Local** (default): the app attaches to a running local Gateway if present;\n  otherwise it enables the launchd service via `openclaw gateway install`.\n- **Remote**: the app connects to a Gateway over SSH/Tailscale and never starts\n  a local process.\n  The app starts the local **node host service** so the remote Gateway can reach this Mac.\n  The app does not spawn the Gateway as a child process.",
    "## Launchd control\n\nThe app manages a perâ€‘user LaunchAgent labeled `bot.molt.gateway`\n(or `bot.molt.<profile>` when using `--profile`/`OPENCLAW_PROFILE`; legacy `com.openclaw.*` still unloads).\n\n```bash\nlaunchctl kickstart -k gui/$UID/bot.molt.gateway\nlaunchctl bootout gui/$UID/bot.molt.gateway\n```\n\nReplace the label with `bot.molt.<profile>` when running a named profile.\n\nIf the LaunchAgent isnâ€™t installed, enable it from the app or run\n`openclaw gateway install`.",
    "## Node capabilities (mac)\n\nThe macOS app presents itself as a node. Common commands:\n\n- Canvas: `canvas.present`, `canvas.navigate`, `canvas.eval`, `canvas.snapshot`, `canvas.a2ui.*`\n- Camera: `camera.snap`, `camera.clip`\n- Screen: `screen.record`\n- System: `system.run`, `system.notify`\n\nThe node reports a `permissions` map so agents can decide whatâ€™s allowed.\n\nNode service + app IPC:\n\n- When the headless node host service is running (remote mode), it connects to the Gateway WS as a node.\n- `system.run` executes in the macOS app (UI/TCC context) over a local Unix socket; prompts + output stay in-app.\n\nDiagram (SCI):\n\n```\nGateway -> Node Service (WS)\n                 |  IPC (UDS + token + HMAC + TTL)\n                 v\n             Mac App (UI + TCC + system.run)\n```",
    "## Exec approvals (system.run)\n\n`system.run` is controlled by **Exec approvals** in the macOS app (Settings â†’ Exec approvals).\nSecurity + ask + allowlist are stored locally on the Mac in:\n\n```\n~/.openclaw/exec-approvals.json\n```\n\nExample:\n\n```json\n{\n  \"version\": 1,\n  \"defaults\": {\n    \"security\": \"deny\",\n    \"ask\": \"on-miss\"\n  },\n  \"agents\": {\n    \"main\": {\n      \"security\": \"allowlist\",\n      \"ask\": \"on-miss\",\n      \"allowlist\": [{ \"pattern\": \"/opt/homebrew/bin/rg\" }]\n    }\n  }\n}\n```\n\nNotes:\n\n- `allowlist` entries are glob patterns for resolved binary paths.\n- Choosing â€œAlways Allowâ€ in the prompt adds that command to the allowlist.\n- `system.run` environment overrides are filtered (drops `PATH`, `DYLD_*`, `LD_*`, `NODE_OPTIONS`, `PYTHON*`, `PERL*`, `RUBYOPT`) and then merged with the appâ€™s environment.",
    "## Deep links\n\nThe app registers the `openclaw://` URL scheme for local actions.\n\n### `openclaw://agent`\n\nTriggers a Gateway `agent` request.\n\n```bash\nopen 'openclaw://agent?message=Hello%20from%20deep%20link'\n```\n\nQuery parameters:\n\n- `message` (required)\n- `sessionKey` (optional)\n- `thinking` (optional)\n- `deliver` / `to` / `channel` (optional)\n- `timeoutSeconds` (optional)\n- `key` (optional unattended mode key)\n\nSafety:\n\n- Without `key`, the app prompts for confirmation.\n- With a valid `key`, the run is unattended (intended for personal automations).",
    "## Onboarding flow (typical)\n\n1. Install and launch **OpenClaw.app**.\n2. Complete the permissions checklist (TCC prompts).\n3. Ensure **Local** mode is active and the Gateway is running.\n4. Install the CLI if you want terminal access.",
    "## Build & dev workflow (native)\n\n- `cd apps/macos && swift build`\n- `swift run OpenClaw` (or Xcode)\n- Package app: `scripts/package-mac-app.sh`",
    "## Debug gateway connectivity (macOS CLI)\n\nUse the debug CLI to exercise the same Gateway WebSocket handshake and discovery\nlogic that the macOS app uses, without launching the app.\n\n```bash\ncd apps/macos\nswift run openclaw-mac connect --json\nswift run openclaw-mac discover --timeout 3000 --json\n```\n\nConnect options:\n\n- `--url <ws://host:port>`: override config\n- `--mode <local|remote>`: resolve from config (default: config or local)\n- `--probe`: force a fresh health probe\n- `--timeout <ms>`: request timeout (default: `15000`)\n- `--json`: structured output for diffing\n\nDiscovery options:\n\n- `--include-local`: include gateways that would be filtered as â€œlocalâ€\n- `--timeout <ms>`: overall discovery window (default: `2000`)\n- `--json`: structured output for diffing\n\nTip: compare against `openclaw gateway discover --json` to see whether the\nmacOS appâ€™s discovery pipeline (NWBrowser + tailnet DNSâ€‘SD fallback) differs from\nthe Node CLIâ€™s `dns-sd` based discovery.",
    "## Remote connection plumbing (SSH tunnels)\n\nWhen the macOS app runs in **Remote** mode, it opens an SSH tunnel so local UI\ncomponents can talk to a remote Gateway as if it were on localhost.\n\n### Control tunnel (Gateway WebSocket port)\n\n- **Purpose:** health checks, status, Web Chat, config, and other control-plane calls.\n- **Local port:** the Gateway port (default `18789`), always stable.\n- **Remote port:** the same Gateway port on the remote host.\n- **Behavior:** no random local port; the app reuses an existing healthy tunnel\n  or restarts it if needed.\n- **SSH shape:** `ssh -N -L <local>:127.0.0.1:<remote>` with BatchMode +\n  ExitOnForwardFailure + keepalive options.\n- **IP reporting:** the SSH tunnel uses loopback, so the gateway will see the node\n  IP as `127.0.0.1`. Use **Direct (ws/wss)** transport if you want the real client\n  IP to appear (see [macOS remote access](/platforms/mac/remote)).",
    "For setup steps, see [macOS remote access](/platforms/mac/remote). For protocol\ndetails, see [Gateway protocol](/gateway/protocol).",
    "## Related docs\n\n- [Gateway runbook](/gateway)\n- [Gateway (macOS)](/platforms/mac/bundled-gateway)\n- [macOS permissions](/platforms/mac/permissions)\n- [Canvas](/platforms/mac/canvas)",
    "---\nread_when:\n  - ä½ æ­£åœ¨æ„å»ºä¸€ä¸ª OpenClaw æ’ä»¶\n  - ä½ éœ€è¦æä¾›æ’ä»¶é…ç½® Schema æˆ–è°ƒè¯•æ’ä»¶éªŒè¯é”™è¯¯\nsummary: æ’ä»¶æ¸…å•åŠ JSON Schema è¦æ±‚ï¼ˆä¸¥æ ¼é…ç½®éªŒè¯ï¼‰\ntitle: æ’ä»¶æ¸…å•\nx-i18n:\n  generated_at: \"2026-02-01T21:34:21Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 47b3e33c915f47bdd172ae0316af7ef16ca831c317e3f1a7fdfcd67e3bd43f56\n  source_path: plugins/manifest.md\n  workflow: 15\n---\n\n# æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰\n\næ¯ä¸ªæ’ä»¶éƒ½**å¿…é¡»**åœ¨**æ’ä»¶æ ¹ç›®å½•**ä¸‹æä¾›ä¸€ä¸ª `openclaw.plugin.json` æ–‡ä»¶ã€‚OpenClaw ä½¿ç”¨æ­¤æ¸…å•æ¥**åœ¨ä¸æ‰§è¡Œæ’ä»¶ä»£ç çš„æƒ…å†µä¸‹**éªŒè¯é…ç½®ã€‚ç¼ºå¤±æˆ–æ— æ•ˆçš„æ¸…å•å°†è¢«è§†ä¸ºæ’ä»¶é”™è¯¯ï¼Œå¹¶é˜»æ­¢é…ç½®éªŒè¯ã€‚\n\nå‚é˜…å®Œæ•´çš„æ’ä»¶ç³»ç»ŸæŒ‡å—ï¼š[æ’ä»¶](/plugin)ã€‚",
    "## å¿…å¡«å­—æ®µ\n\n```json\n{\n  \"id\": \"voice-call\",\n  \"configSchema\": {\n    \"type\": \"object\",\n    \"additionalProperties\": false,\n    \"properties\": {}\n  }\n}\n```\n\nå¿…å¡«é”®ï¼š\n\n- `id`ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ’ä»¶çš„è§„èŒƒ idã€‚\n- `configSchema`ï¼ˆå¯¹è±¡ï¼‰ï¼šæ’ä»¶é…ç½®çš„ JSON Schemaï¼ˆå†…è”å½¢å¼ï¼‰ã€‚\n\nå¯é€‰é”®ï¼š\n\n- `kind`ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ’ä»¶ç±»å‹ï¼ˆä¾‹å¦‚ï¼š`\"memory\"`ï¼‰ã€‚\n- `channels`ï¼ˆæ•°ç»„ï¼‰ï¼šæ­¤æ’ä»¶æ³¨å†Œçš„æ¸ é“ idï¼ˆä¾‹å¦‚ï¼š`[\"matrix\"]`ï¼‰ã€‚\n- `providers`ï¼ˆæ•°ç»„ï¼‰ï¼šæ­¤æ’ä»¶æ³¨å†Œçš„æä¾›å•† idã€‚\n- `skills`ï¼ˆæ•°ç»„ï¼‰ï¼šè¦åŠ è½½çš„ Skills ç›®å½•ï¼ˆç›¸å¯¹äºæ’ä»¶æ ¹ç›®å½•ï¼‰ã€‚\n- `name`ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ’ä»¶çš„æ˜¾ç¤ºåç§°ã€‚\n- `description`ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ’ä»¶ç®€çŸ­æè¿°ã€‚\n- `uiHints`ï¼ˆå¯¹è±¡ï¼‰ï¼šç”¨äº UI æ¸²æŸ“çš„é…ç½®å­—æ®µæ ‡ç­¾/å ä½ç¬¦/æ•æ„Ÿæ ‡å¿—ã€‚\n- `version`ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ’ä»¶ç‰ˆæœ¬ï¼ˆä»…ä¾›å‚è€ƒï¼‰ã€‚",
    "## JSON Schema è¦æ±‚\n\n- **æ¯ä¸ªæ’ä»¶éƒ½å¿…é¡»æä¾› JSON Schema**ï¼Œå³ä½¿ä¸æ¥å—ä»»ä½•é…ç½®ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\n- ç©º Schema æ˜¯å¯ä»¥æ¥å—çš„ï¼ˆä¾‹å¦‚ `{ \"type\": \"object\", \"additionalProperties\": false }`ï¼‰ã€‚\n- Schema åœ¨é…ç½®è¯»å–/å†™å…¥æ—¶è¿›è¡ŒéªŒè¯ï¼Œè€Œéåœ¨è¿è¡Œæ—¶ã€‚",
    "## éªŒè¯è¡Œä¸º\n\n- æœªçŸ¥çš„ `channels.*` é”®ä¼šè¢«è§†ä¸º**é”™è¯¯**ï¼Œé™¤éè¯¥æ¸ é“ id å·²åœ¨æ’ä»¶æ¸…å•ä¸­å£°æ˜ã€‚\n- `plugins.entries.<id>`ã€`plugins.allow`ã€`plugins.deny` å’Œ `plugins.slots.*` å¿…é¡»å¼•ç”¨**å¯å‘ç°çš„**æ’ä»¶ idã€‚æœªçŸ¥ id ä¼šè¢«è§†ä¸º**é”™è¯¯**ã€‚\n- å¦‚æœæ’ä»¶å·²å®‰è£…ä½†æ¸…å•æˆ– Schema æŸåæˆ–ç¼ºå¤±ï¼ŒéªŒè¯å°†å¤±è´¥ï¼ŒDoctor ä¼šæŠ¥å‘Šæ’ä»¶é”™è¯¯ã€‚\n- å¦‚æœæ’ä»¶é…ç½®å­˜åœ¨ä½†æ’ä»¶å·²**ç¦ç”¨**ï¼Œé…ç½®ä¼šè¢«ä¿ç•™ï¼Œå¹¶åœ¨ Doctor å’Œæ—¥å¿—ä¸­æ˜¾ç¤º**è­¦å‘Š**ã€‚",
    "## æ³¨æ„äº‹é¡¹\n\n- æ¸…å•å¯¹**æ‰€æœ‰æ’ä»¶**éƒ½æ˜¯å¿…éœ€çš„ï¼ŒåŒ…æ‹¬ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½çš„æ’ä»¶ã€‚\n- è¿è¡Œæ—¶ä»ç„¶ä¼šå•ç‹¬åŠ è½½æ’ä»¶æ¨¡å—ï¼›æ¸…å•ä»…ç”¨äºå‘ç°å’ŒéªŒè¯ã€‚\n- å¦‚æœä½ çš„æ’ä»¶ä¾èµ–åŸç”Ÿæ¨¡å—ï¼Œè¯·è®°å½•æ„å»ºæ­¥éª¤ä»¥åŠæ‰€æœ‰åŒ…ç®¡ç†å™¨å…è®¸åˆ—è¡¨è¦æ±‚ï¼ˆä¾‹å¦‚ pnpm çš„ `allow-build-scripts` - `pnpm rebuild <package>`ï¼‰ã€‚",
    "---\nsummary: \"Markdown formatting pipeline for outbound channels\"\nread_when:\n  - You are changing markdown formatting or chunking for outbound channels\n  - You are adding a new channel formatter or style mapping\n  - You are debugging formatting regressions across channels\ntitle: \"Markdown Formatting\"\n---\n\n# Markdown formatting\n\nOpenClaw formats outbound Markdown by converting it into a shared intermediate\nrepresentation (IR) before rendering channel-specific output. The IR keeps the\nsource text intact while carrying style/link spans so chunking and rendering can\nstay consistent across channels.",
    "## Goals\n\n- **Consistency:** one parse step, multiple renderers.\n- **Safe chunking:** split text before rendering so inline formatting never\n  breaks across chunks.\n- **Channel fit:** map the same IR to Slack mrkdwn, Telegram HTML, and Signal\n  style ranges without re-parsing Markdown.",
    "## Pipeline\n\n1. **Parse Markdown -> IR**\n   - IR is plain text plus style spans (bold/italic/strike/code/spoiler) and link spans.\n   - Offsets are UTF-16 code units so Signal style ranges align with its API.\n   - Tables are parsed only when a channel opts into table conversion.\n2. **Chunk IR (format-first)**\n   - Chunking happens on the IR text before rendering.\n   - Inline formatting does not split across chunks; spans are sliced per chunk.\n3. **Render per channel**\n   - **Slack:** mrkdwn tokens (bold/italic/strike/code), links as `<url|label>`.\n   - **Telegram:** HTML tags (`<b>`, `<i>`, `<s>`, `<code>`, `<pre><code>`, `<a href>`).\n   - **Signal:** plain text + `text-style` ranges; links become `label (url)` when label differs.",
    "## IR example\n\nInput Markdown:\n\n```markdown\nHello **world** â€” see [docs](https://docs.openclaw.ai).\n```\n\nIR (schematic):\n\n```json\n{\n  \"text\": \"Hello world â€” see docs.\",\n  \"styles\": [{ \"start\": 6, \"end\": 11, \"style\": \"bold\" }],\n  \"links\": [{ \"start\": 19, \"end\": 23, \"href\": \"https://docs.openclaw.ai\" }]\n}\n```",
    "## Where it is used\n\n- Slack, Telegram, and Signal outbound adapters render from the IR.\n- Other channels (WhatsApp, iMessage, MS Teams, Discord) still use plain text or\n  their own formatting rules, with Markdown table conversion applied before\n  chunking when enabled.",
    "## Table handling\n\nMarkdown tables are not consistently supported across chat clients. Use\n`markdown.tables` to control conversion per channel (and per account).\n\n- `code`: render tables as code blocks (default for most channels).\n- `bullets`: convert each row into bullet points (default for Signal + WhatsApp).\n- `off`: disable table parsing and conversion; raw table text passes through.\n\nConfig keys:\n\n```yaml\nchannels:\n  discord:\n    markdown:\n      tables: code\n    accounts:\n      work:\n        markdown:\n          tables: off\n```",
    "## Chunking rules\n\n- Chunk limits come from channel adapters/config and are applied to the IR text.\n- Code fences are preserved as a single block with a trailing newline so channels\n  render them correctly.\n- List prefixes and blockquote prefixes are part of the IR text, so chunking\n  does not split mid-prefix.\n- Inline styles (bold/italic/strike/inline-code/spoiler) are never split across\n  chunks; the renderer reopens styles inside each chunk.\n\nIf you need more on chunking behavior across channels, see\n[Streaming + chunking](/concepts/streaming).",
    "## Link policy\n\n- **Slack:** `[label](url)` -> `<url|label>`; bare URLs remain bare. Autolink\n  is disabled during parse to avoid double-linking.\n- **Telegram:** `[label](url)` -> `<a href=\"url\">label</a>` (HTML parse mode).\n- **Signal:** `[label](url)` -> `label (url)` unless label matches the URL.",
    "## Spoilers\n\nSpoiler markers (`||spoiler||`) are parsed only for Signal, where they map to\nSPOILER style ranges. Other channels treat them as plain text.",
    "## How to add or update a channel formatter\n\n1. **Parse once:** use the shared `markdownToIR(...)` helper with channel-appropriate\n   options (autolink, heading style, blockquote prefix).\n2. **Render:** implement a renderer with `renderMarkdownWithMarkers(...)` and a\n   style marker map (or Signal style ranges).\n3. **Chunk:** call `chunkMarkdownIR(...)` before rendering; render each chunk.\n4. **Wire adapter:** update the channel outbound adapter to use the new chunker\n   and renderer.\n5. **Test:** add or update format tests and an outbound delivery test if the\n   channel uses chunking.",
    "## Common gotchas\n\n- Slack angle-bracket tokens (`<@U123>`, `<#C123>`, `<https://...>`) must be\n  preserved; escape raw HTML safely.\n- Telegram HTML requires escaping text outside tags to avoid broken markup.\n- Signal style ranges depend on UTF-16 offsets; do not use code point offsets.\n- Preserve trailing newlines for fenced code blocks so closing markers land on\n  their own line.",
    "---\nsummary: \"Matrix support status, capabilities, and configuration\"\nread_when:\n  - Working on Matrix channel features\ntitle: \"Matrix\"\n---\n\n# Matrix (plugin)\n\nMatrix is an open, decentralized messaging protocol. OpenClaw connects as a Matrix **user**\non any homeserver, so you need a Matrix account for the bot. Once it is logged in, you can DM\nthe bot directly or invite it to rooms (Matrix \"groups\"). Beeper is a valid client option too,\nbut it requires E2EE to be enabled.\n\nStatus: supported via plugin (@vector-im/matrix-bot-sdk). Direct messages, rooms, threads, media, reactions,\npolls (send + poll-start as text), location, and E2EE (with crypto support).",
    "## Plugin required\n\nMatrix ships as a plugin and is not bundled with the core install.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/matrix\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/matrix\n```\n\nIf you choose Matrix during configure/onboarding and a git checkout is detected,\nOpenClaw will offer the local install path automatically.\n\nDetails: [Plugins](/plugin)",
    "## Setup\n\n1. Install the Matrix plugin:\n   - From npm: `openclaw plugins install @openclaw/matrix`\n   - From a local checkout: `openclaw plugins install ./extensions/matrix`\n2. Create a Matrix account on a homeserver:\n   - Browse hosting options at [https://matrix.org/ecosystem/hosting/](https://matrix.org/ecosystem/hosting/)\n   - Or host it yourself.\n3. Get an access token for the bot account:\n   - Use the Matrix login API with `curl` at your home server:\n\n   ```bash\n   curl --request POST \\\n     --url https://matrix.example.org/_matrix/client/v3/login \\\n     --header 'Content-Type: application/json' \\\n     --data '{\n     \"type\": \"m.login.password\",\n     \"identifier\": {\n       \"type\": \"m.id.user\",\n       \"user\": \"your-user-name\"\n     },\n     \"password\": \"your-password\"\n   }'\n   ```",
    "- Replace `matrix.example.org` with your homeserver URL.\n   - Or set `channels.matrix.userId` + `channels.matrix.password`: OpenClaw calls the same\n     login endpoint, stores the access token in `~/.openclaw/credentials/matrix/credentials.json`,\n     and reuses it on next start.\n\n4. Configure credentials:\n   - Env: `MATRIX_HOMESERVER`, `MATRIX_ACCESS_TOKEN` (or `MATRIX_USER_ID` + `MATRIX_PASSWORD`)\n   - Or config: `channels.matrix.*`\n   - If both are set, config takes precedence.\n   - With access token: user ID is fetched automatically via `/whoami`.\n   - When set, `channels.matrix.userId` should be the full Matrix ID (example: `@bot:example.org`).\n5. Restart the gateway (or finish onboarding).\n6. Start a DM with the bot or invite it to a room from any Matrix client\n   (Element, Beeper, etc.; see [https://matrix.org/ecosystem/clients/](https://matrix.org/ecosystem/clients/)). Beeper requires E2EE,\n   so set `channels.matrix.encryption: true` and verify the device.",
    "Minimal config (access token, user ID auto-fetched):\n\n```json5\n{\n  channels: {\n    matrix: {\n      enabled: true,\n      homeserver: \"https://matrix.example.org\",\n      accessToken: \"syt_***\",\n      dm: { policy: \"pairing\" },\n    },\n  },\n}\n```\n\nE2EE config (end to end encryption enabled):\n\n```json5\n{\n  channels: {\n    matrix: {\n      enabled: true,\n      homeserver: \"https://matrix.example.org\",\n      accessToken: \"syt_***\",\n      encryption: true,\n      dm: { policy: \"pairing\" },\n    },\n  },\n}\n```",
    "## Encryption (E2EE)\n\nEnd-to-end encryption is **supported** via the Rust crypto SDK.\n\nEnable with `channels.matrix.encryption: true`:\n\n- If the crypto module loads, encrypted rooms are decrypted automatically.\n- Outbound media is encrypted when sending to encrypted rooms.\n- On first connection, OpenClaw requests device verification from your other sessions.\n- Verify the device in another Matrix client (Element, etc.) to enable key sharing.\n- If the crypto module cannot be loaded, E2EE is disabled and encrypted rooms will not decrypt;\n  OpenClaw logs a warning.\n- If you see missing crypto module errors (for example, `@matrix-org/matrix-sdk-crypto-nodejs-*`),\n  allow build scripts for `@matrix-org/matrix-sdk-crypto-nodejs` and run\n  `pnpm rebuild @matrix-org/matrix-sdk-crypto-nodejs` or fetch the binary with\n  `node node_modules/@matrix-org/matrix-sdk-crypto-nodejs/download-lib.js`.",
    "Crypto state is stored per account + access token in\n`~/.openclaw/matrix/accounts/<account>/<homeserver>__<user>/<token-hash>/crypto/`\n(SQLite database). Sync state lives alongside it in `bot-storage.json`.\nIf the access token (device) changes, a new store is created and the bot must be\nre-verified for encrypted rooms.\n\n**Device verification:**\nWhen E2EE is enabled, the bot will request verification from your other sessions on startup.\nOpen Element (or another client) and approve the verification request to establish trust.\nOnce verified, the bot can decrypt messages in encrypted rooms.",
    "## Routing model\n\n- Replies always go back to Matrix.\n- DMs share the agent's main session; rooms map to group sessions.",
    "## Access control (DMs)\n\n- Default: `channels.matrix.dm.policy = \"pairing\"`. Unknown senders get a pairing code.\n- Approve via:\n  - `openclaw pairing list matrix`\n  - `openclaw pairing approve matrix <CODE>`\n- Public DMs: `channels.matrix.dm.policy=\"open\"` plus `channels.matrix.dm.allowFrom=[\"*\"]`.\n- `channels.matrix.dm.allowFrom` accepts full Matrix user IDs (example: `@user:server`). The wizard resolves display names to user IDs when directory search finds a single exact match.",
    "## Rooms (groups)\n\n- Default: `channels.matrix.groupPolicy = \"allowlist\"` (mention-gated). Use `channels.defaults.groupPolicy` to override the default when unset.\n- Allowlist rooms with `channels.matrix.groups` (room IDs or aliases; names are resolved to IDs when directory search finds a single exact match):\n\n```json5\n{\n  channels: {\n    matrix: {\n      groupPolicy: \"allowlist\",\n      groups: {\n        \"!roomId:example.org\": { allow: true },\n        \"#alias:example.org\": { allow: true },\n      },\n      groupAllowFrom: [\"@owner:example.org\"],\n    },\n  },\n}\n```",
    "- `requireMention: false` enables auto-reply in that room.\n- `groups.\"*\"` can set defaults for mention gating across rooms.\n- `groupAllowFrom` restricts which senders can trigger the bot in rooms (full Matrix user IDs).\n- Per-room `users` allowlists can further restrict senders inside a specific room (use full Matrix user IDs).\n- The configure wizard prompts for room allowlists (room IDs, aliases, or names) and resolves names only on an exact, unique match.\n- On startup, OpenClaw resolves room/user names in allowlists to IDs and logs the mapping; unresolved entries are ignored for allowlist matching.\n- Invites are auto-joined by default; control with `channels.matrix.autoJoin` and `channels.matrix.autoJoinAllowlist`.\n- To allow **no rooms**, set `channels.matrix.groupPolicy: \"disabled\"` (or keep an empty allowlist).\n- Legacy key: `channels.matrix.rooms` (same shape as `groups`).",
    "## Threads\n\n- Reply threading is supported.\n- `channels.matrix.threadReplies` controls whether replies stay in threads:\n  - `off`, `inbound` (default), `always`\n- `channels.matrix.replyToMode` controls reply-to metadata when not replying in a thread:\n  - `off` (default), `first`, `all`",
    "## Capabilities",
    "| Feature         | Status                                                                                |\n| --------------- | ------------------------------------------------------------------------------------- |\n| Direct messages | âœ… Supported                                                                          |\n| Rooms           | âœ… Supported                                                                          |\n| Threads         | âœ… Supported                                                                          |\n| Media           | âœ… Supported                                                                          |\n| E2EE            | âœ… Supported (crypto module required)                                                 |\n| Reactions       | âœ… Supported (send/read via tools)                                                    |\n| Polls           | âœ… Send supported; inbound poll starts are converted to text (responses/ends ignored) |\n| Location        | âœ… Supported (geo URI; altitude ignored)                                              |\n| Native commands | âœ… Supported                                                                          |",
    "## Configuration reference (Matrix)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.matrix.enabled`: enable/disable channel startup.\n- `channels.matrix.homeserver`: homeserver URL.\n- `channels.matrix.userId`: Matrix user ID (optional with access token).\n- `channels.matrix.accessToken`: access token.\n- `channels.matrix.password`: password for login (token stored).\n- `channels.matrix.deviceName`: device display name.\n- `channels.matrix.encryption`: enable E2EE (default: false).\n- `channels.matrix.initialSyncLimit`: initial sync limit.\n- `channels.matrix.threadReplies`: `off | inbound | always` (default: inbound).\n- `channels.matrix.textChunkLimit`: outbound text chunk size (chars).\n- `channels.matrix.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.\n- `channels.matrix.dm.policy`: `pairing | allowlist | open | disabled` (default: pairing).\n- `channels.matrix.dm.allowFrom`: DM allowlist (full Matrix user IDs). `open` requires `\"*\"`. The wizard resolves names to IDs when possible.\n- `channels.matrix.groupPolicy`: `allowlist | open | disabled` (default: allowlist).\n- `channels.matrix.groupAllowFrom`: allowlisted senders for group messages (full Matrix user IDs).\n- `channels.matrix.allowlistOnly`: force allowlist rules for DMs + rooms.\n- `channels.matrix.groups`: group allowlist + per-room settings map.\n- `channels.matrix.rooms`: legacy group allowlist/config.\n- `channels.matrix.replyToMode`: reply-to mode for threads/tags.\n- `channels.matrix.mediaMaxMb`: inbound/outbound media cap (MB).\n- `channels.matrix.autoJoin`: invite handling (`always | allowlist | off`, default: always).\n- `channels.matrix.autoJoinAllowlist`: allowed room IDs/aliases for auto-join.\n- `channels.matrix.actions`: per-action tool gating (reactions/messages/pins/memberInfo/channelInfo).",
    "---\nsummary: \"Mattermost bot setup and OpenClaw config\"\nread_when:\n  - Setting up Mattermost\n  - Debugging Mattermost routing\ntitle: \"Mattermost\"\n---\n\n# Mattermost (plugin)\n\nStatus: supported via plugin (bot token + WebSocket events). Channels, groups, and DMs are supported.\nMattermost is a self-hostable team messaging platform; see the official site at\n[mattermost.com](https://mattermost.com) for product details and downloads.",
    "## Plugin required\n\nMattermost ships as a plugin and is not bundled with the core install.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/mattermost\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/mattermost\n```\n\nIf you choose Mattermost during configure/onboarding and a git checkout is detected,\nOpenClaw will offer the local install path automatically.\n\nDetails: [Plugins](/plugin)",
    "## Quick setup\n\n1. Install the Mattermost plugin.\n2. Create a Mattermost bot account and copy the **bot token**.\n3. Copy the Mattermost **base URL** (e.g., `https://chat.example.com`).\n4. Configure OpenClaw and start the gateway.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    mattermost: {\n      enabled: true,\n      botToken: \"mm-token\",\n      baseUrl: \"https://chat.example.com\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```",
    "## Environment variables (default account)\n\nSet these on the gateway host if you prefer env vars:\n\n- `MATTERMOST_BOT_TOKEN=...`\n- `MATTERMOST_URL=https://chat.example.com`\n\nEnv vars apply only to the **default** account (`default`). Other accounts must use config values.",
    "## Chat modes\n\nMattermost responds to DMs automatically. Channel behavior is controlled by `chatmode`:\n\n- `oncall` (default): respond only when @mentioned in channels.\n- `onmessage`: respond to every channel message.\n- `onchar`: respond when a message starts with a trigger prefix.\n\nConfig example:\n\n```json5\n{\n  channels: {\n    mattermost: {\n      chatmode: \"onchar\",\n      oncharPrefixes: [\">\", \"!\"],\n    },\n  },\n}\n```\n\nNotes:\n\n- `onchar` still responds to explicit @mentions.\n- `channels.mattermost.requireMention` is honored for legacy configs but `chatmode` is preferred.",
    "## Access control (DMs)\n\n- Default: `channels.mattermost.dmPolicy = \"pairing\"` (unknown senders get a pairing code).\n- Approve via:\n  - `openclaw pairing list mattermost`\n  - `openclaw pairing approve mattermost <CODE>`\n- Public DMs: `channels.mattermost.dmPolicy=\"open\"` plus `channels.mattermost.allowFrom=[\"*\"]`.",
    "## Channels (groups)\n\n- Default: `channels.mattermost.groupPolicy = \"allowlist\"` (mention-gated).\n- Allowlist senders with `channels.mattermost.groupAllowFrom` (user IDs or `@username`).\n- Open channels: `channels.mattermost.groupPolicy=\"open\"` (mention-gated).",
    "## Targets for outbound delivery\n\nUse these target formats with `openclaw message send` or cron/webhooks:\n\n- `channel:<id>` for a channel\n- `user:<id>` for a DM\n- `@username` for a DM (resolved via the Mattermost API)\n\nBare IDs are treated as channels.",
    "## Multi-account\n\nMattermost supports multiple accounts under `channels.mattermost.accounts`:\n\n```json5\n{\n  channels: {\n    mattermost: {\n      accounts: {\n        default: { name: \"Primary\", botToken: \"mm-token\", baseUrl: \"https://chat.example.com\" },\n        alerts: { name: \"Alerts\", botToken: \"mm-token-2\", baseUrl: \"https://alerts.example.com\" },\n      },\n    },\n  },\n}\n```",
    "## Troubleshooting\n\n- No replies in channels: ensure the bot is in the channel and mention it (oncall), use a trigger prefix (onchar), or set `chatmode: \"onmessage\"`.\n- Auth errors: check the bot token, base URL, and whether the account is enabled.\n- Multi-account issues: env vars only apply to the `default` account.",
    "---\nsummary: \"Inbound image/audio/video understanding (optional) with provider + CLI fallbacks\"\nread_when:\n  - Designing or refactoring media understanding\n  - Tuning inbound audio/video/image preprocessing\ntitle: \"Media Understanding\"\n---\n\n# Media Understanding (Inbound) â€” 2026-01-17\n\nOpenClaw can **summarize inbound media** (image/audio/video) before the reply pipeline runs. It autoâ€‘detects when local tools or provider keys are available, and can be disabled or customized. If understanding is off, models still receive the original files/URLs as usual.",
    "## Goals\n\n- Optional: preâ€‘digest inbound media into short text for faster routing + better command parsing.\n- Preserve original media delivery to the model (always).\n- Support **provider APIs** and **CLI fallbacks**.\n- Allow multiple models with ordered fallback (error/size/timeout).",
    "## Highâ€‘level behavior\n\n1. Collect inbound attachments (`MediaPaths`, `MediaUrls`, `MediaTypes`).\n2. For each enabled capability (image/audio/video), select attachments per policy (default: **first**).\n3. Choose the first eligible model entry (size + capability + auth).\n4. If a model fails or the media is too large, **fall back to the next entry**.\n5. On success:\n   - `Body` becomes `[Image]`, `[Audio]`, or `[Video]` block.\n   - Audio sets `{{Transcript}}`; command parsing uses caption text when present,\n     otherwise the transcript.\n   - Captions are preserved as `User text:` inside the block.\n\nIf understanding fails or is disabled, **the reply flow continues** with the original body + attachments.",
    "## Config overview\n\n`tools.media` supports **shared models** plus perâ€‘capability overrides:\n\n- `tools.media.models`: shared model list (use `capabilities` to gate).\n- `tools.media.image` / `tools.media.audio` / `tools.media.video`:\n  - defaults (`prompt`, `maxChars`, `maxBytes`, `timeoutSeconds`, `language`)\n  - provider overrides (`baseUrl`, `headers`, `providerOptions`)\n  - Deepgram audio options via `tools.media.audio.providerOptions.deepgram`\n  - optional **perâ€‘capability `models` list** (preferred before shared models)\n  - `attachments` policy (`mode`, `maxAttachments`, `prefer`)\n  - `scope` (optional gating by channel/chatType/session key)\n- `tools.media.concurrency`: max concurrent capability runs (default **2**).",
    "```json5\n{\n  tools: {\n    media: {\n      models: [\n        /* shared list */\n      ],\n      image: {\n        /* optional overrides */\n      },\n      audio: {\n        /* optional overrides */\n      },\n      video: {\n        /* optional overrides */\n      },\n    },\n  },\n}\n```\n\n### Model entries\n\nEach `models[]` entry can be **provider** or **CLI**:\n\n```json5\n{\n  type: \"provider\", // default if omitted\n  provider: \"openai\",\n  model: \"gpt-5.2\",\n  prompt: \"Describe the image in <= 500 chars.\",\n  maxChars: 500,\n  maxBytes: 10485760,\n  timeoutSeconds: 60,\n  capabilities: [\"image\"], // optional, used for multiâ€‘modal entries\n  profile: \"vision-profile\",\n  preferredProfile: \"vision-fallback\",\n}\n```",
    "```json5\n{\n  type: \"cli\",\n  command: \"gemini\",\n  args: [\n    \"-m\",\n    \"gemini-3-flash\",\n    \"--allowed-tools\",\n    \"read_file\",\n    \"Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.\",\n  ],\n  maxChars: 500,\n  maxBytes: 52428800,\n  timeoutSeconds: 120,\n  capabilities: [\"video\", \"image\"],\n}\n```\n\nCLI templates can also use:\n\n- `{{MediaDir}}` (directory containing the media file)\n- `{{OutputDir}}` (scratch dir created for this run)\n- `{{OutputBase}}` (scratch file base path, no extension)",
    "## Defaults and limits\n\nRecommended defaults:\n\n- `maxChars`: **500** for image/video (short, commandâ€‘friendly)\n- `maxChars`: **unset** for audio (full transcript unless you set a limit)\n- `maxBytes`:\n  - image: **10MB**\n  - audio: **20MB**\n  - video: **50MB**\n\nRules:\n\n- If media exceeds `maxBytes`, that model is skipped and the **next model is tried**.\n- If the model returns more than `maxChars`, output is trimmed.\n- `prompt` defaults to simple â€œDescribe the {media}.â€ plus the `maxChars` guidance (image/video only).\n- If `<capability>.enabled: true` but no models are configured, OpenClaw tries the\n  **active reply model** when its provider supports the capability.\n\n### Auto-detect media understanding (default)\n\nIf `tools.media.<capability>.enabled` is **not** set to `false` and you havenâ€™t\nconfigured models, OpenClaw auto-detects in this order and **stops at the first\nworking option**:",
    "1. **Local CLIs** (audio only; if installed)\n   - `sherpa-onnx-offline` (requires `SHERPA_ONNX_MODEL_DIR` with encoder/decoder/joiner/tokens)\n   - `whisper-cli` (`whisper-cpp`; uses `WHISPER_CPP_MODEL` or the bundled tiny model)\n   - `whisper` (Python CLI; downloads models automatically)\n2. **Gemini CLI** (`gemini`) using `read_many_files`\n3. **Provider keys**\n   - Audio: OpenAI â†’ Groq â†’ Deepgram â†’ Google\n   - Image: OpenAI â†’ Anthropic â†’ Google â†’ MiniMax\n   - Video: Google\n\nTo disable auto-detection, set:\n\n```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: false,\n      },\n    },\n  },\n}\n```\n\nNote: Binary detection is best-effort across macOS/Linux/Windows; ensure the CLI is on `PATH` (we expand `~`), or set an explicit CLI model with a full command path.",
    "## Capabilities (optional)\n\nIf you set `capabilities`, the entry only runs for those media types. For shared\nlists, OpenClaw can infer defaults:\n\n- `openai`, `anthropic`, `minimax`: **image**\n- `google` (Gemini API): **image + audio + video**\n- `groq`: **audio**\n- `deepgram`: **audio**\n\nFor CLI entries, **set `capabilities` explicitly** to avoid surprising matches.\nIf you omit `capabilities`, the entry is eligible for the list it appears in.",
    "## Provider support matrix (OpenClaw integrations)\n\n| Capability | Provider integration                             | Notes                                             |\n| ---------- | ------------------------------------------------ | ------------------------------------------------- |\n| Image      | OpenAI / Anthropic / Google / others via `pi-ai` | Any image-capable model in the registry works.    |\n| Audio      | OpenAI, Groq, Deepgram, Google                   | Provider transcription (Whisper/Deepgram/Gemini). |\n| Video      | Google (Gemini API)                              | Provider video understanding.                     |",
    "## Recommended providers\n\n**Image**\n\n- Prefer your active model if it supports images.\n- Good defaults: `openai/gpt-5.2`, `anthropic/claude-opus-4-6`, `google/gemini-3-pro-preview`.\n\n**Audio**\n\n- `openai/gpt-4o-mini-transcribe`, `groq/whisper-large-v3-turbo`, or `deepgram/nova-3`.\n- CLI fallback: `whisper-cli` (whisper-cpp) or `whisper`.\n- Deepgram setup: [Deepgram (audio transcription)](/providers/deepgram).\n\n**Video**\n\n- `google/gemini-3-flash-preview` (fast), `google/gemini-3-pro-preview` (richer).\n- CLI fallback: `gemini` CLI (supports `read_file` on video/audio).",
    "## Attachment policy\n\nPerâ€‘capability `attachments` controls which attachments are processed:\n\n- `mode`: `first` (default) or `all`\n- `maxAttachments`: cap the number processed (default **1**)\n- `prefer`: `first`, `last`, `path`, `url`\n\nWhen `mode: \"all\"`, outputs are labeled `[Image 1/2]`, `[Audio 2/2]`, etc.",
    "## Config examples\n\n### 1) Shared models list + overrides\n\n```json5\n{\n  tools: {\n    media: {\n      models: [\n        { provider: \"openai\", model: \"gpt-5.2\", capabilities: [\"image\"] },\n        {\n          provider: \"google\",\n          model: \"gemini-3-flash-preview\",\n          capabilities: [\"image\", \"audio\", \"video\"],\n        },\n        {\n          type: \"cli\",\n          command: \"gemini\",\n          args: [\n            \"-m\",\n            \"gemini-3-flash\",\n            \"--allowed-tools\",\n            \"read_file\",\n            \"Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.\",\n          ],\n          capabilities: [\"image\", \"video\"],\n        },\n      ],\n      audio: {\n        attachments: { mode: \"all\", maxAttachments: 2 },\n      },\n      video: {\n        maxChars: 500,\n      },\n    },\n  },\n}\n```\n\n### 2) Audio + Video only (image off)",
    "```json5\n{\n  tools: {\n    media: {\n      audio: {\n        enabled: true,\n        models: [\n          { provider: \"openai\", model: \"gpt-4o-mini-transcribe\" },\n          {\n            type: \"cli\",\n            command: \"whisper\",\n            args: [\"--model\", \"base\", \"{{MediaPath}}\"],\n          },\n        ],\n      },\n      video: {\n        enabled: true,\n        maxChars: 500,\n        models: [\n          { provider: \"google\", model: \"gemini-3-flash-preview\" },\n          {\n            type: \"cli\",\n            command: \"gemini\",\n            args: [\n              \"-m\",\n              \"gemini-3-flash\",\n              \"--allowed-tools\",\n              \"read_file\",\n              \"Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.\",\n            ],\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### 3) Optional image understanding",
    "```json5\n{\n  tools: {\n    media: {\n      image: {\n        enabled: true,\n        maxBytes: 10485760,\n        maxChars: 500,\n        models: [\n          { provider: \"openai\", model: \"gpt-5.2\" },\n          { provider: \"anthropic\", model: \"claude-opus-4-6\" },\n          {\n            type: \"cli\",\n            command: \"gemini\",\n            args: [\n              \"-m\",\n              \"gemini-3-flash\",\n              \"--allowed-tools\",\n              \"read_file\",\n              \"Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.\",\n            ],\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### 4) Multiâ€‘modal single entry (explicit capabilities)",
    "```json5\n{\n  tools: {\n    media: {\n      image: {\n        models: [\n          {\n            provider: \"google\",\n            model: \"gemini-3-pro-preview\",\n            capabilities: [\"image\", \"video\", \"audio\"],\n          },\n        ],\n      },\n      audio: {\n        models: [\n          {\n            provider: \"google\",\n            model: \"gemini-3-pro-preview\",\n            capabilities: [\"image\", \"video\", \"audio\"],\n          },\n        ],\n      },\n      video: {\n        models: [\n          {\n            provider: \"google\",\n            model: \"gemini-3-pro-preview\",\n            capabilities: [\"image\", \"video\", \"audio\"],\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "## Status output\n\nWhen media understanding runs, `/status` includes a short summary line:\n\n```\nğŸ“ Media: image ok (openai/gpt-5.2) Â· audio skipped (maxBytes)\n```\n\nThis shows perâ€‘capability outcomes and the chosen provider/model when applicable.",
    "## Notes\n\n- Understanding is **bestâ€‘effort**. Errors do not block replies.\n- Attachments are still passed to models even when understanding is disabled.\n- Use `scope` to limit where understanding runs (e.g. only DMs).",
    "## Related docs\n\n- [Configuration](/gateway/configuration)\n- [Image & Media Support](/nodes/images)",
    "---\nsummary: \"CLI reference for `openclaw memory` (status/index/search)\"\nread_when:\n  - You want to index or search semantic memory\n  - Youâ€™re debugging memory availability or indexing\ntitle: \"memory\"\n---\n\n# `openclaw memory`\n\nManage semantic memory indexing and search.\nProvided by the active memory plugin (default: `memory-core`; set `plugins.slots.memory = \"none\"` to disable).\n\nRelated:\n\n- Memory concept: [Memory](/concepts/memory)\n- Plugins: [Plugins](/plugin)",
    "## Examples\n\n```bash\nopenclaw memory status\nopenclaw memory status --deep\nopenclaw memory status --deep --index\nopenclaw memory status --deep --index --verbose\nopenclaw memory index\nopenclaw memory index --verbose\nopenclaw memory search \"release checklist\"\nopenclaw memory status --agent main\nopenclaw memory index --agent main --verbose\n```",
    "## Options\n\nCommon:\n\n- `--agent <id>`: scope to a single agent (default: all configured agents).\n- `--verbose`: emit detailed logs during probes and indexing.\n\nNotes:\n\n- `memory status --deep` probes vector + embedding availability.\n- `memory status --deep --index` runs a reindex if the store is dirty.\n- `memory index --verbose` prints per-phase details (provider, model, sources, batch activity).\n- `memory status` includes any extra paths configured via `memorySearch.extraPaths`.",
    "---\nsummary: \"Menu bar status logic and what is surfaced to users\"\nread_when:\n  - Tweaking mac menu UI or status logic\ntitle: \"Menu Bar\"\n---\n\n# Menu Bar Status Logic",
    "## What is shown\n\n- We surface the current agent work state in the menu bar icon and in the first status row of the menu.\n- Health status is hidden while work is active; it returns when all sessions are idle.\n- The â€œNodesâ€ block in the menu lists **devices** only (paired nodes via `node.list`), not client/presence entries.\n- A â€œUsageâ€ section appears under Context when provider usage snapshots are available.",
    "## State model\n\n- Sessions: events arrive with `runId` (per-run) plus `sessionKey` in the payload. The â€œmainâ€ session is the key `main`; if absent, we fall back to the most recently updated session.\n- Priority: main always wins. If main is active, its state is shown immediately. If main is idle, the most recently active nonâ€‘main session is shown. We do not flipâ€‘flop midâ€‘activity; we only switch when the current session goes idle or main becomes active.\n- Activity kinds:\n  - `job`: highâ€‘level command execution (`state: started|streaming|done|error`).\n  - `tool`: `phase: start|result` with `toolName` and `meta/args`.",
    "## IconState enum (Swift)\n\n- `idle`\n- `workingMain(ActivityKind)`\n- `workingOther(ActivityKind)`\n- `overridden(ActivityKind)` (debug override)\n\n### ActivityKind â†’ glyph\n\n- `exec` â†’ ğŸ’»\n- `read` â†’ ğŸ“„\n- `write` â†’ âœï¸\n- `edit` â†’ ğŸ“\n- `attach` â†’ ğŸ“\n- default â†’ ğŸ› ï¸\n\n### Visual mapping\n\n- `idle`: normal critter.\n- `workingMain`: badge with glyph, full tint, leg â€œworkingâ€ animation.\n- `workingOther`: badge with glyph, muted tint, no scurry.\n- `overridden`: uses the chosen glyph/tint regardless of activity.",
    "## Status row text (menu)\n\n- While work is active: `<Session role> Â· <activity label>`\n  - Examples: `Main Â· exec: pnpm test`, `Other Â· read: apps/macos/Sources/OpenClaw/AppState.swift`.\n- When idle: falls back to the health summary.",
    "## Event ingestion\n\n- Source: controlâ€‘channel `agent` events (`ControlChannel.handleAgentEvent`).\n- Parsed fields:\n  - `stream: \"job\"` with `data.state` for start/stop.\n  - `stream: \"tool\"` with `data.phase`, `name`, optional `meta`/`args`.\n- Labels:\n  - `exec`: first line of `args.command`.\n  - `read`/`write`: shortened path.\n  - `edit`: path plus inferred change kind from `meta`/diff counts.\n  - fallback: tool name.",
    "## Debug override\n\n- Settings â–¸ Debug â–¸ â€œIcon overrideâ€ picker:\n  - `System (auto)` (default)\n  - `Working: main` (per tool kind)\n  - `Working: other` (per tool kind)\n  - `Idle`\n- Stored via `@AppStorage(\"iconOverride\")`; mapped to `IconState.overridden`.",
    "## Testing checklist\n\n- Trigger main session job: verify icon switches immediately and status row shows main label.\n- Trigger nonâ€‘main session job while main idle: icon/status shows nonâ€‘main; stays stable until it finishes.\n- Start main while other active: icon flips to main instantly.\n- Rapid tool bursts: ensure badge does not flicker (TTL grace on tool results).\n- Health row reappears once all sessions idle.",
    "---\nsummary: \"CLI reference for `openclaw message` (send + channel actions)\"\nread_when:\n  - Adding or modifying message CLI actions\n  - Changing outbound channel behavior\ntitle: \"message\"\n---\n\n# `openclaw message`\n\nSingle outbound command for sending messages and channel actions\n(Discord/Google Chat/Slack/Mattermost (plugin)/Telegram/WhatsApp/Signal/iMessage/MS Teams).",
    "## Usage\n\n```\nopenclaw message <subcommand> [flags]\n```\n\nChannel selection:\n\n- `--channel` required if more than one channel is configured.\n- If exactly one channel is configured, it becomes the default.\n- Values: `whatsapp|telegram|discord|googlechat|slack|mattermost|signal|imessage|msteams` (Mattermost requires plugin)\n\nTarget formats (`--target`):",
    "- WhatsApp: E.164 or group JID\n- Telegram: chat id or `@username`\n- Discord: `channel:<id>` or `user:<id>` (or `<@id>` mention; raw numeric ids are treated as channels)\n- Google Chat: `spaces/<spaceId>` or `users/<userId>`\n- Slack: `channel:<id>` or `user:<id>` (raw channel id is accepted)\n- Mattermost (plugin): `channel:<id>`, `user:<id>`, or `@username` (bare ids are treated as channels)\n- Signal: `+E.164`, `group:<id>`, `signal:+E.164`, `signal:group:<id>`, or `username:<name>`/`u:<name>`\n- iMessage: handle, `chat_id:<id>`, `chat_guid:<guid>`, or `chat_identifier:<id>`\n- MS Teams: conversation id (`19:...@thread.tacv2`) or `conversation:<id>` or `user:<aad-object-id>`\n\nName lookup:\n\n- For supported providers (Discord/Slack/etc), channel names like `Help` or `#help` are resolved via the directory cache.\n- On cache miss, OpenClaw will attempt a live directory lookup when the provider supports it.",
    "## Common flags\n\n- `--channel <name>`\n- `--account <id>`\n- `--target <dest>` (target channel or user for send/poll/read/etc)\n- `--targets <name>` (repeat; broadcast only)\n- `--json`\n- `--dry-run`\n- `--verbose`",
    "## Actions\n\n### Core\n\n- `send`\n  - Channels: WhatsApp/Telegram/Discord/Google Chat/Slack/Mattermost (plugin)/Signal/iMessage/MS Teams\n  - Required: `--target`, plus `--message` or `--media`\n  - Optional: `--media`, `--reply-to`, `--thread-id`, `--gif-playback`\n  - Telegram only: `--buttons` (requires `channels.telegram.capabilities.inlineButtons` to allow it)\n  - Telegram only: `--thread-id` (forum topic id)\n  - Slack only: `--thread-id` (thread timestamp; `--reply-to` uses the same field)\n  - WhatsApp only: `--gif-playback`\n\n- `poll`\n  - Channels: WhatsApp/Discord/MS Teams\n  - Required: `--target`, `--poll-question`, `--poll-option` (repeat)\n  - Optional: `--poll-multi`\n  - Discord only: `--poll-duration-hours`, `--message`",
    "- `react`\n  - Channels: Discord/Google Chat/Slack/Telegram/WhatsApp/Signal\n  - Required: `--message-id`, `--target`\n  - Optional: `--emoji`, `--remove`, `--participant`, `--from-me`, `--target-author`, `--target-author-uuid`\n  - Note: `--remove` requires `--emoji` (omit `--emoji` to clear own reactions where supported; see /tools/reactions)\n  - WhatsApp only: `--participant`, `--from-me`\n  - Signal group reactions: `--target-author` or `--target-author-uuid` required\n\n- `reactions`\n  - Channels: Discord/Google Chat/Slack\n  - Required: `--message-id`, `--target`\n  - Optional: `--limit`\n\n- `read`\n  - Channels: Discord/Slack\n  - Required: `--target`\n  - Optional: `--limit`, `--before`, `--after`\n  - Discord only: `--around`\n\n- `edit`\n  - Channels: Discord/Slack\n  - Required: `--message-id`, `--message`, `--target`\n\n- `delete`\n  - Channels: Discord/Slack/Telegram\n  - Required: `--message-id`, `--target`\n\n- `pin` / `unpin`\n  - Channels: Discord/Slack\n  - Required: `--message-id`, `--target`",
    "- `pins` (list)\n  - Channels: Discord/Slack\n  - Required: `--target`\n\n- `permissions`\n  - Channels: Discord\n  - Required: `--target`\n\n- `search`\n  - Channels: Discord\n  - Required: `--guild-id`, `--query`\n  - Optional: `--channel-id`, `--channel-ids` (repeat), `--author-id`, `--author-ids` (repeat), `--limit`\n\n### Threads\n\n- `thread create`\n  - Channels: Discord\n  - Required: `--thread-name`, `--target` (channel id)\n  - Optional: `--message-id`, `--auto-archive-min`\n\n- `thread list`\n  - Channels: Discord\n  - Required: `--guild-id`\n  - Optional: `--channel-id`, `--include-archived`, `--before`, `--limit`\n\n- `thread reply`\n  - Channels: Discord\n  - Required: `--target` (thread id), `--message`\n  - Optional: `--media`, `--reply-to`\n\n### Emojis\n\n- `emoji list`\n  - Discord: `--guild-id`\n  - Slack: no extra flags\n\n- `emoji upload`\n  - Channels: Discord\n  - Required: `--guild-id`, `--emoji-name`, `--media`\n  - Optional: `--role-ids` (repeat)\n\n### Stickers",
    "- `sticker send`\n  - Channels: Discord\n  - Required: `--target`, `--sticker-id` (repeat)\n  - Optional: `--message`\n\n- `sticker upload`\n  - Channels: Discord\n  - Required: `--guild-id`, `--sticker-name`, `--sticker-desc`, `--sticker-tags`, `--media`\n\n### Roles / Channels / Members / Voice\n\n- `role info` (Discord): `--guild-id`\n- `role add` / `role remove` (Discord): `--guild-id`, `--user-id`, `--role-id`\n- `channel info` (Discord): `--target`\n- `channel list` (Discord): `--guild-id`\n- `member info` (Discord/Slack): `--user-id` (+ `--guild-id` for Discord)\n- `voice status` (Discord): `--guild-id`, `--user-id`\n\n### Events\n\n- `event list` (Discord): `--guild-id`\n- `event create` (Discord): `--guild-id`, `--event-name`, `--start-time`\n  - Optional: `--end-time`, `--desc`, `--channel-id`, `--location`, `--event-type`\n\n### Moderation (Discord)",
    "- `timeout`: `--guild-id`, `--user-id` (optional `--duration-min` or `--until`; omit both to clear timeout)\n- `kick`: `--guild-id`, `--user-id` (+ `--reason`)\n- `ban`: `--guild-id`, `--user-id` (+ `--delete-days`, `--reason`)\n  - `timeout` also supports `--reason`\n\n### Broadcast\n\n- `broadcast`\n  - Channels: any configured channel; use `--channel all` to target all providers\n  - Required: `--targets` (repeat)\n  - Optional: `--message`, `--media`, `--dry-run`",
    "## Examples\n\nSend a Discord reply:\n\n```\nopenclaw message send --channel discord \\\n  --target channel:123 --message \"hi\" --reply-to 456\n```\n\nCreate a Discord poll:\n\n```\nopenclaw message poll --channel discord \\\n  --target channel:123 \\\n  --poll-question \"Snack?\" \\\n  --poll-option Pizza --poll-option Sushi \\\n  --poll-multi --poll-duration-hours 48\n```\n\nSend a Teams proactive message:\n\n```\nopenclaw message send --channel msteams \\\n  --target conversation:19:abc@thread.tacv2 --message \"hi\"\n```\n\nCreate a Teams poll:\n\n```\nopenclaw message poll --channel msteams \\\n  --target conversation:19:abc@thread.tacv2 \\\n  --poll-question \"Lunch?\" \\\n  --poll-option Pizza --poll-option Sushi\n```\n\nReact in Slack:\n\n```\nopenclaw message react --channel slack \\\n  --target C123 --message-id 456 --emoji \"âœ…\"\n```\n\nReact in a Signal group:",
    "```\nopenclaw message react --channel signal \\\n  --target signal:group:abc123 --message-id 1737630212345 \\\n  --emoji \"âœ…\" --target-author-uuid 123e4567-e89b-12d3-a456-426614174000\n```\n\nSend Telegram inline buttons:\n\n```\nopenclaw message send --channel telegram --target @mychat --message \"Choose:\" \\\n  --buttons '[ [{\"text\":\"Yes\",\"callback_data\":\"cmd:yes\"}], [{\"text\":\"No\",\"callback_data\":\"cmd:no\"}] ]'\n```",
    "---\nsummary: \"Message flow, sessions, queueing, and reasoning visibility\"\nread_when:\n  - Explaining how inbound messages become replies\n  - Clarifying sessions, queueing modes, or streaming behavior\n  - Documenting reasoning visibility and usage implications\ntitle: \"Messages\"\n---\n\n# Messages\n\nThis page ties together how OpenClaw handles inbound messages, sessions, queueing,\nstreaming, and reasoning visibility.",
    "## Message flow (high level)\n\n```\nInbound message\n  -> routing/bindings -> session key\n  -> queue (if a run is active)\n  -> agent run (streaming + tools)\n  -> outbound replies (channel limits + chunking)\n```\n\nKey knobs live in configuration:\n\n- `messages.*` for prefixes, queueing, and group behavior.\n- `agents.defaults.*` for block streaming and chunking defaults.\n- Channel overrides (`channels.whatsapp.*`, `channels.telegram.*`, etc.) for caps and streaming toggles.\n\nSee [Configuration](/gateway/configuration) for full schema.",
    "## Inbound dedupe\n\nChannels can redeliver the same message after reconnects. OpenClaw keeps a\nshort-lived cache keyed by channel/account/peer/session/message id so duplicate\ndeliveries do not trigger another agent run.",
    "## Inbound debouncing\n\nRapid consecutive messages from the **same sender** can be batched into a single\nagent turn via `messages.inbound`. Debouncing is scoped per channel + conversation\nand uses the most recent message for reply threading/IDs.\n\nConfig (global default + per-channel overrides):\n\n```json5\n{\n  messages: {\n    inbound: {\n      debounceMs: 2000,\n      byChannel: {\n        whatsapp: 5000,\n        slack: 1500,\n        discord: 1500,\n      },\n    },\n  },\n}\n```\n\nNotes:\n\n- Debounce applies to **text-only** messages; media/attachments flush immediately.\n- Control commands bypass debouncing so they remain standalone.",
    "## Sessions and devices\n\nSessions are owned by the gateway, not by clients.\n\n- Direct chats collapse into the agent main session key.\n- Groups/channels get their own session keys.\n- The session store and transcripts live on the gateway host.\n\nMultiple devices/channels can map to the same session, but history is not fully\nsynced back to every client. Recommendation: use one primary device for long\nconversations to avoid divergent context. The Control UI and TUI always show the\ngateway-backed session transcript, so they are the source of truth.\n\nDetails: [Session management](/concepts/session).",
    "## Inbound bodies and history context\n\nOpenClaw separates the **prompt body** from the **command body**:\n\n- `Body`: prompt text sent to the agent. This may include channel envelopes and\n  optional history wrappers.\n- `CommandBody`: raw user text for directive/command parsing.\n- `RawBody`: legacy alias for `CommandBody` (kept for compatibility).\n\nWhen a channel supplies history, it uses a shared wrapper:\n\n- `[Chat messages since your last reply - for context]`\n- `[Current message - respond to this]`\n\nFor **non-direct chats** (groups/channels/rooms), the **current message body** is prefixed with the\nsender label (same style used for history entries). This keeps real-time and queued/history\nmessages consistent in the agent prompt.\n\nHistory buffers are **pending-only**: they include group messages that did _not_\ntrigger a run (for example, mention-gated messages) and **exclude** messages\nalready in the session transcript.",
    "Directive stripping only applies to the **current message** section so history\nremains intact. Channels that wrap history should set `CommandBody` (or\n`RawBody`) to the original message text and keep `Body` as the combined prompt.\nHistory buffers are configurable via `messages.groupChat.historyLimit` (global\ndefault) and per-channel overrides like `channels.slack.historyLimit` or\n`channels.telegram.accounts.<id>.historyLimit` (set `0` to disable).",
    "## Queueing and followups\n\nIf a run is already active, inbound messages can be queued, steered into the\ncurrent run, or collected for a followup turn.\n\n- Configure via `messages.queue` (and `messages.queue.byChannel`).\n- Modes: `interrupt`, `steer`, `followup`, `collect`, plus backlog variants.\n\nDetails: [Queueing](/concepts/queue).",
    "## Streaming, chunking, and batching\n\nBlock streaming sends partial replies as the model produces text blocks.\nChunking respects channel text limits and avoids splitting fenced code.\n\nKey settings:\n\n- `agents.defaults.blockStreamingDefault` (`on|off`, default off)\n- `agents.defaults.blockStreamingBreak` (`text_end|message_end`)\n- `agents.defaults.blockStreamingChunk` (`minChars|maxChars|breakPreference`)\n- `agents.defaults.blockStreamingCoalesce` (idle-based batching)\n- `agents.defaults.humanDelay` (human-like pause between block replies)\n- Channel overrides: `*.blockStreaming` and `*.blockStreamingCoalesce` (non-Telegram channels require explicit `*.blockStreaming: true`)\n\nDetails: [Streaming + chunking](/concepts/streaming).",
    "## Reasoning visibility and tokens\n\nOpenClaw can expose or hide model reasoning:\n\n- `/reasoning on|off|stream` controls visibility.\n- Reasoning content still counts toward token usage when produced by the model.\n- Telegram supports reasoning stream into the draft bubble.\n\nDetails: [Thinking + reasoning directives](/tools/thinking) and [Token use](/token-use).",
    "## Prefixes, threading, and replies\n\nOutbound message formatting is centralized in `messages`:\n\n- `messages.responsePrefix`, `channels.<channel>.responsePrefix`, and `channels.<channel>.accounts.<id>.responsePrefix` (outbound prefix cascade), plus `channels.whatsapp.messagePrefix` (WhatsApp inbound prefix)\n- Reply threading via `replyToMode` and per-channel defaults\n\nDetails: [Configuration](/gateway/configuration#messages) and channel docs.",
    "---\nread_when:\n  - ä½ æ­£åœ¨å°† OpenClaw è¿ç§»åˆ°æ–°çš„ç¬”è®°æœ¬ç”µè„‘/æœåŠ¡å™¨\n  - ä½ æƒ³ä¿ç•™ä¼šè¯ã€è®¤è¯å’Œæ¸ é“ç™»å½•ï¼ˆWhatsApp ç­‰ï¼‰\nsummary: å°† OpenClaw å®‰è£…ä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°\ntitle: è¿ç§»æŒ‡å—\nx-i18n:\n  generated_at: \"2026-02-03T07:49:55Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 604d862c4bf86e7924d09028db8cc2514ca6f1d64ebe8bb7d1e2dde57ef70caa\n  source_path: install/migrating.md\n  workflow: 15\n---\n\n# å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨\n\næœ¬æŒ‡å—å°† OpenClaw Gateway ç½‘å…³ä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°ï¼Œ**æ— éœ€é‡æ–°è¿›è¡Œæ–°æ‰‹å¼•å¯¼**ã€‚\n\nè¿ç§»åœ¨æ¦‚å¿µä¸Šå¾ˆç®€å•ï¼š\n\n- å¤åˆ¶**çŠ¶æ€ç›®å½•**ï¼ˆ`$OPENCLAW_STATE_DIR`ï¼Œé»˜è®¤ï¼š`~/.openclaw/`ï¼‰â€” è¿™åŒ…æ‹¬é…ç½®ã€è®¤è¯ã€ä¼šè¯å’Œæ¸ é“çŠ¶æ€ã€‚\n- å¤åˆ¶ä½ çš„**å·¥ä½œåŒº**ï¼ˆé»˜è®¤ `~/.openclaw/workspace/`ï¼‰â€” è¿™åŒ…æ‹¬ä½ çš„æ™ºèƒ½ä½“æ–‡ä»¶ï¼ˆè®°å¿†ã€æç¤ºç­‰ï¼‰ã€‚\n\nä½†åœ¨**é…ç½®æ–‡ä»¶**ã€**æƒé™**å’Œ**éƒ¨åˆ†å¤åˆ¶**æ–¹é¢æœ‰å¸¸è§çš„é™·é˜±ã€‚",
    "## å¼€å§‹ä¹‹å‰ï¼ˆä½ è¦è¿ç§»ä»€ä¹ˆï¼‰\n\n### 1ï¼‰ç¡®å®šä½ çš„çŠ¶æ€ç›®å½•\n\nå¤§å¤šæ•°å®‰è£…ä½¿ç”¨é»˜è®¤å€¼ï¼š\n\n- **çŠ¶æ€ç›®å½•ï¼š** `~/.openclaw/`\n\nä½†å¦‚æœä½ ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼Œå¯èƒ½ä¼šä¸åŒï¼š\n\n- `--profile <name>`ï¼ˆé€šå¸¸å˜æˆ `~/.openclaw-<profile>/`ï¼‰\n- `OPENCLAW_STATE_DIR=/some/path`\n\nå¦‚æœä½ ä¸ç¡®å®šï¼Œåœ¨**æ—§**æœºå™¨ä¸Šè¿è¡Œï¼š\n\n```bash\nopenclaw status\n```\n\nåœ¨è¾“å‡ºä¸­æŸ¥æ‰¾ `OPENCLAW_STATE_DIR` / profile çš„æåŠã€‚å¦‚æœä½ è¿è¡Œå¤šä¸ª Gateway ç½‘å…³ï¼Œå¯¹æ¯ä¸ªé…ç½®æ–‡ä»¶é‡å¤æ­¤æ“ä½œã€‚\n\n### 2ï¼‰ç¡®å®šä½ çš„å·¥ä½œåŒº\n\nå¸¸è§é»˜è®¤å€¼ï¼š\n\n- `~/.openclaw/workspace/`ï¼ˆæ¨èçš„å·¥ä½œåŒºï¼‰\n- ä½ åˆ›å»ºçš„è‡ªå®šä¹‰æ–‡ä»¶å¤¹\n\nä½ çš„å·¥ä½œåŒºæ˜¯ `MEMORY.md`ã€`USER.md` å’Œ `memory/*.md` ç­‰æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚\n\n### 3ï¼‰äº†è§£ä½ å°†ä¿ç•™ä»€ä¹ˆ\n\nå¦‚æœä½ å¤åˆ¶**ä¸¤è€…**â€”â€”çŠ¶æ€ç›®å½•å’Œå·¥ä½œåŒºï¼Œä½ å°†ä¿ç•™ï¼š\n\n- Gateway ç½‘å…³é…ç½®ï¼ˆ`openclaw.json`ï¼‰\n- è®¤è¯é…ç½®æ–‡ä»¶ / API å¯†é’¥ / OAuth ä»¤ç‰Œ\n- ä¼šè¯å†å² + æ™ºèƒ½ä½“çŠ¶æ€\n- æ¸ é“çŠ¶æ€ï¼ˆä¾‹å¦‚ WhatsApp ç™»å½•/ä¼šè¯ï¼‰\n- ä½ çš„å·¥ä½œåŒºæ–‡ä»¶ï¼ˆè®°å¿†ã€Skills ç¬”è®°ç­‰ï¼‰\n\nå¦‚æœä½ **åª**å¤åˆ¶å·¥ä½œåŒºï¼ˆä¾‹å¦‚é€šè¿‡ Gitï¼‰ï¼Œä½ **ä¸ä¼š**ä¿ç•™ï¼š\n\n- ä¼šè¯\n- å‡­è¯\n- æ¸ é“ç™»å½•\n\nè¿™äº›å­˜å‚¨åœ¨ `$OPENCLAW_STATE_DIR` ä¸‹ã€‚",
    "## è¿ç§»æ­¥éª¤ï¼ˆæ¨èï¼‰\n\n### æ­¥éª¤ 0 â€” å¤‡ä»½ï¼ˆæ—§æœºå™¨ï¼‰\n\nåœ¨**æ—§**æœºå™¨ä¸Šï¼Œé¦–å…ˆåœæ­¢ Gateway ç½‘å…³ï¼Œè¿™æ ·æ–‡ä»¶ä¸ä¼šåœ¨å¤åˆ¶è¿‡ç¨‹ä¸­å‘ç”Ÿå˜åŒ–ï¼š\n\n```bash\nopenclaw gateway stop\n```\n\nï¼ˆå¯é€‰ä½†æ¨èï¼‰å½’æ¡£çŠ¶æ€ç›®å½•å’Œå·¥ä½œåŒºï¼š\n\n```bash\n# å¦‚æœä½ ä½¿ç”¨é…ç½®æ–‡ä»¶æˆ–è‡ªå®šä¹‰ä½ç½®ï¼Œè¯·è°ƒæ•´è·¯å¾„\ncd ~\ntar -czf openclaw-state.tgz .openclaw\n\ntar -czf openclaw-workspace.tgz .openclaw/workspace\n```\n\nå¦‚æœä½ æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•ï¼ˆä¾‹å¦‚ `~/.openclaw-main`ã€`~/.openclaw-work`ï¼‰ï¼Œåˆ†åˆ«å½’æ¡£æ¯ä¸ªã€‚\n\n### æ­¥éª¤ 1 â€” åœ¨æ–°æœºå™¨ä¸Šå®‰è£… OpenClaw\n\nåœ¨**æ–°**æœºå™¨ä¸Šï¼Œå®‰è£… CLIï¼ˆå¦‚æœéœ€è¦è¿˜æœ‰ Nodeï¼‰ï¼š\n\n- å‚è§ï¼š[å®‰è£…](/install)\n\nåœ¨è¿™ä¸ªé˜¶æ®µï¼Œå¦‚æœæ–°æ‰‹å¼•å¯¼åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ `~/.openclaw/` ä¹Ÿæ²¡å…³ç³» â€” ä½ å°†åœ¨ä¸‹ä¸€æ­¥è¦†ç›–å®ƒã€‚\n\n### æ­¥éª¤ 2 â€” å°†çŠ¶æ€ç›®å½• + å·¥ä½œåŒºå¤åˆ¶åˆ°æ–°æœºå™¨\n\nå¤åˆ¶**ä¸¤è€…**ï¼š\n\n- `$OPENCLAW_STATE_DIR`ï¼ˆé»˜è®¤ `~/.openclaw/`ï¼‰\n- ä½ çš„å·¥ä½œåŒºï¼ˆé»˜è®¤ `~/.openclaw/workspace/`ï¼‰\n\nå¸¸è§æ–¹æ³•ï¼š\n\n- `scp` å‹ç¼©åŒ…å¹¶è§£å‹\n- é€šè¿‡ SSH ä½¿ç”¨ `rsync -a`\n- å¤–éƒ¨é©±åŠ¨å™¨\n\nå¤åˆ¶åï¼Œç¡®ä¿ï¼š\n\n- åŒ…å«äº†éšè—ç›®å½•ï¼ˆä¾‹å¦‚ `.openclaw/`ï¼‰\n- æ–‡ä»¶æ‰€æœ‰æƒå¯¹äºè¿è¡Œ Gateway ç½‘å…³çš„ç”¨æˆ·æ˜¯æ­£ç¡®çš„\n\n### æ­¥éª¤ 3 â€” è¿è¡Œ Doctorï¼ˆè¿ç§» + æœåŠ¡ä¿®å¤ï¼‰\n\nåœ¨**æ–°**æœºå™¨ä¸Šï¼š\n\n```bash\nopenclaw doctor\n```\n\nDoctor æ˜¯\"å®‰å…¨å¯é \"çš„å‘½ä»¤ã€‚å®ƒä¿®å¤æœåŠ¡ã€åº”ç”¨é…ç½®è¿ç§»ï¼Œå¹¶è­¦å‘Šä¸åŒ¹é…é—®é¢˜ã€‚\n\nç„¶åï¼š\n\n```bash\nopenclaw gateway restart\nopenclaw status\n```",
    "## å¸¸è§é™·é˜±ï¼ˆä»¥åŠå¦‚ä½•é¿å…ï¼‰\n\n### é™·é˜±ï¼šé…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•ä¸åŒ¹é…\n\nå¦‚æœä½ åœ¨æ—§ Gateway ç½‘å…³ä¸Šä½¿ç”¨äº†é…ç½®æ–‡ä»¶ï¼ˆæˆ– `OPENCLAW_STATE_DIR`ï¼‰ï¼Œè€Œæ–° Gateway ç½‘å…³ä½¿ç”¨äº†ä¸åŒçš„é…ç½®ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç—‡çŠ¶ï¼š\n\n- é…ç½®æ›´æ”¹ä¸ç”Ÿæ•ˆ\n- æ¸ é“ä¸¢å¤±/å·²ç™»å‡º\n- ä¼šè¯å†å²ä¸ºç©º\n\nä¿®å¤ï¼šä½¿ç”¨ä½ è¿ç§»çš„**ç›¸åŒ**é…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•è¿è¡Œ Gateway ç½‘å…³/æœåŠ¡ï¼Œç„¶åé‡æ–°è¿è¡Œï¼š\n\n```bash\nopenclaw doctor\n```\n\n### é™·é˜±ï¼šåªå¤åˆ¶ `openclaw.json`\n\n`openclaw.json` æ˜¯ä¸å¤Ÿçš„ã€‚è®¸å¤šæä¾›å•†åœ¨ä»¥ä¸‹ä½ç½®å­˜å‚¨çŠ¶æ€ï¼š\n\n- `$OPENCLAW_STATE_DIR/credentials/`\n- `$OPENCLAW_STATE_DIR/agents/<agentId>/...`\n\nå§‹ç»ˆè¿ç§»æ•´ä¸ª `$OPENCLAW_STATE_DIR` æ–‡ä»¶å¤¹ã€‚\n\n### é™·é˜±ï¼šæƒé™/æ‰€æœ‰æƒ\n\nå¦‚æœä½ ä»¥ root èº«ä»½å¤åˆ¶æˆ–æ›´æ”¹äº†ç”¨æˆ·ï¼ŒGateway ç½‘å…³å¯èƒ½æ— æ³•è¯»å–å‡­è¯/ä¼šè¯ã€‚\n\nä¿®å¤ï¼šç¡®ä¿çŠ¶æ€ç›®å½• + å·¥ä½œåŒºç”±è¿è¡Œ Gateway ç½‘å…³çš„ç”¨æˆ·æ‹¥æœ‰ã€‚\n\n### é™·é˜±ï¼šåœ¨è¿œç¨‹/æœ¬åœ°æ¨¡å¼ä¹‹é—´è¿ç§»\n\n- å¦‚æœä½ çš„ UIï¼ˆWebUI/TUIï¼‰æŒ‡å‘**è¿œç¨‹** Gateway ç½‘å…³ï¼Œè¿œç¨‹ä¸»æœºæ‹¥æœ‰ä¼šè¯å­˜å‚¨ + å·¥ä½œåŒºã€‚\n- è¿ç§»ä½ çš„ç¬”è®°æœ¬ç”µè„‘ä¸ä¼šç§»åŠ¨è¿œç¨‹ Gateway ç½‘å…³çš„çŠ¶æ€ã€‚\n\nå¦‚æœä½ å¤„äºè¿œç¨‹æ¨¡å¼ï¼Œè¯·è¿ç§» **Gateway ç½‘å…³ä¸»æœº**ã€‚\n\n### é™·é˜±ï¼šå¤‡ä»½ä¸­çš„å¯†é’¥\n\n`$OPENCLAW_STATE_DIR` åŒ…å«å¯†é’¥ï¼ˆAPI å¯†é’¥ã€OAuth ä»¤ç‰Œã€WhatsApp å‡­è¯ï¼‰ã€‚å°†å¤‡ä»½è§†ä¸ºç”Ÿäº§å¯†é’¥ï¼š\n\n- åŠ å¯†å­˜å‚¨\n- é¿å…é€šè¿‡ä¸å®‰å…¨çš„æ¸ é“å…±äº«\n- å¦‚æœæ€€ç–‘æ³„éœ²ï¼Œè½®æ¢å¯†é’¥",
    "## éªŒè¯æ£€æŸ¥æ¸…å•\n\nåœ¨æ–°æœºå™¨ä¸Šï¼Œç¡®è®¤ï¼š\n\n- `openclaw status` æ˜¾ç¤º Gateway ç½‘å…³æ­£åœ¨è¿è¡Œ\n- ä½ çš„æ¸ é“ä»ç„¶è¿æ¥ï¼ˆä¾‹å¦‚ WhatsApp ä¸éœ€è¦é‡æ–°é…å¯¹ï¼‰\n- ä»ªè¡¨æ¿æ‰“å¼€å¹¶æ˜¾ç¤ºç°æœ‰ä¼šè¯\n- ä½ çš„å·¥ä½œåŒºæ–‡ä»¶ï¼ˆè®°å¿†ã€é…ç½®ï¼‰å­˜åœ¨",
    "## ç›¸å…³å†…å®¹\n\n- [Doctor](/gateway/doctor)\n- [Gateway ç½‘å…³æ•…éšœæ’é™¤](/gateway/troubleshooting)\n- [OpenClaw åœ¨å“ªé‡Œå­˜å‚¨æ•°æ®ï¼Ÿ](/help/faq#where-does-openclaw-store-its-data)",
    "---\nsummary: \"Use MiniMax M2.1 in OpenClaw\"\nread_when:\n  - You want MiniMax models in OpenClaw\n  - You need MiniMax setup guidance\ntitle: \"MiniMax\"\n---\n\n# MiniMax\n\nMiniMax is an AI company that builds the **M2/M2.1** model family. The current\ncoding-focused release is **MiniMax M2.1** (December 23, 2025), built for\nreal-world complex tasks.\n\nSource: [MiniMax M2.1 release note](https://www.minimax.io/news/minimax-m21)",
    "## Model overview (M2.1)\n\nMiniMax highlights these improvements in M2.1:\n\n- Stronger **multi-language coding** (Rust, Java, Go, C++, Kotlin, Objective-C, TS/JS).\n- Better **web/app development** and aesthetic output quality (including native mobile).\n- Improved **composite instruction** handling for office-style workflows, building on\n  interleaved thinking and integrated constraint execution.\n- **More concise responses** with lower token usage and faster iteration loops.\n- Stronger **tool/agent framework** compatibility and context management (Claude Code,\n  Droid/Factory AI, Cline, Kilo Code, Roo Code, BlackBox).\n- Higher-quality **dialogue and technical writing** outputs.",
    "## MiniMax M2.1 vs MiniMax M2.1 Lightning\n\n- **Speed:** Lightning is the â€œfastâ€ variant in MiniMaxâ€™s pricing docs.\n- **Cost:** Pricing shows the same input cost, but Lightning has higher output cost.\n- **Coding plan routing:** The Lightning back-end isnâ€™t directly available on the MiniMax\n  coding plan. MiniMax auto-routes most requests to Lightning, but falls back to the\n  regular M2.1 back-end during traffic spikes.",
    "## Choose a setup\n\n### MiniMax OAuth (Coding Plan) â€” recommended\n\n**Best for:** quick setup with MiniMax Coding Plan via OAuth, no API key required.\n\nEnable the bundled OAuth plugin and authenticate:\n\n```bash\nopenclaw plugins enable minimax-portal-auth  # skip if already loaded.\nopenclaw gateway restart  # restart if gateway is already running\nopenclaw onboard --auth-choice minimax-portal\n```\n\nYou will be prompted to select an endpoint:\n\n- **Global** - International users (`api.minimax.io`)\n- **CN** - Users in China (`api.minimaxi.com`)\n\nSee [MiniMax OAuth plugin README](https://github.com/openclaw/openclaw/tree/main/extensions/minimax-portal-auth) for details.\n\n### MiniMax M2.1 (API key)\n\n**Best for:** hosted MiniMax with Anthropic-compatible API.\n\nConfigure via CLI:\n\n- Run `openclaw configure`\n- Select **Model/auth**\n- Choose **MiniMax M2.1**",
    "```json5\n{\n  env: { MINIMAX_API_KEY: \"sk-...\" },\n  agents: { defaults: { model: { primary: \"minimax/MiniMax-M2.1\" } } },\n  models: {\n    mode: \"merge\",\n    providers: {\n      minimax: {\n        baseUrl: \"https://api.minimax.io/anthropic\",\n        apiKey: \"${MINIMAX_API_KEY}\",\n        api: \"anthropic-messages\",\n        models: [\n          {\n            id: \"MiniMax-M2.1\",\n            name: \"MiniMax M2.1\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 15, output: 60, cacheRead: 2, cacheWrite: 10 },\n            contextWindow: 200000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\n### MiniMax M2.1 as fallback (Opus primary)\n\n**Best for:** keep Opus 4.6 as primary, fail over to MiniMax M2.1.",
    "```json5\n{\n  env: { MINIMAX_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      models: {\n        \"anthropic/claude-opus-4-6\": { alias: \"opus\" },\n        \"minimax/MiniMax-M2.1\": { alias: \"minimax\" },\n      },\n      model: {\n        primary: \"anthropic/claude-opus-4-6\",\n        fallbacks: [\"minimax/MiniMax-M2.1\"],\n      },\n    },\n  },\n}\n```\n\n### Optional: Local via LM Studio (manual)\n\n**Best for:** local inference with LM Studio.\nWe have seen strong results with MiniMax M2.1 on powerful hardware (e.g. a\ndesktop/server) using LM Studio's local server.\n\nConfigure manually via `openclaw.json`:",
    "```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"lmstudio/minimax-m2.1-gs32\" },\n      models: { \"lmstudio/minimax-m2.1-gs32\": { alias: \"Minimax\" } },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      lmstudio: {\n        baseUrl: \"http://127.0.0.1:1234/v1\",\n        apiKey: \"lmstudio\",\n        api: \"openai-responses\",\n        models: [\n          {\n            id: \"minimax-m2.1-gs32\",\n            name: \"MiniMax M2.1 GS32\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 196608,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "## Configure via `openclaw configure`\n\nUse the interactive config wizard to set MiniMax without editing JSON:\n\n1. Run `openclaw configure`.\n2. Select **Model/auth**.\n3. Choose **MiniMax M2.1**.\n4. Pick your default model when prompted.",
    "## Configuration options\n\n- `models.providers.minimax.baseUrl`: prefer `https://api.minimax.io/anthropic` (Anthropic-compatible); `https://api.minimax.io/v1` is optional for OpenAI-compatible payloads.\n- `models.providers.minimax.api`: prefer `anthropic-messages`; `openai-completions` is optional for OpenAI-compatible payloads.\n- `models.providers.minimax.apiKey`: MiniMax API key (`MINIMAX_API_KEY`).\n- `models.providers.minimax.models`: define `id`, `name`, `reasoning`, `contextWindow`, `maxTokens`, `cost`.\n- `agents.defaults.models`: alias models you want in the allowlist.\n- `models.mode`: keep `merge` if you want to add MiniMax alongside built-ins.",
    "## Notes\n\n- Model refs are `minimax/<model>`.\n- Coding Plan usage API: `https://api.minimaxi.com/v1/api/openplatform/coding_plan/remains` (requires a coding plan key).\n- Update pricing values in `models.json` if you need exact cost tracking.\n- Referral link for MiniMax Coding Plan (10% off): [https://platform.minimax.io/subscribe/coding-plan?code=DbXJTRClnb&source=link](https://platform.minimax.io/subscribe/coding-plan?code=DbXJTRClnb&source=link)\n- See [/concepts/model-providers](/concepts/model-providers) for provider rules.\n- Use `openclaw models list` and `openclaw models set minimax/MiniMax-M2.1` to switch.",
    "## Troubleshooting\n\n### â€œUnknown model: minimax/MiniMax-M2.1â€\n\nThis usually means the **MiniMax provider isnâ€™t configured** (no provider entry\nand no MiniMax auth profile/env key found). A fix for this detection is in\n**2026.1.12** (unreleased at the time of writing). Fix by:\n\n- Upgrading to **2026.1.12** (or run from source `main`), then restarting the gateway.\n- Running `openclaw configure` and selecting **MiniMax M2.1**, or\n- Adding the `models.providers.minimax` block manually, or\n- Setting `MINIMAX_API_KEY` (or a MiniMax auth profile) so the provider can be injected.\n\nMake sure the model id is **caseâ€‘sensitive**:\n\n- `minimax/MiniMax-M2.1`\n- `minimax/MiniMax-M2.1-lightning`\n\nThen recheck with:\n\n```bash\nopenclaw models list\n```",
    "---\nsummary: \"Exploration: model config, auth profiles, and fallback behavior\"\nread_when:\n  - Exploring future model selection + auth profile ideas\ntitle: \"Model Config Exploration\"\n---\n\n# Model Config (Exploration)\n\nThis document captures **ideas** for future model configuration. It is not a\nshipping spec. For current behavior, see:\n\n- [Models](/concepts/models)\n- [Model failover](/concepts/model-failover)\n- [OAuth + profiles](/concepts/oauth)",
    "## Motivation\n\nOperators want:\n\n- Multiple auth profiles per provider (personal vs work).\n- Simple `/model` selection with predictable fallbacks.\n- Clear separation between text models and image-capable models.",
    "## Possible direction (high level)\n\n- Keep model selection simple: `provider/model` with optional aliases.\n- Let providers have multiple auth profiles, with an explicit order.\n- Use a global fallback list so all sessions fail over consistently.\n- Only override image routing when explicitly configured.",
    "## Open questions\n\n- Should profile rotation be per-provider or per-model?\n- How should the UI surface profile selection for a session?\n- What is the safest migration path from legacy config keys?",
    "---\nsummary: \"How OpenClaw rotates auth profiles and falls back across models\"\nread_when:\n  - Diagnosing auth profile rotation, cooldowns, or model fallback behavior\n  - Updating failover rules for auth profiles or models\ntitle: \"Model Failover\"\n---\n\n# Model failover\n\nOpenClaw handles failures in two stages:\n\n1. **Auth profile rotation** within the current provider.\n2. **Model fallback** to the next model in `agents.defaults.model.fallbacks`.\n\nThis doc explains the runtime rules and the data that backs them.",
    "## Auth storage (keys + OAuth)\n\nOpenClaw uses **auth profiles** for both API keys and OAuth tokens.\n\n- Secrets live in `~/.openclaw/agents/<agentId>/agent/auth-profiles.json` (legacy: `~/.openclaw/agent/auth-profiles.json`).\n- Config `auth.profiles` / `auth.order` are **metadata + routing only** (no secrets).\n- Legacy import-only OAuth file: `~/.openclaw/credentials/oauth.json` (imported into `auth-profiles.json` on first use).\n\nMore detail: [/concepts/oauth](/concepts/oauth)\n\nCredential types:\n\n- `type: \"api_key\"` â†’ `{ provider, key }`\n- `type: \"oauth\"` â†’ `{ provider, access, refresh, expires, email? }` (+ `projectId`/`enterpriseUrl` for some providers)",
    "## Profile IDs\n\nOAuth logins create distinct profiles so multiple accounts can coexist.\n\n- Default: `provider:default` when no email is available.\n- OAuth with email: `provider:<email>` (for example `google-antigravity:user@gmail.com`).\n\nProfiles live in `~/.openclaw/agents/<agentId>/agent/auth-profiles.json` under `profiles`.",
    "## Rotation order\n\nWhen a provider has multiple profiles, OpenClaw chooses an order like this:\n\n1. **Explicit config**: `auth.order[provider]` (if set).\n2. **Configured profiles**: `auth.profiles` filtered by provider.\n3. **Stored profiles**: entries in `auth-profiles.json` for the provider.\n\nIf no explicit order is configured, OpenClaw uses a roundâ€‘robin order:\n\n- **Primary key:** profile type (**OAuth before API keys**).\n- **Secondary key:** `usageStats.lastUsed` (oldest first, within each type).\n- **Cooldown/disabled profiles** are moved to the end, ordered by soonest expiry.\n\n### Session stickiness (cache-friendly)\n\nOpenClaw **pins the chosen auth profile per session** to keep provider caches warm.\nIt does **not** rotate on every request. The pinned profile is reused until:\n\n- the session is reset (`/new` / `/reset`)\n- a compaction completes (compaction count increments)\n- the profile is in cooldown/disabled",
    "Manual selection via `/model â€¦@<profileId>` sets a **user override** for that session\nand is not autoâ€‘rotated until a new session starts.\n\nAutoâ€‘pinned profiles (selected by the session router) are treated as a **preference**:\nthey are tried first, but OpenClaw may rotate to another profile on rate limits/timeouts.\nUserâ€‘pinned profiles stay locked to that profile; if it fails and model fallbacks\nare configured, OpenClaw moves to the next model instead of switching profiles.\n\n### Why OAuth can â€œlook lostâ€\n\nIf you have both an OAuth profile and an API key profile for the same provider, roundâ€‘robin can switch between them across messages unless pinned. To force a single profile:\n\n- Pin with `auth.order[provider] = [\"provider:profileId\"]`, or\n- Use a per-session override via `/model â€¦` with a profile override (when supported by your UI/chat surface).",
    "## Cooldowns\n\nWhen a profile fails due to auth/rateâ€‘limit errors (or a timeout that looks\nlike rate limiting), OpenClaw marks it in cooldown and moves to the next profile.\nFormat/invalidâ€‘request errors (for example Cloud Code Assist tool call ID\nvalidation failures) are treated as failoverâ€‘worthy and use the same cooldowns.\n\nCooldowns use exponential backoff:\n\n- 1 minute\n- 5 minutes\n- 25 minutes\n- 1 hour (cap)\n\nState is stored in `auth-profiles.json` under `usageStats`:\n\n```json\n{\n  \"usageStats\": {\n    \"provider:profile\": {\n      \"lastUsed\": 1736160000000,\n      \"cooldownUntil\": 1736160600000,\n      \"errorCount\": 2\n    }\n  }\n}\n```",
    "## Billing disables\n\nBilling/credit failures (for example â€œinsufficient creditsâ€ / â€œcredit balance too lowâ€) are treated as failoverâ€‘worthy, but theyâ€™re usually not transient. Instead of a short cooldown, OpenClaw marks the profile as **disabled** (with a longer backoff) and rotates to the next profile/provider.\n\nState is stored in `auth-profiles.json`:\n\n```json\n{\n  \"usageStats\": {\n    \"provider:profile\": {\n      \"disabledUntil\": 1736178000000,\n      \"disabledReason\": \"billing\"\n    }\n  }\n}\n```\n\nDefaults:\n\n- Billing backoff starts at **5 hours**, doubles per billing failure, and caps at **24 hours**.\n- Backoff counters reset if the profile hasnâ€™t failed for **24 hours** (configurable).",
    "## Model fallback\n\nIf all profiles for a provider fail, OpenClaw moves to the next model in\n`agents.defaults.model.fallbacks`. This applies to auth failures, rate limits, and\ntimeouts that exhausted profile rotation (other errors do not advance fallback).\n\nWhen a run starts with a model override (hooks or CLI), fallbacks still end at\n`agents.defaults.model.primary` after trying any configured fallbacks.",
    "## Related config\n\nSee [Gateway configuration](/gateway/configuration) for:\n\n- `auth.profiles` / `auth.order`\n- `auth.cooldowns.billingBackoffHours` / `auth.cooldowns.billingBackoffHoursByProvider`\n- `auth.cooldowns.billingMaxHours` / `auth.cooldowns.failureWindowHours`\n- `agents.defaults.model.primary` / `agents.defaults.model.fallbacks`\n- `agents.defaults.imageModel` routing\n\nSee [Models](/concepts/models) for the broader model selection and fallback overview.",
    "---\nsummary: \"Model provider overview with example configs + CLI flows\"\nread_when:\n  - You need a provider-by-provider model setup reference\n  - You want example configs or CLI onboarding commands for model providers\ntitle: \"Model Providers\"\n---\n\n# Model providers\n\nThis page covers **LLM/model providers** (not chat channels like WhatsApp/Telegram).\nFor model selection rules, see [/concepts/models](/concepts/models).",
    "## Quick rules\n\n- Model refs use `provider/model` (example: `opencode/claude-opus-4-6`).\n- If you set `agents.defaults.models`, it becomes the allowlist.\n- CLI helpers: `openclaw onboard`, `openclaw models list`, `openclaw models set <provider/model>`.",
    "## Built-in providers (pi-ai catalog)\n\nOpenClaw ships with the piâ€‘ai catalog. These providers require **no**\n`models.providers` config; just set auth + pick a model.\n\n### OpenAI\n\n- Provider: `openai`\n- Auth: `OPENAI_API_KEY`\n- Example model: `openai/gpt-5.1-codex`\n- CLI: `openclaw onboard --auth-choice openai-api-key`\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"openai/gpt-5.1-codex\" } } },\n}\n```\n\n### Anthropic\n\n- Provider: `anthropic`\n- Auth: `ANTHROPIC_API_KEY` or `claude setup-token`\n- Example model: `anthropic/claude-opus-4-6`\n- CLI: `openclaw onboard --auth-choice token` (paste setup-token) or `openclaw models auth paste-token --provider anthropic`\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"anthropic/claude-opus-4-6\" } } },\n}\n```\n\n### OpenAI Code (Codex)\n\n- Provider: `openai-codex`\n- Auth: OAuth (ChatGPT)\n- Example model: `openai-codex/gpt-5.3-codex`\n- CLI: `openclaw onboard --auth-choice openai-codex` or `openclaw models auth login --provider openai-codex`",
    "```json5\n{\n  agents: { defaults: { model: { primary: \"openai-codex/gpt-5.3-codex\" } } },\n}\n```\n\n### OpenCode Zen\n\n- Provider: `opencode`\n- Auth: `OPENCODE_API_KEY` (or `OPENCODE_ZEN_API_KEY`)\n- Example model: `opencode/claude-opus-4-6`\n- CLI: `openclaw onboard --auth-choice opencode-zen`\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"opencode/claude-opus-4-6\" } } },\n}\n```\n\n### Google Gemini (API key)\n\n- Provider: `google`\n- Auth: `GEMINI_API_KEY`\n- Example model: `google/gemini-3-pro-preview`\n- CLI: `openclaw onboard --auth-choice gemini-api-key`\n\n### Google Vertex, Antigravity, and Gemini CLI",
    "- Providers: `google-vertex`, `google-antigravity`, `google-gemini-cli`\n- Auth: Vertex uses gcloud ADC; Antigravity/Gemini CLI use their respective auth flows\n- Antigravity OAuth is shipped as a bundled plugin (`google-antigravity-auth`, disabled by default).\n  - Enable: `openclaw plugins enable google-antigravity-auth`\n  - Login: `openclaw models auth login --provider google-antigravity --set-default`\n- Gemini CLI OAuth is shipped as a bundled plugin (`google-gemini-cli-auth`, disabled by default).\n  - Enable: `openclaw plugins enable google-gemini-cli-auth`\n  - Login: `openclaw models auth login --provider google-gemini-cli --set-default`\n  - Note: you do **not** paste a client id or secret into `openclaw.json`. The CLI login flow stores\n    tokens in auth profiles on the gateway host.\n\n### Z.AI (GLM)\n\n- Provider: `zai`\n- Auth: `ZAI_API_KEY`\n- Example model: `zai/glm-4.7`\n- CLI: `openclaw onboard --auth-choice zai-api-key`\n  - Aliases: `z.ai/*` and `z-ai/*` normalize to `zai/*`",
    "### Vercel AI Gateway\n\n- Provider: `vercel-ai-gateway`\n- Auth: `AI_GATEWAY_API_KEY`\n- Example model: `vercel-ai-gateway/anthropic/claude-opus-4.6`\n- CLI: `openclaw onboard --auth-choice ai-gateway-api-key`\n\n### Other built-in providers\n\n- OpenRouter: `openrouter` (`OPENROUTER_API_KEY`)\n- Example model: `openrouter/anthropic/claude-sonnet-4-5`\n- xAI: `xai` (`XAI_API_KEY`)\n- Groq: `groq` (`GROQ_API_KEY`)\n- Cerebras: `cerebras` (`CEREBRAS_API_KEY`)\n  - GLM models on Cerebras use ids `zai-glm-4.7` and `zai-glm-4.6`.\n  - OpenAI-compatible base URL: `https://api.cerebras.ai/v1`.\n- Mistral: `mistral` (`MISTRAL_API_KEY`)\n- GitHub Copilot: `github-copilot` (`COPILOT_GITHUB_TOKEN` / `GH_TOKEN` / `GITHUB_TOKEN`)",
    "## Providers via `models.providers` (custom/base URL)\n\nUse `models.providers` (or `models.json`) to add **custom** providers or\nOpenAI/Anthropicâ€‘compatible proxies.\n\n### Moonshot AI (Kimi)\n\nMoonshot uses OpenAI-compatible endpoints, so configure it as a custom provider:\n\n- Provider: `moonshot`\n- Auth: `MOONSHOT_API_KEY`\n- Example model: `moonshot/kimi-k2.5`\n\nKimi K2 model IDs:\n\n{/_moonshot-kimi-k2-model-refs:start_/ && null}\n\n- `moonshot/kimi-k2.5`\n- `moonshot/kimi-k2-0905-preview`\n- `moonshot/kimi-k2-turbo-preview`\n- `moonshot/kimi-k2-thinking`\n- `moonshot/kimi-k2-thinking-turbo`\n  {/_moonshot-kimi-k2-model-refs:end_/ && null}\n\n```json5\n{\n  agents: {\n    defaults: { model: { primary: \"moonshot/kimi-k2.5\" } },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      moonshot: {\n        baseUrl: \"https://api.moonshot.ai/v1\",\n        apiKey: \"${MOONSHOT_API_KEY}\",\n        api: \"openai-completions\",\n        models: [{ id: \"kimi-k2.5\", name: \"Kimi K2.5\" }],\n      },\n    },\n  },\n}\n```",
    "### Kimi Coding\n\nKimi Coding uses Moonshot AI's Anthropic-compatible endpoint:\n\n- Provider: `kimi-coding`\n- Auth: `KIMI_API_KEY`\n- Example model: `kimi-coding/k2p5`\n\n```json5\n{\n  env: { KIMI_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: { model: { primary: \"kimi-coding/k2p5\" } },\n  },\n}\n```\n\n### Qwen OAuth (free tier)\n\nQwen provides OAuth access to Qwen Coder + Vision via a device-code flow.\nEnable the bundled plugin, then log in:\n\n```bash\nopenclaw plugins enable qwen-portal-auth\nopenclaw models auth login --provider qwen-portal --set-default\n```\n\nModel refs:\n\n- `qwen-portal/coder-model`\n- `qwen-portal/vision-model`\n\nSee [/providers/qwen](/providers/qwen) for setup details and notes.\n\n### Synthetic\n\nSynthetic provides Anthropic-compatible models behind the `synthetic` provider:\n\n- Provider: `synthetic`\n- Auth: `SYNTHETIC_API_KEY`\n- Example model: `synthetic/hf:MiniMaxAI/MiniMax-M2.1`\n- CLI: `openclaw onboard --auth-choice synthetic-api-key`",
    "```json5\n{\n  agents: {\n    defaults: { model: { primary: \"synthetic/hf:MiniMaxAI/MiniMax-M2.1\" } },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      synthetic: {\n        baseUrl: \"https://api.synthetic.new/anthropic\",\n        apiKey: \"${SYNTHETIC_API_KEY}\",\n        api: \"anthropic-messages\",\n        models: [{ id: \"hf:MiniMaxAI/MiniMax-M2.1\", name: \"MiniMax M2.1\" }],\n      },\n    },\n  },\n}\n```\n\n### MiniMax\n\nMiniMax is configured via `models.providers` because it uses custom endpoints:\n\n- MiniMax (Anthropicâ€‘compatible): `--auth-choice minimax-api`\n- Auth: `MINIMAX_API_KEY`\n\nSee [/providers/minimax](/providers/minimax) for setup details, model options, and config snippets.\n\n### Ollama\n\nOllama is a local LLM runtime that provides an OpenAI-compatible API:\n\n- Provider: `ollama`\n- Auth: None required (local server)\n- Example model: `ollama/llama3.3`\n- Installation: [https://ollama.ai](https://ollama.ai)\n\n```bash\n# Install Ollama, then pull a model:\nollama pull llama3.3\n```",
    "```json5\n{\n  agents: {\n    defaults: { model: { primary: \"ollama/llama3.3\" } },\n  },\n}\n```\n\nOllama is automatically detected when running locally at `http://127.0.0.1:11434/v1`. See [/providers/ollama](/providers/ollama) for model recommendations and custom configuration.\n\n### Local proxies (LM Studio, vLLM, LiteLLM, etc.)\n\nExample (OpenAIâ€‘compatible):",
    "```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"lmstudio/minimax-m2.1-gs32\" },\n      models: { \"lmstudio/minimax-m2.1-gs32\": { alias: \"Minimax\" } },\n    },\n  },\n  models: {\n    providers: {\n      lmstudio: {\n        baseUrl: \"http://localhost:1234/v1\",\n        apiKey: \"LMSTUDIO_KEY\",\n        api: \"openai-completions\",\n        models: [\n          {\n            id: \"minimax-m2.1-gs32\",\n            name: \"MiniMax M2.1\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 200000,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```\n\nNotes:",
    "- For custom providers, `reasoning`, `input`, `cost`, `contextWindow`, and `maxTokens` are optional.\n  When omitted, OpenClaw defaults to:\n  - `reasoning: false`\n  - `input: [\"text\"]`\n  - `cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 }`\n  - `contextWindow: 200000`\n  - `maxTokens: 8192`\n- Recommended: set explicit values that match your proxy/model limits.",
    "## CLI examples\n\n```bash\nopenclaw onboard --auth-choice opencode-zen\nopenclaw models set opencode/claude-opus-4-6\nopenclaw models list\n```\n\nSee also: [/gateway/configuration](/gateway/configuration) for full configuration examples.",
    "---\nsummary: \"CLI reference for `openclaw models` (status/list/set/scan, aliases, fallbacks, auth)\"\nread_when:\n  - You want to change default models or view provider auth status\n  - You want to scan available models/providers and debug auth profiles\ntitle: \"models\"\n---\n\n# `openclaw models`\n\nModel discovery, scanning, and configuration (default model, fallbacks, auth profiles).\n\nRelated:\n\n- Providers + models: [Models](/providers/models)\n- Provider auth setup: [Getting started](/start/getting-started)",
    "## Common commands\n\n```bash\nopenclaw models status\nopenclaw models list\nopenclaw models set <model-or-alias>\nopenclaw models scan\n```\n\n`openclaw models status` shows the resolved default/fallbacks plus an auth overview.\nWhen provider usage snapshots are available, the OAuth/token status section includes\nprovider usage headers.\nAdd `--probe` to run live auth probes against each configured provider profile.\nProbes are real requests (may consume tokens and trigger rate limits).\nUse `--agent <id>` to inspect a configured agentâ€™s model/auth state. When omitted,\nthe command uses `OPENCLAW_AGENT_DIR`/`PI_CODING_AGENT_DIR` if set, otherwise the\nconfigured default agent.\n\nNotes:",
    "- `models set <model-or-alias>` accepts `provider/model` or an alias.\n- Model refs are parsed by splitting on the **first** `/`. If the model ID includes `/` (OpenRouter-style), include the provider prefix (example: `openrouter/moonshotai/kimi-k2`).\n- If you omit the provider, OpenClaw treats the input as an alias or a model for the **default provider** (only works when there is no `/` in the model ID).\n\n### `models status`\n\nOptions:\n\n- `--json`\n- `--plain`\n- `--check` (exit 1=expired/missing, 2=expiring)\n- `--probe` (live probe of configured auth profiles)\n- `--probe-provider <name>` (probe one provider)\n- `--probe-profile <id>` (repeat or comma-separated profile ids)\n- `--probe-timeout <ms>`\n- `--probe-concurrency <n>`\n- `--probe-max-tokens <n>`\n- `--agent <id>` (configured agent id; overrides `OPENCLAW_AGENT_DIR`/`PI_CODING_AGENT_DIR`)",
    "## Aliases + fallbacks\n\n```bash\nopenclaw models aliases list\nopenclaw models fallbacks list\n```",
    "## Auth profiles\n\n```bash\nopenclaw models auth add\nopenclaw models auth login --provider <id>\nopenclaw models auth setup-token\nopenclaw models auth paste-token\n```\n\n`models auth login` runs a provider pluginâ€™s auth flow (OAuth/API key). Use\n`openclaw plugins list` to see which providers are installed.\n\nNotes:\n\n- `setup-token` prompts for a setup-token value (generate it with `claude setup-token` on any machine).\n- `paste-token` accepts a token string generated elsewhere or from automation.",
    "---\nsummary: \"Configure Moonshot K2 vs Kimi Coding (separate providers + keys)\"\nread_when:\n  - You want Moonshot K2 (Moonshot Open Platform) vs Kimi Coding setup\n  - You need to understand separate endpoints, keys, and model refs\n  - You want copy/paste config for either provider\ntitle: \"Moonshot AI\"\n---\n\n# Moonshot AI (Kimi)\n\nMoonshot provides the Kimi API with OpenAI-compatible endpoints. Configure the\nprovider and set the default model to `moonshot/kimi-k2.5`, or use\nKimi Coding with `kimi-coding/k2p5`.\n\nCurrent Kimi K2 model IDs:\n\n{/_moonshot-kimi-k2-ids:start_/ && null}\n\n- `kimi-k2.5`\n- `kimi-k2-0905-preview`\n- `kimi-k2-turbo-preview`\n- `kimi-k2-thinking`\n- `kimi-k2-thinking-turbo`\n  {/_moonshot-kimi-k2-ids:end_/ && null}\n\n```bash\nopenclaw onboard --auth-choice moonshot-api-key\n```\n\nKimi Coding:\n\n```bash\nopenclaw onboard --auth-choice kimi-code-api-key\n```",
    "Note: Moonshot and Kimi Coding are separate providers. Keys are not interchangeable, endpoints differ, and model refs differ (Moonshot uses `moonshot/...`, Kimi Coding uses `kimi-coding/...`).",
    "## Config snippet (Moonshot API)",
    "```json5\n{\n  env: { MOONSHOT_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"moonshot/kimi-k2.5\" },\n      models: {\n        // moonshot-kimi-k2-aliases:start\n        \"moonshot/kimi-k2.5\": { alias: \"Kimi K2.5\" },\n        \"moonshot/kimi-k2-0905-preview\": { alias: \"Kimi K2\" },\n        \"moonshot/kimi-k2-turbo-preview\": { alias: \"Kimi K2 Turbo\" },\n        \"moonshot/kimi-k2-thinking\": { alias: \"Kimi K2 Thinking\" },\n        \"moonshot/kimi-k2-thinking-turbo\": { alias: \"Kimi K2 Thinking Turbo\" },\n        // moonshot-kimi-k2-aliases:end\n      },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      moonshot: {\n        baseUrl: \"https://api.moonshot.ai/v1\",\n        apiKey: \"${MOONSHOT_API_KEY}\",\n        api: \"openai-completions\",\n        models: [\n          // moonshot-kimi-k2-models:start\n          {\n            id: \"kimi-k2.5\",\n            name: \"Kimi K2.5\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n          {\n            id: \"kimi-k2-0905-preview\",\n            name: \"Kimi K2 0905 Preview\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n          {\n            id: \"kimi-k2-turbo-preview\",\n            name: \"Kimi K2 Turbo\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n          {\n            id: \"kimi-k2-thinking\",\n            name: \"Kimi K2 Thinking\",\n            reasoning: true,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n          {\n            id: \"kimi-k2-thinking-turbo\",\n            name: \"Kimi K2 Thinking Turbo\",\n            reasoning: true,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 256000,\n            maxTokens: 8192,\n          },\n          // moonshot-kimi-k2-models:end\n        ],\n      },\n    },\n  },\n}\n```",
    "## Kimi Coding\n\n```json5\n{\n  env: { KIMI_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"kimi-coding/k2p5\" },\n      models: {\n        \"kimi-coding/k2p5\": { alias: \"Kimi K2.5\" },\n      },\n    },\n  },\n}\n```",
    "## Notes\n\n- Moonshot model refs use `moonshot/<modelId>`. Kimi Coding model refs use `kimi-coding/<modelId>`.\n- Override pricing and context metadata in `models.providers` if needed.\n- If Moonshot publishes different context limits for a model, adjust\n  `contextWindow` accordingly.\n- Use `https://api.moonshot.ai/v1` for the international endpoint, and `https://api.moonshot.cn/v1` for the China endpoint.",
    "---\nsummary: \"Microsoft Teams bot support status, capabilities, and configuration\"\nread_when:\n  - Working on MS Teams channel features\ntitle: \"Microsoft Teams\"\n---\n\n# Microsoft Teams (plugin)\n\n> \"Abandon all hope, ye who enter here.\"\n\nUpdated: 2026-01-21\n\nStatus: text + DM attachments are supported; channel/group file sending requires `sharePointSiteId` + Graph permissions (see [Sending files in group chats](#sending-files-in-group-chats)). Polls are sent via Adaptive Cards.",
    "## Plugin required\n\nMicrosoft Teams ships as a plugin and is not bundled with the core install.\n\n**Breaking change (2026.1.15):** MS Teams moved out of core. If you use it, you must install the plugin.\n\nExplainable: keeps core installs lighter and lets MS Teams dependencies update independently.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/msteams\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/msteams\n```\n\nIf you choose Teams during configure/onboarding and a git checkout is detected,\nOpenClaw will offer the local install path automatically.\n\nDetails: [Plugins](/plugin)",
    "## Quick setup (beginner)\n\n1. Install the Microsoft Teams plugin.\n2. Create an **Azure Bot** (App ID + client secret + tenant ID).\n3. Configure OpenClaw with those credentials.\n4. Expose `/api/messages` (port 3978 by default) via a public URL or tunnel.\n5. Install the Teams app package and start the gateway.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    msteams: {\n      enabled: true,\n      appId: \"<APP_ID>\",\n      appPassword: \"<APP_PASSWORD>\",\n      tenantId: \"<TENANT_ID>\",\n      webhook: { port: 3978, path: \"/api/messages\" },\n    },\n  },\n}\n```\n\nNote: group chats are blocked by default (`channels.msteams.groupPolicy: \"allowlist\"`). To allow group replies, set `channels.msteams.groupAllowFrom` (or use `groupPolicy: \"open\"` to allow any member, mention-gated).",
    "## Goals\n\n- Talk to OpenClaw via Teams DMs, group chats, or channels.\n- Keep routing deterministic: replies always go back to the channel they arrived on.\n- Default to safe channel behavior (mentions required unless configured otherwise).",
    "## Config writes\n\nBy default, Microsoft Teams is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { msteams: { configWrites: false } },\n}\n```",
    "## Access control (DMs + groups)\n\n**DM access**\n\n- Default: `channels.msteams.dmPolicy = \"pairing\"`. Unknown senders are ignored until approved.\n- `channels.msteams.allowFrom` accepts AAD object IDs, UPNs, or display names. The wizard resolves names to IDs via Microsoft Graph when credentials allow.\n\n**Group access**\n\n- Default: `channels.msteams.groupPolicy = \"allowlist\"` (blocked unless you add `groupAllowFrom`). Use `channels.defaults.groupPolicy` to override the default when unset.\n- `channels.msteams.groupAllowFrom` controls which senders can trigger in group chats/channels (falls back to `channels.msteams.allowFrom`).\n- Set `groupPolicy: \"open\"` to allow any member (still mentionâ€‘gated by default).\n- To allow **no channels**, set `channels.msteams.groupPolicy: \"disabled\"`.\n\nExample:\n\n```json5\n{\n  channels: {\n    msteams: {\n      groupPolicy: \"allowlist\",\n      groupAllowFrom: [\"user@org.com\"],\n    },\n  },\n}\n```\n\n**Teams + channel allowlist**",
    "- Scope group/channel replies by listing teams and channels under `channels.msteams.teams`.\n- Keys can be team IDs or names; channel keys can be conversation IDs or names.\n- When `groupPolicy=\"allowlist\"` and a teams allowlist is present, only listed teams/channels are accepted (mentionâ€‘gated).\n- The configure wizard accepts `Team/Channel` entries and stores them for you.\n- On startup, OpenClaw resolves team/channel and user allowlist names to IDs (when Graph permissions allow)\n  and logs the mapping; unresolved entries are kept as typed.\n\nExample:\n\n```json5\n{\n  channels: {\n    msteams: {\n      groupPolicy: \"allowlist\",\n      teams: {\n        \"My Team\": {\n          channels: {\n            General: { requireMention: true },\n          },\n        },\n      },\n    },\n  },\n}\n```",
    "## How it works\n\n1. Install the Microsoft Teams plugin.\n2. Create an **Azure Bot** (App ID + secret + tenant ID).\n3. Build a **Teams app package** that references the bot and includes the RSC permissions below.\n4. Upload/install the Teams app into a team (or personal scope for DMs).\n5. Configure `msteams` in `~/.openclaw/openclaw.json` (or env vars) and start the gateway.\n6. The gateway listens for Bot Framework webhook traffic on `/api/messages` by default.",
    "## Azure Bot Setup (Prerequisites)\n\nBefore configuring OpenClaw, you need to create an Azure Bot resource.\n\n### Step 1: Create Azure Bot\n\n1. Go to [Create Azure Bot](https://portal.azure.com/#create/Microsoft.AzureBot)\n2. Fill in the **Basics** tab:\n\n   | Field              | Value                                                    |\n   | ------------------ | -------------------------------------------------------- |\n   | **Bot handle**     | Your bot name, e.g., `openclaw-msteams` (must be unique) |\n   | **Subscription**   | Select your Azure subscription                           |\n   | **Resource group** | Create new or use existing                               |\n   | **Pricing tier**   | **Free** for dev/testing                                 |\n   | **Type of App**    | **Single Tenant** (recommended - see note below)         |\n   | **Creation type**  | **Create new Microsoft App ID**                          |",
    "> **Deprecation notice:** Creation of new multi-tenant bots was deprecated after 2025-07-31. Use **Single Tenant** for new bots.\n\n3. Click **Review + create** â†’ **Create** (wait ~1-2 minutes)\n\n### Step 2: Get Credentials\n\n1. Go to your Azure Bot resource â†’ **Configuration**\n2. Copy **Microsoft App ID** â†’ this is your `appId`\n3. Click **Manage Password** â†’ go to the App Registration\n4. Under **Certificates & secrets** â†’ **New client secret** â†’ copy the **Value** â†’ this is your `appPassword`\n5. Go to **Overview** â†’ copy **Directory (tenant) ID** â†’ this is your `tenantId`\n\n### Step 3: Configure Messaging Endpoint\n\n1. In Azure Bot â†’ **Configuration**\n2. Set **Messaging endpoint** to your webhook URL:\n   - Production: `https://your-domain.com/api/messages`\n   - Local dev: Use a tunnel (see [Local Development](#local-development-tunneling) below)\n\n### Step 4: Enable Teams Channel\n\n1. In Azure Bot â†’ **Channels**\n2. Click **Microsoft Teams** â†’ Configure â†’ Save\n3. Accept the Terms of Service",
    "## Local Development (Tunneling)\n\nTeams can't reach `localhost`. Use a tunnel for local development:\n\n**Option A: ngrok**\n\n```bash\nngrok http 3978\n# Copy the https URL, e.g., https://abc123.ngrok.io\n# Set messaging endpoint to: https://abc123.ngrok.io/api/messages\n```\n\n**Option B: Tailscale Funnel**\n\n```bash\ntailscale funnel 3978\n# Use your Tailscale funnel URL as the messaging endpoint\n```",
    "## Teams Developer Portal (Alternative)\n\nInstead of manually creating a manifest ZIP, you can use the [Teams Developer Portal](https://dev.teams.microsoft.com/apps):\n\n1. Click **+ New app**\n2. Fill in basic info (name, description, developer info)\n3. Go to **App features** â†’ **Bot**\n4. Select **Enter a bot ID manually** and paste your Azure Bot App ID\n5. Check scopes: **Personal**, **Team**, **Group Chat**\n6. Click **Distribute** â†’ **Download app package**\n7. In Teams: **Apps** â†’ **Manage your apps** â†’ **Upload a custom app** â†’ select the ZIP\n\nThis is often easier than hand-editing JSON manifests.",
    "## Testing the Bot\n\n**Option A: Azure Web Chat (verify webhook first)**\n\n1. In Azure Portal â†’ your Azure Bot resource â†’ **Test in Web Chat**\n2. Send a message - you should see a response\n3. This confirms your webhook endpoint works before Teams setup\n\n**Option B: Teams (after app installation)**\n\n1. Install the Teams app (sideload or org catalog)\n2. Find the bot in Teams and send a DM\n3. Check gateway logs for incoming activity",
    "## Setup (minimal text-only)\n\n1. **Install the Microsoft Teams plugin**\n   - From npm: `openclaw plugins install @openclaw/msteams`\n   - From a local checkout: `openclaw plugins install ./extensions/msteams`\n\n2. **Bot registration**\n   - Create an Azure Bot (see above) and note:\n     - App ID\n     - Client secret (App password)\n     - Tenant ID (single-tenant)\n\n3. **Teams app manifest**\n   - Include a `bot` entry with `botId = <App ID>`.\n   - Scopes: `personal`, `team`, `groupChat`.\n   - `supportsFiles: true` (required for personal scope file handling).\n   - Add RSC permissions (below).\n   - Create icons: `outline.png` (32x32) and `color.png` (192x192).\n   - Zip all three files together: `manifest.json`, `outline.png`, `color.png`.\n\n4. **Configure OpenClaw**",
    "```json\n   {\n     \"msteams\": {\n       \"enabled\": true,\n       \"appId\": \"<APP_ID>\",\n       \"appPassword\": \"<APP_PASSWORD>\",\n       \"tenantId\": \"<TENANT_ID>\",\n       \"webhook\": { \"port\": 3978, \"path\": \"/api/messages\" }\n     }\n   }\n   ```\n\n   You can also use environment variables instead of config keys:\n   - `MSTEAMS_APP_ID`\n   - `MSTEAMS_APP_PASSWORD`\n   - `MSTEAMS_TENANT_ID`\n\n5. **Bot endpoint**\n   - Set the Azure Bot Messaging Endpoint to:\n     - `https://<host>:3978/api/messages` (or your chosen path/port).\n\n6. **Run the gateway**\n   - The Teams channel starts automatically when the plugin is installed and `msteams` config exists with credentials.",
    "## History context\n\n- `channels.msteams.historyLimit` controls how many recent channel/group messages are wrapped into the prompt.\n- Falls back to `messages.groupChat.historyLimit`. Set `0` to disable (default 50).\n- DM history can be limited with `channels.msteams.dmHistoryLimit` (user turns). Per-user overrides: `channels.msteams.dms[\"<user_id>\"].historyLimit`.",
    "## Current Teams RSC Permissions (Manifest)\n\nThese are the **existing resourceSpecific permissions** in our Teams app manifest. They only apply inside the team/chat where the app is installed.\n\n**For channels (team scope):**\n\n- `ChannelMessage.Read.Group` (Application) - receive all channel messages without @mention\n- `ChannelMessage.Send.Group` (Application)\n- `Member.Read.Group` (Application)\n- `Owner.Read.Group` (Application)\n- `ChannelSettings.Read.Group` (Application)\n- `TeamMember.Read.Group` (Application)\n- `TeamSettings.Read.Group` (Application)\n\n**For group chats:**\n\n- `ChatMessage.Read.Chat` (Application) - receive all group chat messages without @mention",
    "## Example Teams Manifest (redacted)\n\nMinimal, valid example with the required fields. Replace IDs and URLs.",
    "```json\n{\n  \"$schema\": \"https://developer.microsoft.com/en-us/json-schemas/teams/v1.23/MicrosoftTeams.schema.json\",\n  \"manifestVersion\": \"1.23\",\n  \"version\": \"1.0.0\",\n  \"id\": \"00000000-0000-0000-0000-000000000000\",\n  \"name\": { \"short\": \"OpenClaw\" },\n  \"developer\": {\n    \"name\": \"Your Org\",\n    \"websiteUrl\": \"https://example.com\",\n    \"privacyUrl\": \"https://example.com/privacy\",\n    \"termsOfUseUrl\": \"https://example.com/terms\"\n  },\n  \"description\": { \"short\": \"OpenClaw in Teams\", \"full\": \"OpenClaw in Teams\" },\n  \"icons\": { \"outline\": \"outline.png\", \"color\": \"color.png\" },\n  \"accentColor\": \"#5B6DEF\",\n  \"bots\": [\n    {\n      \"botId\": \"11111111-1111-1111-1111-111111111111\",\n      \"scopes\": [\"personal\", \"team\", \"groupChat\"],\n      \"isNotificationOnly\": false,\n      \"supportsCalling\": false,\n      \"supportsVideo\": false,\n      \"supportsFiles\": true\n    }\n  ],\n  \"webApplicationInfo\": {\n    \"id\": \"11111111-1111-1111-1111-111111111111\"\n  },\n  \"authorization\": {\n    \"permissions\": {\n      \"resourceSpecific\": [\n        { \"name\": \"ChannelMessage.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"ChannelMessage.Send.Group\", \"type\": \"Application\" },\n        { \"name\": \"Member.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"Owner.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"ChannelSettings.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"TeamMember.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"TeamSettings.Read.Group\", \"type\": \"Application\" },\n        { \"name\": \"ChatMessage.Read.Chat\", \"type\": \"Application\" }\n      ]\n    }\n  }\n}\n```",
    "### Manifest caveats (must-have fields)\n\n- `bots[].botId` **must** match the Azure Bot App ID.\n- `webApplicationInfo.id` **must** match the Azure Bot App ID.\n- `bots[].scopes` must include the surfaces you plan to use (`personal`, `team`, `groupChat`).\n- `bots[].supportsFiles: true` is required for file handling in personal scope.\n- `authorization.permissions.resourceSpecific` must include channel read/send if you want channel traffic.\n\n### Updating an existing app\n\nTo update an already-installed Teams app (e.g., to add RSC permissions):",
    "1. Update your `manifest.json` with the new settings\n2. **Increment the `version` field** (e.g., `1.0.0` â†’ `1.1.0`)\n3. **Re-zip** the manifest with icons (`manifest.json`, `outline.png`, `color.png`)\n4. Upload the new zip:\n   - **Option A (Teams Admin Center):** Teams Admin Center â†’ Teams apps â†’ Manage apps â†’ find your app â†’ Upload new version\n   - **Option B (Sideload):** In Teams â†’ Apps â†’ Manage your apps â†’ Upload a custom app\n5. **For team channels:** Reinstall the app in each team for new permissions to take effect\n6. **Fully quit and relaunch Teams** (not just close the window) to clear cached app metadata",
    "## Capabilities: RSC only vs Graph\n\n### With **Teams RSC only** (app installed, no Graph API permissions)\n\nWorks:\n\n- Read channel message **text** content.\n- Send channel message **text** content.\n- Receive **personal (DM)** file attachments.\n\nDoes NOT work:\n\n- Channel/group **image or file contents** (payload only includes HTML stub).\n- Downloading attachments stored in SharePoint/OneDrive.\n- Reading message history (beyond the live webhook event).\n\n### With **Teams RSC + Microsoft Graph Application permissions**\n\nAdds:\n\n- Downloading hosted contents (images pasted into messages).\n- Downloading file attachments stored in SharePoint/OneDrive.\n- Reading channel/chat message history via Graph.\n\n### RSC vs Graph API",
    "| Capability              | RSC Permissions      | Graph API                           |\n| ----------------------- | -------------------- | ----------------------------------- |\n| **Real-time messages**  | Yes (via webhook)    | No (polling only)                   |\n| **Historical messages** | No                   | Yes (can query history)             |\n| **Setup complexity**    | App manifest only    | Requires admin consent + token flow |\n| **Works offline**       | No (must be running) | Yes (query anytime)                 |\n\n**Bottom line:** RSC is for real-time listening; Graph API is for historical access. For catching up on missed messages while offline, you need Graph API with `ChannelMessage.Read.All` (requires admin consent).",
    "## Graph-enabled media + history (required for channels)\n\nIf you need images/files in **channels** or want to fetch **message history**, you must enable Microsoft Graph permissions and grant admin consent.\n\n1. In Entra ID (Azure AD) **App Registration**, add Microsoft Graph **Application permissions**:\n   - `ChannelMessage.Read.All` (channel attachments + history)\n   - `Chat.Read.All` or `ChatMessage.Read.All` (group chats)\n2. **Grant admin consent** for the tenant.\n3. Bump the Teams app **manifest version**, re-upload, and **reinstall the app in Teams**.\n4. **Fully quit and relaunch Teams** to clear cached app metadata.",
    "## Known Limitations\n\n### Webhook timeouts\n\nTeams delivers messages via HTTP webhook. If processing takes too long (e.g., slow LLM responses), you may see:\n\n- Gateway timeouts\n- Teams retrying the message (causing duplicates)\n- Dropped replies\n\nOpenClaw handles this by returning quickly and sending replies proactively, but very slow responses may still cause issues.\n\n### Formatting\n\nTeams markdown is more limited than Slack or Discord:\n\n- Basic formatting works: **bold**, _italic_, `code`, links\n- Complex markdown (tables, nested lists) may not render correctly\n- Adaptive Cards are supported for polls and arbitrary card sends (see below)",
    "## Configuration\n\nKey settings (see `/gateway/configuration` for shared channel patterns):",
    "- `channels.msteams.enabled`: enable/disable the channel.\n- `channels.msteams.appId`, `channels.msteams.appPassword`, `channels.msteams.tenantId`: bot credentials.\n- `channels.msteams.webhook.port` (default `3978`)\n- `channels.msteams.webhook.path` (default `/api/messages`)\n- `channels.msteams.dmPolicy`: `pairing | allowlist | open | disabled` (default: pairing)\n- `channels.msteams.allowFrom`: allowlist for DMs (AAD object IDs, UPNs, or display names). The wizard resolves names to IDs during setup when Graph access is available.\n- `channels.msteams.textChunkLimit`: outbound text chunk size.\n- `channels.msteams.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.\n- `channels.msteams.mediaAllowHosts`: allowlist for inbound attachment hosts (defaults to Microsoft/Teams domains).\n- `channels.msteams.mediaAuthAllowHosts`: allowlist for attaching Authorization headers on media retries (defaults to Graph + Bot Framework hosts).\n- `channels.msteams.requireMention`: require @mention in channels/groups (default true).\n- `channels.msteams.replyStyle`: `thread | top-level` (see [Reply Style](#reply-style-threads-vs-posts)).\n- `channels.msteams.teams.<teamId>.replyStyle`: per-team override.\n- `channels.msteams.teams.<teamId>.requireMention`: per-team override.\n- `channels.msteams.teams.<teamId>.tools`: default per-team tool policy overrides (`allow`/`deny`/`alsoAllow`) used when a channel override is missing.\n- `channels.msteams.teams.<teamId>.toolsBySender`: default per-team per-sender tool policy overrides (`\"*\"` wildcard supported).\n- `channels.msteams.teams.<teamId>.channels.<conversationId>.replyStyle`: per-channel override.\n- `channels.msteams.teams.<teamId>.channels.<conversationId>.requireMention`: per-channel override.\n- `channels.msteams.teams.<teamId>.channels.<conversationId>.tools`: per-channel tool policy overrides (`allow`/`deny`/`alsoAllow`).\n- `channels.msteams.teams.<teamId>.channels.<conversationId>.toolsBySender`: per-channel per-sender tool policy overrides (`\"*\"` wildcard supported).\n- `channels.msteams.sharePointSiteId`: SharePoint site ID for file uploads in group chats/channels (see [Sending files in group chats](#sending-files-in-group-chats)).",
    "## Routing & Sessions\n\n- Session keys follow the standard agent format (see [/concepts/session](/concepts/session)):\n  - Direct messages share the main session (`agent:<agentId>:<mainKey>`).\n  - Channel/group messages use conversation id:\n    - `agent:<agentId>:msteams:channel:<conversationId>`\n    - `agent:<agentId>:msteams:group:<conversationId>`",
    "## Reply Style: Threads vs Posts\n\nTeams recently introduced two channel UI styles over the same underlying data model:\n\n| Style                    | Description                                               | Recommended `replyStyle` |\n| ------------------------ | --------------------------------------------------------- | ------------------------ |\n| **Posts** (classic)      | Messages appear as cards with threaded replies underneath | `thread` (default)       |\n| **Threads** (Slack-like) | Messages flow linearly, more like Slack                   | `top-level`              |\n\n**The problem:** The Teams API does not expose which UI style a channel uses. If you use the wrong `replyStyle`:\n\n- `thread` in a Threads-style channel â†’ replies appear nested awkwardly\n- `top-level` in a Posts-style channel â†’ replies appear as separate top-level posts instead of in-thread\n\n**Solution:** Configure `replyStyle` per-channel based on how the channel is set up:",
    "```json\n{\n  \"msteams\": {\n    \"replyStyle\": \"thread\",\n    \"teams\": {\n      \"19:abc...@thread.tacv2\": {\n        \"channels\": {\n          \"19:xyz...@thread.tacv2\": {\n            \"replyStyle\": \"top-level\"\n          }\n        }\n      }\n    }\n  }\n}\n```",
    "## Attachments & Images\n\n**Current limitations:**\n\n- **DMs:** Images and file attachments work via Teams bot file APIs.\n- **Channels/groups:** Attachments live in M365 storage (SharePoint/OneDrive). The webhook payload only includes an HTML stub, not the actual file bytes. **Graph API permissions are required** to download channel attachments.\n\nWithout Graph permissions, channel messages with images will be received as text-only (the image content is not accessible to the bot).\nBy default, OpenClaw only downloads media from Microsoft/Teams hostnames. Override with `channels.msteams.mediaAllowHosts` (use `[\"*\"]` to allow any host).\nAuthorization headers are only attached for hosts in `channels.msteams.mediaAuthAllowHosts` (defaults to Graph + Bot Framework hosts). Keep this list strict (avoid multi-tenant suffixes).",
    "## Sending files in group chats\n\nBots can send files in DMs using the FileConsentCard flow (built-in). However, **sending files in group chats/channels** requires additional setup:\n\n| Context                  | How files are sent                           | Setup needed                                    |\n| ------------------------ | -------------------------------------------- | ----------------------------------------------- |\n| **DMs**                  | FileConsentCard â†’ user accepts â†’ bot uploads | Works out of the box                            |\n| **Group chats/channels** | Upload to SharePoint â†’ share link            | Requires `sharePointSiteId` + Graph permissions |\n| **Images (any context)** | Base64-encoded inline                        | Works out of the box                            |\n\n### Why group chats need SharePoint",
    "Bots don't have a personal OneDrive drive (the `/me/drive` Graph API endpoint doesn't work for application identities). To send files in group chats/channels, the bot uploads to a **SharePoint site** and creates a sharing link.\n\n### Setup\n\n1. **Add Graph API permissions** in Entra ID (Azure AD) â†’ App Registration:\n   - `Sites.ReadWrite.All` (Application) - upload files to SharePoint\n   - `Chat.Read.All` (Application) - optional, enables per-user sharing links\n\n2. **Grant admin consent** for the tenant.\n\n3. **Get your SharePoint site ID:**\n\n   ```bash\n   # Via Graph Explorer or curl with a valid token:\n   curl -H \"Authorization: Bearer $TOKEN\" \\\n     \"https://graph.microsoft.com/v1.0/sites/{hostname}:/{site-path}\"\n\n   # Example: for a site at \"contoso.sharepoint.com/sites/BotFiles\"\n   curl -H \"Authorization: Bearer $TOKEN\" \\\n     \"https://graph.microsoft.com/v1.0/sites/contoso.sharepoint.com:/sites/BotFiles\"\n\n   # Response includes: \"id\": \"contoso.sharepoint.com,guid1,guid2\"\n   ```",
    "4. **Configure OpenClaw:**\n\n   ```json5\n   {\n     channels: {\n       msteams: {\n         // ... other config ...\n         sharePointSiteId: \"contoso.sharepoint.com,guid1,guid2\",\n       },\n     },\n   }\n   ```\n\n### Sharing behavior\n\n| Permission                              | Sharing behavior                                          |\n| --------------------------------------- | --------------------------------------------------------- |\n| `Sites.ReadWrite.All` only              | Organization-wide sharing link (anyone in org can access) |\n| `Sites.ReadWrite.All` + `Chat.Read.All` | Per-user sharing link (only chat members can access)      |\n\nPer-user sharing is more secure as only the chat participants can access the file. If `Chat.Read.All` permission is missing, the bot falls back to organization-wide sharing.\n\n### Fallback behavior",
    "| Scenario                                          | Result                                             |\n| ------------------------------------------------- | -------------------------------------------------- |\n| Group chat + file + `sharePointSiteId` configured | Upload to SharePoint, send sharing link            |\n| Group chat + file + no `sharePointSiteId`         | Attempt OneDrive upload (may fail), send text only |\n| Personal chat + file                              | FileConsentCard flow (works without SharePoint)    |\n| Any context + image                               | Base64-encoded inline (works without SharePoint)   |\n\n### Files stored location\n\nUploaded files are stored in a `/OpenClawShared/` folder in the configured SharePoint site's default document library.",
    "## Polls (Adaptive Cards)\n\nOpenClaw sends Teams polls as Adaptive Cards (there is no native Teams poll API).\n\n- CLI: `openclaw message poll --channel msteams --target conversation:<id> ...`\n- Votes are recorded by the gateway in `~/.openclaw/msteams-polls.json`.\n- The gateway must stay online to record votes.\n- Polls do not auto-post result summaries yet (inspect the store file if needed).",
    "## Adaptive Cards (arbitrary)\n\nSend any Adaptive Card JSON to Teams users or conversations using the `message` tool or CLI.\n\nThe `card` parameter accepts an Adaptive Card JSON object. When `card` is provided, the message text is optional.\n\n**Agent tool:**\n\n```json\n{\n  \"action\": \"send\",\n  \"channel\": \"msteams\",\n  \"target\": \"user:<id>\",\n  \"card\": {\n    \"type\": \"AdaptiveCard\",\n    \"version\": \"1.5\",\n    \"body\": [{ \"type\": \"TextBlock\", \"text\": \"Hello!\" }]\n  }\n}\n```\n\n**CLI:**\n\n```bash\nopenclaw message send --channel msteams \\\n  --target \"conversation:19:abc...@thread.tacv2\" \\\n  --card '{\"type\":\"AdaptiveCard\",\"version\":\"1.5\",\"body\":[{\"type\":\"TextBlock\",\"text\":\"Hello!\"}]}'\n```\n\nSee [Adaptive Cards documentation](https://adaptivecards.io/) for card schema and examples. For target format details, see [Target formats](#target-formats) below.",
    "## Target formats\n\nMSTeams targets use prefixes to distinguish between users and conversations:\n\n| Target type         | Format                           | Example                                             |\n| ------------------- | -------------------------------- | --------------------------------------------------- |\n| User (by ID)        | `user:<aad-object-id>`           | `user:40a1a0ed-4ff2-4164-a219-55518990c197`         |\n| User (by name)      | `user:<display-name>`            | `user:John Smith` (requires Graph API)              |\n| Group/channel       | `conversation:<conversation-id>` | `conversation:19:abc123...@thread.tacv2`            |\n| Group/channel (raw) | `<conversation-id>`              | `19:abc123...@thread.tacv2` (if contains `@thread`) |\n\n**CLI examples:**\n\n```bash\n# Send to a user by ID\nopenclaw message send --channel msteams --target \"user:40a1a0ed-...\" --message \"Hello\"",
    "# Send to a user by display name (triggers Graph API lookup)\nopenclaw message send --channel msteams --target \"user:John Smith\" --message \"Hello\"\n\n# Send to a group chat or channel\nopenclaw message send --channel msteams --target \"conversation:19:abc...@thread.tacv2\" --message \"Hello\"\n\n# Send an Adaptive Card to a conversation\nopenclaw message send --channel msteams --target \"conversation:19:abc...@thread.tacv2\" \\\n  --card '{\"type\":\"AdaptiveCard\",\"version\":\"1.5\",\"body\":[{\"type\":\"TextBlock\",\"text\":\"Hello\"}]}'\n```\n\n**Agent tool examples:**\n\n```json\n{\n  \"action\": \"send\",\n  \"channel\": \"msteams\",\n  \"target\": \"user:John Smith\",\n  \"message\": \"Hello!\"\n}\n```\n\n```json\n{\n  \"action\": \"send\",\n  \"channel\": \"msteams\",\n  \"target\": \"conversation:19:abc...@thread.tacv2\",\n  \"card\": {\n    \"type\": \"AdaptiveCard\",\n    \"version\": \"1.5\",\n    \"body\": [{ \"type\": \"TextBlock\", \"text\": \"Hello\" }]\n  }\n}\n```",
    "Note: Without the `user:` prefix, names default to group/team resolution. Always use `user:` when targeting people by display name.",
    "## Proactive messaging\n\n- Proactive messages are only possible **after** a user has interacted, because we store conversation references at that point.\n- See `/gateway/configuration` for `dmPolicy` and allowlist gating.",
    "## Team and Channel IDs (Common Gotcha)\n\nThe `groupId` query parameter in Teams URLs is **NOT** the team ID used for configuration. Extract IDs from the URL path instead:\n\n**Team URL:**\n\n```\nhttps://teams.microsoft.com/l/team/19%3ABk4j...%40thread.tacv2/conversations?groupId=...\n                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                    Team ID (URL-decode this)\n```\n\n**Channel URL:**\n\n```\nhttps://teams.microsoft.com/l/channel/19%3A15bc...%40thread.tacv2/ChannelName?groupId=...\n                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                      Channel ID (URL-decode this)\n```\n\n**For config:**\n\n- Team ID = path segment after `/team/` (URL-decoded, e.g., `19:Bk4j...@thread.tacv2`)\n- Channel ID = path segment after `/channel/` (URL-decoded)\n- **Ignore** the `groupId` query parameter",
    "## Private Channels\n\nBots have limited support in private channels:\n\n| Feature                      | Standard Channels | Private Channels       |\n| ---------------------------- | ----------------- | ---------------------- |\n| Bot installation             | Yes               | Limited                |\n| Real-time messages (webhook) | Yes               | May not work           |\n| RSC permissions              | Yes               | May behave differently |\n| @mentions                    | Yes               | If bot is accessible   |\n| Graph API history            | Yes               | Yes (with permissions) |\n\n**Workarounds if private channels don't work:**\n\n1. Use standard channels for bot interactions\n2. Use DMs - users can always message the bot directly\n3. Use Graph API for historical access (requires `ChannelMessage.Read.All`)",
    "## Troubleshooting\n\n### Common issues\n\n- **Images not showing in channels:** Graph permissions or admin consent missing. Reinstall the Teams app and fully quit/reopen Teams.\n- **No responses in channel:** mentions are required by default; set `channels.msteams.requireMention=false` or configure per team/channel.\n- **Version mismatch (Teams still shows old manifest):** remove + re-add the app and fully quit Teams to refresh.\n- **401 Unauthorized from webhook:** Expected when testing manually without Azure JWT - means endpoint is reachable but auth failed. Use Azure Web Chat to test properly.\n\n### Manifest upload errors",
    "- **\"Icon file cannot be empty\":** The manifest references icon files that are 0 bytes. Create valid PNG icons (32x32 for `outline.png`, 192x192 for `color.png`).\n- **\"webApplicationInfo.Id already in use\":** The app is still installed in another team/chat. Find and uninstall it first, or wait 5-10 minutes for propagation.\n- **\"Something went wrong\" on upload:** Upload via [https://admin.teams.microsoft.com](https://admin.teams.microsoft.com) instead, open browser DevTools (F12) â†’ Network tab, and check the response body for the actual error.\n- **Sideload failing:** Try \"Upload an app to your org's app catalog\" instead of \"Upload a custom app\" - this often bypasses sideload restrictions.\n\n### RSC permissions not working",
    "1. Verify `webApplicationInfo.id` matches your bot's App ID exactly\n2. Re-upload the app and reinstall in the team/chat\n3. Check if your org admin has blocked RSC permissions\n4. Confirm you're using the right scope: `ChannelMessage.Read.Group` for teams, `ChatMessage.Read.Chat` for group chats",
    "## References\n\n- [Create Azure Bot](https://learn.microsoft.com/en-us/azure/bot-service/bot-service-quickstart-registration) - Azure Bot setup guide\n- [Teams Developer Portal](https://dev.teams.microsoft.com/apps) - create/manage Teams apps\n- [Teams app manifest schema](https://learn.microsoft.com/en-us/microsoftteams/platform/resources/schema/manifest-schema)\n- [Receive channel messages with RSC](https://learn.microsoft.com/en-us/microsoftteams/platform/bots/how-to/conversations/channel-messages-with-rsc)\n- [RSC permissions reference](https://learn.microsoft.com/en-us/microsoftteams/platform/graph-api/rsc/resource-specific-consent)\n- [Teams bot file handling](https://learn.microsoft.com/en-us/microsoftteams/platform/bots/how-to/bots-filesv4) (channel/group requires Graph)\n- [Proactive messaging](https://learn.microsoft.com/en-us/microsoftteams/platform/bots/how-to/conversations/send-proactive-messages)",
    "---\nsummary: \"Per-agent sandbox + tool restrictions, precedence, and examples\"\ntitle: Multi-Agent Sandbox & Tools\nread_when: \"You want per-agent sandboxing or per-agent tool allow/deny policies in a multi-agent gateway.\"\nstatus: active\n---\n\n# Multi-Agent Sandbox & Tools Configuration",
    "## Overview\n\nEach agent in a multi-agent setup can now have its own:\n\n- **Sandbox configuration** (`agents.list[].sandbox` overrides `agents.defaults.sandbox`)\n- **Tool restrictions** (`tools.allow` / `tools.deny`, plus `agents.list[].tools`)\n\nThis allows you to run multiple agents with different security profiles:\n\n- Personal assistant with full access\n- Family/work agents with restricted tools\n- Public-facing agents in sandboxes\n\n`setupCommand` belongs under `sandbox.docker` (global or per-agent) and runs once\nwhen the container is created.\n\nAuth is per-agent: each agent reads from its own `agentDir` auth store at:\n\n```\n~/.openclaw/agents/<agentId>/agent/auth-profiles.json\n```\n\nCredentials are **not** shared between agents. Never reuse `agentDir` across agents.\nIf you want to share creds, copy `auth-profiles.json` into the other agent's `agentDir`.",
    "For how sandboxing behaves at runtime, see [Sandboxing](/gateway/sandboxing).\nFor debugging â€œwhy is this blocked?â€, see [Sandbox vs Tool Policy vs Elevated](/gateway/sandbox-vs-tool-policy-vs-elevated) and `openclaw sandbox explain`.\n\n---",
    "## Configuration Examples\n\n### Example 1: Personal + Restricted Family Agent\n\n```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"default\": true,\n        \"name\": \"Personal Assistant\",\n        \"workspace\": \"~/.openclaw/workspace\",\n        \"sandbox\": { \"mode\": \"off\" }\n      },\n      {\n        \"id\": \"family\",\n        \"name\": \"Family Bot\",\n        \"workspace\": \"~/.openclaw/workspace-family\",\n        \"sandbox\": {\n          \"mode\": \"all\",\n          \"scope\": \"agent\"\n        },\n        \"tools\": {\n          \"allow\": [\"read\"],\n          \"deny\": [\"exec\", \"write\", \"edit\", \"apply_patch\", \"process\", \"browser\"]\n        }\n      }\n    ]\n  },\n  \"bindings\": [\n    {\n      \"agentId\": \"family\",\n      \"match\": {\n        \"provider\": \"whatsapp\",\n        \"accountId\": \"*\",\n        \"peer\": {\n          \"kind\": \"group\",\n          \"id\": \"120363424282127706@g.us\"\n        }\n      }\n    }\n  ]\n}\n```\n\n**Result:**",
    "- `main` agent: Runs on host, full tool access\n- `family` agent: Runs in Docker (one container per agent), only `read` tool\n\n---\n\n### Example 2: Work Agent with Shared Sandbox\n\n```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"personal\",\n        \"workspace\": \"~/.openclaw/workspace-personal\",\n        \"sandbox\": { \"mode\": \"off\" }\n      },\n      {\n        \"id\": \"work\",\n        \"workspace\": \"~/.openclaw/workspace-work\",\n        \"sandbox\": {\n          \"mode\": \"all\",\n          \"scope\": \"shared\",\n          \"workspaceRoot\": \"/tmp/work-sandboxes\"\n        },\n        \"tools\": {\n          \"allow\": [\"read\", \"write\", \"apply_patch\", \"exec\"],\n          \"deny\": [\"browser\", \"gateway\", \"discord\"]\n        }\n      }\n    ]\n  }\n}\n```\n\n---\n\n### Example 2b: Global coding profile + messaging-only agent\n\n```json\n{\n  \"tools\": { \"profile\": \"coding\" },\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"support\",\n        \"tools\": { \"profile\": \"messaging\", \"allow\": [\"slack\"] }\n      }\n    ]\n  }\n}\n```",
    "**Result:**\n\n- default agents get coding tools\n- `support` agent is messaging-only (+ Slack tool)\n\n---\n\n### Example 3: Different Sandbox Modes per Agent\n\n```json\n{\n  \"agents\": {\n    \"defaults\": {\n      \"sandbox\": {\n        \"mode\": \"non-main\", // Global default\n        \"scope\": \"session\"\n      }\n    },\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"workspace\": \"~/.openclaw/workspace\",\n        \"sandbox\": {\n          \"mode\": \"off\" // Override: main never sandboxed\n        }\n      },\n      {\n        \"id\": \"public\",\n        \"workspace\": \"~/.openclaw/workspace-public\",\n        \"sandbox\": {\n          \"mode\": \"all\", // Override: public always sandboxed\n          \"scope\": \"agent\"\n        },\n        \"tools\": {\n          \"allow\": [\"read\"],\n          \"deny\": [\"exec\", \"write\", \"edit\", \"apply_patch\"]\n        }\n      }\n    ]\n  }\n}\n```\n\n---",
    "## Configuration Precedence\n\nWhen both global (`agents.defaults.*`) and agent-specific (`agents.list[].*`) configs exist:\n\n### Sandbox Config\n\nAgent-specific settings override global:\n\n```\nagents.list[].sandbox.mode > agents.defaults.sandbox.mode\nagents.list[].sandbox.scope > agents.defaults.sandbox.scope\nagents.list[].sandbox.workspaceRoot > agents.defaults.sandbox.workspaceRoot\nagents.list[].sandbox.workspaceAccess > agents.defaults.sandbox.workspaceAccess\nagents.list[].sandbox.docker.* > agents.defaults.sandbox.docker.*\nagents.list[].sandbox.browser.* > agents.defaults.sandbox.browser.*\nagents.list[].sandbox.prune.* > agents.defaults.sandbox.prune.*\n```\n\n**Notes:**\n\n- `agents.list[].sandbox.{docker,browser,prune}.*` overrides `agents.defaults.sandbox.{docker,browser,prune}.*` for that agent (ignored when sandbox scope resolves to `\"shared\"`).\n\n### Tool Restrictions\n\nThe filtering order is:",
    "1. **Tool profile** (`tools.profile` or `agents.list[].tools.profile`)\n2. **Provider tool profile** (`tools.byProvider[provider].profile` or `agents.list[].tools.byProvider[provider].profile`)\n3. **Global tool policy** (`tools.allow` / `tools.deny`)\n4. **Provider tool policy** (`tools.byProvider[provider].allow/deny`)\n5. **Agent-specific tool policy** (`agents.list[].tools.allow/deny`)\n6. **Agent provider policy** (`agents.list[].tools.byProvider[provider].allow/deny`)\n7. **Sandbox tool policy** (`tools.sandbox.tools` or `agents.list[].tools.sandbox.tools`)\n8. **Subagent tool policy** (`tools.subagents.tools`, if applicable)",
    "Each level can further restrict tools, but cannot grant back denied tools from earlier levels.\nIf `agents.list[].tools.sandbox.tools` is set, it replaces `tools.sandbox.tools` for that agent.\nIf `agents.list[].tools.profile` is set, it overrides `tools.profile` for that agent.\nProvider tool keys accept either `provider` (e.g. `google-antigravity`) or `provider/model` (e.g. `openai/gpt-5.2`).\n\n### Tool groups (shorthands)\n\nTool policies (global, agent, sandbox) support `group:*` entries that expand to multiple concrete tools:\n\n- `group:runtime`: `exec`, `bash`, `process`\n- `group:fs`: `read`, `write`, `edit`, `apply_patch`\n- `group:sessions`: `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status`\n- `group:memory`: `memory_search`, `memory_get`\n- `group:ui`: `browser`, `canvas`\n- `group:automation`: `cron`, `gateway`\n- `group:messaging`: `message`\n- `group:nodes`: `nodes`\n- `group:openclaw`: all built-in OpenClaw tools (excludes provider plugins)",
    "### Elevated Mode\n\n`tools.elevated` is the global baseline (sender-based allowlist). `agents.list[].tools.elevated` can further restrict elevated for specific agents (both must allow).\n\nMitigation patterns:\n\n- Deny `exec` for untrusted agents (`agents.list[].tools.deny: [\"exec\"]`)\n- Avoid allowlisting senders that route to restricted agents\n- Disable elevated globally (`tools.elevated.enabled: false`) if you only want sandboxed execution\n- Disable elevated per agent (`agents.list[].tools.elevated.enabled: false`) for sensitive profiles\n\n---",
    "## Migration from Single Agent\n\n**Before (single agent):**\n\n```json\n{\n  \"agents\": {\n    \"defaults\": {\n      \"workspace\": \"~/.openclaw/workspace\",\n      \"sandbox\": {\n        \"mode\": \"non-main\"\n      }\n    }\n  },\n  \"tools\": {\n    \"sandbox\": {\n      \"tools\": {\n        \"allow\": [\"read\", \"write\", \"apply_patch\", \"exec\"],\n        \"deny\": []\n      }\n    }\n  }\n}\n```\n\n**After (multi-agent with different profiles):**\n\n```json\n{\n  \"agents\": {\n    \"list\": [\n      {\n        \"id\": \"main\",\n        \"default\": true,\n        \"workspace\": \"~/.openclaw/workspace\",\n        \"sandbox\": { \"mode\": \"off\" }\n      }\n    ]\n  }\n}\n```\n\nLegacy `agent.*` configs are migrated by `openclaw doctor`; prefer `agents.defaults` + `agents.list` going forward.\n\n---",
    "## Tool Restriction Examples\n\n### Read-only Agent\n\n```json\n{\n  \"tools\": {\n    \"allow\": [\"read\"],\n    \"deny\": [\"exec\", \"write\", \"edit\", \"apply_patch\", \"process\"]\n  }\n}\n```\n\n### Safe Execution Agent (no file modifications)\n\n```json\n{\n  \"tools\": {\n    \"allow\": [\"read\", \"exec\", \"process\"],\n    \"deny\": [\"write\", \"edit\", \"apply_patch\", \"browser\", \"gateway\"]\n  }\n}\n```\n\n### Communication-only Agent\n\n```json\n{\n  \"tools\": {\n    \"allow\": [\"sessions_list\", \"sessions_send\", \"sessions_history\", \"session_status\"],\n    \"deny\": [\"exec\", \"write\", \"edit\", \"apply_patch\", \"read\", \"browser\"]\n  }\n}\n```\n\n---",
    "## Common Pitfall: \"non-main\"\n\n`agents.defaults.sandbox.mode: \"non-main\"` is based on `session.mainKey` (default `\"main\"`),\nnot the agent id. Group/channel sessions always get their own keys, so they\nare treated as non-main and will be sandboxed. If you want an agent to never\nsandbox, set `agents.list[].sandbox.mode: \"off\"`.\n\n---",
    "## Testing\n\nAfter configuring multi-agent sandbox and tools:\n\n1. **Check agent resolution:**\n\n   ```exec\n   openclaw agents list --bindings\n   ```\n\n2. **Verify sandbox containers:**\n\n   ```exec\n   docker ps --filter \"name=openclaw-sbx-\"\n   ```\n\n3. **Test tool restrictions:**\n   - Send a message requiring restricted tools\n   - Verify the agent cannot use denied tools\n\n4. **Monitor logs:**\n\n   ```exec\n   tail -f \"${OPENCLAW_STATE_DIR:-$HOME/.openclaw}/logs/gateway.log\" | grep -E \"routing|sandbox|tools\"\n   ```\n\n---",
    "## Troubleshooting\n\n### Agent not sandboxed despite `mode: \"all\"`\n\n- Check if there's a global `agents.defaults.sandbox.mode` that overrides it\n- Agent-specific config takes precedence, so set `agents.list[].sandbox.mode: \"all\"`\n\n### Tools still available despite deny list\n\n- Check tool filtering order: global â†’ agent â†’ sandbox â†’ subagent\n- Each level can only further restrict, not grant back\n- Verify with logs: `[tools] filtering tools for agent:${agentId}`\n\n### Container not isolated per agent\n\n- Set `scope: \"agent\"` in agent-specific sandbox config\n- Default is `\"session\"` which creates one container per session\n\n---",
    "## See Also\n\n- [Multi-Agent Routing](/concepts/multi-agent)\n- [Sandbox Configuration](/gateway/configuration#agentsdefaults-sandbox)\n- [Session Management](/concepts/session)",
    "---\nsummary: \"Multi-agent routing: isolated agents, channel accounts, and bindings\"\ntitle: Multi-Agent Routing\nread_when: \"You want multiple isolated agents (workspaces + auth) in one gateway process.\"\nstatus: active\n---\n\n# Multi-Agent Routing\n\nGoal: multiple _isolated_ agents (separate workspace + `agentDir` + sessions), plus multiple channel accounts (e.g. two WhatsApps) in one running Gateway. Inbound is routed to an agent via bindings.",
    "## What is â€œone agentâ€?\n\nAn **agent** is a fully scoped brain with its own:\n\n- **Workspace** (files, AGENTS.md/SOUL.md/USER.md, local notes, persona rules).\n- **State directory** (`agentDir`) for auth profiles, model registry, and per-agent config.\n- **Session store** (chat history + routing state) under `~/.openclaw/agents/<agentId>/sessions`.\n\nAuth profiles are **per-agent**. Each agent reads from its own:\n\n```\n~/.openclaw/agents/<agentId>/agent/auth-profiles.json\n```\n\nMain agent credentials are **not** shared automatically. Never reuse `agentDir`\nacross agents (it causes auth/session collisions). If you want to share creds,\ncopy `auth-profiles.json` into the other agent's `agentDir`.\n\nSkills are per-agent via each workspaceâ€™s `skills/` folder, with shared skills\navailable from `~/.openclaw/skills`. See [Skills: per-agent vs shared](/tools/skills#per-agent-vs-shared-skills).\n\nThe Gateway can host **one agent** (default) or **many agents** side-by-side.",
    "**Workspace note:** each agentâ€™s workspace is the **default cwd**, not a hard\nsandbox. Relative paths resolve inside the workspace, but absolute paths can\nreach other host locations unless sandboxing is enabled. See\n[Sandboxing](/gateway/sandboxing).",
    "## Paths (quick map)\n\n- Config: `~/.openclaw/openclaw.json` (or `OPENCLAW_CONFIG_PATH`)\n- State dir: `~/.openclaw` (or `OPENCLAW_STATE_DIR`)\n- Workspace: `~/.openclaw/workspace` (or `~/.openclaw/workspace-<agentId>`)\n- Agent dir: `~/.openclaw/agents/<agentId>/agent` (or `agents.list[].agentDir`)\n- Sessions: `~/.openclaw/agents/<agentId>/sessions`\n\n### Single-agent mode (default)\n\nIf you do nothing, OpenClaw runs a single agent:\n\n- `agentId` defaults to **`main`**.\n- Sessions are keyed as `agent:main:<mainKey>`.\n- Workspace defaults to `~/.openclaw/workspace` (or `~/.openclaw/workspace-<profile>` when `OPENCLAW_PROFILE` is set).\n- State defaults to `~/.openclaw/agents/main/agent`.",
    "## Agent helper\n\nUse the agent wizard to add a new isolated agent:\n\n```bash\nopenclaw agents add work\n```\n\nThen add `bindings` (or let the wizard do it) to route inbound messages.\n\nVerify with:\n\n```bash\nopenclaw agents list --bindings\n```",
    "## Multiple agents = multiple people, multiple personalities\n\nWith **multiple agents**, each `agentId` becomes a **fully isolated persona**:\n\n- **Different phone numbers/accounts** (per channel `accountId`).\n- **Different personalities** (per-agent workspace files like `AGENTS.md` and `SOUL.md`).\n- **Separate auth + sessions** (no cross-talk unless explicitly enabled).\n\nThis lets **multiple people** share one Gateway server while keeping their AI â€œbrainsâ€ and data isolated.",
    "## One WhatsApp number, multiple people (DM split)\n\nYou can route **different WhatsApp DMs** to different agents while staying on **one WhatsApp account**. Match on sender E.164 (like `+15551234567`) with `peer.kind: \"dm\"`. Replies still come from the same WhatsApp number (no perâ€‘agent sender identity).\n\nImportant detail: direct chats collapse to the agentâ€™s **main session key**, so true isolation requires **one agent per person**.\n\nExample:\n\n```json5\n{\n  agents: {\n    list: [\n      { id: \"alex\", workspace: \"~/.openclaw/workspace-alex\" },\n      { id: \"mia\", workspace: \"~/.openclaw/workspace-mia\" },\n    ],\n  },\n  bindings: [\n    { agentId: \"alex\", match: { channel: \"whatsapp\", peer: { kind: \"dm\", id: \"+15551230001\" } } },\n    { agentId: \"mia\", match: { channel: \"whatsapp\", peer: { kind: \"dm\", id: \"+15551230002\" } } },\n  ],\n  channels: {\n    whatsapp: {\n      dmPolicy: \"allowlist\",\n      allowFrom: [\"+15551230001\", \"+15551230002\"],\n    },\n  },\n}\n```\n\nNotes:",
    "- DM access control is **global per WhatsApp account** (pairing/allowlist), not per agent.\n- For shared groups, bind the group to one agent or use [Broadcast groups](/broadcast-groups).",
    "## Routing rules (how messages pick an agent)\n\nBindings are **deterministic** and **most-specific wins**:\n\n1. `peer` match (exact DM/group/channel id)\n2. `guildId` (Discord)\n3. `teamId` (Slack)\n4. `accountId` match for a channel\n5. channel-level match (`accountId: \"*\"`)\n6. fallback to default agent (`agents.list[].default`, else first list entry, default: `main`)",
    "## Multiple accounts / phone numbers\n\nChannels that support **multiple accounts** (e.g. WhatsApp) use `accountId` to identify\neach login. Each `accountId` can be routed to a different agent, so one server can host\nmultiple phone numbers without mixing sessions.",
    "## Concepts\n\n- `agentId`: one â€œbrainâ€ (workspace, per-agent auth, per-agent session store).\n- `accountId`: one channel account instance (e.g. WhatsApp account `\"personal\"` vs `\"biz\"`).\n- `binding`: routes inbound messages to an `agentId` by `(channel, accountId, peer)` and optionally guild/team ids.\n- Direct chats collapse to `agent:<agentId>:<mainKey>` (per-agent â€œmainâ€; `session.mainKey`).",
    "## Example: two WhatsApps â†’ two agents\n\n`~/.openclaw/openclaw.json` (JSON5):\n\n```js\n{\n  agents: {\n    list: [\n      {\n        id: \"home\",\n        default: true,\n        name: \"Home\",\n        workspace: \"~/.openclaw/workspace-home\",\n        agentDir: \"~/.openclaw/agents/home/agent\",\n      },\n      {\n        id: \"work\",\n        name: \"Work\",\n        workspace: \"~/.openclaw/workspace-work\",\n        agentDir: \"~/.openclaw/agents/work/agent\",\n      },\n    ],\n  },\n\n  // Deterministic routing: first match wins (most-specific first).\n  bindings: [\n    { agentId: \"home\", match: { channel: \"whatsapp\", accountId: \"personal\" } },\n    { agentId: \"work\", match: { channel: \"whatsapp\", accountId: \"biz\" } },\n\n    // Optional per-peer override (example: send a specific group to work agent).\n    {\n      agentId: \"work\",\n      match: {\n        channel: \"whatsapp\",\n        accountId: \"personal\",\n        peer: { kind: \"group\", id: \"1203630...@g.us\" },\n      },\n    },\n  ],",
    "// Off by default: agent-to-agent messaging must be explicitly enabled + allowlisted.\n  tools: {\n    agentToAgent: {\n      enabled: false,\n      allow: [\"home\", \"work\"],\n    },\n  },\n\n  channels: {\n    whatsapp: {\n      accounts: {\n        personal: {\n          // Optional override. Default: ~/.openclaw/credentials/whatsapp/personal\n          // authDir: \"~/.openclaw/credentials/whatsapp/personal\",\n        },\n        biz: {\n          // Optional override. Default: ~/.openclaw/credentials/whatsapp/biz\n          // authDir: \"~/.openclaw/credentials/whatsapp/biz\",\n        },\n      },\n    },\n  },\n}\n```",
    "## Example: WhatsApp daily chat + Telegram deep work\n\nSplit by channel: route WhatsApp to a fast everyday agent and Telegram to an Opus agent.\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"chat\",\n        name: \"Everyday\",\n        workspace: \"~/.openclaw/workspace-chat\",\n        model: \"anthropic/claude-sonnet-4-5\",\n      },\n      {\n        id: \"opus\",\n        name: \"Deep Work\",\n        workspace: \"~/.openclaw/workspace-opus\",\n        model: \"anthropic/claude-opus-4-6\",\n      },\n    ],\n  },\n  bindings: [\n    { agentId: \"chat\", match: { channel: \"whatsapp\" } },\n    { agentId: \"opus\", match: { channel: \"telegram\" } },\n  ],\n}\n```\n\nNotes:\n\n- If you have multiple accounts for a channel, add `accountId` to the binding (for example `{ channel: \"whatsapp\", accountId: \"personal\" }`).\n- To route a single DM/group to Opus while keeping the rest on chat, add a `match.peer` binding for that peer; peer matches always win over channel-wide rules.",
    "## Example: same channel, one peer to Opus\n\nKeep WhatsApp on the fast agent, but route one DM to Opus:\n\n```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"chat\",\n        name: \"Everyday\",\n        workspace: \"~/.openclaw/workspace-chat\",\n        model: \"anthropic/claude-sonnet-4-5\",\n      },\n      {\n        id: \"opus\",\n        name: \"Deep Work\",\n        workspace: \"~/.openclaw/workspace-opus\",\n        model: \"anthropic/claude-opus-4-6\",\n      },\n    ],\n  },\n  bindings: [\n    { agentId: \"opus\", match: { channel: \"whatsapp\", peer: { kind: \"dm\", id: \"+15551234567\" } } },\n    { agentId: \"chat\", match: { channel: \"whatsapp\" } },\n  ],\n}\n```\n\nPeer bindings always win, so keep them above the channel-wide rule.",
    "## Family agent bound to a WhatsApp group\n\nBind a dedicated family agent to a single WhatsApp group, with mention gating\nand a tighter tool policy:",
    "```json5\n{\n  agents: {\n    list: [\n      {\n        id: \"family\",\n        name: \"Family\",\n        workspace: \"~/.openclaw/workspace-family\",\n        identity: { name: \"Family Bot\" },\n        groupChat: {\n          mentionPatterns: [\"@family\", \"@familybot\", \"@Family Bot\"],\n        },\n        sandbox: {\n          mode: \"all\",\n          scope: \"agent\",\n        },\n        tools: {\n          allow: [\n            \"exec\",\n            \"read\",\n            \"sessions_list\",\n            \"sessions_history\",\n            \"sessions_send\",\n            \"sessions_spawn\",\n            \"session_status\",\n          ],\n          deny: [\"write\", \"edit\", \"apply_patch\", \"browser\", \"canvas\", \"nodes\", \"cron\"],\n        },\n      },\n    ],\n  },\n  bindings: [\n    {\n      agentId: \"family\",\n      match: {\n        channel: \"whatsapp\",\n        peer: { kind: \"group\", id: \"120363999999999999@g.us\" },\n      },\n    },\n  ],\n}\n```\n\nNotes:",
    "- Tool allow/deny lists are **tools**, not skills. If a skill needs to run a\n  binary, ensure `exec` is allowed and the binary exists in the sandbox.\n- For stricter gating, set `agents.list[].groupChat.mentionPatterns` and keep\n  group allowlists enabled for the channel.",
    "## Per-Agent Sandbox and Tool Configuration\n\nStarting with v2026.1.6, each agent can have its own sandbox and tool restrictions:\n\n```js\n{\n  agents: {\n    list: [\n      {\n        id: \"personal\",\n        workspace: \"~/.openclaw/workspace-personal\",\n        sandbox: {\n          mode: \"off\",  // No sandbox for personal agent\n        },\n        // No tool restrictions - all tools available\n      },\n      {\n        id: \"family\",\n        workspace: \"~/.openclaw/workspace-family\",\n        sandbox: {\n          mode: \"all\",     // Always sandboxed\n          scope: \"agent\",  // One container per agent\n          docker: {\n            // Optional one-time setup after container creation\n            setupCommand: \"apt-get update && apt-get install -y git curl\",\n          },\n        },\n        tools: {\n          allow: [\"read\"],                    // Only read tool\n          deny: [\"exec\", \"write\", \"edit\", \"apply_patch\"],    // Deny others\n        },\n      },\n    ],\n  },\n}\n```",
    "Note: `setupCommand` lives under `sandbox.docker` and runs once on container creation.\nPer-agent `sandbox.docker.*` overrides are ignored when the resolved scope is `\"shared\"`.\n\n**Benefits:**\n\n- **Security isolation**: Restrict tools for untrusted agents\n- **Resource control**: Sandbox specific agents while keeping others on host\n- **Flexible policies**: Different permissions per agent\n\nNote: `tools.elevated` is **global** and sender-based; it is not configurable per agent.\nIf you need per-agent boundaries, use `agents.list[].tools` to deny `exec`.\nFor group targeting, use `agents.list[].groupChat.mentionPatterns` so @mentions map cleanly to the intended agent.\n\nSee [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools) for detailed examples.",
    "---\nread_when:\n  - åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œå¤šä¸ª Gateway ç½‘å…³\n  - ä½ éœ€è¦æ¯ä¸ª Gateway ç½‘å…³æœ‰éš”ç¦»çš„é…ç½®/çŠ¶æ€/ç«¯å£\nsummary: åœ¨åŒä¸€ä¸»æœºä¸Šè¿è¡Œå¤šä¸ª OpenClaw Gateway ç½‘å…³ï¼ˆéš”ç¦»ã€ç«¯å£å’Œé…ç½®æ–‡ä»¶ï¼‰\ntitle: å¤š Gateway ç½‘å…³\nx-i18n:\n  generated_at: \"2026-02-03T07:48:13Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 09b5035d4e5fb97c8d4596f7e23dea67224dad3b6d9e2c37ecb99840f28bd77d\n  source_path: gateway/multiple-gateways.md\n  workflow: 15\n---\n\n# å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰\n\nå¤§å¤šæ•°è®¾ç½®åº”è¯¥ä½¿ç”¨å•ä¸ª Gateway ç½‘å…³ï¼Œå› ä¸ºä¸€ä¸ª Gateway ç½‘å…³å¯ä»¥å¤„ç†å¤šä¸ªæ¶ˆæ¯è¿æ¥å’Œæ™ºèƒ½ä½“ã€‚å¦‚æœä½ éœ€è¦æ›´å¼ºçš„éš”ç¦»æˆ–å†—ä½™ï¼ˆä¾‹å¦‚ï¼Œæ•‘æ´æœºå™¨äººï¼‰ï¼Œè¯·ä½¿ç”¨éš”ç¦»çš„é…ç½®æ–‡ä»¶/ç«¯å£è¿è¡Œå¤šä¸ª Gateway ç½‘å…³ã€‚",
    "## éš”ç¦»æ£€æŸ¥æ¸…å•ï¼ˆå¿…éœ€ï¼‰\n\n- `OPENCLAW_CONFIG_PATH` â€” æ¯ä¸ªå®ä¾‹çš„é…ç½®æ–‡ä»¶\n- `OPENCLAW_STATE_DIR` â€” æ¯ä¸ªå®ä¾‹çš„ä¼šè¯ã€å‡­è¯ã€ç¼“å­˜\n- `agents.defaults.workspace` â€” æ¯ä¸ªå®ä¾‹çš„å·¥ä½œåŒºæ ¹ç›®å½•\n- `gateway.port`ï¼ˆæˆ– `--port`ï¼‰â€” æ¯ä¸ªå®ä¾‹å”¯ä¸€\n- æ´¾ç”Ÿç«¯å£ï¼ˆæµè§ˆå™¨/ç”»å¸ƒï¼‰ä¸å¾—é‡å \n\nå¦‚æœè¿™äº›æ˜¯å…±äº«çš„ï¼Œä½ å°†é‡åˆ°é…ç½®ç«äº‰å’Œç«¯å£å†²çªã€‚",
    "## æ¨èï¼šé…ç½®æ–‡ä»¶ï¼ˆ`--profile`ï¼‰\n\né…ç½®æ–‡ä»¶è‡ªåŠ¨é™å®š `OPENCLAW_STATE_DIR` + `OPENCLAW_CONFIG_PATH` èŒƒå›´å¹¶ä¸ºæœåŠ¡åç§°æ·»åŠ åç¼€ã€‚\n\n```bash\n# main\nopenclaw --profile main setup\nopenclaw --profile main gateway --port 18789\n\n# rescue\nopenclaw --profile rescue setup\nopenclaw --profile rescue gateway --port 19001\n```\n\næŒ‰é…ç½®æ–‡ä»¶çš„æœåŠ¡ï¼š\n\n```bash\nopenclaw --profile main gateway install\nopenclaw --profile rescue gateway install\n```",
    "## æ•‘æ´æœºå™¨äººæŒ‡å—\n\nåœ¨åŒä¸€ä¸»æœºä¸Šè¿è¡Œç¬¬äºŒä¸ª Gateway ç½‘å…³ï¼Œä½¿ç”¨ç‹¬ç«‹çš„ï¼š\n\n- é…ç½®æ–‡ä»¶/é…ç½®\n- çŠ¶æ€ç›®å½•\n- å·¥ä½œåŒº\n- åŸºç¡€ç«¯å£ï¼ˆåŠ ä¸Šæ´¾ç”Ÿç«¯å£ï¼‰\n\nè¿™ä½¿æ•‘æ´æœºå™¨äººä¸ä¸»æœºå™¨äººéš”ç¦»ï¼Œä»¥ä¾¿åœ¨ä¸»æœºå™¨äººå®•æœºæ—¶å¯ä»¥è°ƒè¯•æˆ–åº”ç”¨é…ç½®æ›´æ”¹ã€‚\n\nç«¯å£é—´è·ï¼šåœ¨åŸºç¡€ç«¯å£ä¹‹é—´è‡³å°‘ç•™å‡º 20 ä¸ªç«¯å£ï¼Œè¿™æ ·æ´¾ç”Ÿçš„æµè§ˆå™¨/ç”»å¸ƒ/CDP ç«¯å£æ°¸è¿œä¸ä¼šå†²çªã€‚\n\n### å¦‚ä½•å®‰è£…ï¼ˆæ•‘æ´æœºå™¨äººï¼‰\n\n```bash\n# ä¸»æœºå™¨äººï¼ˆç°æœ‰æˆ–æ–°å»ºï¼Œä¸å¸¦ --profile å‚æ•°ï¼‰\n# è¿è¡Œåœ¨ç«¯å£ 18789 + Chrome CDC/Canvas/... ç«¯å£\nopenclaw onboard\nopenclaw gateway install\n\n# æ•‘æ´æœºå™¨äººï¼ˆéš”ç¦»çš„é…ç½®æ–‡ä»¶ + ç«¯å£ï¼‰\nopenclaw --profile rescue onboard\n# æ³¨æ„ï¼š\n# - å·¥ä½œåŒºåç§°é»˜è®¤ä¼šæ·»åŠ  -rescue åç¼€\n# - ç«¯å£åº”è‡³å°‘ä¸º 18789 + 20 ä¸ªç«¯å£ï¼Œ\n#   æœ€å¥½é€‰æ‹©å®Œå…¨ä¸åŒçš„åŸºç¡€ç«¯å£ï¼Œå¦‚ 19789ï¼Œ\n# - å…¶ä½™çš„æ–°æ‰‹å¼•å¯¼ä¸æ­£å¸¸ç›¸åŒ\n\n# å®‰è£…æœåŠ¡ï¼ˆå¦‚æœåœ¨æ–°æ‰‹å¼•å¯¼æœŸé—´æ²¡æœ‰è‡ªåŠ¨å®Œæˆï¼‰\nopenclaw --profile rescue gateway install\n```",
    "## ç«¯å£æ˜ å°„ï¼ˆæ´¾ç”Ÿï¼‰\n\nåŸºç¡€ç«¯å£ = `gateway.port`ï¼ˆæˆ– `OPENCLAW_GATEWAY_PORT` / `--port`ï¼‰ã€‚\n\n- æµè§ˆå™¨æ§åˆ¶æœåŠ¡ç«¯å£ = åŸºç¡€ + 2ï¼ˆä»… loopbackï¼‰\n- `canvasHost.port = åŸºç¡€ + 4`\n- æµè§ˆå™¨é…ç½®æ–‡ä»¶ CDP ç«¯å£ä» `browser.controlPort + 9 .. + 108` è‡ªåŠ¨åˆ†é…\n\nå¦‚æœä½ åœ¨é…ç½®æˆ–ç¯å¢ƒå˜é‡ä¸­è¦†ç›–äº†è¿™äº›ï¼Œå¿…é¡»ç¡®ä¿æ¯ä¸ªå®ä¾‹éƒ½å”¯ä¸€ã€‚",
    "## æµè§ˆå™¨/CDP æ³¨æ„äº‹é¡¹ï¼ˆå¸¸è§é™·é˜±ï¼‰\n\n- **ä¸è¦**åœ¨å¤šä¸ªå®ä¾‹ä¸Šå°† `browser.cdpUrl` å›ºå®šä¸ºç›¸åŒçš„å€¼ã€‚\n- æ¯ä¸ªå®ä¾‹éœ€è¦è‡ªå·±çš„æµè§ˆå™¨æ§åˆ¶ç«¯å£å’Œ CDP èŒƒå›´ï¼ˆä»å…¶ Gateway ç½‘å…³ç«¯å£æ´¾ç”Ÿï¼‰ã€‚\n- å¦‚æœä½ éœ€è¦æ˜¾å¼çš„ CDP ç«¯å£ï¼Œè¯·ä¸ºæ¯ä¸ªå®ä¾‹è®¾ç½® `browser.profiles.<name>.cdpPort`ã€‚\n- è¿œç¨‹ Chromeï¼šä½¿ç”¨ `browser.profiles.<name>.cdpUrl`ï¼ˆæ¯ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¯ä¸ªå®ä¾‹ï¼‰ã€‚",
    "## æ‰‹åŠ¨ç¯å¢ƒå˜é‡ç¤ºä¾‹\n\n```bash\nOPENCLAW_CONFIG_PATH=~/.openclaw/main.json \\\nOPENCLAW_STATE_DIR=~/.openclaw-main \\\nopenclaw gateway --port 18789\n\nOPENCLAW_CONFIG_PATH=~/.openclaw/rescue.json \\\nOPENCLAW_STATE_DIR=~/.openclaw-rescue \\\nopenclaw gateway --port 19001\n```",
    "## å¿«é€Ÿæ£€æŸ¥\n\n```bash\nopenclaw --profile main status\nopenclaw --profile rescue status\nopenclaw --profile rescue browser status\n```",
    "---\nread_when:\n  - ä½ æƒ³è¦ç®€è¦äº†è§£ Gateway ç½‘å…³çš„ç½‘ç»œæ¨¡å‹\nsummary: Gateway ç½‘å…³ã€èŠ‚ç‚¹å’Œ canvas ä¸»æœºå¦‚ä½•è¿æ¥ã€‚\ntitle: ç½‘ç»œæ¨¡å‹\nx-i18n:\n  generated_at: \"2026-02-04T17:53:21Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: e3508b884757ef19f425c82e891e2b07e7fd7d985413d569e55ae9b175c91f0f\n  source_path: gateway/network-model.md\n  workflow: 15\n---\n\nå¤§å¤šæ•°æ“ä½œé€šè¿‡ Gateway ç½‘å…³ï¼ˆ`openclaw gateway`ï¼‰è¿›è¡Œï¼Œå®ƒæ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„å•ä¸€è¿›ç¨‹ï¼Œè´Ÿè´£ç®¡ç†æ¸ é“è¿æ¥å’Œ WebSocket æ§åˆ¶å¹³é¢ã€‚",
    "## æ ¸å¿ƒè§„åˆ™\n\n- å»ºè®®æ¯å°ä¸»æœºè¿è¡Œä¸€ä¸ª Gateway ç½‘å…³ã€‚å®ƒæ˜¯å”¯ä¸€å…è®¸æ‹¥æœ‰ WhatsApp Web ä¼šè¯çš„è¿›ç¨‹ã€‚å¯¹äºæ•‘æ´æœºå™¨äººæˆ–ä¸¥æ ¼éš”ç¦»çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨éš”ç¦»çš„é…ç½®æ–‡ä»¶å’Œç«¯å£è¿è¡Œå¤šä¸ª Gateway ç½‘å…³ã€‚å‚è§[å¤š Gateway ç½‘å…³](/gateway/multiple-gateways)ã€‚\n- ä¼˜å…ˆä½¿ç”¨å›ç¯åœ°å€ï¼šGateway ç½‘å…³çš„ WS é»˜è®¤ä¸º `ws://127.0.0.1:18789`ã€‚å³ä½¿æ˜¯å›ç¯è¿æ¥ï¼Œå‘å¯¼ä¹Ÿä¼šé»˜è®¤ç”Ÿæˆ gateway tokenã€‚è‹¥éœ€é€šè¿‡ tailnet è®¿é—®ï¼Œè¯·è¿è¡Œ `openclaw gateway --bind tailnet --token ...`ï¼Œå› ä¸ºéå›ç¯ç»‘å®šå¿…é¡»ä½¿ç”¨ tokenã€‚\n- èŠ‚ç‚¹æ ¹æ®éœ€è¦é€šè¿‡å±€åŸŸç½‘ã€tailnet æˆ– SSH è¿æ¥åˆ° Gateway ç½‘å…³çš„ WSã€‚æ—§ç‰ˆ TCP æ¡¥æ¥å·²å¼ƒç”¨ã€‚\n- Canvas ä¸»æœºæ˜¯ä¸€ä¸ª HTTP æ–‡ä»¶æœåŠ¡å™¨ï¼Œè¿è¡Œåœ¨ `canvasHost.port`ï¼ˆé»˜è®¤ `18793`ï¼‰ä¸Šï¼Œæä¾› `/__openclaw__/canvas/` è·¯å¾„ä¾›èŠ‚ç‚¹ WebView ä½¿ç”¨ã€‚å‚è§ [Gateway ç½‘å…³é…ç½®](/gateway/configuration)ï¼ˆ`canvasHost`ï¼‰ã€‚\n- è¿œç¨‹ä½¿ç”¨é€šå¸¸é€šè¿‡ SSH éš§é“æˆ– Tailscale VPNã€‚å‚è§[è¿œç¨‹è®¿é—®](/gateway/remote)å’Œ[è®¾å¤‡å‘ç°](/gateway/discovery)ã€‚",
    "---\nread_when:\n  - ä½ éœ€è¦äº†è§£ç½‘ç»œæ¶æ„å’Œå®‰å…¨æ¦‚è¿°\n  - ä½ æ­£åœ¨è°ƒè¯•æœ¬åœ°è®¿é—®ã€tailnet è®¿é—®æˆ–é…å¯¹é—®é¢˜\n  - ä½ æƒ³è¦è·å–ç½‘ç»œæ–‡æ¡£çš„æƒå¨åˆ—è¡¨\nsummary: ç½‘ç»œä¸­å¿ƒï¼šGateway ç½‘å…³æ¥å£ã€é…å¯¹ã€è®¾å¤‡å‘ç°å’Œå®‰å…¨\ntitle: ç½‘ç»œ\nx-i18n:\n  generated_at: \"2026-02-03T10:07:45Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 0fe4e7dbc8ddea312c8f3093af9b6bc71d9ae4007df76ae24b85889871933bc8\n  source_path: network.md\n  workflow: 15\n---\n\n# ç½‘ç»œä¸­å¿ƒ\n\næœ¬ä¸­å¿ƒæ±‡é›†äº† OpenClaw å¦‚ä½•åœ¨ localhostã€å±€åŸŸç½‘å’Œ tailnet ä¹‹é—´è¿æ¥ã€é…å¯¹å’Œä¿æŠ¤è®¾å¤‡çš„æ ¸å¿ƒæ–‡æ¡£ã€‚",
    "## æ ¸å¿ƒæ¨¡å‹\n\n- [Gateway ç½‘å…³æ¶æ„](/concepts/architecture)\n- [Gateway ç½‘å…³åè®®](/gateway/protocol)\n- [Gateway ç½‘å…³è¿ç»´æ‰‹å†Œ](/gateway)\n- [Web æ¥å£ + ç»‘å®šæ¨¡å¼](/web)",
    "## é…å¯¹ + èº«ä»½\n\n- [é…å¯¹æ¦‚è¿°ï¼ˆç§ä¿¡ + èŠ‚ç‚¹ï¼‰](/start/pairing)\n- [Gateway ç½‘å…³æ‹¥æœ‰çš„èŠ‚ç‚¹é…å¯¹](/gateway/pairing)\n- [Devices CLIï¼ˆé…å¯¹ + token è½®æ¢ï¼‰](/cli/devices)\n- [Pairing CLIï¼ˆç§ä¿¡å®¡æ‰¹ï¼‰](/cli/pairing)\n\næœ¬åœ°ä¿¡ä»»ï¼š\n\n- æœ¬åœ°è¿æ¥ï¼ˆloopback æˆ– Gateway ç½‘å…³ä¸»æœºè‡ªèº«çš„ tailnet åœ°å€ï¼‰å¯ä»¥è‡ªåŠ¨æ‰¹å‡†é…å¯¹ï¼Œä»¥ä¿æŒåŒä¸»æœºç”¨æˆ·ä½“éªŒçš„æµç•…æ€§ã€‚\n- éæœ¬åœ°çš„ tailnet/å±€åŸŸç½‘å®¢æˆ·ç«¯ä»éœ€è¦æ˜¾å¼çš„é…å¯¹æ‰¹å‡†ã€‚",
    "## è®¾å¤‡å‘ç° + ä¼ è¾“åè®®\n\n- [è®¾å¤‡å‘ç°ä¸ä¼ è¾“åè®®](/gateway/discovery)\n- [Bonjour / mDNS](/gateway/bonjour)\n- [è¿œç¨‹è®¿é—®ï¼ˆSSHï¼‰](/gateway/remote)\n- [Tailscale](/gateway/tailscale)",
    "## èŠ‚ç‚¹ + ä¼ è¾“åè®®\n\n- [èŠ‚ç‚¹æ¦‚è¿°](/nodes)\n- [æ¡¥æ¥åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ï¼‰](/gateway/bridge-protocol)\n- [èŠ‚ç‚¹è¿ç»´æ‰‹å†Œï¼šiOS](/platforms/ios)\n- [èŠ‚ç‚¹è¿ç»´æ‰‹å†Œï¼šAndroid](/platforms/android)",
    "## å®‰å…¨\n\n- [å®‰å…¨æ¦‚è¿°](/gateway/security)\n- [Gateway ç½‘å…³é…ç½®å‚è€ƒ](/gateway/configuration)\n- [æ•…éšœæ’é™¤](/gateway/troubleshooting)\n- [Doctor](/gateway/doctor)",
    "---\nsummary: \"Nextcloud Talk support status, capabilities, and configuration\"\nread_when:\n  - Working on Nextcloud Talk channel features\ntitle: \"Nextcloud Talk\"\n---\n\n# Nextcloud Talk (plugin)\n\nStatus: supported via plugin (webhook bot). Direct messages, rooms, reactions, and markdown messages are supported.",
    "## Plugin required\n\nNextcloud Talk ships as a plugin and is not bundled with the core install.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/nextcloud-talk\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/nextcloud-talk\n```\n\nIf you choose Nextcloud Talk during configure/onboarding and a git checkout is detected,\nOpenClaw will offer the local install path automatically.\n\nDetails: [Plugins](/plugin)",
    "## Quick setup (beginner)\n\n1. Install the Nextcloud Talk plugin.\n2. On your Nextcloud server, create a bot:\n\n   ```bash\n   ./occ talk:bot:install \"OpenClaw\" \"<shared-secret>\" \"<webhook-url>\" --feature reaction\n   ```\n\n3. Enable the bot in the target room settings.\n4. Configure OpenClaw:\n   - Config: `channels.nextcloud-talk.baseUrl` + `channels.nextcloud-talk.botSecret`\n   - Or env: `NEXTCLOUD_TALK_BOT_SECRET` (default account only)\n5. Restart the gateway (or finish onboarding).\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    \"nextcloud-talk\": {\n      enabled: true,\n      baseUrl: \"https://cloud.example.com\",\n      botSecret: \"shared-secret\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```",
    "## Notes\n\n- Bots cannot initiate DMs. The user must message the bot first.\n- Webhook URL must be reachable by the Gateway; set `webhookPublicUrl` if behind a proxy.\n- Media uploads are not supported by the bot API; media is sent as URLs.\n- The webhook payload does not distinguish DMs vs rooms; set `apiUser` + `apiPassword` to enable room-type lookups (otherwise DMs are treated as rooms).",
    "## Access control (DMs)\n\n- Default: `channels.nextcloud-talk.dmPolicy = \"pairing\"`. Unknown senders get a pairing code.\n- Approve via:\n  - `openclaw pairing list nextcloud-talk`\n  - `openclaw pairing approve nextcloud-talk <CODE>`\n- Public DMs: `channels.nextcloud-talk.dmPolicy=\"open\"` plus `channels.nextcloud-talk.allowFrom=[\"*\"]`.\n- `allowFrom` matches Nextcloud user IDs only; display names are ignored.",
    "## Rooms (groups)\n\n- Default: `channels.nextcloud-talk.groupPolicy = \"allowlist\"` (mention-gated).\n- Allowlist rooms with `channels.nextcloud-talk.rooms`:\n\n```json5\n{\n  channels: {\n    \"nextcloud-talk\": {\n      rooms: {\n        \"room-token\": { requireMention: true },\n      },\n    },\n  },\n}\n```\n\n- To allow no rooms, keep the allowlist empty or set `channels.nextcloud-talk.groupPolicy=\"disabled\"`.",
    "## Capabilities\n\n| Feature         | Status        |\n| --------------- | ------------- |\n| Direct messages | Supported     |\n| Rooms           | Supported     |\n| Threads         | Not supported |\n| Media           | URL-only      |\n| Reactions       | Supported     |\n| Native commands | Not supported |",
    "## Configuration reference (Nextcloud Talk)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.nextcloud-talk.enabled`: enable/disable channel startup.\n- `channels.nextcloud-talk.baseUrl`: Nextcloud instance URL.\n- `channels.nextcloud-talk.botSecret`: bot shared secret.\n- `channels.nextcloud-talk.botSecretFile`: secret file path.\n- `channels.nextcloud-talk.apiUser`: API user for room lookups (DM detection).\n- `channels.nextcloud-talk.apiPassword`: API/app password for room lookups.\n- `channels.nextcloud-talk.apiPasswordFile`: API password file path.\n- `channels.nextcloud-talk.webhookPort`: webhook listener port (default: 8788).\n- `channels.nextcloud-talk.webhookHost`: webhook host (default: 0.0.0.0).\n- `channels.nextcloud-talk.webhookPath`: webhook path (default: /nextcloud-talk-webhook).\n- `channels.nextcloud-talk.webhookPublicUrl`: externally reachable webhook URL.\n- `channels.nextcloud-talk.dmPolicy`: `pairing | allowlist | open | disabled`.\n- `channels.nextcloud-talk.allowFrom`: DM allowlist (user IDs). `open` requires `\"*\"`.\n- `channels.nextcloud-talk.groupPolicy`: `allowlist | open | disabled`.\n- `channels.nextcloud-talk.groupAllowFrom`: group allowlist (user IDs).\n- `channels.nextcloud-talk.rooms`: per-room settings and allowlist.\n- `channels.nextcloud-talk.historyLimit`: group history limit (0 disables).\n- `channels.nextcloud-talk.dmHistoryLimit`: DM history limit (0 disables).\n- `channels.nextcloud-talk.dms`: per-DM overrides (historyLimit).\n- `channels.nextcloud-talk.textChunkLimit`: outbound text chunk size (chars).\n- `channels.nextcloud-talk.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.\n- `channels.nextcloud-talk.blockStreaming`: disable block streaming for this channel.\n- `channels.nextcloud-talk.blockStreamingCoalesce`: block streaming coalesce tuning.\n- `channels.nextcloud-talk.mediaMaxMb`: inbound media cap (MB).",
    "---\nread_when:\n  - ä½ æƒ³è¦å¯å¤ç°ã€å¯å›æ»šçš„å®‰è£…\n  - ä½ å·²ç»åœ¨ä½¿ç”¨ Nix/NixOS/Home Manager\n  - ä½ æƒ³è¦æ‰€æœ‰å†…å®¹éƒ½å›ºå®šå¹¶ä»¥å£°æ˜å¼ç®¡ç†\nsummary: ä½¿ç”¨ Nix å£°æ˜å¼å®‰è£… OpenClaw\ntitle: Nix\nx-i18n:\n  generated_at: \"2026-02-03T07:49:51Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: f1452194cfdd74613b5b3ab90b0d506eaea2d16b147497987710d6ad658312ba\n  source_path: install/nix.md\n  workflow: 15\n---\n\n# Nix å®‰è£…\n\nä½¿ç”¨ Nix è¿è¡Œ OpenClaw çš„æ¨èæ–¹å¼æ˜¯é€šè¿‡ **[nix-openclaw](https://github.com/openclaw/nix-openclaw)** â€” ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ Home Manager æ¨¡å—ã€‚",
    "## å¿«é€Ÿå¼€å§‹\n\nå°†æ­¤ç²˜è´´ç»™ä½ çš„ AI æ™ºèƒ½ä½“ï¼ˆClaudeã€Cursor ç­‰ï¼‰ï¼š\n\n```text\nI want to set up nix-openclaw on my Mac.\nRepository: github:openclaw/nix-openclaw\n\nWhat I need you to do:\n1. Check if Determinate Nix is installed (if not, install it)\n2. Create a local flake at ~/code/openclaw-local using templates/agent-first/flake.nix\n3. Help me create a Telegram bot (@BotFather) and get my chat ID (@userinfobot)\n4. Set up secrets (bot token, Anthropic key) - plain files at ~/.secrets/ is fine\n5. Fill in the template placeholders and run home-manager switch\n6. Verify: launchd running, bot responds to messages\n\nReference the nix-openclaw README for module options.\n```\n\n> **ğŸ“¦ å®Œæ•´æŒ‡å—ï¼š[github.com/openclaw/nix-openclaw](https://github.com/openclaw/nix-openclaw)**\n>\n> nix-openclaw ä»“åº“æ˜¯ Nix å®‰è£…çš„æƒå¨æ¥æºã€‚æœ¬é¡µåªæ˜¯ä¸€ä¸ªå¿«é€Ÿæ¦‚è¿°ã€‚",
    "## ä½ å°†è·å¾—\n\n- Gateway ç½‘å…³ + macOS åº”ç”¨ + å·¥å…·ï¼ˆwhisperã€spotifyã€camerasï¼‰â€” å…¨éƒ¨å›ºå®šç‰ˆæœ¬\n- é‡å¯åä»èƒ½è¿è¡Œçš„ Launchd æœåŠ¡\n- å¸¦æœ‰å£°æ˜å¼é…ç½®çš„æ’ä»¶ç³»ç»Ÿ\n- å³æ—¶å›æ»šï¼š`home-manager switch --rollback`\n\n---",
    "## Nix æ¨¡å¼è¿è¡Œæ—¶è¡Œä¸º\n\nå½“è®¾ç½® `OPENCLAW_NIX_MODE=1` æ—¶ï¼ˆnix-openclaw ä¼šè‡ªåŠ¨è®¾ç½®ï¼‰ï¼š\n\nOpenClaw æ”¯æŒ **Nix æ¨¡å¼**ï¼Œä½¿é…ç½®ç¡®å®šæ€§å¹¶ç¦ç”¨è‡ªåŠ¨å®‰è£…æµç¨‹ã€‚\né€šè¿‡å¯¼å‡ºä»¥ä¸‹ç¯å¢ƒå˜é‡å¯ç”¨ï¼š\n\n```bash\nOPENCLAW_NIX_MODE=1\n```\n\nåœ¨ macOS ä¸Šï¼ŒGUI åº”ç”¨ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿ shell ç¯å¢ƒå˜é‡ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ defaults å¯ç”¨ Nix æ¨¡å¼ï¼š\n\n```bash\ndefaults write bot.molt.mac openclaw.nixMode -bool true\n```\n\n### é…ç½® + çŠ¶æ€è·¯å¾„\n\nOpenClaw ä» `OPENCLAW_CONFIG_PATH` è¯»å– JSON5 é…ç½®ï¼Œå¹¶å°†å¯å˜æ•°æ®å­˜å‚¨åœ¨ `OPENCLAW_STATE_DIR` ä¸­ã€‚\n\n- `OPENCLAW_STATE_DIR`ï¼ˆé»˜è®¤ï¼š`~/.openclaw`ï¼‰\n- `OPENCLAW_CONFIG_PATH`ï¼ˆé»˜è®¤ï¼š`$OPENCLAW_STATE_DIR/openclaw.json`ï¼‰\n\nåœ¨ Nix ä¸‹è¿è¡Œæ—¶ï¼Œå°†è¿™äº›æ˜¾å¼è®¾ç½®ä¸º Nix ç®¡ç†çš„ä½ç½®ï¼Œä»¥ä¾¿è¿è¡Œæ—¶çŠ¶æ€å’Œé…ç½®ä¸ä¼šè¿›å…¥ä¸å¯å˜å­˜å‚¨ã€‚\n\n### Nix æ¨¡å¼ä¸‹çš„è¿è¡Œæ—¶è¡Œä¸º\n\n- è‡ªåŠ¨å®‰è£…å’Œè‡ªæˆ‘ä¿®æ”¹æµç¨‹è¢«ç¦ç”¨\n- ç¼ºå¤±çš„ä¾èµ–ä¼šæ˜¾ç¤º Nix ç‰¹å®šçš„ä¿®å¤æ¶ˆæ¯\n- å­˜åœ¨æ—¶ UI ä¼šæ˜¾ç¤ºåªè¯» Nix æ¨¡å¼æ¨ªå¹…",
    "## æ‰“åŒ…æ³¨æ„äº‹é¡¹ï¼ˆmacOSï¼‰\n\nmacOS æ‰“åŒ…æµç¨‹æœŸæœ›åœ¨ä»¥ä¸‹ä½ç½®æœ‰ä¸€ä¸ªç¨³å®šçš„ Info.plist æ¨¡æ¿ï¼š\n\n```\napps/macos/Sources/OpenClaw/Resources/Info.plist\n```\n\n[`scripts/package-mac-app.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/package-mac-app.sh) å°†æ­¤æ¨¡æ¿å¤åˆ¶åˆ°åº”ç”¨åŒ…ä¸­å¹¶ä¿®è¡¥åŠ¨æ€å­—æ®µï¼ˆbundle IDã€ç‰ˆæœ¬/æ„å»ºå·ã€Git SHAã€Sparkle å¯†é’¥ï¼‰ã€‚è¿™ä½¿ plist å¯¹äº SwiftPM æ‰“åŒ…å’Œ Nix æ„å»ºä¿æŒç¡®å®šæ€§ï¼ˆå®ƒä»¬ä¸ä¾èµ–å®Œæ•´çš„ Xcode å·¥å…·é“¾ï¼‰ã€‚",
    "## ç›¸å…³å†…å®¹\n\n- [nix-openclaw](https://github.com/openclaw/nix-openclaw) â€” å®Œæ•´è®¾ç½®æŒ‡å—\n- [å‘å¯¼](/start/wizard) â€” é Nix CLI è®¾ç½®\n- [Docker](/install/docker) â€” å®¹å™¨åŒ–è®¾ç½®",
    "---\nsummary: Node + tsx \"__name is not a function\" crash notes and workarounds\nread_when:\n  - Debugging Node-only dev scripts or watch mode failures\n  - Investigating tsx/esbuild loader crashes in OpenClaw\ntitle: \"Node + tsx Crash\"\n---\n\n# Node + tsx \"\\_\\_name is not a function\" crash",
    "## Summary\n\nRunning OpenClaw via Node with `tsx` fails at startup with:\n\n```\n[openclaw] Failed to start CLI: TypeError: __name is not a function\n    at createSubsystemLogger (.../src/logging/subsystem.ts:203:25)\n    at .../src/agents/auth-profiles/constants.ts:25:20\n```\n\nThis began after switching dev scripts from Bun to `tsx` (commit `2871657e`, 2026-01-06). The same runtime path worked with Bun.",
    "## Environment\n\n- Node: v25.x (observed on v25.3.0)\n- tsx: 4.21.0\n- OS: macOS (repro also likely on other platforms that run Node 25)",
    "## Repro (Node-only)\n\n```bash\n# in repo root\nnode --version\npnpm install\nnode --import tsx src/entry.ts status\n```",
    "## Minimal repro in repo\n\n```bash\nnode --import tsx scripts/repro/tsx-name-repro.ts\n```",
    "## Node version check\n\n- Node 25.3.0: fails\n- Node 22.22.0 (Homebrew `node@22`): fails\n- Node 24: not installed here yet; needs verification",
    "## Notes / hypothesis\n\n- `tsx` uses esbuild to transform TS/ESM. esbuildâ€™s `keepNames` emits a `__name` helper and wraps function definitions with `__name(...)`.\n- The crash indicates `__name` exists but is not a function at runtime, which implies the helper is missing or overwritten for this module in the Node 25 loader path.\n- Similar `__name` helper issues have been reported in other esbuild consumers when the helper is missing or rewritten.",
    "## Regression history\n\n- `2871657e` (2026-01-06): scripts changed from Bun to tsx to make Bun optional.\n- Before that (Bun path), `openclaw status` and `gateway:watch` worked.",
    "## Workarounds\n\n- Use Bun for dev scripts (current temporary revert).\n- Use Node + tsc watch, then run compiled output:\n\n  ```bash\n  pnpm exec tsc --watch --preserveWatchOutput\n  node --watch openclaw.mjs status\n  ```\n\n- Confirmed locally: `pnpm exec tsc -p tsconfig.json` + `node openclaw.mjs status` works on Node 25.\n- Disable esbuild keepNames in the TS loader if possible (prevents `__name` helper insertion); tsx does not currently expose this.\n- Test Node LTS (22/24) with `tsx` to see if the issue is Node 25â€“specific.",
    "## References\n\n- [https://opennext.js.org/cloudflare/howtos/keep_names](https://opennext.js.org/cloudflare/howtos/keep_names)\n- [https://esbuild.github.io/api/#keep-names](https://esbuild.github.io/api/#keep-names)\n- [https://github.com/evanw/esbuild/issues/1031](https://github.com/evanw/esbuild/issues/1031)",
    "## Next steps\n\n- Repro on Node 22/24 to confirm Node 25 regression.\n- Test `tsx` nightly or pin to earlier version if a known regression exists.\n- If reproduces on Node LTS, file a minimal repro upstream with the `__name` stack trace.",
    "---\nsummary: \"CLI reference for `openclaw node` (headless node host)\"\nread_when:\n  - Running the headless node host\n  - Pairing a non-macOS node for system.run\ntitle: \"node\"\n---\n\n# `openclaw node`\n\nRun a **headless node host** that connects to the Gateway WebSocket and exposes\n`system.run` / `system.which` on this machine.",
    "## Why use a node host?\n\nUse a node host when you want agents to **run commands on other machines** in your\nnetwork without installing a full macOS companion app there.\n\nCommon use cases:\n\n- Run commands on remote Linux/Windows boxes (build servers, lab machines, NAS).\n- Keep exec **sandboxed** on the gateway, but delegate approved runs to other hosts.\n- Provide a lightweight, headless execution target for automation or CI nodes.\n\nExecution is still guarded by **exec approvals** and perâ€‘agent allowlists on the\nnode host, so you can keep command access scoped and explicit.",
    "## Browser proxy (zero-config)\n\nNode hosts automatically advertise a browser proxy if `browser.enabled` is not\ndisabled on the node. This lets the agent use browser automation on that node\nwithout extra configuration.\n\nDisable it on the node if needed:\n\n```json5\n{\n  nodeHost: {\n    browserProxy: {\n      enabled: false,\n    },\n  },\n}\n```",
    "## Run (foreground)\n\n```bash\nopenclaw node run --host <gateway-host> --port 18789\n```\n\nOptions:\n\n- `--host <host>`: Gateway WebSocket host (default: `127.0.0.1`)\n- `--port <port>`: Gateway WebSocket port (default: `18789`)\n- `--tls`: Use TLS for the gateway connection\n- `--tls-fingerprint <sha256>`: Expected TLS certificate fingerprint (sha256)\n- `--node-id <id>`: Override node id (clears pairing token)\n- `--display-name <name>`: Override the node display name",
    "## Service (background)\n\nInstall a headless node host as a user service.\n\n```bash\nopenclaw node install --host <gateway-host> --port 18789\n```\n\nOptions:\n\n- `--host <host>`: Gateway WebSocket host (default: `127.0.0.1`)\n- `--port <port>`: Gateway WebSocket port (default: `18789`)\n- `--tls`: Use TLS for the gateway connection\n- `--tls-fingerprint <sha256>`: Expected TLS certificate fingerprint (sha256)\n- `--node-id <id>`: Override node id (clears pairing token)\n- `--display-name <name>`: Override the node display name\n- `--runtime <runtime>`: Service runtime (`node` or `bun`)\n- `--force`: Reinstall/overwrite if already installed\n\nManage the service:\n\n```bash\nopenclaw node status\nopenclaw node stop\nopenclaw node restart\nopenclaw node uninstall\n```\n\nUse `openclaw node run` for a foreground node host (no service).\n\nService commands accept `--json` for machine-readable output.",
    "## Pairing\n\nThe first connection creates a pending node pair request on the Gateway.\nApprove it via:\n\n```bash\nopenclaw nodes pending\nopenclaw nodes approve <requestId>\n```\n\nThe node host stores its node id, token, display name, and gateway connection info in\n`~/.openclaw/node.json`.",
    "## Exec approvals\n\n`system.run` is gated by local exec approvals:\n\n- `~/.openclaw/exec-approvals.json`\n- [Exec approvals](/tools/exec-approvals)\n- `openclaw approvals --node <id|name|ip>` (edit from the Gateway)",
    "---\nsummary: \"CLI reference for `openclaw nodes` (list/status/approve/invoke, camera/canvas/screen)\"\nread_when:\n  - Youâ€™re managing paired nodes (cameras, screen, canvas)\n  - You need to approve requests or invoke node commands\ntitle: \"nodes\"\n---\n\n# `openclaw nodes`\n\nManage paired nodes (devices) and invoke node capabilities.\n\nRelated:\n\n- Nodes overview: [Nodes](/nodes)\n- Camera: [Camera nodes](/nodes/camera)\n- Images: [Image nodes](/nodes/images)\n\nCommon options:\n\n- `--url`, `--token`, `--timeout`, `--json`",
    "## Common commands\n\n```bash\nopenclaw nodes list\nopenclaw nodes list --connected\nopenclaw nodes list --last-connected 24h\nopenclaw nodes pending\nopenclaw nodes approve <requestId>\nopenclaw nodes status\nopenclaw nodes status --connected\nopenclaw nodes status --last-connected 24h\n```\n\n`nodes list` prints pending/paired tables. Paired rows include the most recent connect age (Last Connect).\nUse `--connected` to only show currently-connected nodes. Use `--last-connected <duration>` to\nfilter to nodes that connected within a duration (e.g. `24h`, `7d`).",
    "## Invoke / run\n\n```bash\nopenclaw nodes invoke --node <id|name|ip> --command <command> --params <json>\nopenclaw nodes run --node <id|name|ip> <command...>\nopenclaw nodes run --raw \"git status\"\nopenclaw nodes run --agent main --node <id|name|ip> --raw \"git status\"\n```\n\nInvoke flags:\n\n- `--params <json>`: JSON object string (default `{}`).\n- `--invoke-timeout <ms>`: node invoke timeout (default `15000`).\n- `--idempotency-key <key>`: optional idempotency key.\n\n### Exec-style defaults\n\n`nodes run` mirrors the modelâ€™s exec behavior (defaults + approvals):\n\n- Reads `tools.exec.*` (plus `agents.list[].tools.exec.*` overrides).\n- Uses exec approvals (`exec.approval.request`) before invoking `system.run`.\n- `--node` can be omitted when `tools.exec.node` is set.\n- Requires a node that advertises `system.run` (macOS companion app or headless node host).\n\nFlags:",
    "- `--cwd <path>`: working directory.\n- `--env <key=val>`: env override (repeatable).\n- `--command-timeout <ms>`: command timeout.\n- `--invoke-timeout <ms>`: node invoke timeout (default `30000`).\n- `--needs-screen-recording`: require screen recording permission.\n- `--raw <command>`: run a shell string (`/bin/sh -lc` or `cmd.exe /c`).\n- `--agent <id>`: agent-scoped approvals/allowlists (defaults to configured agent).\n- `--ask <off|on-miss|always>`, `--security <deny|allowlist|full>`: overrides.",
    "---\nsummary: \"Nostr DM channel via NIP-04 encrypted messages\"\nread_when:\n  - You want OpenClaw to receive DMs via Nostr\n  - You're setting up decentralized messaging\ntitle: \"Nostr\"\n---\n\n# Nostr\n\n**Status:** Optional plugin (disabled by default).\n\nNostr is a decentralized protocol for social networking. This channel enables OpenClaw to receive and respond to encrypted direct messages (DMs) via NIP-04.",
    "## Install (on demand)\n\n### Onboarding (recommended)\n\n- The onboarding wizard (`openclaw onboard`) and `openclaw channels add` list optional channel plugins.\n- Selecting Nostr prompts you to install the plugin on demand.\n\nInstall defaults:\n\n- **Dev channel + git checkout available:** uses the local plugin path.\n- **Stable/Beta:** downloads from npm.\n\nYou can always override the choice in the prompt.\n\n### Manual install\n\n```bash\nopenclaw plugins install @openclaw/nostr\n```\n\nUse a local checkout (dev workflows):\n\n```bash\nopenclaw plugins install --link <path-to-openclaw>/extensions/nostr\n```\n\nRestart the Gateway after installing or enabling plugins.",
    "## Quick setup\n\n1. Generate a Nostr keypair (if needed):\n\n```bash\n# Using nak\nnak key generate\n```\n\n2. Add to config:\n\n```json\n{\n  \"channels\": {\n    \"nostr\": {\n      \"privateKey\": \"${NOSTR_PRIVATE_KEY}\"\n    }\n  }\n}\n```\n\n3. Export the key:\n\n```bash\nexport NOSTR_PRIVATE_KEY=\"nsec1...\"\n```\n\n4. Restart the Gateway.",
    "## Configuration reference",
    "| Key          | Type     | Default                                     | Description                         |\n| ------------ | -------- | ------------------------------------------- | ----------------------------------- |\n| `privateKey` | string   | required                                    | Private key in `nsec` or hex format |\n| `relays`     | string[] | `['wss://relay.damus.io', 'wss://nos.lol']` | Relay URLs (WebSocket)              |\n| `dmPolicy`   | string   | `pairing`                                   | DM access policy                    |\n| `allowFrom`  | string[] | `[]`                                        | Allowed sender pubkeys              |\n| `enabled`    | boolean  | `true`                                      | Enable/disable channel              |\n| `name`       | string   | -                                           | Display name                        |\n| `profile`    | object   | -                                           | NIP-01 profile metadata             |",
    "## Profile metadata\n\nProfile data is published as a NIP-01 `kind:0` event. You can manage it from the Control UI (Channels -> Nostr -> Profile) or set it directly in config.\n\nExample:\n\n```json\n{\n  \"channels\": {\n    \"nostr\": {\n      \"privateKey\": \"${NOSTR_PRIVATE_KEY}\",\n      \"profile\": {\n        \"name\": \"openclaw\",\n        \"displayName\": \"OpenClaw\",\n        \"about\": \"Personal assistant DM bot\",\n        \"picture\": \"https://example.com/avatar.png\",\n        \"banner\": \"https://example.com/banner.png\",\n        \"website\": \"https://example.com\",\n        \"nip05\": \"openclaw@example.com\",\n        \"lud16\": \"openclaw@example.com\"\n      }\n    }\n  }\n}\n```\n\nNotes:\n\n- Profile URLs must use `https://`.\n- Importing from relays merges fields and preserves local overrides.",
    "## Access control\n\n### DM policies\n\n- **pairing** (default): unknown senders get a pairing code.\n- **allowlist**: only pubkeys in `allowFrom` can DM.\n- **open**: public inbound DMs (requires `allowFrom: [\"*\"]`).\n- **disabled**: ignore inbound DMs.\n\n### Allowlist example\n\n```json\n{\n  \"channels\": {\n    \"nostr\": {\n      \"privateKey\": \"${NOSTR_PRIVATE_KEY}\",\n      \"dmPolicy\": \"allowlist\",\n      \"allowFrom\": [\"npub1abc...\", \"npub1xyz...\"]\n    }\n  }\n}\n```",
    "## Key formats\n\nAccepted formats:\n\n- **Private key:** `nsec...` or 64-char hex\n- **Pubkeys (`allowFrom`):** `npub...` or hex",
    "## Relays\n\nDefaults: `relay.damus.io` and `nos.lol`.\n\n```json\n{\n  \"channels\": {\n    \"nostr\": {\n      \"privateKey\": \"${NOSTR_PRIVATE_KEY}\",\n      \"relays\": [\"wss://relay.damus.io\", \"wss://relay.primal.net\", \"wss://nostr.wine\"]\n    }\n  }\n}\n```\n\nTips:\n\n- Use 2-3 relays for redundancy.\n- Avoid too many relays (latency, duplication).\n- Paid relays can improve reliability.\n- Local relays are fine for testing (`ws://localhost:7777`).",
    "## Protocol support\n\n| NIP    | Status    | Description                           |\n| ------ | --------- | ------------------------------------- |\n| NIP-01 | Supported | Basic event format + profile metadata |\n| NIP-04 | Supported | Encrypted DMs (`kind:4`)              |\n| NIP-17 | Planned   | Gift-wrapped DMs                      |\n| NIP-44 | Planned   | Versioned encryption                  |",
    "## Testing\n\n### Local relay\n\n```bash\n# Start strfry\ndocker run -p 7777:7777 ghcr.io/hoytech/strfry\n```\n\n```json\n{\n  \"channels\": {\n    \"nostr\": {\n      \"privateKey\": \"${NOSTR_PRIVATE_KEY}\",\n      \"relays\": [\"ws://localhost:7777\"]\n    }\n  }\n}\n```\n\n### Manual test\n\n1. Note the bot pubkey (npub) from logs.\n2. Open a Nostr client (Damus, Amethyst, etc.).\n3. DM the bot pubkey.\n4. Verify the response.",
    "## Troubleshooting\n\n### Not receiving messages\n\n- Verify the private key is valid.\n- Ensure relay URLs are reachable and use `wss://` (or `ws://` for local).\n- Confirm `enabled` is not `false`.\n- Check Gateway logs for relay connection errors.\n\n### Not sending responses\n\n- Check relay accepts writes.\n- Verify outbound connectivity.\n- Watch for relay rate limits.\n\n### Duplicate responses\n\n- Expected when using multiple relays.\n- Messages are deduplicated by event ID; only the first delivery triggers a response.",
    "## Security\n\n- Never commit private keys.\n- Use environment variables for keys.\n- Consider `allowlist` for production bots.",
    "## Limitations (MVP)\n\n- Direct messages only (no group chats).\n- No media attachments.\n- NIP-04 only (NIP-17 gift-wrap planned).",
    "---\nsummary: \"OAuth in OpenClaw: token exchange, storage, and multi-account patterns\"\nread_when:\n  - You want to understand OpenClaw OAuth end-to-end\n  - You hit token invalidation / logout issues\n  - You want setup-token or OAuth auth flows\n  - You want multiple accounts or profile routing\ntitle: \"OAuth\"\n---\n\n# OAuth\n\nOpenClaw supports â€œsubscription authâ€ via OAuth for providers that offer it (notably **OpenAI Codex (ChatGPT OAuth)**). For Anthropic subscriptions, use the **setup-token** flow. This page explains:\n\n- how the OAuth **token exchange** works (PKCE)\n- where tokens are **stored** (and why)\n- how to handle **multiple accounts** (profiles + per-session overrides)\n\nOpenClaw also supports **provider plugins** that ship their own OAuth or APIâ€‘key\nflows. Run them via:\n\n```bash\nopenclaw models auth login --provider <id>\n```",
    "## The token sink (why it exists)\n\nOAuth providers commonly mint a **new refresh token** during login/refresh flows. Some providers (or OAuth clients) can invalidate older refresh tokens when a new one is issued for the same user/app.\n\nPractical symptom:\n\n- you log in via OpenClaw _and_ via Claude Code / Codex CLI â†’ one of them randomly gets â€œlogged outâ€ later\n\nTo reduce that, OpenClaw treats `auth-profiles.json` as a **token sink**:\n\n- the runtime reads credentials from **one place**\n- we can keep multiple profiles and route them deterministically",
    "## Storage (where tokens live)\n\nSecrets are stored **per-agent**:\n\n- Auth profiles (OAuth + API keys): `~/.openclaw/agents/<agentId>/agent/auth-profiles.json`\n- Runtime cache (managed automatically; donâ€™t edit): `~/.openclaw/agents/<agentId>/agent/auth.json`\n\nLegacy import-only file (still supported, but not the main store):\n\n- `~/.openclaw/credentials/oauth.json` (imported into `auth-profiles.json` on first use)\n\nAll of the above also respect `$OPENCLAW_STATE_DIR` (state dir override). Full reference: [/gateway/configuration](/gateway/configuration#auth-storage-oauth--api-keys)",
    "## Anthropic setup-token (subscription auth)\n\nRun `claude setup-token` on any machine, then paste it into OpenClaw:\n\n```bash\nopenclaw models auth setup-token --provider anthropic\n```\n\nIf you generated the token elsewhere, paste it manually:\n\n```bash\nopenclaw models auth paste-token --provider anthropic\n```\n\nVerify:\n\n```bash\nopenclaw models status\n```",
    "## OAuth exchange (how login works)\n\nOpenClawâ€™s interactive login flows are implemented in `@mariozechner/pi-ai` and wired into the wizards/commands.\n\n### Anthropic (Claude Pro/Max) setup-token\n\nFlow shape:\n\n1. run `claude setup-token`\n2. paste the token into OpenClaw\n3. store as a token auth profile (no refresh)\n\nThe wizard path is `openclaw onboard` â†’ auth choice `setup-token` (Anthropic).\n\n### OpenAI Codex (ChatGPT OAuth)\n\nFlow shape (PKCE):\n\n1. generate PKCE verifier/challenge + random `state`\n2. open `https://auth.openai.com/oauth/authorize?...`\n3. try to capture callback on `http://127.0.0.1:1455/auth/callback`\n4. if callback canâ€™t bind (or youâ€™re remote/headless), paste the redirect URL/code\n5. exchange at `https://auth.openai.com/oauth/token`\n6. extract `accountId` from the access token and store `{ access, refresh, expires, accountId }`\n\nWizard path is `openclaw onboard` â†’ auth choice `openai-codex`.",
    "## Refresh + expiry\n\nProfiles store an `expires` timestamp.\n\nAt runtime:\n\n- if `expires` is in the future â†’ use the stored access token\n- if expired â†’ refresh (under a file lock) and overwrite the stored credentials\n\nThe refresh flow is automatic; you generally don't need to manage tokens manually.",
    "## Multiple accounts (profiles) + routing\n\nTwo patterns:\n\n### 1) Preferred: separate agents\n\nIf you want â€œpersonalâ€ and â€œworkâ€ to never interact, use isolated agents (separate sessions + credentials + workspace):\n\n```bash\nopenclaw agents add work\nopenclaw agents add personal\n```\n\nThen configure auth per-agent (wizard) and route chats to the right agent.\n\n### 2) Advanced: multiple profiles in one agent\n\n`auth-profiles.json` supports multiple profile IDs for the same provider.\n\nPick which profile is used:\n\n- globally via config ordering (`auth.order`)\n- per-session via `/model ...@<profileId>`\n\nExample (session override):\n\n- `/model Opus@anthropic:work`\n\nHow to see what profile IDs exist:\n\n- `openclaw channels list --json` (shows `auth[]`)\n\nRelated docs:\n\n- [/concepts/model-failover](/concepts/model-failover) (rotation + cooldown rules)\n- [/tools/slash-commands](/tools/slash-commands) (command surface)",
    "---\nsummary: \"Run OpenClaw with Ollama (local LLM runtime)\"\nread_when:\n  - You want to run OpenClaw with local models via Ollama\n  - You need Ollama setup and configuration guidance\ntitle: \"Ollama\"\n---\n\n# Ollama\n\nOllama is a local LLM runtime that makes it easy to run open-source models on your machine. OpenClaw integrates with Ollama's OpenAI-compatible API and can **auto-discover tool-capable models** when you opt in with `OLLAMA_API_KEY` (or an auth profile) and do not define an explicit `models.providers.ollama` entry.",
    "## Quick start\n\n1. Install Ollama: [https://ollama.ai](https://ollama.ai)\n\n2. Pull a model:\n\n```bash\nollama pull gpt-oss:20b\n# or\nollama pull llama3.3\n# or\nollama pull qwen2.5-coder:32b\n# or\nollama pull deepseek-r1:32b\n```\n\n3. Enable Ollama for OpenClaw (any value works; Ollama doesn't require a real key):\n\n```bash\n# Set environment variable\nexport OLLAMA_API_KEY=\"ollama-local\"\n\n# Or configure in your config file\nopenclaw config set models.providers.ollama.apiKey \"ollama-local\"\n```\n\n4. Use Ollama models:\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"ollama/gpt-oss:20b\" },\n    },\n  },\n}\n```",
    "## Model discovery (implicit provider)\n\nWhen you set `OLLAMA_API_KEY` (or an auth profile) and **do not** define `models.providers.ollama`, OpenClaw discovers models from the local Ollama instance at `http://127.0.0.1:11434`:\n\n- Queries `/api/tags` and `/api/show`\n- Keeps only models that report `tools` capability\n- Marks `reasoning` when the model reports `thinking`\n- Reads `contextWindow` from `model_info[\"<arch>.context_length\"]` when available\n- Sets `maxTokens` to 10Ã— the context window\n- Sets all costs to `0`\n\nThis avoids manual model entries while keeping the catalog aligned with Ollama's capabilities.\n\nTo see what models are available:\n\n```bash\nollama list\nopenclaw models list\n```\n\nTo add a new model, simply pull it with Ollama:\n\n```bash\nollama pull mistral\n```\n\nThe new model will be automatically discovered and available to use.\n\nIf you set `models.providers.ollama` explicitly, auto-discovery is skipped and you must define models manually (see below).",
    "## Configuration\n\n### Basic setup (implicit discovery)\n\nThe simplest way to enable Ollama is via environment variable:\n\n```bash\nexport OLLAMA_API_KEY=\"ollama-local\"\n```\n\n### Explicit setup (manual models)\n\nUse explicit config when:\n\n- Ollama runs on another host/port.\n- You want to force specific context windows or model lists.\n- You want to include models that do not report tool support.\n\n```json5\n{\n  models: {\n    providers: {\n      ollama: {\n        // Use a host that includes /v1 for OpenAI-compatible APIs\n        baseUrl: \"http://ollama-host:11434/v1\",\n        apiKey: \"ollama-local\",\n        api: \"openai-completions\",\n        models: [\n          {\n            id: \"gpt-oss:20b\",\n            name: \"GPT-OSS 20B\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 8192,\n            maxTokens: 8192 * 10\n          }\n        ]\n      }\n    }\n  }\n}\n```",
    "If `OLLAMA_API_KEY` is set, you can omit `apiKey` in the provider entry and OpenClaw will fill it for availability checks.\n\n### Custom base URL (explicit config)\n\nIf Ollama is running on a different host or port (explicit config disables auto-discovery, so define models manually):\n\n```json5\n{\n  models: {\n    providers: {\n      ollama: {\n        apiKey: \"ollama-local\",\n        baseUrl: \"http://ollama-host:11434/v1\",\n      },\n    },\n  },\n}\n```\n\n### Model selection\n\nOnce configured, all your Ollama models are available:\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: {\n        primary: \"ollama/gpt-oss:20b\",\n        fallbacks: [\"ollama/llama3.3\", \"ollama/qwen2.5-coder:32b\"],\n      },\n    },\n  },\n}\n```",
    "## Advanced\n\n### Reasoning models\n\nOpenClaw marks models as reasoning-capable when Ollama reports `thinking` in `/api/show`:\n\n```bash\nollama pull deepseek-r1:32b\n```\n\n### Model Costs\n\nOllama is free and runs locally, so all model costs are set to $0.\n\n### Streaming Configuration\n\nDue to a [known issue](https://github.com/badlogic/pi-mono/issues/1205) in the underlying SDK with Ollama's response format, **streaming is disabled by default** for Ollama models. This prevents corrupted responses when using tool-capable models.\n\nWhen streaming is disabled, responses are delivered all at once (non-streaming mode), which avoids the issue where interleaved content/reasoning deltas cause garbled output.\n\n#### Re-enable Streaming (Advanced)\n\nIf you want to re-enable streaming for Ollama (may cause issues with tool-capable models):\n\n```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"ollama/gpt-oss:20b\": {\n          streaming: true,\n        },\n      },\n    },\n  },\n}\n```",
    "#### Disable Streaming for Other Providers\n\nYou can also disable streaming for any provider if needed:\n\n```json5\n{\n  agents: {\n    defaults: {\n      models: {\n        \"openai/gpt-4\": {\n          streaming: false,\n        },\n      },\n    },\n  },\n}\n```\n\n### Context windows\n\nFor auto-discovered models, OpenClaw uses the context window reported by Ollama when available, otherwise it defaults to `8192`. You can override `contextWindow` and `maxTokens` in explicit provider config.",
    "## Troubleshooting\n\n### Ollama not detected\n\nMake sure Ollama is running and that you set `OLLAMA_API_KEY` (or an auth profile), and that you did **not** define an explicit `models.providers.ollama` entry:\n\n```bash\nollama serve\n```\n\nAnd that the API is accessible:\n\n```bash\ncurl http://localhost:11434/api/tags\n```\n\n### No models available\n\nOpenClaw only auto-discovers models that report tool support. If your model isn't listed, either:\n\n- Pull a tool-capable model, or\n- Define the model explicitly in `models.providers.ollama`.\n\nTo add models:\n\n```bash\nollama list  # See what's installed\nollama pull gpt-oss:20b  # Pull a tool-capable model\nollama pull llama3.3     # Or another model\n```\n\n### Connection refused\n\nCheck that Ollama is running on the correct port:\n\n```bash\n# Check if Ollama is running\nps aux | grep ollama\n\n# Or restart Ollama\nollama serve\n```\n\n### Corrupted responses or tool names in output",
    "If you see garbled responses containing tool names (like `sessions_send`, `memory_get`) or fragmented text when using Ollama models, this is due to an upstream SDK issue with streaming responses. **This is fixed by default** in the latest OpenClaw version by disabling streaming for Ollama models.\n\nIf you manually enabled streaming and experience this issue:\n\n1. Remove the `streaming: true` configuration from your Ollama model entries, or\n2. Explicitly set `streaming: false` for Ollama models (see [Streaming Configuration](#streaming-configuration))",
    "## See Also\n\n- [Model Providers](/concepts/model-providers) - Overview of all providers\n- [Model Selection](/concepts/models) - How to choose models\n- [Configuration](/gateway/configuration) - Full config reference",
    "---\nsummary: \"CLI reference for `openclaw onboard` (interactive onboarding wizard)\"\nread_when:\n  - You want guided setup for gateway, workspace, auth, channels, and skills\ntitle: \"onboard\"\n---\n\n# `openclaw onboard`\n\nInteractive onboarding wizard (local or remote Gateway setup).",
    "## Related guides\n\n- CLI onboarding hub: [Onboarding Wizard (CLI)](/start/wizard)\n- CLI onboarding reference: [CLI Onboarding Reference](/start/wizard-cli-reference)\n- CLI automation: [CLI Automation](/start/wizard-cli-automation)\n- macOS onboarding: [Onboarding (macOS App)](/start/onboarding)",
    "## Examples\n\n```bash\nopenclaw onboard\nopenclaw onboard --flow quickstart\nopenclaw onboard --flow manual\nopenclaw onboard --mode remote --remote-url ws://gateway-host:18789\n```\n\nFlow notes:\n\n- `quickstart`: minimal prompts, auto-generates a gateway token.\n- `manual`: full prompts for port/bind/auth (alias of `advanced`).\n- Fastest first chat: `openclaw dashboard` (Control UI, no channel setup).",
    "## Common follow-up commands\n\n```bash\nopenclaw configure\nopenclaw agents add <name>\n```\n\n<Note>\n`--json` does not imply non-interactive mode. Use `--non-interactive` for scripts.\n</Note>",
    "---\nsummary: \"RPC protocol notes for onboarding wizard and config schema\"\nread_when: \"Changing onboarding wizard steps or config schema endpoints\"\ntitle: \"Onboarding and Config Protocol\"\n---\n\n# Onboarding + Config Protocol\n\nPurpose: shared onboarding + config surfaces across CLI, macOS app, and Web UI.",
    "## Components\n\n- Wizard engine (shared session + prompts + onboarding state).\n- CLI onboarding uses the same wizard flow as the UI clients.\n- Gateway RPC exposes wizard + config schema endpoints.\n- macOS onboarding uses the wizard step model.\n- Web UI renders config forms from JSON Schema + UI hints.",
    "## Gateway RPC\n\n- `wizard.start` params: `{ mode?: \"local\"|\"remote\", workspace?: string }`\n- `wizard.next` params: `{ sessionId, answer?: { stepId, value? } }`\n- `wizard.cancel` params: `{ sessionId }`\n- `wizard.status` params: `{ sessionId }`\n- `config.schema` params: `{}`\n\nResponses (shape)\n\n- Wizard: `{ sessionId, done, step?, status?, error? }`\n- Config schema: `{ schema, uiHints, version, generatedAt }`",
    "## UI Hints\n\n- `uiHints` keyed by path; optional metadata (label/help/group/order/advanced/sensitive/placeholder).\n- Sensitive fields render as password inputs; no redaction layer.\n- Unsupported schema nodes fall back to the raw JSON editor.",
    "## Notes\n\n- This doc is the single place to track protocol refactors for onboarding/config.",
    "---\nsummary: \"First-run onboarding flow for OpenClaw (macOS app)\"\nread_when:\n  - Designing the macOS onboarding assistant\n  - Implementing auth or identity setup\ntitle: \"Onboarding (macOS App)\"\nsidebarTitle: \"Onboarding: macOS App\"\n---\n\n# Onboarding (macOS App)\n\nThis doc describes the **current** firstâ€‘run onboarding flow. The goal is a\nsmooth â€œday 0â€ experience: pick where the Gateway runs, connect auth, run the\nwizard, and let the agent bootstrap itself.",
    "<Steps>\n<Step title=\"Approve macOS warning\">\n<Frame>\n<img src=\"/assets/macos-onboarding/01-macos-warning.jpeg\" alt=\"\" />\n</Frame>\n</Step>\n<Step title=\"Approve find local networks\">\n<Frame>\n<img src=\"/assets/macos-onboarding/02-local-networks.jpeg\" alt=\"\" />\n</Frame>\n</Step>\n<Step title=\"Welcome and security notice\">\n<Frame caption=\"Read the security notice displayed and decide accordingly\">\n<img src=\"/assets/macos-onboarding/03-security-notice.png\" alt=\"\" />\n</Frame>\n</Step>\n<Step title=\"Local vs Remote\">\n<Frame>\n<img src=\"/assets/macos-onboarding/04-choose-gateway.png\" alt=\"\" />\n</Frame>\n\nWhere does the **Gateway** run?\n\n- **This Mac (Local only):** onboarding can run OAuth flows and write credentials\n  locally.\n- **Remote (over SSH/Tailnet):** onboarding does **not** run OAuth locally;\n  credentials must exist on the gateway host.\n- **Configure later:** skip setup and leave the app unconfigured.",
    "<Tip>\n**Gateway auth tip:**\n- The wizard now generates a **token** even for loopback, so local WS clients must authenticate.\n- If you disable auth, any local process can connect; use that only on fully trusted machines.\n- Use a **token** for multiâ€‘machine access or nonâ€‘loopback binds.\n</Tip>\n</Step>\n<Step title=\"Permissions\">\n<Frame caption=\"Choose what permissions do you want to give OpenClaw\">\n<img src=\"/assets/macos-onboarding/05-permissions.png\" alt=\"\" />\n</Frame>\n\nOnboarding requests TCC permissions needed for:\n\n- Automation (AppleScript)\n- Notifications\n- Accessibility\n- Screen Recording\n- Microphone\n- Speech Recognition\n- Camera\n- Location",
    "</Step>\n<Step title=\"CLI\">\n  <Info>This step is optional</Info>\n  The app can install the global `openclaw` CLI via npm/pnpm so terminal\n  workflows and launchd tasks work out of the box.\n</Step>\n<Step title=\"Onboarding Chat (dedicated session)\">\n  After setup, the app opens a dedicated onboarding chat session so the agent can\n  introduce itself and guide next steps. This keeps firstâ€‘run guidance separate\n  from your normal conversation. See [Bootstrapping](/start/bootstrapping) for\n  what happens on the gateway host during the first agent run.\n</Step>\n</Steps>",
    "---\nread_when:\n  - é›†æˆéœ€è¦ OpenAI Chat Completions çš„å·¥å…·\nsummary: ä» Gateway ç½‘å…³æš´éœ² OpenAI å…¼å®¹çš„ /v1/chat/completions HTTP ç«¯ç‚¹\ntitle: OpenAI Chat Completions\nx-i18n:\n  generated_at: \"2026-02-03T07:48:15Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 6f935777f489bff925a3bf18b1e4b7493f83ae7b1e581890092e5779af59b732\n  source_path: gateway/openai-http-api.md\n  workflow: 15\n---\n\n# OpenAI Chat Completionsï¼ˆHTTPï¼‰\n\nOpenClaw çš„ Gateway ç½‘å…³å¯ä»¥æä¾›ä¸€ä¸ªå°å‹çš„ OpenAI å…¼å®¹ Chat Completions ç«¯ç‚¹ã€‚\n\næ­¤ç«¯ç‚¹**é»˜è®¤ç¦ç”¨**ã€‚è¯·å…ˆåœ¨é…ç½®ä¸­å¯ç”¨å®ƒã€‚\n\n- `POST /v1/chat/completions`\n- ä¸ Gateway ç½‘å…³ç›¸åŒçš„ç«¯å£ï¼ˆWS + HTTP å¤šè·¯å¤ç”¨ï¼‰ï¼š`http://<gateway-host>:<port>/v1/chat/completions`\n\nåº•å±‚å®ç°ä¸­ï¼Œè¯·æ±‚ä½œä¸ºæ™®é€šçš„ Gateway ç½‘å…³æ™ºèƒ½ä½“è¿è¡Œæ‰§è¡Œï¼ˆä¸ `openclaw agent` ç›¸åŒçš„ä»£ç è·¯å¾„ï¼‰ï¼Œå› æ­¤è·¯ç”±/æƒé™/é…ç½®ä¸ä½ çš„ Gateway ç½‘å…³ä¸€è‡´ã€‚",
    "## è®¤è¯\n\nä½¿ç”¨ Gateway ç½‘å…³è®¤è¯é…ç½®ã€‚å‘é€ bearer ä»¤ç‰Œï¼š\n\n- `Authorization: Bearer <token>`\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- å½“ `gateway.auth.mode=\"token\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚\n- å½“ `gateway.auth.mode=\"password\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.password`ï¼ˆæˆ– `OPENCLAW_GATEWAY_PASSWORD`ï¼‰ã€‚",
    "## é€‰æ‹©æ™ºèƒ½ä½“\n\næ— éœ€è‡ªå®šä¹‰å¤´ï¼šåœ¨ OpenAI `model` å­—æ®µä¸­ç¼–ç æ™ºèƒ½ä½“ IDï¼š\n\n- `model: \"openclaw:<agentId>\"`ï¼ˆä¾‹å¦‚ï¼š`\"openclaw:main\"`ã€`\"openclaw:beta\"`ï¼‰\n- `model: \"agent:<agentId>\"`ï¼ˆåˆ«åï¼‰\n\næˆ–é€šè¿‡å¤´æŒ‡å®šç‰¹å®šçš„ OpenClaw æ™ºèƒ½ä½“ï¼š\n\n- `x-openclaw-agent-id: <agentId>`ï¼ˆé»˜è®¤ï¼š`main`ï¼‰\n\né«˜çº§é€‰é¡¹ï¼š\n\n- `x-openclaw-session-key: <sessionKey>` å®Œå…¨æ§åˆ¶ä¼šè¯è·¯ç”±ã€‚",
    "## å¯ç”¨ç«¯ç‚¹\n\nå°† `gateway.http.endpoints.chatCompletions.enabled` è®¾ç½®ä¸º `true`ï¼š\n\n```json5\n{\n  gateway: {\n    http: {\n      endpoints: {\n        chatCompletions: { enabled: true },\n      },\n    },\n  },\n}\n```",
    "## ç¦ç”¨ç«¯ç‚¹\n\nå°† `gateway.http.endpoints.chatCompletions.enabled` è®¾ç½®ä¸º `false`ï¼š\n\n```json5\n{\n  gateway: {\n    http: {\n      endpoints: {\n        chatCompletions: { enabled: false },\n      },\n    },\n  },\n}\n```",
    "## ä¼šè¯è¡Œä¸º\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œç«¯ç‚¹æ˜¯**æ¯è¯·æ±‚æ— çŠ¶æ€**çš„ï¼ˆæ¯æ¬¡è°ƒç”¨ç”Ÿæˆæ–°çš„ä¼šè¯é”®ï¼‰ã€‚\n\nå¦‚æœè¯·æ±‚åŒ…å« OpenAI `user` å­—ç¬¦ä¸²ï¼ŒGateway ç½‘å…³ä¼šä»ä¸­æ´¾ç”Ÿä¸€ä¸ªç¨³å®šçš„ä¼šè¯é”®ï¼Œå› æ­¤é‡å¤è°ƒç”¨å¯ä»¥å…±äº«æ™ºèƒ½ä½“ä¼šè¯ã€‚",
    "## æµå¼ä¼ è¾“ï¼ˆSSEï¼‰\n\nè®¾ç½® `stream: true` ä»¥æ¥æ”¶ Server-Sent Eventsï¼ˆSSEï¼‰ï¼š\n\n- `Content-Type: text/event-stream`\n- æ¯ä¸ªäº‹ä»¶è¡Œæ˜¯ `data: <json>`\n- æµä»¥ `data: [DONE]` ç»“æŸ",
    "## ç¤ºä¾‹\n\néæµå¼ï¼š\n\n```bash\ncurl -sS http://127.0.0.1:18789/v1/chat/completions \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-openclaw-agent-id: main' \\\n  -d '{\n    \"model\": \"openclaw\",\n    \"messages\": [{\"role\":\"user\",\"content\":\"hi\"}]\n  }'\n```\n\næµå¼ï¼š\n\n```bash\ncurl -N http://127.0.0.1:18789/v1/chat/completions \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-openclaw-agent-id: main' \\\n  -d '{\n    \"model\": \"openclaw\",\n    \"stream\": true,\n    \"messages\": [{\"role\":\"user\",\"content\":\"hi\"}]\n  }'\n```",
    "---\nsummary: \"Use OpenAI via API keys or Codex subscription in OpenClaw\"\nread_when:\n  - You want to use OpenAI models in OpenClaw\n  - You want Codex subscription auth instead of API keys\ntitle: \"OpenAI\"\n---\n\n# OpenAI\n\nOpenAI provides developer APIs for GPT models. Codex supports **ChatGPT sign-in** for subscription\naccess or **API key** sign-in for usage-based access. Codex cloud requires ChatGPT sign-in.",
    "## Option A: OpenAI API key (OpenAI Platform)\n\n**Best for:** direct API access and usage-based billing.\nGet your API key from the OpenAI dashboard.\n\n### CLI setup\n\n```bash\nopenclaw onboard --auth-choice openai-api-key\n# or non-interactive\nopenclaw onboard --openai-api-key \"$OPENAI_API_KEY\"\n```\n\n### Config snippet\n\n```json5\n{\n  env: { OPENAI_API_KEY: \"sk-...\" },\n  agents: { defaults: { model: { primary: \"openai/gpt-5.1-codex\" } } },\n}\n```",
    "## Option B: OpenAI Code (Codex) subscription\n\n**Best for:** using ChatGPT/Codex subscription access instead of an API key.\nCodex cloud requires ChatGPT sign-in, while the Codex CLI supports ChatGPT or API key sign-in.\n\n### CLI setup (Codex OAuth)\n\n```bash\n# Run Codex OAuth in the wizard\nopenclaw onboard --auth-choice openai-codex\n\n# Or run OAuth directly\nopenclaw models auth login --provider openai-codex\n```\n\n### Config snippet (Codex subscription)\n\n```json5\n{\n  agents: { defaults: { model: { primary: \"openai-codex/gpt-5.3-codex\" } } },\n}\n```",
    "## Notes\n\n- Model refs always use `provider/model` (see [/concepts/models](/concepts/models)).\n- Auth details + reuse rules are in [/concepts/oauth](/concepts/oauth).",
    "---\nsummary: \"End-to-end guide for running OpenClaw as a personal assistant with safety cautions\"\nread_when:\n  - Onboarding a new assistant instance\n  - Reviewing safety/permission implications\ntitle: \"Personal Assistant Setup\"\n---\n\n# Building a personal assistant with OpenClaw\n\nOpenClaw is a WhatsApp + Telegram + Discord + iMessage gateway for **Pi** agents. Plugins add Mattermost. This guide is the \"personal assistant\" setup: one dedicated WhatsApp number that behaves like your always-on agent.",
    "## âš ï¸ Safety first\n\nYouâ€™re putting an agent in a position to:\n\n- run commands on your machine (depending on your Pi tool setup)\n- read/write files in your workspace\n- send messages back out via WhatsApp/Telegram/Discord/Mattermost (plugin)\n\nStart conservative:\n\n- Always set `channels.whatsapp.allowFrom` (never run open-to-the-world on your personal Mac).\n- Use a dedicated WhatsApp number for the assistant.\n- Heartbeats now default to every 30 minutes. Disable until you trust the setup by setting `agents.defaults.heartbeat.every: \"0m\"`.",
    "## Prerequisites\n\n- OpenClaw installed and onboarded â€” see [Getting Started](/start/getting-started) if you haven't done this yet\n- A second phone number (SIM/eSIM/prepaid) for the assistant",
    "## The two-phone setup (recommended)\n\nYou want this:\n\n```\nYour Phone (personal)          Second Phone (assistant)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Your WhatsApp  â”‚  â”€â”€â”€â”€â”€â”€â–¶  â”‚  Assistant WA   â”‚\nâ”‚  +1-555-YOU     â”‚  message  â”‚  +1-555-ASSIST  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                       â”‚ linked via QR\n                                       â–¼\n                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                              â”‚  Your Mac       â”‚\n                              â”‚  (openclaw)      â”‚\n                              â”‚    Pi agent     â”‚\n                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nIf you link your personal WhatsApp to OpenClaw, every message to you becomes â€œagent inputâ€. Thatâ€™s rarely what you want.",
    "## 5-minute quick start\n\n1. Pair WhatsApp Web (shows QR; scan with the assistant phone):\n\n```bash\nopenclaw channels login\n```\n\n2. Start the Gateway (leave it running):\n\n```bash\nopenclaw gateway --port 18789\n```\n\n3. Put a minimal config in `~/.openclaw/openclaw.json`:\n\n```json5\n{\n  channels: { whatsapp: { allowFrom: [\"+15555550123\"] } },\n}\n```\n\nNow message the assistant number from your allowlisted phone.\n\nWhen onboarding finishes, we auto-open the dashboard and print a clean (non-tokenized) link. If it prompts for auth, paste the token from `gateway.auth.token` into Control UI settings. To reopen later: `openclaw dashboard`.",
    "## Give the agent a workspace (AGENTS)\n\nOpenClaw reads operating instructions and â€œmemoryâ€ from its workspace directory.\n\nBy default, OpenClaw uses `~/.openclaw/workspace` as the agent workspace, and will create it (plus starter `AGENTS.md`, `SOUL.md`, `TOOLS.md`, `IDENTITY.md`, `USER.md`) automatically on setup/first agent run. `BOOTSTRAP.md` is only created when the workspace is brand new (it should not come back after you delete it).\n\nTip: treat this folder like OpenClawâ€™s â€œmemoryâ€ and make it a git repo (ideally private) so your `AGENTS.md` + memory files are backed up. If git is installed, brand-new workspaces are auto-initialized.\n\n```bash\nopenclaw setup\n```\n\nFull workspace layout + backup guide: [Agent workspace](/concepts/agent-workspace)\nMemory workflow: [Memory](/concepts/memory)\n\nOptional: choose a different workspace with `agents.defaults.workspace` (supports `~`).\n\n```json5\n{\n  agent: {\n    workspace: \"~/.openclaw/workspace\",\n  },\n}\n```",
    "If you already ship your own workspace files from a repo, you can disable bootstrap file creation entirely:\n\n```json5\n{\n  agent: {\n    skipBootstrap: true,\n  },\n}\n```",
    "## The config that turns it into â€œan assistantâ€\n\nOpenClaw defaults to a good assistant setup, but youâ€™ll usually want to tune:\n\n- persona/instructions in `SOUL.md`\n- thinking defaults (if desired)\n- heartbeats (once you trust it)\n\nExample:\n\n```json5\n{\n  logging: { level: \"info\" },\n  agent: {\n    model: \"anthropic/claude-opus-4-6\",\n    workspace: \"~/.openclaw/workspace\",\n    thinkingDefault: \"high\",\n    timeoutSeconds: 1800,\n    // Start with 0; enable later.\n    heartbeat: { every: \"0m\" },\n  },\n  channels: {\n    whatsapp: {\n      allowFrom: [\"+15555550123\"],\n      groups: {\n        \"*\": { requireMention: true },\n      },\n    },\n  },\n  routing: {\n    groupChat: {\n      mentionPatterns: [\"@openclaw\", \"openclaw\"],\n    },\n  },\n  session: {\n    scope: \"per-sender\",\n    resetTriggers: [\"/new\", \"/reset\"],\n    reset: {\n      mode: \"daily\",\n      atHour: 4,\n      idleMinutes: 10080,\n    },\n  },\n}\n```",
    "## Sessions and memory\n\n- Session files: `~/.openclaw/agents/<agentId>/sessions/{{SessionId}}.jsonl`\n- Session metadata (token usage, last route, etc): `~/.openclaw/agents/<agentId>/sessions/sessions.json` (legacy: `~/.openclaw/sessions/sessions.json`)\n- `/new` or `/reset` starts a fresh session for that chat (configurable via `resetTriggers`). If sent alone, the agent replies with a short hello to confirm the reset.\n- `/compact [instructions]` compacts the session context and reports the remaining context budget.",
    "## Heartbeats (proactive mode)\n\nBy default, OpenClaw runs a heartbeat every 30 minutes with the prompt:\n`Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`\nSet `agents.defaults.heartbeat.every: \"0m\"` to disable.\n\n- If `HEARTBEAT.md` exists but is effectively empty (only blank lines and markdown headers like `# Heading`), OpenClaw skips the heartbeat run to save API calls.\n- If the file is missing, the heartbeat still runs and the model decides what to do.\n- If the agent replies with `HEARTBEAT_OK` (optionally with short padding; see `agents.defaults.heartbeat.ackMaxChars`), OpenClaw suppresses outbound delivery for that heartbeat.\n- Heartbeats run full agent turns â€” shorter intervals burn more tokens.\n\n```json5\n{\n  agent: {\n    heartbeat: { every: \"30m\" },\n  },\n}\n```",
    "## Media in and out\n\nInbound attachments (images/audio/docs) can be surfaced to your command via templates:\n\n- `{{MediaPath}}` (local temp file path)\n- `{{MediaUrl}}` (pseudo-URL)\n- `{{Transcript}}` (if audio transcription is enabled)\n\nOutbound attachments from the agent: include `MEDIA:<path-or-url>` on its own line (no spaces). Example:\n\n```\nHereâ€™s the screenshot.\nMEDIA:https://example.com/screenshot.png\n```\n\nOpenClaw extracts these and sends them as media alongside the text.",
    "## Operations checklist\n\n```bash\nopenclaw status          # local status (creds, sessions, queued events)\nopenclaw status --all    # full diagnosis (read-only, pasteable)\nopenclaw status --deep   # adds gateway health probes (Telegram + Discord)\nopenclaw health --json   # gateway health snapshot (WS)\n```\n\nLogs live under `/tmp/openclaw/` (default: `openclaw-YYYY-MM-DD.log`).",
    "## Next steps\n\n- WebChat: [WebChat](/web/webchat)\n- Gateway ops: [Gateway runbook](/gateway)\n- Cron + wakeups: [Cron jobs](/automation/cron-jobs)\n- macOS menu bar companion: [OpenClaw macOS app](/platforms/macos)\n- iOS node app: [iOS app](/platforms/ios)\n- Android node app: [Android app](/platforms/android)\n- Windows status: [Windows (WSL2)](/platforms/windows)\n- Linux status: [Linux app](/platforms/linux)\n- Security: [Security](/gateway/security)",
    "---\nsummary: \"Use OpenCode Zen (curated models) with OpenClaw\"\nread_when:\n  - You want OpenCode Zen for model access\n  - You want a curated list of coding-friendly models\ntitle: \"OpenCode Zen\"\n---\n\n# OpenCode Zen\n\nOpenCode Zen is a **curated list of models** recommended by the OpenCode team for coding agents.\nIt is an optional, hosted model access path that uses an API key and the `opencode` provider.\nZen is currently in beta.",
    "## CLI setup\n\n```bash\nopenclaw onboard --auth-choice opencode-zen\n# or non-interactive\nopenclaw onboard --opencode-zen-api-key \"$OPENCODE_API_KEY\"\n```",
    "## Config snippet\n\n```json5\n{\n  env: { OPENCODE_API_KEY: \"sk-...\" },\n  agents: { defaults: { model: { primary: \"opencode/claude-opus-4-6\" } } },\n}\n```",
    "## Notes\n\n- `OPENCODE_ZEN_API_KEY` is also supported.\n- You sign in to Zen, add billing details, and copy your API key.\n- OpenCode Zen bills per request; check the OpenCode dashboard for details.",
    "---\nsummary: \"Plan: Add OpenResponses /v1/responses endpoint and deprecate chat completions cleanly\"\nowner: \"openclaw\"\nstatus: \"draft\"\nlast_updated: \"2026-01-19\"\ntitle: \"OpenResponses Gateway Plan\"\n---\n\n# OpenResponses Gateway Integration Plan",
    "## Context\n\nOpenClaw Gateway currently exposes a minimal OpenAI-compatible Chat Completions endpoint at\n`/v1/chat/completions` (see [OpenAI Chat Completions](/gateway/openai-http-api)).\n\nOpen Responses is an open inference standard based on the OpenAI Responses API. It is designed\nfor agentic workflows and uses item-based inputs plus semantic streaming events. The OpenResponses\nspec defines `/v1/responses`, not `/v1/chat/completions`.",
    "## Goals\n\n- Add a `/v1/responses` endpoint that adheres to OpenResponses semantics.\n- Keep Chat Completions as a compatibility layer that is easy to disable and eventually remove.\n- Standardize validation and parsing with isolated, reusable schemas.",
    "## Non-goals\n\n- Full OpenResponses feature parity in the first pass (images, files, hosted tools).\n- Replacing internal agent execution logic or tool orchestration.\n- Changing the existing `/v1/chat/completions` behavior during the first phase.",
    "## Research Summary\n\nSources: OpenResponses OpenAPI, OpenResponses specification site, and the Hugging Face blog post.\n\nKey points extracted:",
    "- `POST /v1/responses` accepts `CreateResponseBody` fields like `model`, `input` (string or\n  `ItemParam[]`), `instructions`, `tools`, `tool_choice`, `stream`, `max_output_tokens`, and\n  `max_tool_calls`.\n- `ItemParam` is a discriminated union of:\n  - `message` items with roles `system`, `developer`, `user`, `assistant`\n  - `function_call` and `function_call_output`\n  - `reasoning`\n  - `item_reference`\n- Successful responses return a `ResponseResource` with `object: \"response\"`, `status`, and\n  `output` items.\n- Streaming uses semantic events such as:\n  - `response.created`, `response.in_progress`, `response.completed`, `response.failed`\n  - `response.output_item.added`, `response.output_item.done`\n  - `response.content_part.added`, `response.content_part.done`\n  - `response.output_text.delta`, `response.output_text.done`\n- The spec requires:\n  - `Content-Type: text/event-stream`\n  - `event:` must match the JSON `type` field\n  - terminal event must be literal `[DONE]`\n- Reasoning items may expose `content`, `encrypted_content`, and `summary`.\n- HF examples include `OpenResponses-Version: latest` in requests (optional header).",
    "## Proposed Architecture\n\n- Add `src/gateway/open-responses.schema.ts` containing Zod schemas only (no gateway imports).\n- Add `src/gateway/openresponses-http.ts` (or `open-responses-http.ts`) for `/v1/responses`.\n- Keep `src/gateway/openai-http.ts` intact as a legacy compatibility adapter.\n- Add config `gateway.http.endpoints.responses.enabled` (default `false`).\n- Keep `gateway.http.endpoints.chatCompletions.enabled` independent; allow both endpoints to be\n  toggled separately.\n- Emit a startup warning when Chat Completions is enabled to signal legacy status.",
    "## Deprecation Path for Chat Completions\n\n- Maintain strict module boundaries: no shared schema types between responses and chat completions.\n- Make Chat Completions opt-in by config so it can be disabled without code changes.\n- Update docs to label Chat Completions as legacy once `/v1/responses` is stable.\n- Optional future step: map Chat Completions requests to the Responses handler for a simpler\n  removal path.",
    "## Phase 1 Support Subset\n\n- Accept `input` as string or `ItemParam[]` with message roles and `function_call_output`.\n- Extract system and developer messages into `extraSystemPrompt`.\n- Use the most recent `user` or `function_call_output` as the current message for agent runs.\n- Reject unsupported content parts (image/file) with `invalid_request_error`.\n- Return a single assistant message with `output_text` content.\n- Return `usage` with zeroed values until token accounting is wired.",
    "## Validation Strategy (No SDK)\n\n- Implement Zod schemas for the supported subset of:\n  - `CreateResponseBody`\n  - `ItemParam` + message content part unions\n  - `ResponseResource`\n  - Streaming event shapes used by the gateway\n- Keep schemas in a single, isolated module to avoid drift and allow future codegen.",
    "## Streaming Implementation (Phase 1)\n\n- SSE lines with both `event:` and `data:`.\n- Required sequence (minimum viable):\n  - `response.created`\n  - `response.output_item.added`\n  - `response.content_part.added`\n  - `response.output_text.delta` (repeat as needed)\n  - `response.output_text.done`\n  - `response.content_part.done`\n  - `response.completed`\n  - `[DONE]`",
    "## Tests and Verification Plan\n\n- Add e2e coverage for `/v1/responses`:\n  - Auth required\n  - Non-stream response shape\n  - Stream event ordering and `[DONE]`\n  - Session routing with headers and `user`\n- Keep `src/gateway/openai-http.e2e.test.ts` unchanged.\n- Manual: curl to `/v1/responses` with `stream: true` and verify event ordering and terminal\n  `[DONE]`.",
    "## Doc Updates (Follow-up)\n\n- Add a new docs page for `/v1/responses` usage and examples.\n- Update `/gateway/openai-http-api` with a legacy note and pointer to `/v1/responses`.",
    "---\nread_when:\n  - é›†æˆä½¿ç”¨ OpenResponses API çš„å®¢æˆ·ç«¯\n  - ä½ éœ€è¦åŸºäº item çš„è¾“å…¥ã€å®¢æˆ·ç«¯å·¥å…·è°ƒç”¨æˆ– SSE äº‹ä»¶\nsummary: ä» Gateway ç½‘å…³æš´éœ²å…¼å®¹ OpenResponses çš„ /v1/responses HTTP ç«¯ç‚¹\ntitle: OpenResponses API\nx-i18n:\n  generated_at: \"2026-02-03T07:48:43Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 0597714837f8b210c38eeef53561894220c1473e54c56a5c69984847685d518c\n  source_path: gateway/openresponses-http-api.md\n  workflow: 15\n---\n\n# OpenResponses APIï¼ˆHTTPï¼‰\n\nOpenClaw çš„ Gateway ç½‘å…³å¯ä»¥æä¾›å…¼å®¹ OpenResponses çš„ `POST /v1/responses` ç«¯ç‚¹ã€‚\n\næ­¤ç«¯ç‚¹**é»˜è®¤ç¦ç”¨**ã€‚è¯·å…ˆåœ¨é…ç½®ä¸­å¯ç”¨ã€‚\n\n- `POST /v1/responses`\n- ä¸ Gateway ç½‘å…³ç›¸åŒçš„ç«¯å£ï¼ˆWS + HTTP å¤šè·¯å¤ç”¨ï¼‰ï¼š`http://<gateway-host>:<port>/v1/responses`\n\nåº•å±‚å®ç°ä¸­ï¼Œè¯·æ±‚ä½œä¸ºæ­£å¸¸çš„ Gateway ç½‘å…³æ™ºèƒ½ä½“è¿è¡Œæ‰§è¡Œï¼ˆä¸ `openclaw agent` ç›¸åŒçš„ä»£ç è·¯å¾„ï¼‰ï¼Œå› æ­¤è·¯ç”±/æƒé™/é…ç½®ä¸ä½ çš„ Gateway ç½‘å…³ä¸€è‡´ã€‚",
    "## è®¤è¯\n\nä½¿ç”¨ Gateway ç½‘å…³è®¤è¯é…ç½®ã€‚å‘é€ bearer ä»¤ç‰Œï¼š\n\n- `Authorization: Bearer <token>`\n\nè¯´æ˜ï¼š\n\n- å½“ `gateway.auth.mode=\"token\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚\n- å½“ `gateway.auth.mode=\"password\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.password`ï¼ˆæˆ– `OPENCLAW_GATEWAY_PASSWORD`ï¼‰ã€‚",
    "## é€‰æ‹©æ™ºèƒ½ä½“\n\næ— éœ€è‡ªå®šä¹‰å¤´ï¼šåœ¨ OpenResponses `model` å­—æ®µä¸­ç¼–ç æ™ºèƒ½ä½“ idï¼š\n\n- `model: \"openclaw:<agentId>\"`ï¼ˆç¤ºä¾‹ï¼š`\"openclaw:main\"`ã€`\"openclaw:beta\"`ï¼‰\n- `model: \"agent:<agentId>\"`ï¼ˆåˆ«åï¼‰\n\næˆ–é€šè¿‡å¤´æŒ‡å®šç‰¹å®šçš„ OpenClaw æ™ºèƒ½ä½“ï¼š\n\n- `x-openclaw-agent-id: <agentId>`ï¼ˆé»˜è®¤ï¼š`main`ï¼‰\n\né«˜çº§ï¼š\n\n- `x-openclaw-session-key: <sessionKey>` å®Œå…¨æ§åˆ¶ä¼šè¯è·¯ç”±ã€‚",
    "## å¯ç”¨ç«¯ç‚¹\n\nå°† `gateway.http.endpoints.responses.enabled` è®¾ç½®ä¸º `true`ï¼š\n\n```json5\n{\n  gateway: {\n    http: {\n      endpoints: {\n        responses: { enabled: true },\n      },\n    },\n  },\n}\n```",
    "## ç¦ç”¨ç«¯ç‚¹\n\nå°† `gateway.http.endpoints.responses.enabled` è®¾ç½®ä¸º `false`ï¼š\n\n```json5\n{\n  gateway: {\n    http: {\n      endpoints: {\n        responses: { enabled: false },\n      },\n    },\n  },\n}\n```",
    "## ä¼šè¯è¡Œä¸º\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œç«¯ç‚¹**æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯æ— çŠ¶æ€çš„**ï¼ˆæ¯æ¬¡è°ƒç”¨ç”Ÿæˆæ–°çš„ä¼šè¯é”®ï¼‰ã€‚\n\nå¦‚æœè¯·æ±‚åŒ…å« OpenResponses `user` å­—ç¬¦ä¸²ï¼ŒGateway ç½‘å…³ä¼šä»ä¸­æ´¾ç”Ÿç¨³å®šçš„ä¼šè¯é”®ï¼Œè¿™æ ·é‡å¤è°ƒç”¨å¯ä»¥å…±äº«æ™ºèƒ½ä½“ä¼šè¯ã€‚",
    "## è¯·æ±‚ç»“æ„ï¼ˆæ”¯æŒçš„ï¼‰\n\nè¯·æ±‚éµå¾ª OpenResponses APIï¼Œä½¿ç”¨åŸºäº item çš„è¾“å…¥ã€‚å½“å‰æ”¯æŒï¼š\n\n- `input`ï¼šå­—ç¬¦ä¸²æˆ– item å¯¹è±¡æ•°ç»„ã€‚\n- `instructions`ï¼šåˆå¹¶åˆ°ç³»ç»Ÿæç¤ºä¸­ã€‚\n- `tools`ï¼šå®¢æˆ·ç«¯å·¥å…·å®šä¹‰ï¼ˆå‡½æ•°å·¥å…·ï¼‰ã€‚\n- `tool_choice`ï¼šè¿‡æ»¤æˆ–è¦æ±‚å®¢æˆ·ç«¯å·¥å…·ã€‚\n- `stream`ï¼šå¯ç”¨ SSE æµå¼ä¼ è¾“ã€‚\n- `max_output_tokens`ï¼šå°½åŠ›è€Œä¸ºçš„è¾“å‡ºé™åˆ¶ï¼ˆå–å†³äºæä¾›å•†ï¼‰ã€‚\n- `user`ï¼šç¨³å®šçš„ä¼šè¯è·¯ç”±ã€‚\n\næ¥å—ä½†**å½“å‰å¿½ç•¥**ï¼š\n\n- `max_tool_calls`\n- `reasoning`\n- `metadata`\n- `store`\n- `previous_response_id`\n- `truncation`",
    "## Itemï¼ˆè¾“å…¥ï¼‰\n\n### `message`\n\nè§’è‰²ï¼š`system`ã€`developer`ã€`user`ã€`assistant`ã€‚\n\n- `system` å’Œ `developer` è¿½åŠ åˆ°ç³»ç»Ÿæç¤ºã€‚\n- æœ€è¿‘çš„ `user` æˆ– `function_call_output` item æˆä¸º\"å½“å‰æ¶ˆæ¯\"ã€‚\n- è¾ƒæ—©çš„ user/assistant æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡å†å²åŒ…å«ã€‚\n\n### `function_call_output`ï¼ˆåŸºäºå›åˆçš„å·¥å…·ï¼‰\n\nå°†å·¥å…·ç»“æœå‘é€å›æ¨¡å‹ï¼š\n\n```json\n{\n  \"type\": \"function_call_output\",\n  \"call_id\": \"call_123\",\n  \"output\": \"{\\\"temperature\\\": \\\"72F\\\"}\"\n}\n```\n\n### `reasoning` å’Œ `item_reference`\n\nä¸ºäº† schema å…¼å®¹æ€§è€Œæ¥å—ï¼Œä½†åœ¨æ„å»ºæç¤ºæ—¶å¿½ç•¥ã€‚",
    "## å·¥å…·ï¼ˆå®¢æˆ·ç«¯å‡½æ•°å·¥å…·ï¼‰\n\nä½¿ç”¨ `tools: [{ type: \"function\", function: { name, description?, parameters? } }]` æä¾›å·¥å…·ã€‚\n\nå¦‚æœæ™ºèƒ½ä½“å†³å®šè°ƒç”¨å·¥å…·ï¼Œå“åº”è¿”å›ä¸€ä¸ª `function_call` è¾“å‡º itemã€‚ç„¶åä½ å‘é€å¸¦æœ‰ `function_call_output` çš„åç»­è¯·æ±‚ä»¥ç»§ç»­å›åˆã€‚",
    "## å›¾åƒï¼ˆ`input_image`ï¼‰\n\næ”¯æŒ base64 æˆ– URL æ¥æºï¼š\n\n```json\n{\n  \"type\": \"input_image\",\n  \"source\": { \"type\": \"url\", \"url\": \"https://example.com/image.png\" }\n}\n```\n\nå…è®¸çš„ MIME ç±»å‹ï¼ˆå½“å‰ï¼‰ï¼š`image/jpeg`ã€`image/png`ã€`image/gif`ã€`image/webp`ã€‚\næœ€å¤§å¤§å°ï¼ˆå½“å‰ï¼‰ï¼š10MBã€‚",
    "## æ–‡ä»¶ï¼ˆ`input_file`ï¼‰\n\næ”¯æŒ base64 æˆ– URL æ¥æºï¼š\n\n```json\n{\n  \"type\": \"input_file\",\n  \"source\": {\n    \"type\": \"base64\",\n    \"media_type\": \"text/plain\",\n    \"data\": \"SGVsbG8gV29ybGQh\",\n    \"filename\": \"hello.txt\"\n  }\n}\n```\n\nå…è®¸çš„ MIME ç±»å‹ï¼ˆå½“å‰ï¼‰ï¼š`text/plain`ã€`text/markdown`ã€`text/html`ã€`text/csv`ã€`application/json`ã€`application/pdf`ã€‚\n\næœ€å¤§å¤§å°ï¼ˆå½“å‰ï¼‰ï¼š5MBã€‚\n\nå½“å‰è¡Œä¸ºï¼š\n\n- æ–‡ä»¶å†…å®¹è¢«è§£ç å¹¶æ·»åŠ åˆ°**ç³»ç»Ÿæç¤º**ï¼Œè€Œä¸æ˜¯ç”¨æˆ·æ¶ˆæ¯ï¼Œæ‰€ä»¥å®ƒä¿æŒä¸´æ—¶æ€§ï¼ˆä¸æŒä¹…åŒ–åœ¨ä¼šè¯å†å²ä¸­ï¼‰ã€‚\n- PDF è¢«è§£ææå–æ–‡æœ¬ã€‚å¦‚æœå‘ç°çš„æ–‡æœ¬å¾ˆå°‘ï¼Œå‰å‡ é¡µä¼šè¢«æ …æ ¼åŒ–ä¸ºå›¾åƒå¹¶ä¼ é€’ç»™æ¨¡å‹ã€‚\n\nPDF è§£æä½¿ç”¨ Node å‹å¥½çš„ `pdfjs-dist` legacy æ„å»ºï¼ˆæ—  workerï¼‰ã€‚ç°ä»£ PDF.js æ„å»ºæœŸæœ›æµè§ˆå™¨ worker/DOM å…¨å±€å˜é‡ï¼Œå› æ­¤ä¸åœ¨ Gateway ç½‘å…³ä¸­ä½¿ç”¨ã€‚\n\nURL è·å–é»˜è®¤å€¼ï¼š\n\n- `files.allowUrl`ï¼š`true`\n- `images.allowUrl`ï¼š`true`\n- è¯·æ±‚å—åˆ°ä¿æŠ¤ï¼ˆDNS è§£æã€ç§æœ‰ IP é˜»æ­¢ã€é‡å®šå‘é™åˆ¶ã€è¶…æ—¶ï¼‰ã€‚",
    "## æ–‡ä»¶ + å›¾åƒé™åˆ¶ï¼ˆé…ç½®ï¼‰\n\né»˜è®¤å€¼å¯åœ¨ `gateway.http.endpoints.responses` ä¸‹è°ƒæ•´ï¼š",
    "```json5\n{\n  gateway: {\n    http: {\n      endpoints: {\n        responses: {\n          enabled: true,\n          maxBodyBytes: 20000000,\n          files: {\n            allowUrl: true,\n            allowedMimes: [\n              \"text/plain\",\n              \"text/markdown\",\n              \"text/html\",\n              \"text/csv\",\n              \"application/json\",\n              \"application/pdf\",\n            ],\n            maxBytes: 5242880,\n            maxChars: 200000,\n            maxRedirects: 3,\n            timeoutMs: 10000,\n            pdf: {\n              maxPages: 4,\n              maxPixels: 4000000,\n              minTextChars: 200,\n            },\n          },\n          images: {\n            allowUrl: true,\n            allowedMimes: [\"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\"],\n            maxBytes: 10485760,\n            maxRedirects: 3,\n            timeoutMs: 10000,\n          },\n        },\n      },\n    },\n  },\n}\n```\n\nçœç•¥æ—¶çš„é»˜è®¤å€¼ï¼š",
    "- `maxBodyBytes`ï¼š20MB\n- `files.maxBytes`ï¼š5MB\n- `files.maxChars`ï¼š200k\n- `files.maxRedirects`ï¼š3\n- `files.timeoutMs`ï¼š10s\n- `files.pdf.maxPages`ï¼š4\n- `files.pdf.maxPixels`ï¼š4,000,000\n- `files.pdf.minTextChars`ï¼š200\n- `images.maxBytes`ï¼š10MB\n- `images.maxRedirects`ï¼š3\n- `images.timeoutMs`ï¼š10s",
    "## æµå¼ä¼ è¾“ï¼ˆSSEï¼‰\n\nè®¾ç½® `stream: true` æ¥æ”¶ Server-Sent Eventsï¼ˆSSEï¼‰ï¼š\n\n- `Content-Type: text/event-stream`\n- æ¯ä¸ªäº‹ä»¶è¡Œæ˜¯ `event: <type>` å’Œ `data: <json>`\n- æµä»¥ `data: [DONE]` ç»“æŸ\n\nå½“å‰å‘å‡ºçš„äº‹ä»¶ç±»å‹ï¼š\n\n- `response.created`\n- `response.in_progress`\n- `response.output_item.added`\n- `response.content_part.added`\n- `response.output_text.delta`\n- `response.output_text.done`\n- `response.content_part.done`\n- `response.output_item.done`\n- `response.completed`\n- `response.failed`ï¼ˆå‡ºé”™æ—¶ï¼‰",
    "## ç”¨é‡\n\nå½“åº•å±‚æä¾›å•†æŠ¥å‘Šä»¤ç‰Œè®¡æ•°æ—¶ï¼Œ`usage` ä¼šè¢«å¡«å……ã€‚",
    "## é”™è¯¯\n\né”™è¯¯ä½¿ç”¨å¦‚ä¸‹ JSON å¯¹è±¡ï¼š\n\n```json\n{ \"error\": { \"message\": \"...\", \"type\": \"invalid_request_error\" } }\n```\n\nå¸¸è§æƒ…å†µï¼š\n\n- `401` ç¼ºå°‘/æ— æ•ˆè®¤è¯\n- `400` æ— æ•ˆè¯·æ±‚ä½“\n- `405` é”™è¯¯çš„æ–¹æ³•",
    "## ç¤ºä¾‹\n\néæµå¼ï¼š\n\n```bash\ncurl -sS http://127.0.0.1:18789/v1/responses \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-openclaw-agent-id: main' \\\n  -d '{\n    \"model\": \"openclaw\",\n    \"input\": \"hi\"\n  }'\n```\n\næµå¼ï¼š\n\n```bash\ncurl -N http://127.0.0.1:18789/v1/responses \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -H 'Content-Type: application/json' \\\n  -H 'x-openclaw-agent-id: main' \\\n  -d '{\n    \"model\": \"openclaw\",\n    \"stream\": true,\n    \"input\": \"hi\"\n  }'\n```",
    "---\nsummary: \"Use OpenRouter's unified API to access many models in OpenClaw\"\nread_when:\n  - You want a single API key for many LLMs\n  - You want to run models via OpenRouter in OpenClaw\ntitle: \"OpenRouter\"\n---\n\n# OpenRouter\n\nOpenRouter provides a **unified API** that routes requests to many models behind a single\nendpoint and API key. It is OpenAI-compatible, so most OpenAI SDKs work by switching the base URL.",
    "## CLI setup\n\n```bash\nopenclaw onboard --auth-choice apiKey --token-provider openrouter --token \"$OPENROUTER_API_KEY\"\n```",
    "## Config snippet\n\n```json5\n{\n  env: { OPENROUTER_API_KEY: \"sk-or-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"openrouter/anthropic/claude-sonnet-4-5\" },\n    },\n  },\n}\n```",
    "## Notes\n\n- Model refs are `openrouter/<provider>/<model>`.\n- For more model/provider options, see [/concepts/model-providers](/concepts/model-providers).\n- OpenRouter uses a Bearer token with your API key under the hood.",
    "---\nsummary: \"OpenClaw on Oracle Cloud (Always Free ARM)\"\nread_when:\n  - Setting up OpenClaw on Oracle Cloud\n  - Looking for low-cost VPS hosting for OpenClaw\n  - Want 24/7 OpenClaw on a small server\ntitle: \"Oracle Cloud\"\n---\n\n# OpenClaw on Oracle Cloud (OCI)",
    "## Goal\n\nRun a persistent OpenClaw Gateway on Oracle Cloud's **Always Free** ARM tier.\n\nOracleâ€™s free tier can be a great fit for OpenClaw (especially if you already have an OCI account), but it comes with tradeoffs:\n\n- ARM architecture (most things work, but some binaries may be x86-only)\n- Capacity and signup can be finicky",
    "## Cost Comparison (2026)\n\n| Provider     | Plan            | Specs                  | Price/mo | Notes                 |\n| ------------ | --------------- | ---------------------- | -------- | --------------------- |\n| Oracle Cloud | Always Free ARM | up to 4 OCPU, 24GB RAM | $0       | ARM, limited capacity |\n| Hetzner      | CX22            | 2 vCPU, 4GB RAM        | ~ $4     | Cheapest paid option  |\n| DigitalOcean | Basic           | 1 vCPU, 1GB RAM        | $6       | Easy UI, good docs    |\n| Vultr        | Cloud Compute   | 1 vCPU, 1GB RAM        | $6       | Many locations        |\n| Linode       | Nanode          | 1 vCPU, 1GB RAM        | $5       | Now part of Akamai    |\n\n---",
    "## Prerequisites\n\n- Oracle Cloud account ([signup](https://www.oracle.com/cloud/free/)) â€” see [community signup guide](https://gist.github.com/rssnyder/51e3cfedd730e7dd5f4a816143b25dbd) if you hit issues\n- Tailscale account (free at [tailscale.com](https://tailscale.com))\n- ~30 minutes",
    "## 1) Create an OCI Instance\n\n1. Log into [Oracle Cloud Console](https://cloud.oracle.com/)\n2. Navigate to **Compute â†’ Instances â†’ Create Instance**\n3. Configure:\n   - **Name:** `openclaw`\n   - **Image:** Ubuntu 24.04 (aarch64)\n   - **Shape:** `VM.Standard.A1.Flex` (Ampere ARM)\n   - **OCPUs:** 2 (or up to 4)\n   - **Memory:** 12 GB (or up to 24 GB)\n   - **Boot volume:** 50 GB (up to 200 GB free)\n   - **SSH key:** Add your public key\n4. Click **Create**\n5. Note the public IP address\n\n**Tip:** If instance creation fails with \"Out of capacity\", try a different availability domain or retry later. Free tier capacity is limited.",
    "## 2) Connect and Update\n\n```bash\n# Connect via public IP\nssh ubuntu@YOUR_PUBLIC_IP\n\n# Update system\nsudo apt update && sudo apt upgrade -y\nsudo apt install -y build-essential\n```\n\n**Note:** `build-essential` is required for ARM compilation of some dependencies.",
    "## 3) Configure User and Hostname\n\n```bash\n# Set hostname\nsudo hostnamectl set-hostname openclaw\n\n# Set password for ubuntu user\nsudo passwd ubuntu\n\n# Enable lingering (keeps user services running after logout)\nsudo loginctl enable-linger ubuntu\n```",
    "## 4) Install Tailscale\n\n```bash\ncurl -fsSL https://tailscale.com/install.sh | sh\nsudo tailscale up --ssh --hostname=openclaw\n```\n\nThis enables Tailscale SSH, so you can connect via `ssh openclaw` from any device on your tailnet â€” no public IP needed.\n\nVerify:\n\n```bash\ntailscale status\n```\n\n**From now on, connect via Tailscale:** `ssh ubuntu@openclaw` (or use the Tailscale IP).",
    "## 5) Install OpenClaw\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash\nsource ~/.bashrc\n```\n\nWhen prompted \"How do you want to hatch your bot?\", select **\"Do this later\"**.\n\n> Note: If you hit ARM-native build issues, start with system packages (e.g. `sudo apt install -y build-essential`) before reaching for Homebrew.",
    "## 6) Configure Gateway (loopback + token auth) and enable Tailscale Serve\n\nUse token auth as the default. Itâ€™s predictable and avoids needing any â€œinsecure authâ€ Control UI flags.\n\n```bash\n# Keep the Gateway private on the VM\nopenclaw config set gateway.bind loopback\n\n# Require auth for the Gateway + Control UI\nopenclaw config set gateway.auth.mode token\nopenclaw doctor --generate-gateway-token\n\n# Expose over Tailscale Serve (HTTPS + tailnet access)\nopenclaw config set gateway.tailscale.mode serve\nopenclaw config set gateway.trustedProxies '[\"127.0.0.1\"]'\n\nsystemctl --user restart openclaw-gateway\n```",
    "## 7) Verify\n\n```bash\n# Check version\nopenclaw --version\n\n# Check daemon status\nsystemctl --user status openclaw-gateway\n\n# Check Tailscale Serve\ntailscale serve status\n\n# Test local response\ncurl http://localhost:18789\n```",
    "## 8) Lock Down VCN Security\n\nNow that everything is working, lock down the VCN to block all traffic except Tailscale. OCI's Virtual Cloud Network acts as a firewall at the network edge â€” traffic is blocked before it reaches your instance.\n\n1. Go to **Networking â†’ Virtual Cloud Networks** in the OCI Console\n2. Click your VCN â†’ **Security Lists** â†’ Default Security List\n3. **Remove** all ingress rules except:\n   - `0.0.0.0/0 UDP 41641` (Tailscale)\n4. Keep default egress rules (allow all outbound)\n\nThis blocks SSH on port 22, HTTP, HTTPS, and everything else at the network edge. From now on, you can only connect via Tailscale.\n\n---",
    "## Access the Control UI\n\nFrom any device on your Tailscale network:\n\n```\nhttps://openclaw.<tailnet-name>.ts.net/\n```\n\nReplace `<tailnet-name>` with your tailnet name (visible in `tailscale status`).\n\nNo SSH tunnel needed. Tailscale provides:\n\n- HTTPS encryption (automatic certs)\n- Authentication via Tailscale identity\n- Access from any device on your tailnet (laptop, phone, etc.)\n\n---",
    "## Security: VCN + Tailscale (recommended baseline)\n\nWith the VCN locked down (only UDP 41641 open) and the Gateway bound to loopback, you get strong defense-in-depth: public traffic is blocked at the network edge, and admin access happens over your tailnet.\n\nThis setup often removes the _need_ for extra host-based firewall rules purely to stop Internet-wide SSH brute force â€” but you should still keep the OS updated, run `openclaw security audit`, and verify you arenâ€™t accidentally listening on public interfaces.\n\n### What's Already Protected",
    "| Traditional Step   | Needed?     | Why                                                                          |\n| ------------------ | ----------- | ---------------------------------------------------------------------------- |\n| UFW firewall       | No          | VCN blocks before traffic reaches instance                                   |\n| fail2ban           | No          | No brute force if port 22 blocked at VCN                                     |\n| sshd hardening     | No          | Tailscale SSH doesn't use sshd                                               |\n| Disable root login | No          | Tailscale uses Tailscale identity, not system users                          |\n| SSH key-only auth  | No          | Tailscale authenticates via your tailnet                                     |\n| IPv6 hardening     | Usually not | Depends on your VCN/subnet settings; verify whatâ€™s actually assigned/exposed |\n\n### Still Recommended",
    "- **Credential permissions:** `chmod 700 ~/.openclaw`\n- **Security audit:** `openclaw security audit`\n- **System updates:** `sudo apt update && sudo apt upgrade` regularly\n- **Monitor Tailscale:** Review devices in [Tailscale admin console](https://login.tailscale.com/admin)\n\n### Verify Security Posture\n\n```bash\n# Confirm no public ports listening\nsudo ss -tlnp | grep -v '127.0.0.1\\|::1'\n\n# Verify Tailscale SSH is active\ntailscale status | grep -q 'offers: ssh' && echo \"Tailscale SSH active\"\n\n# Optional: disable sshd entirely\nsudo systemctl disable --now ssh\n```\n\n---",
    "## Fallback: SSH Tunnel\n\nIf Tailscale Serve isn't working, use an SSH tunnel:\n\n```bash\n# From your local machine (via Tailscale)\nssh -L 18789:127.0.0.1:18789 ubuntu@openclaw\n```\n\nThen open `http://localhost:18789`.\n\n---",
    "## Troubleshooting\n\n### Instance creation fails (\"Out of capacity\")\n\nFree tier ARM instances are popular. Try:\n\n- Different availability domain\n- Retry during off-peak hours (early morning)\n- Use the \"Always Free\" filter when selecting shape\n\n### Tailscale won't connect\n\n```bash\n# Check status\nsudo tailscale status\n\n# Re-authenticate\nsudo tailscale up --ssh --hostname=openclaw --reset\n```\n\n### Gateway won't start\n\n```bash\nopenclaw gateway status\nopenclaw doctor --non-interactive\njournalctl --user -u openclaw-gateway -n 50\n```\n\n### Can't reach Control UI\n\n```bash\n# Verify Tailscale Serve is running\ntailscale serve status\n\n# Check gateway is listening\ncurl http://localhost:18789\n\n# Restart if needed\nsystemctl --user restart openclaw-gateway\n```\n\n### ARM binary issues\n\nSome tools may not have ARM builds. Check:\n\n```bash\nuname -m  # Should show aarch64\n```\n\nMost npm packages work fine. For binaries, look for `linux-arm64` or `aarch64` releases.\n\n---",
    "## Persistence\n\nAll state lives in:\n\n- `~/.openclaw/` â€” config, credentials, session data\n- `~/.openclaw/workspace/` â€” workspace (SOUL.md, memory, artifacts)\n\nBack up periodically:\n\n```bash\ntar -czvf openclaw-backup.tar.gz ~/.openclaw ~/.openclaw/workspace\n```\n\n---",
    "## See Also\n\n- [Gateway remote access](/gateway/remote) â€” other remote access patterns\n- [Tailscale integration](/gateway/tailscale) â€” full Tailscale docs\n- [Gateway configuration](/gateway/configuration) â€” all config options\n- [DigitalOcean guide](/platforms/digitalocean) â€” if you want paid + easier signup\n- [Hetzner guide](/install/hetzner) â€” Docker-based alternative",
    "---\ntitle: Outbound Session Mirroring Refactor (Issue #1520)\ndescription: Track outbound session mirroring refactor notes, decisions, tests, and open items.\n---\n\n# Outbound Session Mirroring Refactor (Issue #1520)",
    "## Status\n\n- In progress.\n- Core + plugin channel routing updated for outbound mirroring.\n- Gateway send now derives target session when sessionKey is omitted.",
    "## Context\n\nOutbound sends were mirrored into the _current_ agent session (tool session key) rather than the target channel session. Inbound routing uses channel/peer session keys, so outbound responses landed in the wrong session and first-contact targets often lacked session entries.",
    "## Goals\n\n- Mirror outbound messages into the target channel session key.\n- Create session entries on outbound when missing.\n- Keep thread/topic scoping aligned with inbound session keys.\n- Cover core channels plus bundled extensions.",
    "## Implementation Summary\n\n- New outbound session routing helper:\n  - `src/infra/outbound/outbound-session.ts`\n  - `resolveOutboundSessionRoute` builds target sessionKey using `buildAgentSessionKey` (dmScope + identityLinks).\n  - `ensureOutboundSessionEntry` writes minimal `MsgContext` via `recordSessionMetaFromInbound`.\n- `runMessageAction` (send) derives target sessionKey and passes it to `executeSendAction` for mirroring.\n- `message-tool` no longer mirrors directly; it only resolves agentId from the current session key.\n- Plugin send path mirrors via `appendAssistantMessageToSessionTranscript` using the derived sessionKey.\n- Gateway send derives a target session key when none is provided (default agent), and ensures a session entry.",
    "## Thread/Topic Handling\n\n- Slack: replyTo/threadId -> `resolveThreadSessionKeys` (suffix).\n- Discord: threadId/replyTo -> `resolveThreadSessionKeys` with `useSuffix=false` to match inbound (thread channel id already scopes session).\n- Telegram: topic IDs map to `chatId:topic:<id>` via `buildTelegramGroupPeerId`.",
    "## Extensions Covered\n\n- Matrix, MS Teams, Mattermost, BlueBubbles, Nextcloud Talk, Zalo, Zalo Personal, Nostr, Tlon.\n- Notes:\n  - Mattermost targets now strip `@` for DM session key routing.\n  - Zalo Personal uses DM peer kind for 1:1 targets (group only when `group:` is present).\n  - BlueBubbles group targets strip `chat_*` prefixes to match inbound session keys.\n  - Slack auto-thread mirroring matches channel ids case-insensitively.\n  - Gateway send lowercases provided session keys before mirroring.",
    "## Decisions\n\n- **Gateway send session derivation**: if `sessionKey` is provided, use it. If omitted, derive a sessionKey from target + default agent and mirror there.\n- **Session entry creation**: always use `recordSessionMetaFromInbound` with `Provider/From/To/ChatType/AccountId/Originating*` aligned to inbound formats.\n- **Target normalization**: outbound routing uses resolved targets (post `resolveChannelTarget`) when available.\n- **Session key casing**: canonicalize session keys to lowercase on write and during migrations.",
    "## Tests Added/Updated\n\n- `src/infra/outbound/outbound-session.test.ts`\n  - Slack thread session key.\n  - Telegram topic session key.\n  - dmScope identityLinks with Discord.\n- `src/agents/tools/message-tool.test.ts`\n  - Derives agentId from session key (no sessionKey passed through).\n- `src/gateway/server-methods/send.test.ts`\n  - Derives session key when omitted and creates session entry.",
    "## Open Items / Follow-ups\n\n- Voice-call plugin uses custom `voice:<phone>` session keys. Outbound mapping is not standardized here; if message-tool should support voice-call sends, add explicit mapping.\n- Confirm if any external plugin uses non-standard `From/To` formats beyond the bundled set.",
    "## Files Touched\n\n- `src/infra/outbound/outbound-session.ts`\n- `src/infra/outbound/outbound-send-service.ts`\n- `src/infra/outbound/message-action-runner.ts`\n- `src/agents/tools/message-tool.ts`\n- `src/gateway/server-methods/send.ts`\n- Tests in:\n  - `src/infra/outbound/outbound-session.test.ts`\n  - `src/agents/tools/message-tool.test.ts`\n  - `src/gateway/server-methods/send.test.ts`",
    "---\nsummary: \"CLI reference for `openclaw pairing` (approve/list pairing requests)\"\nread_when:\n  - Youâ€™re using pairing-mode DMs and need to approve senders\ntitle: \"pairing\"\n---\n\n# `openclaw pairing`\n\nApprove or inspect DM pairing requests (for channels that support pairing).\n\nRelated:\n\n- Pairing flow: [Pairing](/start/pairing)",
    "## Commands\n\n```bash\nopenclaw pairing list whatsapp\nopenclaw pairing approve whatsapp <code> --notify\n```",
    "---\nsummary: \"PeekabooBridge integration for macOS UI automation\"\nread_when:\n  - Hosting PeekabooBridge in OpenClaw.app\n  - Integrating Peekaboo via Swift Package Manager\n  - Changing PeekabooBridge protocol/paths\ntitle: \"Peekaboo Bridge\"\n---\n\n# Peekaboo Bridge (macOS UI automation)\n\nOpenClaw can host **PeekabooBridge** as a local, permissionâ€‘aware UI automation\nbroker. This lets the `peekaboo` CLI drive UI automation while reusing the\nmacOS appâ€™s TCC permissions.",
    "## What this is (and isnâ€™t)\n\n- **Host**: OpenClaw.app can act as a PeekabooBridge host.\n- **Client**: use the `peekaboo` CLI (no separate `openclaw ui ...` surface).\n- **UI**: visual overlays stay in Peekaboo.app; OpenClaw is a thin broker host.",
    "## Enable the bridge\n\nIn the macOS app:\n\n- Settings â†’ **Enable Peekaboo Bridge**\n\nWhen enabled, OpenClaw starts a local UNIX socket server. If disabled, the host\nis stopped and `peekaboo` will fall back to other available hosts.",
    "## Client discovery order\n\nPeekaboo clients typically try hosts in this order:\n\n1. Peekaboo.app (full UX)\n2. Claude.app (if installed)\n3. OpenClaw.app (thin broker)\n\nUse `peekaboo bridge status --verbose` to see which host is active and which\nsocket path is in use. You can override with:\n\n```bash\nexport PEEKABOO_BRIDGE_SOCKET=/path/to/bridge.sock\n```",
    "## Security & permissions\n\n- The bridge validates **caller code signatures**; an allowlist of TeamIDs is\n  enforced (Peekaboo host TeamID + OpenClaw app TeamID).\n- Requests time out after ~10 seconds.\n- If required permissions are missing, the bridge returns a clear error message\n  rather than launching System Settings.",
    "## Snapshot behavior (automation)\n\nSnapshots are stored in memory and expire automatically after a short window.\nIf you need longer retention, reâ€‘capture from the client.",
    "## Troubleshooting\n\n- If `peekaboo` reports â€œbridge client is not authorizedâ€, ensure the client is\n  properly signed or run the host with `PEEKABOO_ALLOW_UNSIGNED_SOCKET_CLIENTS=1`\n  in **debug** mode only.\n- If no hosts are found, open one of the host apps (Peekaboo.app or OpenClaw.app)\n  and confirm permissions are granted.",
    "---\nsummary: \"macOS permission persistence (TCC) and signing requirements\"\nread_when:\n  - Debugging missing or stuck macOS permission prompts\n  - Packaging or signing the macOS app\n  - Changing bundle IDs or app install paths\ntitle: \"macOS Permissions\"\n---\n\n# macOS permissions (TCC)\n\nmacOS permission grants are fragile. TCC associates a permission grant with the\napp's code signature, bundle identifier, and on-disk path. If any of those change,\nmacOS treats the app as new and may drop or hide prompts.",
    "## Requirements for stable permissions\n\n- Same path: run the app from a fixed location (for OpenClaw, `dist/OpenClaw.app`).\n- Same bundle identifier: changing the bundle ID creates a new permission identity.\n- Signed app: unsigned or ad-hoc signed builds do not persist permissions.\n- Consistent signature: use a real Apple Development or Developer ID certificate\n  so the signature stays stable across rebuilds.\n\nAd-hoc signatures generate a new identity every build. macOS will forget previous\ngrants, and prompts can disappear entirely until the stale entries are cleared.",
    "## Recovery checklist when prompts disappear\n\n1. Quit the app.\n2. Remove the app entry in System Settings -> Privacy & Security.\n3. Relaunch the app from the same path and re-grant permissions.\n4. If the prompt still does not appear, reset TCC entries with `tccutil` and try again.\n5. Some permissions only reappear after a full macOS restart.\n\nExample resets (replace bundle ID as needed):\n\n```bash\nsudo tccutil reset Accessibility bot.molt.mac\nsudo tccutil reset ScreenCapture bot.molt.mac\nsudo tccutil reset AppleEvents\n```",
    "## Files and folders permissions (Desktop/Documents/Downloads)\n\nmacOS may also gate Desktop, Documents, and Downloads for terminal/background processes. If file reads or directory listings hang, grant access to the same process context that performs file operations (for example Terminal/iTerm, LaunchAgent-launched app, or SSH process).\n\nWorkaround: move files into the OpenClaw workspace (`~/.openclaw/workspace`) if you want to avoid per-folder grants.\n\nIf you are testing permissions, always sign with a real certificate. Ad-hoc\nbuilds are only acceptable for quick local runs where permissions do not matter.",
    "---\nread_when:\n  - ä½ æƒ³ä½¿ç”¨ Perplexity Sonar è¿›è¡Œç½‘ç»œæœç´¢\n  - ä½ éœ€è¦è®¾ç½® PERPLEXITY_API_KEY æˆ– OpenRouter\nsummary: Perplexity Sonar çš„ web_search è®¾ç½®\ntitle: Perplexity Sonar\nx-i18n:\n  generated_at: \"2026-02-01T21:19:10Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 264d08e62e3bec854e378dad345ca209d139cd19b0469f3b25f88bb63b73ba00\n  source_path: perplexity.md\n  workflow: 15\n---\n\n# Perplexity Sonar\n\nOpenClaw å¯ä»¥ä½¿ç”¨ Perplexity Sonar ä½œä¸º `web_search` å·¥å…·ã€‚ä½ å¯ä»¥é€šè¿‡ Perplexity çš„ç›´è¿ API æˆ–é€šè¿‡ OpenRouter è¿æ¥ã€‚",
    "## API é€‰é¡¹\n\n### Perplexityï¼ˆç›´è¿ï¼‰\n\n- Base URLï¼šhttps://api.perplexity.ai\n- ç¯å¢ƒå˜é‡ï¼š`PERPLEXITY_API_KEY`\n\n### OpenRouterï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰\n\n- Base URLï¼šhttps://openrouter.ai/api/v1\n- ç¯å¢ƒå˜é‡ï¼š`OPENROUTER_API_KEY`\n- æ”¯æŒé¢„ä»˜è´¹/åŠ å¯†è´§å¸ç§¯åˆ†ã€‚",
    "## é…ç½®ç¤ºä¾‹\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        provider: \"perplexity\",\n        perplexity: {\n          apiKey: \"pplx-...\",\n          baseUrl: \"https://api.perplexity.ai\",\n          model: \"perplexity/sonar-pro\",\n        },\n      },\n    },\n  },\n}\n```",
    "## ä» Brave åˆ‡æ¢\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        provider: \"perplexity\",\n        perplexity: {\n          apiKey: \"pplx-...\",\n          baseUrl: \"https://api.perplexity.ai\",\n        },\n      },\n    },\n  },\n}\n```\n\nå¦‚æœåŒæ—¶è®¾ç½®äº† `PERPLEXITY_API_KEY` å’Œ `OPENROUTER_API_KEY`ï¼Œè¯·è®¾ç½® `tools.web.search.perplexity.baseUrl`ï¼ˆæˆ– `tools.web.search.perplexity.apiKey`ï¼‰ä»¥æ¶ˆé™¤æ­§ä¹‰ã€‚\n\nå¦‚æœæœªè®¾ç½® base URLï¼ŒOpenClaw ä¼šæ ¹æ® API å¯†é’¥æ¥æºé€‰æ‹©é»˜è®¤å€¼ï¼š\n\n- `PERPLEXITY_API_KEY` æˆ– `pplx-...` â†’ ç›´è¿ Perplexityï¼ˆ`https://api.perplexity.ai`ï¼‰\n- `OPENROUTER_API_KEY` æˆ– `sk-or-...` â†’ OpenRouterï¼ˆ`https://openrouter.ai/api/v1`ï¼‰\n- æœªçŸ¥å¯†é’¥æ ¼å¼ â†’ OpenRouterï¼ˆå®‰å…¨å›é€€ï¼‰",
    "## æ¨¡å‹\n\n- `perplexity/sonar` â€” å¸¦ç½‘ç»œæœç´¢çš„å¿«é€Ÿé—®ç­”\n- `perplexity/sonar-pro`ï¼ˆé»˜è®¤ï¼‰ â€” å¤šæ­¥æ¨ç† + ç½‘ç»œæœç´¢\n- `perplexity/sonar-reasoning-pro` â€” æ·±åº¦ç ”ç©¶\n\nè¯·å‚é˜… [Web å·¥å…·](/tools/web) äº†è§£ web_search é…ç½®è¯¦æƒ…ã€‚",
    "---\ntitle: Pi å¼€å‘å·¥ä½œæµç¨‹\nx-i18n:\n  generated_at: \"2026-02-03T10:07:59Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 65bd0580dd03df05321ced35a036ce6fb815ce3ddac1d35c9976279adcbf87c0\n  source_path: pi-dev.md\n  workflow: 15\n---\n\n# Pi å¼€å‘å·¥ä½œæµç¨‹\n\næœ¬æŒ‡å—æ€»ç»“äº†åœ¨ OpenClaw ä¸­å¼€å‘ Pi é›†æˆçš„åˆç†å·¥ä½œæµç¨‹ã€‚",
    "## ç±»å‹æ£€æŸ¥å’Œä»£ç æ£€æŸ¥\n\n- ç±»å‹æ£€æŸ¥å’Œæ„å»ºï¼š`pnpm build`\n- ä»£ç æ£€æŸ¥ï¼š`pnpm lint`\n- æ ¼å¼æ£€æŸ¥ï¼š`pnpm format`\n- æ¨é€å‰å®Œæ•´æ£€æŸ¥ï¼š`pnpm lint && pnpm build && pnpm test`",
    "## è¿è¡Œ Pi æµ‹è¯•\n\nä½¿ç”¨ä¸“ç”¨è„šæœ¬è¿è¡Œ Pi é›†æˆæµ‹è¯•é›†ï¼š\n\n```bash\nscripts/pi/run-tests.sh\n```\n\nè¦åŒ…å«æ‰§è¡ŒçœŸå®æä¾›å•†è¡Œä¸ºçš„å®æ—¶æµ‹è¯•ï¼š\n\n```bash\nscripts/pi/run-tests.sh --live\n```\n\nè¯¥è„šæœ¬é€šè¿‡ä»¥ä¸‹ glob æ¨¡å¼è¿è¡Œæ‰€æœ‰ Pi ç›¸å…³çš„å•å…ƒæµ‹è¯•ï¼š\n\n- `src/agents/pi-*.test.ts`\n- `src/agents/pi-embedded-*.test.ts`\n- `src/agents/pi-tools*.test.ts`\n- `src/agents/pi-settings.test.ts`\n- `src/agents/pi-tool-definition-adapter.test.ts`\n- `src/agents/pi-extensions/*.test.ts`",
    "## æ‰‹åŠ¨æµ‹è¯•\n\næ¨èæµç¨‹ï¼š\n\n- ä»¥å¼€å‘æ¨¡å¼è¿è¡Œ Gateway ç½‘å…³ï¼š\n  - `pnpm gateway:dev`\n- ç›´æ¥è§¦å‘æ™ºèƒ½ä½“ï¼š\n  - `pnpm openclaw agent --message \"Hello\" --thinking low`\n- ä½¿ç”¨ TUI è¿›è¡Œäº¤äº’å¼è°ƒè¯•ï¼š\n  - `pnpm tui`\n\nå¯¹äºå·¥å…·è°ƒç”¨è¡Œä¸ºï¼Œæç¤ºæ‰§è¡Œ `read` æˆ– `exec` æ“ä½œï¼Œä»¥ä¾¿æŸ¥çœ‹å·¥å…·æµå¼ä¼ è¾“å’Œè´Ÿè½½å¤„ç†ã€‚",
    "## å®Œå…¨é‡ç½®\n\nçŠ¶æ€å­˜å‚¨åœ¨ OpenClaw çŠ¶æ€ç›®å½•ä¸‹ã€‚é»˜è®¤ä¸º `~/.openclaw`ã€‚å¦‚æœè®¾ç½®äº† `OPENCLAW_STATE_DIR`ï¼Œåˆ™ä½¿ç”¨è¯¥ç›®å½•ã€‚\n\nè¦é‡ç½®æ‰€æœ‰å†…å®¹ï¼š\n\n- `openclaw.json` ç”¨äºé…ç½®\n- `credentials/` ç”¨äºè®¤è¯é…ç½®æ–‡ä»¶å’Œ token\n- `agents/<agentId>/sessions/` ç”¨äºæ™ºèƒ½ä½“ä¼šè¯å†å²\n- `agents/<agentId>/sessions.json` ç”¨äºä¼šè¯ç´¢å¼•\n- `sessions/` å¦‚æœå­˜åœ¨æ—§ç‰ˆè·¯å¾„\n- `workspace/` å¦‚æœä½ æƒ³è¦ä¸€ä¸ªç©ºç™½å·¥ä½œåŒº\n\nå¦‚æœåªæƒ³é‡ç½®ä¼šè¯ï¼Œåˆ é™¤è¯¥æ™ºèƒ½ä½“çš„ `agents/<agentId>/sessions/` å’Œ `agents/<agentId>/sessions.json`ã€‚å¦‚æœä¸æƒ³é‡æ–°è®¤è¯ï¼Œä¿ç•™ `credentials/`ã€‚",
    "## å‚è€ƒèµ„æ–™\n\n- https://docs.openclaw.ai/testing\n- https://docs.openclaw.ai/start/getting-started",
    "---\ntitle: \"Pi Integration Architecture\"\n---\n\n# Pi Integration Architecture\n\nThis document describes how OpenClaw integrates with [pi-coding-agent](https://github.com/badlogic/pi-mono/tree/main/packages/coding-agent) and its sibling packages (`pi-ai`, `pi-agent-core`, `pi-tui`) to power its AI agent capabilities.",
    "## Overview\n\nOpenClaw uses the pi SDK to embed an AI coding agent into its messaging gateway architecture. Instead of spawning pi as a subprocess or using RPC mode, OpenClaw directly imports and instantiates pi's `AgentSession` via `createAgentSession()`. This embedded approach provides:\n\n- Full control over session lifecycle and event handling\n- Custom tool injection (messaging, sandbox, channel-specific actions)\n- System prompt customization per channel/context\n- Session persistence with branching/compaction support\n- Multi-account auth profile rotation with failover\n- Provider-agnostic model switching",
    "## Package Dependencies\n\n```json\n{\n  \"@mariozechner/pi-agent-core\": \"0.49.3\",\n  \"@mariozechner/pi-ai\": \"0.49.3\",\n  \"@mariozechner/pi-coding-agent\": \"0.49.3\",\n  \"@mariozechner/pi-tui\": \"0.49.3\"\n}\n```\n\n| Package           | Purpose                                                                                                |\n| ----------------- | ------------------------------------------------------------------------------------------------------ |\n| `pi-ai`           | Core LLM abstractions: `Model`, `streamSimple`, message types, provider APIs                           |\n| `pi-agent-core`   | Agent loop, tool execution, `AgentMessage` types                                                       |\n| `pi-coding-agent` | High-level SDK: `createAgentSession`, `SessionManager`, `AuthStorage`, `ModelRegistry`, built-in tools |\n| `pi-tui`          | Terminal UI components (used in OpenClaw's local TUI mode)                                             |",
    "## File Structure",
    "```\nsrc/agents/\nâ”œâ”€â”€ pi-embedded-runner.ts          # Re-exports from pi-embedded-runner/\nâ”œâ”€â”€ pi-embedded-runner/\nâ”‚   â”œâ”€â”€ run.ts                     # Main entry: runEmbeddedPiAgent()\nâ”‚   â”œâ”€â”€ run/\nâ”‚   â”‚   â”œâ”€â”€ attempt.ts             # Single attempt logic with session setup\nâ”‚   â”‚   â”œâ”€â”€ params.ts              # RunEmbeddedPiAgentParams type\nâ”‚   â”‚   â”œâ”€â”€ payloads.ts            # Build response payloads from run results\nâ”‚   â”‚   â”œâ”€â”€ images.ts              # Vision model image injection\nâ”‚   â”‚   â””â”€â”€ types.ts               # EmbeddedRunAttemptResult\nâ”‚   â”œâ”€â”€ abort.ts                   # Abort error detection\nâ”‚   â”œâ”€â”€ cache-ttl.ts               # Cache TTL tracking for context pruning\nâ”‚   â”œâ”€â”€ compact.ts                 # Manual/auto compaction logic\nâ”‚   â”œâ”€â”€ extensions.ts              # Load pi extensions for embedded runs\nâ”‚   â”œâ”€â”€ extra-params.ts            # Provider-specific stream params\nâ”‚   â”œâ”€â”€ google.ts                  # Google/Gemini turn ordering fixes\nâ”‚   â”œâ”€â”€ history.ts                 # History limiting (DM vs group)\nâ”‚   â”œâ”€â”€ lanes.ts                   # Session/global command lanes\nâ”‚   â”œâ”€â”€ logger.ts                  # Subsystem logger\nâ”‚   â”œâ”€â”€ model.ts                   # Model resolution via ModelRegistry\nâ”‚   â”œâ”€â”€ runs.ts                    # Active run tracking, abort, queue\nâ”‚   â”œâ”€â”€ sandbox-info.ts            # Sandbox info for system prompt\nâ”‚   â”œâ”€â”€ session-manager-cache.ts   # SessionManager instance caching\nâ”‚   â”œâ”€â”€ session-manager-init.ts    # Session file initialization\nâ”‚   â”œâ”€â”€ system-prompt.ts           # System prompt builder\nâ”‚   â”œâ”€â”€ tool-split.ts              # Split tools into builtIn vs custom\nâ”‚   â”œâ”€â”€ types.ts                   # EmbeddedPiAgentMeta, EmbeddedPiRunResult\nâ”‚   â””â”€â”€ utils.ts                   # ThinkLevel mapping, error description\nâ”œâ”€â”€ pi-embedded-subscribe.ts       # Session event subscription/dispatch\nâ”œâ”€â”€ pi-embedded-subscribe.types.ts # SubscribeEmbeddedPiSessionParams\nâ”œâ”€â”€ pi-embedded-subscribe.handlers.ts # Event handler factory\nâ”œâ”€â”€ pi-embedded-subscribe.handlers.lifecycle.ts\nâ”œâ”€â”€ pi-embedded-subscribe.handlers.types.ts\nâ”œâ”€â”€ pi-embedded-block-chunker.ts   # Streaming block reply chunking\nâ”œâ”€â”€ pi-embedded-messaging.ts       # Messaging tool sent tracking\nâ”œâ”€â”€ pi-embedded-helpers.ts         # Error classification, turn validation\nâ”œâ”€â”€ pi-embedded-helpers/           # Helper modules\nâ”œâ”€â”€ pi-embedded-utils.ts           # Formatting utilities\nâ”œâ”€â”€ pi-tools.ts                    # createOpenClawCodingTools()\nâ”œâ”€â”€ pi-tools.abort.ts              # AbortSignal wrapping for tools\nâ”œâ”€â”€ pi-tools.policy.ts             # Tool allowlist/denylist policy\nâ”œâ”€â”€ pi-tools.read.ts               # Read tool customizations\nâ”œâ”€â”€ pi-tools.schema.ts             # Tool schema normalization\nâ”œâ”€â”€ pi-tools.types.ts              # AnyAgentTool type alias\nâ”œâ”€â”€ pi-tool-definition-adapter.ts  # AgentTool -> ToolDefinition adapter\nâ”œâ”€â”€ pi-settings.ts                 # Settings overrides\nâ”œâ”€â”€ pi-extensions/                 # Custom pi extensions\nâ”‚   â”œâ”€â”€ compaction-safeguard.ts    # Safeguard extension\nâ”‚   â”œâ”€â”€ compaction-safeguard-runtime.ts\nâ”‚   â”œâ”€â”€ context-pruning.ts         # Cache-TTL context pruning extension\nâ”‚   â””â”€â”€ context-pruning/\nâ”œâ”€â”€ model-auth.ts                  # Auth profile resolution\nâ”œâ”€â”€ auth-profiles.ts               # Profile store, cooldown, failover\nâ”œâ”€â”€ model-selection.ts             # Default model resolution\nâ”œâ”€â”€ models-config.ts               # models.json generation\nâ”œâ”€â”€ model-catalog.ts               # Model catalog cache\nâ”œâ”€â”€ context-window-guard.ts        # Context window validation\nâ”œâ”€â”€ failover-error.ts              # FailoverError class\nâ”œâ”€â”€ defaults.ts                    # DEFAULT_PROVIDER, DEFAULT_MODEL\nâ”œâ”€â”€ system-prompt.ts               # buildAgentSystemPrompt()\nâ”œâ”€â”€ system-prompt-params.ts        # System prompt parameter resolution\nâ”œâ”€â”€ system-prompt-report.ts        # Debug report generation\nâ”œâ”€â”€ tool-summaries.ts              # Tool description summaries\nâ”œâ”€â”€ tool-policy.ts                 # Tool policy resolution\nâ”œâ”€â”€ transcript-policy.ts           # Transcript validation policy\nâ”œâ”€â”€ skills.ts                      # Skill snapshot/prompt building\nâ”œâ”€â”€ skills/                        # Skill subsystem\nâ”œâ”€â”€ sandbox.ts                     # Sandbox context resolution\nâ”œâ”€â”€ sandbox/                       # Sandbox subsystem\nâ”œâ”€â”€ channel-tools.ts               # Channel-specific tool injection\nâ”œâ”€â”€ openclaw-tools.ts              # OpenClaw-specific tools\nâ”œâ”€â”€ bash-tools.ts                  # exec/process tools\nâ”œâ”€â”€ apply-patch.ts                 # apply_patch tool (OpenAI)\nâ”œâ”€â”€ tools/                         # Individual tool implementations\nâ”‚   â”œâ”€â”€ browser-tool.ts\nâ”‚   â”œâ”€â”€ canvas-tool.ts\nâ”‚   â”œâ”€â”€ cron-tool.ts\nâ”‚   â”œâ”€â”€ discord-actions*.ts\nâ”‚   â”œâ”€â”€ gateway-tool.ts\nâ”‚   â”œâ”€â”€ image-tool.ts\nâ”‚   â”œâ”€â”€ message-tool.ts\nâ”‚   â”œâ”€â”€ nodes-tool.ts\nâ”‚   â”œâ”€â”€ session*.ts\nâ”‚   â”œâ”€â”€ slack-actions.ts\nâ”‚   â”œâ”€â”€ telegram-actions.ts\nâ”‚   â”œâ”€â”€ web-*.ts\nâ”‚   â””â”€â”€ whatsapp-actions.ts\nâ””â”€â”€ ...\n```",
    "## Core Integration Flow\n\n### 1. Running an Embedded Agent\n\nThe main entry point is `runEmbeddedPiAgent()` in `pi-embedded-runner/run.ts`:\n\n```typescript\nimport { runEmbeddedPiAgent } from \"./agents/pi-embedded-runner.js\";\n\nconst result = await runEmbeddedPiAgent({\n  sessionId: \"user-123\",\n  sessionKey: \"main:whatsapp:+1234567890\",\n  sessionFile: \"/path/to/session.jsonl\",\n  workspaceDir: \"/path/to/workspace\",\n  config: openclawConfig,\n  prompt: \"Hello, how are you?\",\n  provider: \"anthropic\",\n  model: \"claude-sonnet-4-20250514\",\n  timeoutMs: 120_000,\n  runId: \"run-abc\",\n  onBlockReply: async (payload) => {\n    await sendToChannel(payload.text, payload.mediaUrls);\n  },\n});\n```\n\n### 2. Session Creation\n\nInside `runEmbeddedAttempt()` (called by `runEmbeddedPiAgent()`), the pi SDK is used:\n\n```typescript\nimport {\n  createAgentSession,\n  DefaultResourceLoader,\n  SessionManager,\n  SettingsManager,\n} from \"@mariozechner/pi-coding-agent\";",
    "const resourceLoader = new DefaultResourceLoader({\n  cwd: resolvedWorkspace,\n  agentDir,\n  settingsManager,\n  additionalExtensionPaths,\n});\nawait resourceLoader.reload();\n\nconst { session } = await createAgentSession({\n  cwd: resolvedWorkspace,\n  agentDir,\n  authStorage: params.authStorage,\n  modelRegistry: params.modelRegistry,\n  model: params.model,\n  thinkingLevel: mapThinkingLevel(params.thinkLevel),\n  tools: builtInTools,\n  customTools: allCustomTools,\n  sessionManager,\n  settingsManager,\n  resourceLoader,\n});\n\napplySystemPromptOverrideToSession(session, systemPromptOverride);\n```\n\n### 3. Event Subscription\n\n`subscribeEmbeddedPiSession()` subscribes to pi's `AgentSession` events:",
    "```typescript\nconst subscription = subscribeEmbeddedPiSession({\n  session: activeSession,\n  runId: params.runId,\n  verboseLevel: params.verboseLevel,\n  reasoningMode: params.reasoningLevel,\n  toolResultFormat: params.toolResultFormat,\n  onToolResult: params.onToolResult,\n  onReasoningStream: params.onReasoningStream,\n  onBlockReply: params.onBlockReply,\n  onPartialReply: params.onPartialReply,\n  onAgentEvent: params.onAgentEvent,\n});\n```\n\nEvents handled include:\n\n- `message_start` / `message_end` / `message_update` (streaming text/thinking)\n- `tool_execution_start` / `tool_execution_update` / `tool_execution_end`\n- `turn_start` / `turn_end`\n- `agent_start` / `agent_end`\n- `auto_compaction_start` / `auto_compaction_end`\n\n### 4. Prompting\n\nAfter setup, the session is prompted:\n\n```typescript\nawait session.prompt(effectivePrompt, { images: imageResult.images });\n```\n\nThe SDK handles the full agent loop: sending to LLM, executing tool calls, streaming responses.",
    "## Tool Architecture\n\n### Tool Pipeline\n\n1. **Base Tools**: pi's `codingTools` (read, bash, edit, write)\n2. **Custom Replacements**: OpenClaw replaces bash with `exec`/`process`, customizes read/edit/write for sandbox\n3. **OpenClaw Tools**: messaging, browser, canvas, sessions, cron, gateway, etc.\n4. **Channel Tools**: Discord/Telegram/Slack/WhatsApp-specific action tools\n5. **Policy Filtering**: Tools filtered by profile, provider, agent, group, sandbox policies\n6. **Schema Normalization**: Schemas cleaned for Gemini/OpenAI quirks\n7. **AbortSignal Wrapping**: Tools wrapped to respect abort signals\n\n### Tool Definition Adapter\n\npi-agent-core's `AgentTool` has a different `execute` signature than pi-coding-agent's `ToolDefinition`. The adapter in `pi-tool-definition-adapter.ts` bridges this:",
    "```typescript\nexport function toToolDefinitions(tools: AnyAgentTool[]): ToolDefinition[] {\n  return tools.map((tool) => ({\n    name: tool.name,\n    label: tool.label ?? name,\n    description: tool.description ?? \"\",\n    parameters: tool.parameters,\n    execute: async (toolCallId, params, onUpdate, _ctx, signal) => {\n      // pi-coding-agent signature differs from pi-agent-core\n      return await tool.execute(toolCallId, params, signal, onUpdate);\n    },\n  }));\n}\n```\n\n### Tool Split Strategy\n\n`splitSdkTools()` passes all tools via `customTools`:\n\n```typescript\nexport function splitSdkTools(options: { tools: AnyAgentTool[]; sandboxEnabled: boolean }) {\n  return {\n    builtInTools: [], // Empty. We override everything\n    customTools: toToolDefinitions(options.tools),\n  };\n}\n```\n\nThis ensures OpenClaw's policy filtering, sandbox integration, and extended toolset remain consistent across providers.",
    "## System Prompt Construction\n\nThe system prompt is built in `buildAgentSystemPrompt()` (`system-prompt.ts`). It assembles a full prompt with sections including Tooling, Tool Call Style, Safety guardrails, OpenClaw CLI reference, Skills, Docs, Workspace, Sandbox, Messaging, Reply Tags, Voice, Silent Replies, Heartbeats, Runtime metadata, plus Memory and Reactions when enabled, and optional context files and extra system prompt content. Sections are trimmed for minimal prompt mode used by subagents.\n\nThe prompt is applied after session creation via `applySystemPromptOverrideToSession()`:\n\n```typescript\nconst systemPromptOverride = createSystemPromptOverride(appendPrompt);\napplySystemPromptOverrideToSession(session, systemPromptOverride);\n```",
    "## Session Management\n\n### Session Files\n\nSessions are JSONL files with tree structure (id/parentId linking). Pi's `SessionManager` handles persistence:\n\n```typescript\nconst sessionManager = SessionManager.open(params.sessionFile);\n```\n\nOpenClaw wraps this with `guardSessionManager()` for tool result safety.\n\n### Session Caching\n\n`session-manager-cache.ts` caches SessionManager instances to avoid repeated file parsing:\n\n```typescript\nawait prewarmSessionFile(params.sessionFile);\nsessionManager = SessionManager.open(params.sessionFile);\ntrackSessionManagerAccess(params.sessionFile);\n```\n\n### History Limiting\n\n`limitHistoryTurns()` trims conversation history based on channel type (DM vs group).\n\n### Compaction\n\nAuto-compaction triggers on context overflow. `compactEmbeddedPiSessionDirect()` handles manual compaction:\n\n```typescript\nconst compactResult = await compactEmbeddedPiSessionDirect({\n  sessionId, sessionFile, provider, model, ...\n});\n```",
    "## Authentication & Model Resolution\n\n### Auth Profiles\n\nOpenClaw maintains an auth profile store with multiple API keys per provider:\n\n```typescript\nconst authStore = ensureAuthProfileStore(agentDir, { allowKeychainPrompt: false });\nconst profileOrder = resolveAuthProfileOrder({ cfg, store: authStore, provider, preferredProfile });\n```\n\nProfiles rotate on failures with cooldown tracking:\n\n```typescript\nawait markAuthProfileFailure({ store, profileId, reason, cfg, agentDir });\nconst rotated = await advanceAuthProfile();\n```\n\n### Model Resolution\n\n```typescript\nimport { resolveModel } from \"./pi-embedded-runner/model.js\";\n\nconst { model, error, authStorage, modelRegistry } = resolveModel(\n  provider,\n  modelId,\n  agentDir,\n  config,\n);\n\n// Uses pi's ModelRegistry and AuthStorage\nauthStorage.setRuntimeApiKey(model.provider, apiKeyInfo.apiKey);\n```\n\n### Failover\n\n`FailoverError` triggers model fallback when configured:",
    "```typescript\nif (fallbackConfigured && isFailoverErrorMessage(errorText)) {\n  throw new FailoverError(errorText, {\n    reason: promptFailoverReason ?? \"unknown\",\n    provider,\n    model: modelId,\n    profileId,\n    status: resolveFailoverStatus(promptFailoverReason),\n  });\n}\n```",
    "## Pi Extensions\n\nOpenClaw loads custom pi extensions for specialized behavior:\n\n### Compaction Safeguard\n\n`pi-extensions/compaction-safeguard.ts` adds guardrails to compaction, including adaptive token budgeting plus tool failure and file operation summaries:\n\n```typescript\nif (resolveCompactionMode(params.cfg) === \"safeguard\") {\n  setCompactionSafeguardRuntime(params.sessionManager, { maxHistoryShare });\n  paths.push(resolvePiExtensionPath(\"compaction-safeguard\"));\n}\n```\n\n### Context Pruning\n\n`pi-extensions/context-pruning.ts` implements cache-TTL based context pruning:\n\n```typescript\nif (cfg?.agents?.defaults?.contextPruning?.mode === \"cache-ttl\") {\n  setContextPruningRuntime(params.sessionManager, {\n    settings,\n    contextWindowTokens,\n    isToolPrunable,\n    lastCacheTouchAt,\n  });\n  paths.push(resolvePiExtensionPath(\"context-pruning\"));\n}\n```",
    "## Streaming & Block Replies\n\n### Block Chunking\n\n`EmbeddedBlockChunker` manages streaming text into discrete reply blocks:\n\n```typescript\nconst blockChunker = blockChunking ? new EmbeddedBlockChunker(blockChunking) : null;\n```\n\n### Thinking/Final Tag Stripping\n\nStreaming output is processed to strip `<think>`/`<thinking>` blocks and extract `<final>` content:\n\n```typescript\nconst stripBlockTags = (text: string, state: { thinking: boolean; final: boolean }) => {\n  // Strip <think>...</think> content\n  // If enforceFinalTag, only return <final>...</final> content\n};\n```\n\n### Reply Directives\n\nReply directives like `[[media:url]]`, `[[voice]]`, `[[reply:id]]` are parsed and extracted:\n\n```typescript\nconst { text: cleanedText, mediaUrls, audioAsVoice, replyToId } = consumeReplyDirectives(chunk);\n```",
    "## Error Handling\n\n### Error Classification\n\n`pi-embedded-helpers.ts` classifies errors for appropriate handling:\n\n```typescript\nisContextOverflowError(errorText)     // Context too large\nisCompactionFailureError(errorText)   // Compaction failed\nisAuthAssistantError(lastAssistant)   // Auth failure\nisRateLimitAssistantError(...)        // Rate limited\nisFailoverAssistantError(...)         // Should failover\nclassifyFailoverReason(errorText)     // \"auth\" | \"rate_limit\" | \"quota\" | \"timeout\" | ...\n```\n\n### Thinking Level Fallback\n\nIf a thinking level is unsupported, it falls back:\n\n```typescript\nconst fallbackThinking = pickFallbackThinkingLevel({\n  message: errorText,\n  attempted: attemptedThinking,\n});\nif (fallbackThinking) {\n  thinkLevel = fallbackThinking;\n  continue;\n}\n```",
    "## Sandbox Integration\n\nWhen sandbox mode is enabled, tools and paths are constrained:\n\n```typescript\nconst sandbox = await resolveSandboxContext({\n  config: params.config,\n  sessionKey: sandboxSessionKey,\n  workspaceDir: resolvedWorkspace,\n});\n\nif (sandboxRoot) {\n  // Use sandboxed read/edit/write tools\n  // Exec runs in container\n  // Browser uses bridge URL\n}\n```",
    "## Provider-Specific Handling\n\n### Anthropic\n\n- Refusal magic string scrubbing\n- Turn validation for consecutive roles\n- Claude Code parameter compatibility\n\n### Google/Gemini\n\n- Turn ordering fixes (`applyGoogleTurnOrderingFix`)\n- Tool schema sanitization (`sanitizeToolsForGoogle`)\n- Session history sanitization (`sanitizeSessionHistory`)\n\n### OpenAI\n\n- `apply_patch` tool for Codex models\n- Thinking level downgrade handling",
    "## TUI Integration\n\nOpenClaw also has a local TUI mode that uses pi-tui components directly:\n\n```typescript\n// src/tui/tui.ts\nimport { ... } from \"@mariozechner/pi-tui\";\n```\n\nThis provides the interactive terminal experience similar to pi's native mode.",
    "## Key Differences from Pi CLI",
    "| Aspect          | Pi CLI                  | OpenClaw Embedded                                                                              |\n| --------------- | ----------------------- | ---------------------------------------------------------------------------------------------- |\n| Invocation      | `pi` command / RPC      | SDK via `createAgentSession()`                                                                 |\n| Tools           | Default coding tools    | Custom OpenClaw tool suite                                                                     |\n| System prompt   | AGENTS.md + prompts     | Dynamic per-channel/context                                                                    |\n| Session storage | `~/.pi/agent/sessions/` | `~/.openclaw/agents/<agentId>/sessions/` (or `$OPENCLAW_STATE_DIR/agents/<agentId>/sessions/`) |\n| Auth            | Single credential       | Multi-profile with rotation                                                                    |\n| Extensions      | Loaded from disk        | Programmatic + disk paths                                                                      |\n| Event handling  | TUI rendering           | Callback-based (onBlockReply, etc.)                                                            |",
    "## Future Considerations\n\nAreas for potential rework:\n\n1. **Tool signature alignment**: Currently adapting between pi-agent-core and pi-coding-agent signatures\n2. **Session manager wrapping**: `guardSessionManager` adds safety but increases complexity\n3. **Extension loading**: Could use pi's `ResourceLoader` more directly\n4. **Streaming handler complexity**: `subscribeEmbeddedPiSession` has grown large\n5. **Provider quirks**: Many provider-specific codepaths that pi could potentially handle",
    "## Tests\n\nAll existing tests that cover the pi integration and its extensions:",
    "- `src/agents/pi-embedded-block-chunker.test.ts`\n- `src/agents/pi-embedded-helpers.buildbootstrapcontextfiles.test.ts`\n- `src/agents/pi-embedded-helpers.classifyfailoverreason.test.ts`\n- `src/agents/pi-embedded-helpers.downgradeopenai-reasoning.test.ts`\n- `src/agents/pi-embedded-helpers.formatassistanterrortext.test.ts`\n- `src/agents/pi-embedded-helpers.formatrawassistanterrorforui.test.ts`\n- `src/agents/pi-embedded-helpers.image-dimension-error.test.ts`\n- `src/agents/pi-embedded-helpers.image-size-error.test.ts`\n- `src/agents/pi-embedded-helpers.isautherrormessage.test.ts`\n- `src/agents/pi-embedded-helpers.isbillingerrormessage.test.ts`\n- `src/agents/pi-embedded-helpers.iscloudcodeassistformaterror.test.ts`\n- `src/agents/pi-embedded-helpers.iscompactionfailureerror.test.ts`\n- `src/agents/pi-embedded-helpers.iscontextoverflowerror.test.ts`\n- `src/agents/pi-embedded-helpers.isfailovererrormessage.test.ts`\n- `src/agents/pi-embedded-helpers.islikelycontextoverflowerror.test.ts`\n- `src/agents/pi-embedded-helpers.ismessagingtoolduplicate.test.ts`\n- `src/agents/pi-embedded-helpers.messaging-duplicate.test.ts`\n- `src/agents/pi-embedded-helpers.normalizetextforcomparison.test.ts`\n- `src/agents/pi-embedded-helpers.resolvebootstrapmaxchars.test.ts`\n- `src/agents/pi-embedded-helpers.sanitize-session-messages-images.keeps-tool-call-tool-result-ids-unchanged.test.ts`\n- `src/agents/pi-embedded-helpers.sanitize-session-messages-images.removes-empty-assistant-text-blocks-but-preserves.test.ts`\n- `src/agents/pi-embedded-helpers.sanitizegoogleturnordering.test.ts`\n- `src/agents/pi-embedded-helpers.sanitizesessionmessagesimages-thought-signature-stripping.test.ts`\n- `src/agents/pi-embedded-helpers.sanitizetoolcallid.test.ts`\n- `src/agents/pi-embedded-helpers.sanitizeuserfacingtext.test.ts`\n- `src/agents/pi-embedded-helpers.stripthoughtsignatures.test.ts`\n- `src/agents/pi-embedded-helpers.validate-turns.test.ts`\n- `src/agents/pi-embedded-runner-extraparams.live.test.ts` (live)\n- `src/agents/pi-embedded-runner-extraparams.test.ts`\n- `src/agents/pi-embedded-runner.applygoogleturnorderingfix.test.ts`\n- `src/agents/pi-embedded-runner.buildembeddedsandboxinfo.test.ts`\n- `src/agents/pi-embedded-runner.createsystempromptoverride.test.ts`\n- `src/agents/pi-embedded-runner.get-dm-history-limit-from-session-key.falls-back-provider-default-per-dm-not.test.ts`\n- `src/agents/pi-embedded-runner.get-dm-history-limit-from-session-key.returns-undefined-sessionkey-is-undefined.test.ts`\n- `src/agents/pi-embedded-runner.google-sanitize-thinking.test.ts`\n- `src/agents/pi-embedded-runner.guard.test.ts`\n- `src/agents/pi-embedded-runner.limithistoryturns.test.ts`\n- `src/agents/pi-embedded-runner.resolvesessionagentids.test.ts`\n- `src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts`\n- `src/agents/pi-embedded-runner.sanitize-session-history.test.ts`\n- `src/agents/pi-embedded-runner.splitsdktools.test.ts`\n- `src/agents/pi-embedded-runner.test.ts`\n- `src/agents/pi-embedded-subscribe.code-span-awareness.test.ts`\n- `src/agents/pi-embedded-subscribe.reply-tags.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.calls-onblockreplyflush-before-tool-execution-start-preserve.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-append-text-end-content-is.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-call-onblockreplyflush-callback-is-not.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-duplicate-text-end-repeats-full.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-emit-duplicate-block-replies-text.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.emits-block-replies-text-end-does-not.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.emits-reasoning-as-separate-message-enabled.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.filters-final-suppresses-output-without-start-tag.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.includes-canvas-action-metadata-tool-summaries.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.keeps-assistanttexts-final-answer-block-replies-are.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.keeps-indented-fenced-blocks-intact.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.reopens-fenced-blocks-splitting-inside-them.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.splits-long-single-line-fenced-blocks-reopen.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.streams-soft-chunks-paragraph-preference.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.subscribeembeddedpisession.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.suppresses-message-end-block-replies-message-tool.test.ts`\n- `src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.waits-multiple-compaction-retries-before-resolving.test.ts`\n- `src/agents/pi-embedded-subscribe.tools.test.ts`\n- `src/agents/pi-embedded-utils.test.ts`\n- `src/agents/pi-extensions/compaction-safeguard.test.ts`\n- `src/agents/pi-extensions/context-pruning.test.ts`\n- `src/agents/pi-settings.test.ts`\n- `src/agents/pi-tool-definition-adapter.test.ts`\n- `src/agents/pi-tools-agent-config.test.ts`\n- `src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-b.test.ts`\n- `src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts`\n- `src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-f.test.ts`\n- `src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping.test.ts`\n- `src/agents/pi-tools.policy.test.ts`\n- `src/agents/pi-tools.safe-bins.test.ts`\n- `src/agents/pi-tools.workspace-paths.test.ts`",
    "---\nsummary: \"Plan: one clean plugin SDK + runtime for all messaging connectors\"\nread_when:\n  - Defining or refactoring the plugin architecture\n  - Migrating channel connectors to the plugin SDK/runtime\ntitle: \"Plugin SDK Refactor\"\n---\n\n# Plugin SDK + Runtime Refactor Plan\n\nGoal: every messaging connector is a plugin (bundled or external) using one stable API.\nNo plugin imports from `src/**` directly. All dependencies go through the SDK or runtime.",
    "## Why now\n\n- Current connectors mix patterns: direct core imports, dist-only bridges, and custom helpers.\n- This makes upgrades brittle and blocks a clean external plugin surface.",
    "## Target architecture (two layers)\n\n### 1) Plugin SDK (compile-time, stable, publishable)\n\nScope: types, helpers, and config utilities. No runtime state, no side effects.\n\nContents (examples):\n\n- Types: `ChannelPlugin`, adapters, `ChannelMeta`, `ChannelCapabilities`, `ChannelDirectoryEntry`.\n- Config helpers: `buildChannelConfigSchema`, `setAccountEnabledInConfigSection`, `deleteAccountFromConfigSection`,\n  `applyAccountNameToChannelSection`.\n- Pairing helpers: `PAIRING_APPROVED_MESSAGE`, `formatPairingApproveHint`.\n- Onboarding helpers: `promptChannelAccessConfig`, `addWildcardAllowFrom`, onboarding types.\n- Tool param helpers: `createActionGate`, `readStringParam`, `readNumberParam`, `readReactionParams`, `jsonResult`.\n- Docs link helper: `formatDocsLink`.\n\nDelivery:\n\n- Publish as `openclaw/plugin-sdk` (or export from core under `openclaw/plugin-sdk`).\n- Semver with explicit stability guarantees.\n\n### 2) Plugin Runtime (execution surface, injected)",
    "Scope: everything that touches core runtime behavior.\nAccessed via `OpenClawPluginApi.runtime` so plugins never import `src/**`.\n\nProposed surface (minimal but complete):",
    "```ts\nexport type PluginRuntime = {\n  channel: {\n    text: {\n      chunkMarkdownText(text: string, limit: number): string[];\n      resolveTextChunkLimit(cfg: OpenClawConfig, channel: string, accountId?: string): number;\n      hasControlCommand(text: string, cfg: OpenClawConfig): boolean;\n    };\n    reply: {\n      dispatchReplyWithBufferedBlockDispatcher(params: {\n        ctx: unknown;\n        cfg: unknown;\n        dispatcherOptions: {\n          deliver: (payload: {\n            text?: string;\n            mediaUrls?: string[];\n            mediaUrl?: string;\n          }) => void | Promise<void>;\n          onError?: (err: unknown, info: { kind: string }) => void;\n        };\n      }): Promise<void>;\n      createReplyDispatcherWithTyping?: unknown; // adapter for Teams-style flows\n    };\n    routing: {\n      resolveAgentRoute(params: {\n        cfg: unknown;\n        channel: string;\n        accountId: string;\n        peer: { kind: \"dm\" | \"group\" | \"channel\"; id: string };\n      }): { sessionKey: string; accountId: string };\n    };\n    pairing: {\n      buildPairingReply(params: { channel: string; idLine: string; code: string }): string;\n      readAllowFromStore(channel: string): Promise<string[]>;\n      upsertPairingRequest(params: {\n        channel: string;\n        id: string;\n        meta?: { name?: string };\n      }): Promise<{ code: string; created: boolean }>;\n    };\n    media: {\n      fetchRemoteMedia(params: { url: string }): Promise<{ buffer: Buffer; contentType?: string }>;\n      saveMediaBuffer(\n        buffer: Uint8Array,\n        contentType: string | undefined,\n        direction: \"inbound\" | \"outbound\",\n        maxBytes: number,\n      ): Promise<{ path: string; contentType?: string }>;\n    };\n    mentions: {\n      buildMentionRegexes(cfg: OpenClawConfig, agentId?: string): RegExp[];\n      matchesMentionPatterns(text: string, regexes: RegExp[]): boolean;\n    };\n    groups: {\n      resolveGroupPolicy(\n        cfg: OpenClawConfig,\n        channel: string,\n        accountId: string,\n        groupId: string,\n      ): {\n        allowlistEnabled: boolean;\n        allowed: boolean;\n        groupConfig?: unknown;\n        defaultConfig?: unknown;\n      };\n      resolveRequireMention(\n        cfg: OpenClawConfig,\n        channel: string,\n        accountId: string,\n        groupId: string,\n        override?: boolean,\n      ): boolean;\n    };\n    debounce: {\n      createInboundDebouncer<T>(opts: {\n        debounceMs: number;\n        buildKey: (v: T) => string | null;\n        shouldDebounce: (v: T) => boolean;\n        onFlush: (entries: T[]) => Promise<void>;\n        onError?: (err: unknown) => void;\n      }): { push: (v: T) => void; flush: () => Promise<void> };\n      resolveInboundDebounceMs(cfg: OpenClawConfig, channel: string): number;\n    };\n    commands: {\n      resolveCommandAuthorizedFromAuthorizers(params: {\n        useAccessGroups: boolean;\n        authorizers: Array<{ configured: boolean; allowed: boolean }>;\n      }): boolean;\n    };\n  };\n  logging: {\n    shouldLogVerbose(): boolean;\n    getChildLogger(name: string): PluginLogger;\n  };\n  state: {\n    resolveStateDir(cfg: OpenClawConfig): string;\n  };\n};\n```",
    "Notes:\n\n- Runtime is the only way to access core behavior.\n- SDK is intentionally small and stable.\n- Each runtime method maps to an existing core implementation (no duplication).",
    "## Migration plan (phased, safe)\n\n### Phase 0: scaffolding\n\n- Introduce `openclaw/plugin-sdk`.\n- Add `api.runtime` to `OpenClawPluginApi` with the surface above.\n- Maintain existing imports during a transition window (deprecation warnings).\n\n### Phase 1: bridge cleanup (low risk)\n\n- Replace per-extension `core-bridge.ts` with `api.runtime`.\n- Migrate BlueBubbles, Zalo, Zalo Personal first (already close).\n- Remove duplicated bridge code.\n\n### Phase 2: light direct-import plugins\n\n- Migrate Matrix to SDK + runtime.\n- Validate onboarding, directory, group mention logic.\n\n### Phase 3: heavy direct-import plugins\n\n- Migrate MS Teams (largest set of runtime helpers).\n- Ensure reply/typing semantics match current behavior.\n\n### Phase 4: iMessage pluginization\n\n- Move iMessage into `extensions/imessage`.\n- Replace direct core calls with `api.runtime`.\n- Keep config keys, CLI behavior, and docs intact.\n\n### Phase 5: enforcement",
    "- Add lint rule / CI check: no `extensions/**` imports from `src/**`.\n- Add plugin SDK/version compatibility checks (runtime + SDK semver).",
    "## Compatibility and versioning\n\n- SDK: semver, published, documented changes.\n- Runtime: versioned per core release. Add `api.runtime.version`.\n- Plugins declare a required runtime range (e.g., `openclawRuntime: \">=2026.2.0\"`).",
    "## Testing strategy\n\n- Adapter-level unit tests (runtime functions exercised with real core implementation).\n- Golden tests per plugin: ensure no behavior drift (routing, pairing, allowlist, mention gating).\n- A single end-to-end plugin sample used in CI (install + run + smoke).",
    "## Open questions\n\n- Where to host SDK types: separate package or core export?\n- Runtime type distribution: in SDK (types only) or in core?\n- How to expose docs links for bundled vs external plugins?\n- Do we allow limited direct core imports for in-repo plugins during transition?",
    "## Success criteria\n\n- All channel connectors are plugins using SDK + runtime.\n- No `extensions/**` imports from `src/**`.\n- New connector templates depend only on SDK + runtime.\n- External plugins can be developed and updated without core source access.\n\nRelated docs: [Plugins](/plugin), [Channels](/channels/index), [Configuration](/gateway/configuration).",
    "---\nsummary: \"OpenClaw plugins/extensions: discovery, config, and safety\"\nread_when:\n  - Adding or modifying plugins/extensions\n  - Documenting plugin install or load rules\ntitle: \"Plugins\"\n---\n\n# Plugins (Extensions)",
    "## Quick start (new to plugins?)\n\nA plugin is just a **small code module** that extends OpenClaw with extra\nfeatures (commands, tools, and Gateway RPC).\n\nMost of the time, youâ€™ll use plugins when you want a feature thatâ€™s not built\ninto core OpenClaw yet (or you want to keep optional features out of your main\ninstall).\n\nFast path:\n\n1. See whatâ€™s already loaded:\n\n```bash\nopenclaw plugins list\n```\n\n2. Install an official plugin (example: Voice Call):\n\n```bash\nopenclaw plugins install @openclaw/voice-call\n```\n\n3. Restart the Gateway, then configure under `plugins.entries.<id>.config`.\n\nSee [Voice Call](/plugins/voice-call) for a concrete example plugin.",
    "## Available plugins (official)",
    "- Microsoft Teams is plugin-only as of 2026.1.15; install `@openclaw/msteams` if you use Teams.\n- Memory (Core) â€” bundled memory search plugin (enabled by default via `plugins.slots.memory`)\n- Memory (LanceDB) â€” bundled long-term memory plugin (auto-recall/capture; set `plugins.slots.memory = \"memory-lancedb\"`)\n- [Voice Call](/plugins/voice-call) â€” `@openclaw/voice-call`\n- [Zalo Personal](/plugins/zalouser) â€” `@openclaw/zalouser`\n- [Matrix](/channels/matrix) â€” `@openclaw/matrix`\n- [Nostr](/channels/nostr) â€” `@openclaw/nostr`\n- [Zalo](/channels/zalo) â€” `@openclaw/zalo`\n- [Microsoft Teams](/channels/msteams) â€” `@openclaw/msteams`\n- Google Antigravity OAuth (provider auth) â€” bundled as `google-antigravity-auth` (disabled by default)\n- Gemini CLI OAuth (provider auth) â€” bundled as `google-gemini-cli-auth` (disabled by default)\n- Qwen OAuth (provider auth) â€” bundled as `qwen-portal-auth` (disabled by default)\n- Copilot Proxy (provider auth) â€” local VS Code Copilot Proxy bridge; distinct from built-in `github-copilot` device login (bundled, disabled by default)",
    "OpenClaw plugins are **TypeScript modules** loaded at runtime via jiti. **Config\nvalidation does not execute plugin code**; it uses the plugin manifest and JSON\nSchema instead. See [Plugin manifest](/plugins/manifest).\n\nPlugins can register:\n\n- Gateway RPC methods\n- Gateway HTTP handlers\n- Agent tools\n- CLI commands\n- Background services\n- Optional config validation\n- **Skills** (by listing `skills` directories in the plugin manifest)\n- **Auto-reply commands** (execute without invoking the AI agent)\n\nPlugins run **inâ€‘process** with the Gateway, so treat them as trusted code.\nTool authoring guide: [Plugin agent tools](/plugins/agent-tools).",
    "## Runtime helpers\n\nPlugins can access selected core helpers via `api.runtime`. For telephony TTS:\n\n```ts\nconst result = await api.runtime.tts.textToSpeechTelephony({\n  text: \"Hello from OpenClaw\",\n  cfg: api.config,\n});\n```\n\nNotes:\n\n- Uses core `messages.tts` configuration (OpenAI or ElevenLabs).\n- Returns PCM audio buffer + sample rate. Plugins must resample/encode for providers.\n- Edge TTS is not supported for telephony.",
    "## Discovery & precedence\n\nOpenClaw scans, in order:\n\n1. Config paths\n\n- `plugins.load.paths` (file or directory)\n\n2. Workspace extensions\n\n- `<workspace>/.openclaw/extensions/*.ts`\n- `<workspace>/.openclaw/extensions/*/index.ts`\n\n3. Global extensions\n\n- `~/.openclaw/extensions/*.ts`\n- `~/.openclaw/extensions/*/index.ts`\n\n4. Bundled extensions (shipped with OpenClaw, **disabled by default**)\n\n- `<openclaw>/extensions/*`\n\nBundled plugins must be enabled explicitly via `plugins.entries.<id>.enabled`\nor `openclaw plugins enable <id>`. Installed plugins are enabled by default,\nbut can be disabled the same way.\n\nEach plugin must include a `openclaw.plugin.json` file in its root. If a path\npoints at a file, the plugin root is the file's directory and must contain the\nmanifest.\n\nIf multiple plugins resolve to the same id, the first match in the order above\nwins and lower-precedence copies are ignored.\n\n### Package packs",
    "A plugin directory may include a `package.json` with `openclaw.extensions`:\n\n```json\n{\n  \"name\": \"my-pack\",\n  \"openclaw\": {\n    \"extensions\": [\"./src/safety.ts\", \"./src/tools.ts\"]\n  }\n}\n```\n\nEach entry becomes a plugin. If the pack lists multiple extensions, the plugin id\nbecomes `name/<fileBase>`.\n\nIf your plugin imports npm deps, install them in that directory so\n`node_modules` is available (`npm install` / `pnpm install`).\n\n### Channel catalog metadata\n\nChannel plugins can advertise onboarding metadata via `openclaw.channel` and\ninstall hints via `openclaw.install`. This keeps the core catalog data-free.\n\nExample:",
    "```json\n{\n  \"name\": \"@openclaw/nextcloud-talk\",\n  \"openclaw\": {\n    \"extensions\": [\"./index.ts\"],\n    \"channel\": {\n      \"id\": \"nextcloud-talk\",\n      \"label\": \"Nextcloud Talk\",\n      \"selectionLabel\": \"Nextcloud Talk (self-hosted)\",\n      \"docsPath\": \"/channels/nextcloud-talk\",\n      \"docsLabel\": \"nextcloud-talk\",\n      \"blurb\": \"Self-hosted chat via Nextcloud Talk webhook bots.\",\n      \"order\": 65,\n      \"aliases\": [\"nc-talk\", \"nc\"]\n    },\n    \"install\": {\n      \"npmSpec\": \"@openclaw/nextcloud-talk\",\n      \"localPath\": \"extensions/nextcloud-talk\",\n      \"defaultChoice\": \"npm\"\n    }\n  }\n}\n```\n\nOpenClaw can also merge **external channel catalogs** (for example, an MPM\nregistry export). Drop a JSON file at one of:\n\n- `~/.openclaw/mpm/plugins.json`\n- `~/.openclaw/mpm/catalog.json`\n- `~/.openclaw/plugins/catalog.json`",
    "Or point `OPENCLAW_PLUGIN_CATALOG_PATHS` (or `OPENCLAW_MPM_CATALOG_PATHS`) at\none or more JSON files (comma/semicolon/`PATH`-delimited). Each file should\ncontain `{ \"entries\": [ { \"name\": \"@scope/pkg\", \"openclaw\": { \"channel\": {...}, \"install\": {...} } } ] }`.",
    "## Plugin IDs\n\nDefault plugin ids:\n\n- Package packs: `package.json` `name`\n- Standalone file: file base name (`~/.../voice-call.ts` â†’ `voice-call`)\n\nIf a plugin exports `id`, OpenClaw uses it but warns when it doesnâ€™t match the\nconfigured id.",
    "## Config\n\n```json5\n{\n  plugins: {\n    enabled: true,\n    allow: [\"voice-call\"],\n    deny: [\"untrusted-plugin\"],\n    load: { paths: [\"~/Projects/oss/voice-call-extension\"] },\n    entries: {\n      \"voice-call\": { enabled: true, config: { provider: \"twilio\" } },\n    },\n  },\n}\n```\n\nFields:\n\n- `enabled`: master toggle (default: true)\n- `allow`: allowlist (optional)\n- `deny`: denylist (optional; deny wins)\n- `load.paths`: extra plugin files/dirs\n- `entries.<id>`: perâ€‘plugin toggles + config\n\nConfig changes **require a gateway restart**.\n\nValidation rules (strict):\n\n- Unknown plugin ids in `entries`, `allow`, `deny`, or `slots` are **errors**.\n- Unknown `channels.<id>` keys are **errors** unless a plugin manifest declares\n  the channel id.\n- Plugin config is validated using the JSON Schema embedded in\n  `openclaw.plugin.json` (`configSchema`).\n- If a plugin is disabled, its config is preserved and a **warning** is emitted.",
    "## Plugin slots (exclusive categories)\n\nSome plugin categories are **exclusive** (only one active at a time). Use\n`plugins.slots` to select which plugin owns the slot:\n\n```json5\n{\n  plugins: {\n    slots: {\n      memory: \"memory-core\", // or \"none\" to disable memory plugins\n    },\n  },\n}\n```\n\nIf multiple plugins declare `kind: \"memory\"`, only the selected one loads. Others\nare disabled with diagnostics.",
    "## Control UI (schema + labels)\n\nThe Control UI uses `config.schema` (JSON Schema + `uiHints`) to render better forms.\n\nOpenClaw augments `uiHints` at runtime based on discovered plugins:\n\n- Adds per-plugin labels for `plugins.entries.<id>` / `.enabled` / `.config`\n- Merges optional plugin-provided config field hints under:\n  `plugins.entries.<id>.config.<field>`\n\nIf you want your plugin config fields to show good labels/placeholders (and mark secrets as sensitive),\nprovide `uiHints` alongside your JSON Schema in the plugin manifest.\n\nExample:\n\n```json\n{\n  \"id\": \"my-plugin\",\n  \"configSchema\": {\n    \"type\": \"object\",\n    \"additionalProperties\": false,\n    \"properties\": {\n      \"apiKey\": { \"type\": \"string\" },\n      \"region\": { \"type\": \"string\" }\n    }\n  },\n  \"uiHints\": {\n    \"apiKey\": { \"label\": \"API Key\", \"sensitive\": true },\n    \"region\": { \"label\": \"Region\", \"placeholder\": \"us-east-1\" }\n  }\n}\n```",
    "## CLI\n\n```bash\nopenclaw plugins list\nopenclaw plugins info <id>\nopenclaw plugins install <path>                 # copy a local file/dir into ~/.openclaw/extensions/<id>\nopenclaw plugins install ./extensions/voice-call # relative path ok\nopenclaw plugins install ./plugin.tgz           # install from a local tarball\nopenclaw plugins install ./plugin.zip           # install from a local zip\nopenclaw plugins install -l ./extensions/voice-call # link (no copy) for dev\nopenclaw plugins install @openclaw/voice-call # install from npm\nopenclaw plugins update <id>\nopenclaw plugins update --all\nopenclaw plugins enable <id>\nopenclaw plugins disable <id>\nopenclaw plugins doctor\n```\n\n`plugins update` only works for npm installs tracked under `plugins.installs`.\n\nPlugins may also register their own topâ€‘level commands (example: `openclaw voicecall`).",
    "## Plugin API (overview)\n\nPlugins export either:\n\n- A function: `(api) => { ... }`\n- An object: `{ id, name, configSchema, register(api) { ... } }`",
    "## Plugin hooks\n\nPlugins can ship hooks and register them at runtime. This lets a plugin bundle\nevent-driven automation without a separate hook pack install.\n\n### Example\n\n```\nimport { registerPluginHooksFromDir } from \"openclaw/plugin-sdk\";\n\nexport default function register(api) {\n  registerPluginHooksFromDir(api, \"./hooks\");\n}\n```\n\nNotes:\n\n- Hook directories follow the normal hook structure (`HOOK.md` + `handler.ts`).\n- Hook eligibility rules still apply (OS/bins/env/config requirements).\n- Plugin-managed hooks show up in `openclaw hooks list` with `plugin:<id>`.\n- You cannot enable/disable plugin-managed hooks via `openclaw hooks`; enable/disable the plugin instead.",
    "## Provider plugins (model auth)\n\nPlugins can register **model provider auth** flows so users can run OAuth or\nAPI-key setup inside OpenClaw (no external scripts needed).\n\nRegister a provider via `api.registerProvider(...)`. Each provider exposes one\nor more auth methods (OAuth, API key, device code, etc.). These methods power:\n\n- `openclaw models auth login --provider <id> [--method <id>]`\n\nExample:",
    "```ts\napi.registerProvider({\n  id: \"acme\",\n  label: \"AcmeAI\",\n  auth: [\n    {\n      id: \"oauth\",\n      label: \"OAuth\",\n      kind: \"oauth\",\n      run: async (ctx) => {\n        // Run OAuth flow and return auth profiles.\n        return {\n          profiles: [\n            {\n              profileId: \"acme:default\",\n              credential: {\n                type: \"oauth\",\n                provider: \"acme\",\n                access: \"...\",\n                refresh: \"...\",\n                expires: Date.now() + 3600 * 1000,\n              },\n            },\n          ],\n          defaultModel: \"acme/opus-1\",\n        };\n      },\n    },\n  ],\n});\n```\n\nNotes:\n\n- `run` receives a `ProviderAuthContext` with `prompter`, `runtime`,\n  `openUrl`, and `oauth.createVpsAwareHandlers` helpers.\n- Return `configPatch` when you need to add default models or provider config.\n- Return `defaultModel` so `--set-default` can update agent defaults.\n\n### Register a messaging channel",
    "Plugins can register **channel plugins** that behave like builtâ€‘in channels\n(WhatsApp, Telegram, etc.). Channel config lives under `channels.<id>` and is\nvalidated by your channel plugin code.\n\n```ts\nconst myChannel = {\n  id: \"acmechat\",\n  meta: {\n    id: \"acmechat\",\n    label: \"AcmeChat\",\n    selectionLabel: \"AcmeChat (API)\",\n    docsPath: \"/channels/acmechat\",\n    blurb: \"demo channel plugin.\",\n    aliases: [\"acme\"],\n  },\n  capabilities: { chatTypes: [\"direct\"] },\n  config: {\n    listAccountIds: (cfg) => Object.keys(cfg.channels?.acmechat?.accounts ?? {}),\n    resolveAccount: (cfg, accountId) =>\n      cfg.channels?.acmechat?.accounts?.[accountId ?? \"default\"] ?? {\n        accountId,\n      },\n  },\n  outbound: {\n    deliveryMode: \"direct\",\n    sendText: async () => ({ ok: true }),\n  },\n};\n\nexport default function (api) {\n  api.registerChannel({ plugin: myChannel });\n}\n```\n\nNotes:",
    "- Put config under `channels.<id>` (not `plugins.entries`).\n- `meta.label` is used for labels in CLI/UI lists.\n- `meta.aliases` adds alternate ids for normalization and CLI inputs.\n- `meta.preferOver` lists channel ids to skip auto-enable when both are configured.\n- `meta.detailLabel` and `meta.systemImage` let UIs show richer channel labels/icons.\n\n### Write a new messaging channel (stepâ€‘byâ€‘step)\n\nUse this when you want a **new chat surface** (a â€œmessaging channelâ€), not a model provider.\nModel provider docs live under `/providers/*`.\n\n1. Pick an id + config shape\n\n- All channel config lives under `channels.<id>`.\n- Prefer `channels.<id>.accounts.<accountId>` for multiâ€‘account setups.\n\n2. Define the channel metadata",
    "- `meta.label`, `meta.selectionLabel`, `meta.docsPath`, `meta.blurb` control CLI/UI lists.\n- `meta.docsPath` should point at a docs page like `/channels/<id>`.\n- `meta.preferOver` lets a plugin replace another channel (auto-enable prefers it).\n- `meta.detailLabel` and `meta.systemImage` are used by UIs for detail text/icons.\n\n3. Implement the required adapters\n\n- `config.listAccountIds` + `config.resolveAccount`\n- `capabilities` (chat types, media, threads, etc.)\n- `outbound.deliveryMode` + `outbound.sendText` (for basic send)\n\n4. Add optional adapters as needed\n\n- `setup` (wizard), `security` (DM policy), `status` (health/diagnostics)\n- `gateway` (start/stop/login), `mentions`, `threading`, `streaming`\n- `actions` (message actions), `commands` (native command behavior)\n\n5. Register the channel in your plugin\n\n- `api.registerChannel({ plugin })`\n\nMinimal config example:",
    "```json5\n{\n  channels: {\n    acmechat: {\n      accounts: {\n        default: { token: \"ACME_TOKEN\", enabled: true },\n      },\n    },\n  },\n}\n```\n\nMinimal channel plugin (outboundâ€‘only):\n\n```ts\nconst plugin = {\n  id: \"acmechat\",\n  meta: {\n    id: \"acmechat\",\n    label: \"AcmeChat\",\n    selectionLabel: \"AcmeChat (API)\",\n    docsPath: \"/channels/acmechat\",\n    blurb: \"AcmeChat messaging channel.\",\n    aliases: [\"acme\"],\n  },\n  capabilities: { chatTypes: [\"direct\"] },\n  config: {\n    listAccountIds: (cfg) => Object.keys(cfg.channels?.acmechat?.accounts ?? {}),\n    resolveAccount: (cfg, accountId) =>\n      cfg.channels?.acmechat?.accounts?.[accountId ?? \"default\"] ?? {\n        accountId,\n      },\n  },\n  outbound: {\n    deliveryMode: \"direct\",\n    sendText: async ({ text }) => {\n      // deliver `text` to your channel here\n      return { ok: true };\n    },\n  },\n};\n\nexport default function (api) {\n  api.registerChannel({ plugin });\n}\n```",
    "Load the plugin (extensions dir or `plugins.load.paths`), restart the gateway,\nthen configure `channels.<id>` in your config.\n\n### Agent tools\n\nSee the dedicated guide: [Plugin agent tools](/plugins/agent-tools).\n\n### Register a gateway RPC method\n\n```ts\nexport default function (api) {\n  api.registerGatewayMethod(\"myplugin.status\", ({ respond }) => {\n    respond(true, { ok: true });\n  });\n}\n```\n\n### Register CLI commands\n\n```ts\nexport default function (api) {\n  api.registerCli(\n    ({ program }) => {\n      program.command(\"mycmd\").action(() => {\n        console.log(\"Hello\");\n      });\n    },\n    { commands: [\"mycmd\"] },\n  );\n}\n```\n\n### Register auto-reply commands\n\nPlugins can register custom slash commands that execute **without invoking the\nAI agent**. This is useful for toggle commands, status checks, or quick actions\nthat don't need LLM processing.",
    "```ts\nexport default function (api) {\n  api.registerCommand({\n    name: \"mystatus\",\n    description: \"Show plugin status\",\n    handler: (ctx) => ({\n      text: `Plugin is running! Channel: ${ctx.channel}`,\n    }),\n  });\n}\n```\n\nCommand handler context:\n\n- `senderId`: The sender's ID (if available)\n- `channel`: The channel where the command was sent\n- `isAuthorizedSender`: Whether the sender is an authorized user\n- `args`: Arguments passed after the command (if `acceptsArgs: true`)\n- `commandBody`: The full command text\n- `config`: The current OpenClaw config\n\nCommand options:",
    "- `name`: Command name (without the leading `/`)\n- `description`: Help text shown in command lists\n- `acceptsArgs`: Whether the command accepts arguments (default: false). If false and arguments are provided, the command won't match and the message falls through to other handlers\n- `requireAuth`: Whether to require authorized sender (default: true)\n- `handler`: Function that returns `{ text: string }` (can be async)\n\nExample with authorization and arguments:\n\n```ts\napi.registerCommand({\n  name: \"setmode\",\n  description: \"Set plugin mode\",\n  acceptsArgs: true,\n  requireAuth: true,\n  handler: async (ctx) => {\n    const mode = ctx.args?.trim() || \"default\";\n    await saveMode(mode);\n    return { text: `Mode set to: ${mode}` };\n  },\n});\n```\n\nNotes:",
    "- Plugin commands are processed **before** built-in commands and the AI agent\n- Commands are registered globally and work across all channels\n- Command names are case-insensitive (`/MyStatus` matches `/mystatus`)\n- Command names must start with a letter and contain only letters, numbers, hyphens, and underscores\n- Reserved command names (like `help`, `status`, `reset`, etc.) cannot be overridden by plugins\n- Duplicate command registration across plugins will fail with a diagnostic error\n\n### Register background services\n\n```ts\nexport default function (api) {\n  api.registerService({\n    id: \"my-service\",\n    start: () => api.logger.info(\"ready\"),\n    stop: () => api.logger.info(\"bye\"),\n  });\n}\n```",
    "## Naming conventions\n\n- Gateway methods: `pluginId.action` (example: `voicecall.status`)\n- Tools: `snake_case` (example: `voice_call`)\n- CLI commands: kebab or camel, but avoid clashing with core commands",
    "## Skills\n\nPlugins can ship a skill in the repo (`skills/<name>/SKILL.md`).\nEnable it with `plugins.entries.<id>.enabled` (or other config gates) and ensure\nitâ€™s present in your workspace/managed skills locations.",
    "## Distribution (npm)\n\nRecommended packaging:\n\n- Main package: `openclaw` (this repo)\n- Plugins: separate npm packages under `@openclaw/*` (example: `@openclaw/voice-call`)\n\nPublishing contract:\n\n- Plugin `package.json` must include `openclaw.extensions` with one or more entry files.\n- Entry files can be `.js` or `.ts` (jiti loads TS at runtime).\n- `openclaw plugins install <npm-spec>` uses `npm pack`, extracts into `~/.openclaw/extensions/<id>/`, and enables it in config.\n- Config key stability: scoped packages are normalized to the **unscoped** id for `plugins.entries.*`.",
    "## Example plugin: Voice Call\n\nThis repo includes a voiceâ€‘call plugin (Twilio or log fallback):\n\n- Source: `extensions/voice-call`\n- Skill: `skills/voice-call`\n- CLI: `openclaw voicecall start|status`\n- Tool: `voice_call`\n- RPC: `voicecall.start`, `voicecall.status`\n- Config (twilio): `provider: \"twilio\"` + `twilio.accountSid/authToken/from` (optional `statusCallbackUrl`, `twimlUrl`)\n- Config (dev): `provider: \"log\"` (no network)\n\nSee [Voice Call](/plugins/voice-call) and `extensions/voice-call/README.md` for setup and usage.",
    "## Safety notes\n\nPlugins run in-process with the Gateway. Treat them as trusted code:\n\n- Only install plugins you trust.\n- Prefer `plugins.allow` allowlists.\n- Restart the Gateway after changes.",
    "## Testing plugins\n\nPlugins can (and should) ship tests:\n\n- In-repo plugins can keep Vitest tests under `src/**` (example: `src/plugins/voice-call.plugin.test.ts`).\n- Separately published plugins should run their own CI (lint/build/test) and validate `openclaw.extensions` points at the built entrypoint (`dist/index.js`).",
    "---\nsummary: \"CLI reference for `openclaw plugins` (list, install, enable/disable, doctor)\"\nread_when:\n  - You want to install or manage in-process Gateway plugins\n  - You want to debug plugin load failures\ntitle: \"plugins\"\n---\n\n# `openclaw plugins`\n\nManage Gateway plugins/extensions (loaded in-process).\n\nRelated:\n\n- Plugin system: [Plugins](/plugin)\n- Plugin manifest + schema: [Plugin manifest](/plugins/manifest)\n- Security hardening: [Security](/gateway/security)",
    "## Commands\n\n```bash\nopenclaw plugins list\nopenclaw plugins info <id>\nopenclaw plugins enable <id>\nopenclaw plugins disable <id>\nopenclaw plugins doctor\nopenclaw plugins update <id>\nopenclaw plugins update --all\n```\n\nBundled plugins ship with OpenClaw but start disabled. Use `plugins enable` to\nactivate them.\n\nAll plugins must ship a `openclaw.plugin.json` file with an inline JSON Schema\n(`configSchema`, even if empty). Missing/invalid manifests or schemas prevent\nthe plugin from loading and fail config validation.\n\n### Install\n\n```bash\nopenclaw plugins install <path-or-spec>\n```\n\nSecurity note: treat plugin installs like running code. Prefer pinned versions.\n\nSupported archives: `.zip`, `.tgz`, `.tar.gz`, `.tar`.\n\nUse `--link` to avoid copying a local directory (adds to `plugins.load.paths`):\n\n```bash\nopenclaw plugins install -l ./my-plugin\n```\n\n### Update\n\n```bash\nopenclaw plugins update <id>\nopenclaw plugins update --all\nopenclaw plugins update <id> --dry-run\n```",
    "Updates only apply to plugins installed from npm (tracked in `plugins.installs`).",
    "---\nsummary: \"Poll sending via gateway + CLI\"\nread_when:\n  - Adding or modifying poll support\n  - Debugging poll sends from the CLI or gateway\ntitle: \"Polls\"\n---\n\n# Polls",
    "## Supported channels\n\n- WhatsApp (web channel)\n- Discord\n- MS Teams (Adaptive Cards)",
    "## CLI\n\n```bash\n# WhatsApp\nopenclaw message poll --target +15555550123 \\\n  --poll-question \"Lunch today?\" --poll-option \"Yes\" --poll-option \"No\" --poll-option \"Maybe\"\nopenclaw message poll --target 123456789@g.us \\\n  --poll-question \"Meeting time?\" --poll-option \"10am\" --poll-option \"2pm\" --poll-option \"4pm\" --poll-multi\n\n# Discord\nopenclaw message poll --channel discord --target channel:123456789 \\\n  --poll-question \"Snack?\" --poll-option \"Pizza\" --poll-option \"Sushi\"\nopenclaw message poll --channel discord --target channel:123456789 \\\n  --poll-question \"Plan?\" --poll-option \"A\" --poll-option \"B\" --poll-duration-hours 48\n\n# MS Teams\nopenclaw message poll --channel msteams --target conversation:19:abc@thread.tacv2 \\\n  --poll-question \"Lunch?\" --poll-option \"Pizza\" --poll-option \"Sushi\"\n```\n\nOptions:\n\n- `--channel`: `whatsapp` (default), `discord`, or `msteams`\n- `--poll-multi`: allow selecting multiple options\n- `--poll-duration-hours`: Discord-only (defaults to 24 when omitted)",
    "## Gateway RPC\n\nMethod: `poll`\n\nParams:\n\n- `to` (string, required)\n- `question` (string, required)\n- `options` (string[], required)\n- `maxSelections` (number, optional)\n- `durationHours` (number, optional)\n- `channel` (string, optional, default: `whatsapp`)\n- `idempotencyKey` (string, required)",
    "## Channel differences\n\n- WhatsApp: 2-12 options, `maxSelections` must be within option count, ignores `durationHours`.\n- Discord: 2-10 options, `durationHours` clamped to 1-768 hours (default 24). `maxSelections > 1` enables multi-select; Discord does not support a strict selection count.\n- MS Teams: Adaptive Card polls (OpenClaw-managed). No native poll API; `durationHours` is ignored.",
    "## Agent tool (Message)\n\nUse the `message` tool with `poll` action (`to`, `pollQuestion`, `pollOption`, optional `pollMulti`, `pollDurationHours`, `channel`).\n\nNote: Discord has no â€œpick exactly Nâ€ mode; `pollMulti` maps to multi-select.\nTeams polls are rendered as Adaptive Cards and require the gateway to stay online\nto record votes in `~/.openclaw/msteams-polls.json`.",
    "---\nsummary: \"How OpenClaw presence entries are produced, merged, and displayed\"\nread_when:\n  - Debugging the Instances tab\n  - Investigating duplicate or stale instance rows\n  - Changing gateway WS connect or system-event beacons\ntitle: \"Presence\"\n---\n\n# Presence\n\nOpenClaw â€œpresenceâ€ is a lightweight, bestâ€‘effort view of:\n\n- the **Gateway** itself, and\n- **clients connected to the Gateway** (mac app, WebChat, CLI, etc.)\n\nPresence is used primarily to render the macOS appâ€™s **Instances** tab and to\nprovide quick operator visibility.",
    "## Presence fields (what shows up)\n\nPresence entries are structured objects with fields like:\n\n- `instanceId` (optional but strongly recommended): stable client identity (usually `connect.client.instanceId`)\n- `host`: humanâ€‘friendly host name\n- `ip`: bestâ€‘effort IP address\n- `version`: client version string\n- `deviceFamily` / `modelIdentifier`: hardware hints\n- `mode`: `ui`, `webchat`, `cli`, `backend`, `probe`, `test`, `node`, ...\n- `lastInputSeconds`: â€œseconds since last user inputâ€ (if known)\n- `reason`: `self`, `connect`, `node-connected`, `periodic`, ...\n- `ts`: last update timestamp (ms since epoch)",
    "## Producers (where presence comes from)\n\nPresence entries are produced by multiple sources and **merged**.\n\n### 1) Gateway self entry\n\nThe Gateway always seeds a â€œselfâ€ entry at startup so UIs show the gateway host\neven before any clients connect.\n\n### 2) WebSocket connect\n\nEvery WS client begins with a `connect` request. On successful handshake the\nGateway upserts a presence entry for that connection.\n\n#### Why oneâ€‘off CLI commands donâ€™t show up\n\nThe CLI often connects for short, oneâ€‘off commands. To avoid spamming the\nInstances list, `client.mode === \"cli\"` is **not** turned into a presence entry.\n\n### 3) `system-event` beacons\n\nClients can send richer periodic beacons via the `system-event` method. The mac\napp uses this to report host name, IP, and `lastInputSeconds`.\n\n### 4) Node connects (role: node)\n\nWhen a node connects over the Gateway WebSocket with `role: node`, the Gateway\nupserts a presence entry for that node (same flow as other WS clients).",
    "## Merge + dedupe rules (why `instanceId` matters)\n\nPresence entries are stored in a single inâ€‘memory map:\n\n- Entries are keyed by a **presence key**.\n- The best key is a stable `instanceId` (from `connect.client.instanceId`) that survives restarts.\n- Keys are caseâ€‘insensitive.\n\nIf a client reconnects without a stable `instanceId`, it may show up as a\n**duplicate** row.",
    "## TTL and bounded size\n\nPresence is intentionally ephemeral:\n\n- **TTL:** entries older than 5 minutes are pruned\n- **Max entries:** 200 (oldest dropped first)\n\nThis keeps the list fresh and avoids unbounded memory growth.",
    "## Remote/tunnel caveat (loopback IPs)\n\nWhen a client connects over an SSH tunnel / local port forward, the Gateway may\nsee the remote address as `127.0.0.1`. To avoid overwriting a good clientâ€‘reported\nIP, loopback remote addresses are ignored.",
    "## Consumers\n\n### macOS Instances tab\n\nThe macOS app renders the output of `system-presence` and applies a small status\nindicator (Active/Idle/Stale) based on the age of the last update.",
    "## Debugging tips\n\n- To see the raw list, call `system-presence` against the Gateway.\n- If you see duplicates:\n  - confirm clients send a stable `client.instanceId` in the handshake\n  - confirm periodic beacons use the same `instanceId`\n  - check whether the connectionâ€‘derived entry is missing `instanceId` (duplicates are expected)",
    "---\nsummary: \"OpenProse: .prose workflows, slash commands, and state in OpenClaw\"\nread_when:\n  - You want to run or write .prose workflows\n  - You want to enable the OpenProse plugin\n  - You need to understand state storage\ntitle: \"OpenProse\"\n---\n\n# OpenProse\n\nOpenProse is a portable, markdown-first workflow format for orchestrating AI sessions. In OpenClaw it ships as a plugin that installs an OpenProse skill pack plus a `/prose` slash command. Programs live in `.prose` files and can spawn multiple sub-agents with explicit control flow.\n\nOfficial site: [https://www.prose.md](https://www.prose.md)",
    "## What it can do\n\n- Multi-agent research + synthesis with explicit parallelism.\n- Repeatable approval-safe workflows (code review, incident triage, content pipelines).\n- Reusable `.prose` programs you can run across supported agent runtimes.",
    "## Install + enable\n\nBundled plugins are disabled by default. Enable OpenProse:\n\n```bash\nopenclaw plugins enable open-prose\n```\n\nRestart the Gateway after enabling the plugin.\n\nDev/local checkout: `openclaw plugins install ./extensions/open-prose`\n\nRelated docs: [Plugins](/plugin), [Plugin manifest](/plugins/manifest), [Skills](/tools/skills).",
    "## Slash command\n\nOpenProse registers `/prose` as a user-invocable skill command. It routes to the OpenProse VM instructions and uses OpenClaw tools under the hood.\n\nCommon commands:\n\n```\n/prose help\n/prose run <file.prose>\n/prose run <handle/slug>\n/prose run <https://example.com/file.prose>\n/prose compile <file.prose>\n/prose examples\n/prose update\n```",
    "## Example: a simple `.prose` file\n\n```prose\n# Research + synthesis with two agents running in parallel.\n\ninput topic: \"What should we research?\"\n\nagent researcher:\n  model: sonnet\n  prompt: \"You research thoroughly and cite sources.\"\n\nagent writer:\n  model: opus\n  prompt: \"You write a concise summary.\"\n\nparallel:\n  findings = session: researcher\n    prompt: \"Research {topic}.\"\n  draft = session: writer\n    prompt: \"Summarize {topic}.\"\n\nsession \"Merge the findings + draft into a final answer.\"\ncontext: { findings, draft }\n```",
    "## File locations\n\nOpenProse keeps state under `.prose/` in your workspace:\n\n```\n.prose/\nâ”œâ”€â”€ .env\nâ”œâ”€â”€ runs/\nâ”‚   â””â”€â”€ {YYYYMMDD}-{HHMMSS}-{random}/\nâ”‚       â”œâ”€â”€ program.prose\nâ”‚       â”œâ”€â”€ state.md\nâ”‚       â”œâ”€â”€ bindings/\nâ”‚       â””â”€â”€ agents/\nâ””â”€â”€ agents/\n```\n\nUser-level persistent agents live at:\n\n```\n~/.prose/agents/\n```",
    "## State modes\n\nOpenProse supports multiple state backends:\n\n- **filesystem** (default): `.prose/runs/...`\n- **in-context**: transient, for small programs\n- **sqlite** (experimental): requires `sqlite3` binary\n- **postgres** (experimental): requires `psql` and a connection string\n\nNotes:\n\n- sqlite/postgres are opt-in and experimental.\n- postgres credentials flow into subagent logs; use a dedicated, least-privileged DB.",
    "## Remote programs\n\n`/prose run <handle/slug>` resolves to `https://p.prose.md/<handle>/<slug>`.\nDirect URLs are fetched as-is. This uses the `web_fetch` tool (or `exec` for POST).",
    "## OpenClaw runtime mapping\n\nOpenProse programs map to OpenClaw primitives:\n\n| OpenProse concept         | OpenClaw tool    |\n| ------------------------- | ---------------- |\n| Spawn session / Task tool | `sessions_spawn` |\n| File read/write           | `read` / `write` |\n| Web fetch                 | `web_fetch`      |\n\nIf your tool allowlist blocks these tools, OpenProse programs will fail. See [Skills config](/tools/skills-config).",
    "## Security + approvals\n\nTreat `.prose` files like code. Review before running. Use OpenClaw tool allowlists and approval gates to control side effects.\n\nFor deterministic, approval-gated workflows, compare with [Lobster](/tools/lobster).",
    "---\nread_when:\n  - å®ç°æˆ–æ›´æ–° Gateway ç½‘å…³ WS å®¢æˆ·ç«¯\n  - è°ƒè¯•åè®®ä¸åŒ¹é…æˆ–è¿æ¥å¤±è´¥\n  - é‡æ–°ç”Ÿæˆåè®®æ¨¡å¼/æ¨¡å‹\nsummary: Gateway ç½‘å…³ WebSocket åè®®ï¼šæ¡æ‰‹ã€å¸§ã€ç‰ˆæœ¬æ§åˆ¶\ntitle: Gateway ç½‘å…³åè®®\nx-i18n:\n  generated_at: \"2026-02-03T07:48:42Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: bdafac40d53565901b2df450617287664d77fe4ff52681fa00cab9046b2fd850\n  source_path: gateway/protocol.md\n  workflow: 15\n---\n\n# Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰\n\nGateway ç½‘å…³ WS åè®®æ˜¯ OpenClaw çš„**å•ä¸€æ§åˆ¶å¹³é¢ + èŠ‚ç‚¹ä¼ è¾“**ã€‚æ‰€æœ‰å®¢æˆ·ç«¯ï¼ˆCLIã€Web UIã€macOS åº”ç”¨ã€iOS/Android èŠ‚ç‚¹ã€æ— å¤´èŠ‚ç‚¹ï¼‰éƒ½é€šè¿‡ WebSocket è¿æ¥ï¼Œå¹¶åœ¨æ¡æ‰‹æ—¶å£°æ˜å…¶**è§’è‰²** + **ä½œç”¨åŸŸ**ã€‚",
    "## ä¼ è¾“\n\n- WebSocketï¼Œå¸¦æœ‰ JSON è´Ÿè½½çš„æ–‡æœ¬å¸§ã€‚\n- ç¬¬ä¸€å¸§**å¿…é¡»**æ˜¯ `connect` è¯·æ±‚ã€‚",
    "## æ¡æ‰‹ï¼ˆconnectï¼‰\n\nGateway ç½‘å…³ â†’ å®¢æˆ·ç«¯ï¼ˆè¿æ¥å‰è´¨è¯¢ï¼‰ï¼š\n\n```json\n{\n  \"type\": \"event\",\n  \"event\": \"connect.challenge\",\n  \"payload\": { \"nonce\": \"â€¦\", \"ts\": 1737264000000 }\n}\n```\n\nå®¢æˆ·ç«¯ â†’ Gateway ç½‘å…³ï¼š\n\n```json\n{\n  \"type\": \"req\",\n  \"id\": \"â€¦\",\n  \"method\": \"connect\",\n  \"params\": {\n    \"minProtocol\": 3,\n    \"maxProtocol\": 3,\n    \"client\": {\n      \"id\": \"cli\",\n      \"version\": \"1.2.3\",\n      \"platform\": \"macos\",\n      \"mode\": \"operator\"\n    },\n    \"role\": \"operator\",\n    \"scopes\": [\"operator.read\", \"operator.write\"],\n    \"caps\": [],\n    \"commands\": [],\n    \"permissions\": {},\n    \"auth\": { \"token\": \"â€¦\" },\n    \"locale\": \"en-US\",\n    \"userAgent\": \"openclaw-cli/1.2.3\",\n    \"device\": {\n      \"id\": \"device_fingerprint\",\n      \"publicKey\": \"â€¦\",\n      \"signature\": \"â€¦\",\n      \"signedAt\": 1737264000000,\n      \"nonce\": \"â€¦\"\n    }\n  }\n}\n```\n\nGateway ç½‘å…³ â†’ å®¢æˆ·ç«¯ï¼š\n\n```json\n{\n  \"type\": \"res\",\n  \"id\": \"â€¦\",\n  \"ok\": true,\n  \"payload\": { \"type\": \"hello-ok\", \"protocol\": 3, \"policy\": { \"tickIntervalMs\": 15000 } }\n}\n```",
    "å½“é¢å‘è®¾å¤‡ä»¤ç‰Œæ—¶ï¼Œ`hello-ok` è¿˜åŒ…å«ï¼š\n\n```json\n{\n  \"auth\": {\n    \"deviceToken\": \"â€¦\",\n    \"role\": \"operator\",\n    \"scopes\": [\"operator.read\", \"operator.write\"]\n  }\n}\n```\n\n### èŠ‚ç‚¹ç¤ºä¾‹\n\n```json\n{\n  \"type\": \"req\",\n  \"id\": \"â€¦\",\n  \"method\": \"connect\",\n  \"params\": {\n    \"minProtocol\": 3,\n    \"maxProtocol\": 3,\n    \"client\": {\n      \"id\": \"ios-node\",\n      \"version\": \"1.2.3\",\n      \"platform\": \"ios\",\n      \"mode\": \"node\"\n    },\n    \"role\": \"node\",\n    \"scopes\": [],\n    \"caps\": [\"camera\", \"canvas\", \"screen\", \"location\", \"voice\"],\n    \"commands\": [\"camera.snap\", \"canvas.navigate\", \"screen.record\", \"location.get\"],\n    \"permissions\": { \"camera.capture\": true, \"screen.record\": false },\n    \"auth\": { \"token\": \"â€¦\" },\n    \"locale\": \"en-US\",\n    \"userAgent\": \"openclaw-ios/1.2.3\",\n    \"device\": {\n      \"id\": \"device_fingerprint\",\n      \"publicKey\": \"â€¦\",\n      \"signature\": \"â€¦\",\n      \"signedAt\": 1737264000000,\n      \"nonce\": \"â€¦\"\n    }\n  }\n}\n```",
    "## å¸§æ ¼å¼\n\n- **Request**ï¼š`{type:\"req\", id, method, params}`\n- **Response**ï¼š`{type:\"res\", id, ok, payload|error}`\n- **Event**ï¼š`{type:\"event\", event, payload, seq?, stateVersion?}`\n\næœ‰å‰¯ä½œç”¨çš„æ–¹æ³•éœ€è¦**å¹‚ç­‰é”®**ï¼ˆè§æ¨¡å¼ï¼‰ã€‚",
    "## è§’è‰² + ä½œç”¨åŸŸ\n\n### è§’è‰²\n\n- `operator` = æ§åˆ¶å¹³é¢å®¢æˆ·ç«¯ï¼ˆCLI/UI/è‡ªåŠ¨åŒ–ï¼‰ã€‚\n- `node` = èƒ½åŠ›å®¿ä¸»ï¼ˆcamera/screen/canvas/system.runï¼‰ã€‚\n\n### ä½œç”¨åŸŸï¼ˆoperatorï¼‰\n\nå¸¸ç”¨ä½œç”¨åŸŸï¼š\n\n- `operator.read`\n- `operator.write`\n- `operator.admin`\n- `operator.approvals`\n- `operator.pairing`\n\n### èƒ½åŠ›/å‘½ä»¤/æƒé™ï¼ˆnodeï¼‰\n\nèŠ‚ç‚¹åœ¨è¿æ¥æ—¶å£°æ˜èƒ½åŠ›å£°æ˜ï¼š\n\n- `caps`ï¼šé«˜çº§èƒ½åŠ›ç±»åˆ«ã€‚\n- `commands`ï¼šinvoke çš„å‘½ä»¤å…è®¸åˆ—è¡¨ã€‚\n- `permissions`ï¼šç»†ç²’åº¦å¼€å…³ï¼ˆä¾‹å¦‚ `screen.record`ã€`camera.capture`ï¼‰ã€‚\n\nGateway ç½‘å…³å°†è¿™äº›è§†ä¸º**å£°æ˜**å¹¶å¼ºåˆ¶æ‰§è¡ŒæœåŠ¡å™¨ç«¯å…è®¸åˆ—è¡¨ã€‚",
    "## åœ¨çº¿çŠ¶æ€\n\n- `system-presence` è¿”å›ä»¥è®¾å¤‡èº«ä»½ä¸ºé”®çš„æ¡ç›®ã€‚\n- åœ¨çº¿çŠ¶æ€æ¡ç›®åŒ…å« `deviceId`ã€`roles` å’Œ `scopes`ï¼Œä»¥ä¾¿ UI å¯ä»¥ä¸ºæ¯ä¸ªè®¾å¤‡æ˜¾ç¤ºå•è¡Œï¼Œ\n  å³ä½¿å®ƒåŒæ—¶ä»¥ **operator** å’Œ **node** èº«ä»½è¿æ¥ã€‚\n\n### èŠ‚ç‚¹è¾…åŠ©æ–¹æ³•\n\n- èŠ‚ç‚¹å¯ä»¥è°ƒç”¨ `skills.bins` æ¥è·å–å½“å‰çš„ skill å¯æ‰§è¡Œæ–‡ä»¶åˆ—è¡¨ï¼Œ\n  ç”¨äºè‡ªåŠ¨å…è®¸æ£€æŸ¥ã€‚",
    "## Exec å®¡æ‰¹\n\n- å½“ exec è¯·æ±‚éœ€è¦å®¡æ‰¹æ—¶ï¼ŒGateway ç½‘å…³å¹¿æ’­ `exec.approval.requested`ã€‚\n- æ“ä½œè€…å®¢æˆ·ç«¯é€šè¿‡è°ƒç”¨ `exec.approval.resolve` æ¥è§£å†³ï¼ˆéœ€è¦ `operator.approvals` ä½œç”¨åŸŸï¼‰ã€‚",
    "## ç‰ˆæœ¬æ§åˆ¶\n\n- `PROTOCOL_VERSION` åœ¨ `src/gateway/protocol/schema.ts` ä¸­ã€‚\n- å®¢æˆ·ç«¯å‘é€ `minProtocol` + `maxProtocol`ï¼›æœåŠ¡å™¨æ‹’ç»ä¸åŒ¹é…çš„ã€‚\n- æ¨¡å¼ + æ¨¡å‹ä» TypeBox å®šä¹‰ç”Ÿæˆï¼š\n  - `pnpm protocol:gen`\n  - `pnpm protocol:gen:swift`\n  - `pnpm protocol:check`",
    "## è®¤è¯\n\n- å¦‚æœè®¾ç½®äº† `OPENCLAW_GATEWAY_TOKEN`ï¼ˆæˆ– `--token`ï¼‰ï¼Œ`connect.params.auth.token`\n  å¿…é¡»åŒ¹é…ï¼Œå¦åˆ™å¥—æ¥å­—å°†è¢«å…³é—­ã€‚\n- é…å¯¹åï¼ŒGateway ç½‘å…³ä¼šé¢å‘ä¸€ä¸ªä½œç”¨äºè¿æ¥è§’è‰² + ä½œç”¨åŸŸçš„**è®¾å¤‡ä»¤ç‰Œ**ã€‚å®ƒåœ¨ `hello-ok.auth.deviceToken` ä¸­è¿”å›ï¼Œ\n  å®¢æˆ·ç«¯åº”å°†å…¶æŒä¹…åŒ–ä»¥ä¾›å°†æ¥è¿æ¥ä½¿ç”¨ã€‚\n- è®¾å¤‡ä»¤ç‰Œå¯ä»¥é€šè¿‡ `device.token.rotate` å’Œ `device.token.revoke` è½®æ¢/æ’¤é”€ï¼ˆéœ€è¦ `operator.pairing` ä½œç”¨åŸŸï¼‰ã€‚",
    "## è®¾å¤‡èº«ä»½ + é…å¯¹\n\n- èŠ‚ç‚¹åº”åŒ…å«ä»å¯†é’¥å¯¹æŒ‡çº¹æ´¾ç”Ÿçš„ç¨³å®šè®¾å¤‡èº«ä»½ï¼ˆ`device.id`ï¼‰ã€‚\n- Gateway ç½‘å…³ä¸ºæ¯ä¸ªè®¾å¤‡ + è§’è‰²é¢å‘ä»¤ç‰Œã€‚\n- æ–°è®¾å¤‡ ID éœ€è¦é…å¯¹æ‰¹å‡†ï¼Œé™¤éå¯ç”¨äº†æœ¬åœ°è‡ªåŠ¨æ‰¹å‡†ã€‚\n- **æœ¬åœ°**è¿æ¥åŒ…æ‹¬ loopback å’Œ Gateway ç½‘å…³ä¸»æœºè‡ªèº«çš„ tailnet åœ°å€\n  ï¼ˆå› æ­¤åŒä¸»æœº tailnet ç»‘å®šä»å¯è‡ªåŠ¨æ‰¹å‡†ï¼‰ã€‚\n- æ‰€æœ‰ WS å®¢æˆ·ç«¯åœ¨ `connect` æœŸé—´å¿…é¡»åŒ…å« `device` èº«ä»½ï¼ˆoperator + nodeï¼‰ã€‚\n  æ§åˆ¶ UI **ä»…**åœ¨å¯ç”¨ `gateway.controlUi.allowInsecureAuth` æ—¶å¯ä»¥çœç•¥å®ƒ\n  ï¼ˆæˆ–ä½¿ç”¨ `gateway.controlUi.dangerouslyDisableDeviceAuth` ç”¨äºç´§æ€¥æƒ…å†µï¼‰ã€‚\n- éæœ¬åœ°è¿æ¥å¿…é¡»ç­¾ç½²æœåŠ¡å™¨æä¾›çš„ `connect.challenge` nonceã€‚",
    "## TLS + å›ºå®š\n\n- WS è¿æ¥æ”¯æŒ TLSã€‚\n- å®¢æˆ·ç«¯å¯ä»¥é€‰æ‹©æ€§åœ°å›ºå®š Gateway ç½‘å…³è¯ä¹¦æŒ‡çº¹ï¼ˆè§ `gateway.tls`\n  é…ç½®åŠ ä¸Š `gateway.remote.tlsFingerprint` æˆ– CLI `--tls-fingerprint`ï¼‰ã€‚",
    "## èŒƒå›´\n\næ­¤åè®®æš´éœ²**å®Œæ•´çš„ Gateway ç½‘å…³ API**ï¼ˆstatusã€channelsã€modelsã€chatã€\nagentã€sessionsã€nodesã€approvals ç­‰ï¼‰ã€‚ç¡®åˆ‡çš„æ¥å£ç”± `src/gateway/protocol/schema.ts` ä¸­çš„ TypeBox æ¨¡å¼å®šä¹‰ã€‚",
    "---\nsummary: \"Command queue design that serializes inbound auto-reply runs\"\nread_when:\n  - Changing auto-reply execution or concurrency\ntitle: \"Command Queue\"\n---\n\n# Command Queue (2026-01-16)\n\nWe serialize inbound auto-reply runs (all channels) through a tiny in-process queue to prevent multiple agent runs from colliding, while still allowing safe parallelism across sessions.",
    "## Why\n\n- Auto-reply runs can be expensive (LLM calls) and can collide when multiple inbound messages arrive close together.\n- Serializing avoids competing for shared resources (session files, logs, CLI stdin) and reduces the chance of upstream rate limits.",
    "## How it works\n\n- A lane-aware FIFO queue drains each lane with a configurable concurrency cap (default 1 for unconfigured lanes; main defaults to 4, subagent to 8).\n- `runEmbeddedPiAgent` enqueues by **session key** (lane `session:<key>`) to guarantee only one active run per session.\n- Each session run is then queued into a **global lane** (`main` by default) so overall parallelism is capped by `agents.defaults.maxConcurrent`.\n- When verbose logging is enabled, queued runs emit a short notice if they waited more than ~2s before starting.\n- Typing indicators still fire immediately on enqueue (when supported by the channel) so user experience is unchanged while we wait our turn.",
    "## Queue modes (per channel)\n\nInbound messages can steer the current run, wait for a followup turn, or do both:\n\n- `steer`: inject immediately into the current run (cancels pending tool calls after the next tool boundary). If not streaming, falls back to followup.\n- `followup`: enqueue for the next agent turn after the current run ends.\n- `collect`: coalesce all queued messages into a **single** followup turn (default). If messages target different channels/threads, they drain individually to preserve routing.\n- `steer-backlog` (aka `steer+backlog`): steer now **and** preserve the message for a followup turn.\n- `interrupt` (legacy): abort the active run for that session, then run the newest message.\n- `queue` (legacy alias): same as `steer`.",
    "Steer-backlog means you can get a followup response after the steered run, so\nstreaming surfaces can look like duplicates. Prefer `collect`/`steer` if you want\none response per inbound message.\nSend `/queue collect` as a standalone command (per-session) or set `messages.queue.byChannel.discord: \"collect\"`.\n\nDefaults (when unset in config):\n\n- All surfaces â†’ `collect`\n\nConfigure globally or per channel via `messages.queue`:\n\n```json5\n{\n  messages: {\n    queue: {\n      mode: \"collect\",\n      debounceMs: 1000,\n      cap: 20,\n      drop: \"summarize\",\n      byChannel: { discord: \"collect\" },\n    },\n  },\n}\n```",
    "## Queue options\n\nOptions apply to `followup`, `collect`, and `steer-backlog` (and to `steer` when it falls back to followup):\n\n- `debounceMs`: wait for quiet before starting a followup turn (prevents â€œcontinue, continueâ€).\n- `cap`: max queued messages per session.\n- `drop`: overflow policy (`old`, `new`, `summarize`).\n\nSummarize keeps a short bullet list of dropped messages and injects it as a synthetic followup prompt.\nDefaults: `debounceMs: 1000`, `cap: 20`, `drop: summarize`.",
    "## Per-session overrides\n\n- Send `/queue <mode>` as a standalone command to store the mode for the current session.\n- Options can be combined: `/queue collect debounce:2s cap:25 drop:summarize`\n- `/queue default` or `/queue reset` clears the session override.",
    "## Scope and guarantees\n\n- Applies to auto-reply agent runs across all inbound channels that use the gateway reply pipeline (WhatsApp web, Telegram, Slack, Discord, Signal, iMessage, webchat, etc.).\n- Default lane (`main`) is process-wide for inbound + main heartbeats; set `agents.defaults.maxConcurrent` to allow multiple sessions in parallel.\n- Additional lanes may exist (e.g. `cron`, `subagent`) so background jobs can run in parallel without blocking inbound replies.\n- Per-session lanes guarantee that only one agent run touches a given session at a time.\n- No external dependencies or background worker threads; pure TypeScript + promises.",
    "## Troubleshooting\n\n- If commands seem stuck, enable verbose logs and look for â€œqueued for â€¦msâ€ lines to confirm the queue is draining.\n- If you need queue depth, enable verbose logs and watch for queue timing lines.",
    "---\nsummary: \"Quick start has moved to Getting Started.\"\nread_when:\n  - You are looking for the fastest setup steps\n  - You were sent here from an older link\ntitle: \"Quick start\"\n---\n\n# Quick start\n\n<Info>\nQuick start is now part of [Getting Started](/start/getting-started).\n</Info>\n\n<Columns>\n  <Card title=\"Getting Started\" href=\"/start/getting-started\">\n    Install OpenClaw and run your first chat in minutes.\n  </Card>\n  <Card title=\"Onboarding Wizard\" href=\"/start/wizard\">\n    Full CLI wizard reference and advanced options.\n  </Card>\n</Columns>",
    "---\nsummary: \"Use Qwen OAuth (free tier) in OpenClaw\"\nread_when:\n  - You want to use Qwen with OpenClaw\n  - You want free-tier OAuth access to Qwen Coder\ntitle: \"Qwen\"\n---\n\n# Qwen\n\nQwen provides a free-tier OAuth flow for Qwen Coder and Qwen Vision models\n(2,000 requests/day, subject to Qwen rate limits).",
    "## Enable the plugin\n\n```bash\nopenclaw plugins enable qwen-portal-auth\n```\n\nRestart the Gateway after enabling.",
    "## Authenticate\n\n```bash\nopenclaw models auth login --provider qwen-portal --set-default\n```\n\nThis runs the Qwen device-code OAuth flow and writes a provider entry to your\n`models.json` (plus a `qwen` alias for quick switching).",
    "## Model IDs\n\n- `qwen-portal/coder-model`\n- `qwen-portal/vision-model`\n\nSwitch models with:\n\n```bash\nopenclaw models set qwen-portal/coder-model\n```",
    "## Reuse Qwen Code CLI login\n\nIf you already logged in with the Qwen Code CLI, OpenClaw will sync credentials\nfrom `~/.qwen/oauth_creds.json` when it loads the auth store. You still need a\n`models.providers.qwen-portal` entry (use the login command above to create one).",
    "## Notes\n\n- Tokens auto-refresh; re-run the login command if refresh fails or access is revoked.\n- Default base URL: `https://portal.qwen.ai/v1` (override with\n  `models.providers.qwen-portal.baseUrl` if Qwen provides a different endpoint).\n- See [Model providers](/concepts/model-providers) for provider-wide rules.",
    "---\nsummary: \"OpenClaw on Raspberry Pi (budget self-hosted setup)\"\nread_when:\n  - Setting up OpenClaw on a Raspberry Pi\n  - Running OpenClaw on ARM devices\n  - Building a cheap always-on personal AI\ntitle: \"Raspberry Pi\"\n---\n\n# OpenClaw on Raspberry Pi",
    "## Goal\n\nRun a persistent, always-on OpenClaw Gateway on a Raspberry Pi for **~$35-80** one-time cost (no monthly fees).\n\nPerfect for:\n\n- 24/7 personal AI assistant\n- Home automation hub\n- Low-power, always-available Telegram/WhatsApp bot",
    "## Hardware Requirements\n\n| Pi Model        | RAM     | Works?   | Notes                              |\n| --------------- | ------- | -------- | ---------------------------------- |\n| **Pi 5**        | 4GB/8GB | âœ… Best  | Fastest, recommended               |\n| **Pi 4**        | 4GB     | âœ… Good  | Sweet spot for most users          |\n| **Pi 4**        | 2GB     | âœ… OK    | Works, add swap                    |\n| **Pi 4**        | 1GB     | âš ï¸ Tight | Possible with swap, minimal config |\n| **Pi 3B+**      | 1GB     | âš ï¸ Slow  | Works but sluggish                 |\n| **Pi Zero 2 W** | 512MB   | âŒ       | Not recommended                    |\n\n**Minimum specs:** 1GB RAM, 1 core, 500MB disk  \n**Recommended:** 2GB+ RAM, 64-bit OS, 16GB+ SD card (or USB SSD)",
    "## What You'll Need\n\n- Raspberry Pi 4 or 5 (2GB+ recommended)\n- MicroSD card (16GB+) or USB SSD (better performance)\n- Power supply (official Pi PSU recommended)\n- Network connection (Ethernet or WiFi)\n- ~30 minutes",
    "## 1) Flash the OS\n\nUse **Raspberry Pi OS Lite (64-bit)** â€” no desktop needed for a headless server.\n\n1. Download [Raspberry Pi Imager](https://www.raspberrypi.com/software/)\n2. Choose OS: **Raspberry Pi OS Lite (64-bit)**\n3. Click the gear icon (âš™ï¸) to pre-configure:\n   - Set hostname: `gateway-host`\n   - Enable SSH\n   - Set username/password\n   - Configure WiFi (if not using Ethernet)\n4. Flash to your SD card / USB drive\n5. Insert and boot the Pi",
    "## 2) Connect via SSH\n\n```bash\nssh user@gateway-host\n# or use the IP address\nssh user@192.168.x.x\n```",
    "## 3) System Setup\n\n```bash\n# Update system\nsudo apt update && sudo apt upgrade -y\n\n# Install essential packages\nsudo apt install -y git curl build-essential\n\n# Set timezone (important for cron/reminders)\nsudo timedatectl set-timezone America/Chicago  # Change to your timezone\n```",
    "## 4) Install Node.js 22 (ARM64)\n\n```bash\n# Install Node.js via NodeSource\ncurl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -\nsudo apt install -y nodejs\n\n# Verify\nnode --version  # Should show v22.x.x\nnpm --version\n```",
    "## 5) Add Swap (Important for 2GB or less)\n\nSwap prevents out-of-memory crashes:\n\n```bash\n# Create 2GB swap file\nsudo fallocate -l 2G /swapfile\nsudo chmod 600 /swapfile\nsudo mkswap /swapfile\nsudo swapon /swapfile\n\n# Make permanent\necho '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n\n# Optimize for low RAM (reduce swappiness)\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```",
    "## 6) Install OpenClaw\n\n### Option A: Standard Install (Recommended)\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash\n```\n\n### Option B: Hackable Install (For tinkering)\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\nnpm install\nnpm run build\nnpm link\n```\n\nThe hackable install gives you direct access to logs and code â€” useful for debugging ARM-specific issues.",
    "## 7) Run Onboarding\n\n```bash\nopenclaw onboard --install-daemon\n```\n\nFollow the wizard:\n\n1. **Gateway mode:** Local\n2. **Auth:** API keys recommended (OAuth can be finicky on headless Pi)\n3. **Channels:** Telegram is easiest to start with\n4. **Daemon:** Yes (systemd)",
    "## 8) Verify Installation\n\n```bash\n# Check status\nopenclaw status\n\n# Check service\nsudo systemctl status openclaw\n\n# View logs\njournalctl -u openclaw -f\n```",
    "## 9) Access the Dashboard\n\nSince the Pi is headless, use an SSH tunnel:\n\n```bash\n# From your laptop/desktop\nssh -L 18789:localhost:18789 user@gateway-host\n\n# Then open in browser\nopen http://localhost:18789\n```\n\nOr use Tailscale for always-on access:\n\n```bash\n# On the Pi\ncurl -fsSL https://tailscale.com/install.sh | sh\nsudo tailscale up\n\n# Update config\nopenclaw config set gateway.bind tailnet\nsudo systemctl restart openclaw\n```\n\n---",
    "## Performance Optimizations\n\n### Use a USB SSD (Huge Improvement)\n\nSD cards are slow and wear out. A USB SSD dramatically improves performance:\n\n```bash\n# Check if booting from USB\nlsblk\n```\n\nSee [Pi USB boot guide](https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#usb-mass-storage-boot) for setup.\n\n### Reduce Memory Usage\n\n```bash\n# Disable GPU memory allocation (headless)\necho 'gpu_mem=16' | sudo tee -a /boot/config.txt\n\n# Disable Bluetooth if not needed\nsudo systemctl disable bluetooth\n```\n\n### Monitor Resources\n\n```bash\n# Check memory\nfree -h\n\n# Check CPU temperature\nvcgencmd measure_temp\n\n# Live monitoring\nhtop\n```\n\n---",
    "## ARM-Specific Notes\n\n### Binary Compatibility\n\nMost OpenClaw features work on ARM64, but some external binaries may need ARM builds:\n\n| Tool               | ARM64 Status | Notes                               |\n| ------------------ | ------------ | ----------------------------------- |\n| Node.js            | âœ…           | Works great                         |\n| WhatsApp (Baileys) | âœ…           | Pure JS, no issues                  |\n| Telegram           | âœ…           | Pure JS, no issues                  |\n| gog (Gmail CLI)    | âš ï¸           | Check for ARM release               |\n| Chromium (browser) | âœ…           | `sudo apt install chromium-browser` |\n\nIf a skill fails, check if its binary has an ARM build. Many Go/Rust tools do; some don't.\n\n### 32-bit vs 64-bit\n\n**Always use 64-bit OS.** Node.js and many modern tools require it. Check with:\n\n```bash\nuname -m\n# Should show: aarch64 (64-bit) not armv7l (32-bit)\n```\n\n---",
    "## Recommended Model Setup\n\nSince the Pi is just the Gateway (models run in the cloud), use API-based models:\n\n```json\n{\n  \"agents\": {\n    \"defaults\": {\n      \"model\": {\n        \"primary\": \"anthropic/claude-sonnet-4-20250514\",\n        \"fallbacks\": [\"openai/gpt-4o-mini\"]\n      }\n    }\n  }\n}\n```\n\n**Don't try to run local LLMs on a Pi** â€” even small models are too slow. Let Claude/GPT do the heavy lifting.\n\n---",
    "## Auto-Start on Boot\n\nThe onboarding wizard sets this up, but to verify:\n\n```bash\n# Check service is enabled\nsudo systemctl is-enabled openclaw\n\n# Enable if not\nsudo systemctl enable openclaw\n\n# Start on boot\nsudo systemctl start openclaw\n```\n\n---",
    "## Troubleshooting\n\n### Out of Memory (OOM)\n\n```bash\n# Check memory\nfree -h\n\n# Add more swap (see Step 5)\n# Or reduce services running on the Pi\n```\n\n### Slow Performance\n\n- Use USB SSD instead of SD card\n- Disable unused services: `sudo systemctl disable cups bluetooth avahi-daemon`\n- Check CPU throttling: `vcgencmd get_throttled` (should return `0x0`)\n\n### Service Won't Start\n\n```bash\n# Check logs\njournalctl -u openclaw --no-pager -n 100\n\n# Common fix: rebuild\ncd ~/openclaw  # if using hackable install\nnpm run build\nsudo systemctl restart openclaw\n```\n\n### ARM Binary Issues\n\nIf a skill fails with \"exec format error\":\n\n1. Check if the binary has an ARM64 build\n2. Try building from source\n3. Or use a Docker container with ARM support\n\n### WiFi Drops\n\nFor headless Pis on WiFi:\n\n```bash\n# Disable WiFi power management\nsudo iwconfig wlan0 power off\n\n# Make permanent\necho 'wireless-power off' | sudo tee -a /etc/network/interfaces\n```\n\n---",
    "## Cost Comparison\n\n| Setup          | One-Time Cost | Monthly Cost | Notes                     |\n| -------------- | ------------- | ------------ | ------------------------- |\n| **Pi 4 (2GB)** | ~$45          | $0           | + power (~$5/yr)          |\n| **Pi 4 (4GB)** | ~$55          | $0           | Recommended               |\n| **Pi 5 (4GB)** | ~$60          | $0           | Best performance          |\n| **Pi 5 (8GB)** | ~$80          | $0           | Overkill but future-proof |\n| DigitalOcean   | $0            | $6/mo        | $72/year                  |\n| Hetzner        | $0            | â‚¬3.79/mo     | ~$50/year                 |\n\n**Break-even:** A Pi pays for itself in ~6-12 months vs cloud VPS.\n\n---",
    "## See Also\n\n- [Linux guide](/platforms/linux) â€” general Linux setup\n- [DigitalOcean guide](/platforms/digitalocean) â€” cloud alternative\n- [Hetzner guide](/install/hetzner) â€” Docker setup\n- [Tailscale](/gateway/tailscale) â€” remote access\n- [Nodes](/nodes) â€” pair your laptop/phone with the Pi gateway",
    "---\nsummary: \"Reaction semantics shared across channels\"\nread_when:\n  - Working on reactions in any channel\ntitle: \"Reactions\"\n---\n\n# Reaction tooling\n\nShared reaction semantics across channels:\n\n- `emoji` is required when adding a reaction.\n- `emoji=\"\"` removes the bot's reaction(s) when supported.\n- `remove: true` removes the specified emoji when supported (requires `emoji`).\n\nChannel notes:",
    "- **Discord/Slack**: empty `emoji` removes all of the bot's reactions on the message; `remove: true` removes just that emoji.\n- **Google Chat**: empty `emoji` removes the app's reactions on the message; `remove: true` removes just that emoji.\n- **Telegram**: empty `emoji` removes the bot's reactions; `remove: true` also removes reactions but still requires a non-empty `emoji` for tool validation.\n- **WhatsApp**: empty `emoji` removes the bot reaction; `remove: true` maps to empty emoji (still requires `emoji`).\n- **Signal**: inbound reaction notifications emit system events when `channels.signal.reactionNotifications` is enabled.",
    "# OpenClaw docs i18n assets\n\nThis folder stores **generated** and **config** files for documentation translations.",
    "## Files\n\n- `glossary.<lang>.json` â€” preferred term mappings (used in prompt guidance).\n- `<lang>.tm.jsonl` â€” translation memory (cache) keyed by workflow + model + text hash.",
    "## Glossary format\n\n`glossary.<lang>.json` is an array of entries:\n\n```json\n{\n  \"source\": \"troubleshooting\",\n  \"target\": \"æ•…éšœæ’é™¤\",\n  \"ignore_case\": true,\n  \"whole_word\": false\n}\n```\n\nFields:\n\n- `source`: English (or source) phrase to prefer.\n- `target`: preferred translation output.",
    "## Notes\n\n- Glossary entries are passed to the model as **prompt guidance** (no deterministic rewrites).\n- The translation memory is updated by `scripts/docs-i18n`.",
    "---\nsummary: \"OpenClaw macOS release checklist (Sparkle feed, packaging, signing)\"\nread_when:\n  - Cutting or validating a OpenClaw macOS release\n  - Updating the Sparkle appcast or feed assets\ntitle: \"macOS Release\"\n---\n\n# OpenClaw macOS release (Sparkle)\n\nThis app now ships Sparkle auto-updates. Release builds must be Developer IDâ€“signed, zipped, and published with a signed appcast entry.",
    "## Prereqs",
    "- Developer ID Application cert installed (example: `Developer ID Application: <Developer Name> (<TEAMID>)`).\n- Sparkle private key path set in the environment as `SPARKLE_PRIVATE_KEY_FILE` (path to your Sparkle ed25519 private key; public key baked into Info.plist). If it is missing, check `~/.profile`.\n- Notary credentials (keychain profile or API key) for `xcrun notarytool` if you want Gatekeeper-safe DMG/zip distribution.\n  - We use a Keychain profile named `openclaw-notary`, created from App Store Connect API key env vars in your shell profile:\n    - `APP_STORE_CONNECT_API_KEY_P8`, `APP_STORE_CONNECT_KEY_ID`, `APP_STORE_CONNECT_ISSUER_ID`\n    - `echo \"$APP_STORE_CONNECT_API_KEY_P8\" | sed 's/\\\\n/\\n/g' > /tmp/openclaw-notary.p8`\n    - `xcrun notarytool store-credentials \"openclaw-notary\" --key /tmp/openclaw-notary.p8 --key-id \"$APP_STORE_CONNECT_KEY_ID\" --issuer \"$APP_STORE_CONNECT_ISSUER_ID\"`\n- `pnpm` deps installed (`pnpm install --config.node-linker=hoisted`).\n- Sparkle tools are fetched automatically via SwiftPM at `apps/macos/.build/artifacts/sparkle/Sparkle/bin/` (`sign_update`, `generate_appcast`, etc.).",
    "## Build & package\n\nNotes:\n\n- `APP_BUILD` maps to `CFBundleVersion`/`sparkle:version`; keep it numeric + monotonic (no `-beta`), or Sparkle compares it as equal.\n- Defaults to the current architecture (`$(uname -m)`). For release/universal builds, set `BUILD_ARCHS=\"arm64 x86_64\"` (or `BUILD_ARCHS=all`).\n- Use `scripts/package-mac-dist.sh` for release artifacts (zip + DMG + notarization). Use `scripts/package-mac-app.sh` for local/dev packaging.\n\n```bash\n# From repo root; set release IDs so Sparkle feed is enabled.\n# APP_BUILD must be numeric + monotonic for Sparkle compare.\nBUNDLE_ID=bot.molt.mac \\\nAPP_VERSION=2026.2.6 \\\nAPP_BUILD=\"$(git rev-list --count HEAD)\" \\\nBUILD_CONFIG=release \\\nSIGN_IDENTITY=\"Developer ID Application: <Developer Name> (<TEAMID>)\" \\\nscripts/package-mac-app.sh\n\n# Zip for distribution (includes resource forks for Sparkle delta support)\nditto -c -k --sequesterRsrc --keepParent dist/OpenClaw.app dist/OpenClaw-2026.2.6.zip",
    "# Optional: also build a styled DMG for humans (drag to /Applications)\nscripts/create-dmg.sh dist/OpenClaw.app dist/OpenClaw-2026.2.6.dmg\n\n# Recommended: build + notarize/staple zip + DMG\n# First, create a keychain profile once:\n#   xcrun notarytool store-credentials \"openclaw-notary\" \\\n#     --apple-id \"<apple-id>\" --team-id \"<team-id>\" --password \"<app-specific-password>\"\nNOTARIZE=1 NOTARYTOOL_PROFILE=openclaw-notary \\\nBUNDLE_ID=bot.molt.mac \\\nAPP_VERSION=2026.2.6 \\\nAPP_BUILD=\"$(git rev-list --count HEAD)\" \\\nBUILD_CONFIG=release \\\nSIGN_IDENTITY=\"Developer ID Application: <Developer Name> (<TEAMID>)\" \\\nscripts/package-mac-dist.sh\n\n# Optional: ship dSYM alongside the release\nditto -c -k --keepParent apps/macos/.build/release/OpenClaw.app.dSYM dist/OpenClaw-2026.2.6.dSYM.zip\n```",
    "## Appcast entry\n\nUse the release note generator so Sparkle renders formatted HTML notes:\n\n```bash\nSPARKLE_PRIVATE_KEY_FILE=/path/to/ed25519-private-key scripts/make_appcast.sh dist/OpenClaw-2026.2.6.zip https://raw.githubusercontent.com/openclaw/openclaw/main/appcast.xml\n```\n\nGenerates HTML release notes from `CHANGELOG.md` (via [`scripts/changelog-to-html.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/changelog-to-html.sh)) and embeds them in the appcast entry.\nCommit the updated `appcast.xml` alongside the release assets (zip + dSYM) when publishing.",
    "## Publish & verify\n\n- Upload `OpenClaw-2026.2.6.zip` (and `OpenClaw-2026.2.6.dSYM.zip`) to the GitHub release for tag `v2026.2.6`.\n- Ensure the raw appcast URL matches the baked feed: `https://raw.githubusercontent.com/openclaw/openclaw/main/appcast.xml`.\n- Sanity checks:\n  - `curl -I https://raw.githubusercontent.com/openclaw/openclaw/main/appcast.xml` returns 200.\n  - `curl -I <enclosure url>` returns 200 after assets upload.\n  - On a previous public build, run â€œCheck for Updatesâ€¦â€ from the About tab and verify Sparkle installs the new build cleanly.\n\nDefinition of done: signed app + appcast are published, update flow works from an older installed version, and release assets are attached to the GitHub release.",
    "---\nread_when:\n  - å‘å¸ƒæ–°çš„ npm ç‰ˆæœ¬\n  - å‘å¸ƒæ–°çš„ macOS åº”ç”¨ç‰ˆæœ¬\n  - å‘å¸ƒå‰éªŒè¯å…ƒæ•°æ®\nsummary: npm + macOS åº”ç”¨çš„é€æ­¥å‘å¸ƒæ¸…å•\nx-i18n:\n  generated_at: \"2026-02-03T10:09:28Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 1a684bc26665966eb3c9c816d58d18eead008fd710041181ece38c21c5ff1c62\n  source_path: reference/RELEASING.md\n  workflow: 15\n---\n\n# å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰\n\nä»ä»“åº“æ ¹ç›®å½•ä½¿ç”¨ `pnpm`ï¼ˆNode 22+ï¼‰ã€‚åœ¨æ‰“æ ‡ç­¾/å‘å¸ƒå‰ä¿æŒå·¥ä½œæ ‘å¹²å‡€ã€‚",
    "## æ“ä½œå‘˜è§¦å‘\n\nå½“æ“ä½œå‘˜è¯´\"release\"æ—¶ï¼Œç«‹å³æ‰§è¡Œæ­¤é¢„æ£€ï¼ˆé™¤éé‡åˆ°é˜»ç¢å¦åˆ™ä¸è¦é¢å¤–æé—®ï¼‰ï¼š\n\n- é˜…è¯»æœ¬æ–‡æ¡£å’Œ `docs/platforms/mac/release.md`ã€‚\n- ä» `~/.profile` åŠ è½½ç¯å¢ƒå˜é‡å¹¶ç¡®è®¤ `SPARKLE_PRIVATE_KEY_FILE` + App Store Connect å˜é‡å·²è®¾ç½®ï¼ˆSPARKLE_PRIVATE_KEY_FILE åº”ä½äº `~/.profile` ä¸­ï¼‰ã€‚\n- å¦‚éœ€è¦ï¼Œä½¿ç”¨ `~/Library/CloudStorage/Dropbox/Backup/Sparkle` ä¸­çš„ Sparkle å¯†é’¥ã€‚\n\n1. **ç‰ˆæœ¬å’Œå…ƒæ•°æ®**\n\n- [ ] æ›´æ–° `package.json` ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ `2026.1.29`ï¼‰ã€‚\n- [ ] è¿è¡Œ `pnpm plugins:sync` ä»¥å¯¹é½æ‰©å±•åŒ…ç‰ˆæœ¬å’Œå˜æ›´æ—¥å¿—ã€‚\n- [ ] æ›´æ–° CLI/ç‰ˆæœ¬å­—ç¬¦ä¸²ï¼š[`src/cli/program.ts`](https://github.com/openclaw/openclaw/blob/main/src/cli/program.ts) å’Œ [`src/provider-web.ts`](https://github.com/openclaw/openclaw/blob/main/src/provider-web.ts) ä¸­çš„ Baileys user agentã€‚\n- [ ] ç¡®è®¤åŒ…å…ƒæ•°æ®ï¼ˆnameã€descriptionã€repositoryã€keywordsã€licenseï¼‰ä»¥åŠ `bin` æ˜ å°„æŒ‡å‘ [`openclaw.mjs`](https://github.com/openclaw/openclaw/blob/main/openclaw.mjs) ä½œä¸º `openclaw`ã€‚\n- [ ] å¦‚æœä¾èµ–é¡¹æœ‰å˜åŒ–ï¼Œè¿è¡Œ `pnpm install` ç¡®ä¿ `pnpm-lock.yaml` æ˜¯æœ€æ–°çš„ã€‚\n\n2. **æ„å»ºå’Œäº§ç‰©**",
    "- [ ] å¦‚æœ A2UI è¾“å…¥æœ‰å˜åŒ–ï¼Œè¿è¡Œ `pnpm canvas:a2ui:bundle` å¹¶æäº¤æ›´æ–°åçš„ [`src/canvas-host/a2ui/a2ui.bundle.js`](https://github.com/openclaw/openclaw/blob/main/src/canvas-host/a2ui/a2ui.bundle.js)ã€‚\n- [ ] `pnpm run build`ï¼ˆé‡æ–°ç”Ÿæˆ `dist/`ï¼‰ã€‚\n- [ ] éªŒè¯ npm åŒ…çš„ `files` åŒ…å«æ‰€æœ‰å¿…éœ€çš„ `dist/*` æ–‡ä»¶å¤¹ï¼ˆç‰¹åˆ«æ˜¯ç”¨äº headless node + ACP CLI çš„ `dist/node-host/**` å’Œ `dist/acp/**`ï¼‰ã€‚\n- [ ] ç¡®è®¤ `dist/build-info.json` å­˜åœ¨å¹¶åŒ…å«é¢„æœŸçš„ `commit` å“ˆå¸Œï¼ˆCLI æ¨ªå¹…åœ¨ npm å®‰è£…æ—¶ä½¿ç”¨æ­¤ä¿¡æ¯ï¼‰ã€‚\n- [ ] å¯é€‰ï¼šæ„å»ºåè¿è¡Œ `npm pack --pack-destination /tmp`ï¼›æ£€æŸ¥ tarball å†…å®¹å¹¶ä¿ç•™ä»¥å¤‡ GitHub å‘å¸ƒä½¿ç”¨ï¼ˆ**ä¸è¦**æäº¤å®ƒï¼‰ã€‚\n\n3. **å˜æ›´æ—¥å¿—å’Œæ–‡æ¡£**\n\n- [ ] æ›´æ–° `CHANGELOG.md`ï¼Œæ·»åŠ é¢å‘ç”¨æˆ·çš„äº®ç‚¹ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼›æŒ‰ç‰ˆæœ¬ä¸¥æ ¼é™åºæ’åˆ—æ¡ç›®ã€‚\n- [ ] ç¡®ä¿ README ç¤ºä¾‹/æ ‡å¿—ä¸å½“å‰ CLI è¡Œä¸ºåŒ¹é…ï¼ˆç‰¹åˆ«æ˜¯æ–°å‘½ä»¤æˆ–é€‰é¡¹ï¼‰ã€‚\n\n4. **éªŒè¯**",
    "- [ ] `pnpm build`\n- [ ] `pnpm check`\n- [ ] `pnpm test`ï¼ˆå¦‚éœ€è¦†ç›–ç‡è¾“å‡ºåˆ™ä½¿ç”¨ `pnpm test:coverage`ï¼‰\n- [ ] `pnpm release:check`ï¼ˆéªŒè¯ npm pack å†…å®¹ï¼‰\n- [ ] `OPENCLAW_INSTALL_SMOKE_SKIP_NONROOT=1 pnpm test:install:smoke`ï¼ˆDocker å®‰è£…å†’çƒŸæµ‹è¯•ï¼Œå¿«é€Ÿè·¯å¾„ï¼›å‘å¸ƒå‰å¿…éœ€ï¼‰\n  - å¦‚æœå·²çŸ¥ä¸Šä¸€ä¸ª npm å‘å¸ƒç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œä¸ºé¢„å®‰è£…æ­¥éª¤è®¾ç½® `OPENCLAW_INSTALL_SMOKE_PREVIOUS=<last-good-version>` æˆ– `OPENCLAW_INSTALL_SMOKE_SKIP_PREVIOUS=1`ã€‚\n- [ ]ï¼ˆå¯é€‰ï¼‰å®Œæ•´å®‰è£…ç¨‹åºå†’çƒŸæµ‹è¯•ï¼ˆæ·»åŠ é root + CLI è¦†ç›–ï¼‰ï¼š`pnpm test:install:smoke`\n- [ ]ï¼ˆå¯é€‰ï¼‰å®‰è£…ç¨‹åº E2Eï¼ˆDockerï¼Œè¿è¡Œ `curl -fsSL https://openclaw.ai/install.sh | bash`ï¼Œæ–°æ‰‹å¼•å¯¼ï¼Œç„¶åè¿è¡ŒçœŸå®å·¥å…·è°ƒç”¨ï¼‰ï¼š\n  - `pnpm test:install:e2e:openai`ï¼ˆéœ€è¦ `OPENAI_API_KEY`ï¼‰\n  - `pnpm test:install:e2e:anthropic`ï¼ˆéœ€è¦ `ANTHROPIC_API_KEY`ï¼‰\n  - `pnpm test:install:e2e`ï¼ˆéœ€è¦ä¸¤ä¸ªå¯†é’¥ï¼›è¿è¡Œä¸¤ä¸ªæä¾›å•†ï¼‰\n- [ ]ï¼ˆå¯é€‰ï¼‰å¦‚æœä½ çš„æ›´æ”¹å½±å“å‘é€/æ¥æ”¶è·¯å¾„ï¼ŒæŠ½æŸ¥ Web Gateway ç½‘å…³ã€‚\n\n5. **macOS åº”ç”¨ï¼ˆSparkleï¼‰**",
    "- [ ] æ„å»ºå¹¶ç­¾å macOS åº”ç”¨ï¼Œç„¶åå‹ç¼©ä»¥ä¾›åˆ†å‘ã€‚\n- [ ] ç”Ÿæˆ Sparkle appcastï¼ˆé€šè¿‡ [`scripts/make_appcast.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/make_appcast.sh) ç”Ÿæˆ HTML æ³¨é‡Šï¼‰å¹¶æ›´æ–° `appcast.xml`ã€‚\n- [ ] ä¿ç•™åº”ç”¨ zipï¼ˆå’Œå¯é€‰çš„ dSYM zipï¼‰ä»¥ä¾¿é™„åŠ åˆ° GitHub å‘å¸ƒã€‚\n- [ ] æŒ‰ç…§ [macOS å‘å¸ƒ](/platforms/mac/release) è·å–ç¡®åˆ‡å‘½ä»¤å’Œæ‰€éœ€ç¯å¢ƒå˜é‡ã€‚\n  - `APP_BUILD` å¿…é¡»æ˜¯æ•°å­—ä¸”å•è°ƒé€’å¢ï¼ˆä¸å¸¦ `-beta`ï¼‰ï¼Œä»¥ä¾¿ Sparkle æ­£ç¡®æ¯”è¾ƒç‰ˆæœ¬ã€‚\n  - å¦‚æœè¿›è¡Œå…¬è¯ï¼Œä½¿ç”¨ä» App Store Connect API ç¯å¢ƒå˜é‡åˆ›å»ºçš„ `openclaw-notary` é’¥åŒ™ä¸²é…ç½®æ–‡ä»¶ï¼ˆå‚è§ [macOS å‘å¸ƒ](/platforms/mac/release)ï¼‰ã€‚\n\n6. **å‘å¸ƒï¼ˆnpmï¼‰**\n\n- [ ] ç¡®è®¤ git çŠ¶æ€å¹²å‡€ï¼›æ ¹æ®éœ€è¦æäº¤å¹¶æ¨é€ã€‚\n- [ ] å¦‚éœ€è¦ï¼Œ`npm login`ï¼ˆéªŒè¯ 2FAï¼‰ã€‚\n- [ ] `npm publish --access public`ï¼ˆé¢„å‘å¸ƒç‰ˆæœ¬ä½¿ç”¨ `--tag beta`ï¼‰ã€‚\n- [ ] éªŒè¯æ³¨å†Œè¡¨ï¼š`npm view openclaw version`ã€`npm view openclaw dist-tags` å’Œ `npx -y openclaw@X.Y.Z --version`ï¼ˆæˆ– `--help`ï¼‰ã€‚\n\n### æ•…éšœæ’é™¤ï¼ˆæ¥è‡ª 2.0.0-beta2 å‘å¸ƒçš„ç¬”è®°ï¼‰",
    "- **npm pack/publish æŒ‚èµ·æˆ–äº§ç”Ÿå·¨å¤§ tarball**ï¼š`dist/OpenClaw.app` ä¸­çš„ macOS åº”ç”¨åŒ…ï¼ˆå’Œå‘å¸ƒ zipï¼‰è¢«æ‰«å…¥åŒ…ä¸­ã€‚é€šè¿‡ `package.json` çš„ `files` ç™½åå•å‘å¸ƒå†…å®¹æ¥ä¿®å¤ï¼ˆåŒ…å« dist å­ç›®å½•ã€docsã€skillsï¼›æ’é™¤åº”ç”¨åŒ…ï¼‰ã€‚ç”¨ `npm pack --dry-run` ç¡®è®¤ `dist/OpenClaw.app` æœªåˆ—å‡ºã€‚\n- **npm auth dist-tags çš„ Web å¾ªç¯**ï¼šä½¿ç”¨æ—§ç‰ˆè®¤è¯ä»¥è·å– OTP æç¤ºï¼š\n  - `NPM_CONFIG_AUTH_TYPE=legacy npm dist-tag add openclaw@X.Y.Z latest`\n- **`npx` éªŒè¯å¤±è´¥å¹¶æ˜¾ç¤º `ECOMPROMISED: Lock compromised`**ï¼šä½¿ç”¨æ–°ç¼“å­˜é‡è¯•ï¼š\n  - `NPM_CONFIG_CACHE=/tmp/npm-cache-$(date +%s) npx -y openclaw@X.Y.Z --version`\n- **å»¶è¿Ÿä¿®å¤åéœ€è¦é‡æ–°æŒ‡å‘æ ‡ç­¾**ï¼šå¼ºåˆ¶æ›´æ–°å¹¶æ¨é€æ ‡ç­¾ï¼Œç„¶åç¡®ä¿ GitHub å‘å¸ƒèµ„äº§ä»ç„¶åŒ¹é…ï¼š\n  - `git tag -f vX.Y.Z && git push -f origin vX.Y.Z`\n\n7. **GitHub å‘å¸ƒ + appcast**",
    "- [ ] æ‰“æ ‡ç­¾å¹¶æ¨é€ï¼š`git tag vX.Y.Z && git push origin vX.Y.Z`ï¼ˆæˆ– `git push --tags`ï¼‰ã€‚\n- [ ] ä¸º `vX.Y.Z` åˆ›å»º/åˆ·æ–° GitHub å‘å¸ƒï¼Œ**æ ‡é¢˜ä¸º `openclaw X.Y.Z`**ï¼ˆä¸ä»…ä»…æ˜¯æ ‡ç­¾ï¼‰ï¼›æ­£æ–‡åº”åŒ…å«è¯¥ç‰ˆæœ¬çš„**å®Œæ•´**å˜æ›´æ—¥å¿—éƒ¨åˆ†ï¼ˆäº®ç‚¹ + æ›´æ”¹ + ä¿®å¤ï¼‰ï¼Œå†…è”æ˜¾ç¤ºï¼ˆæ— è£¸é“¾æ¥ï¼‰ï¼Œä¸”**ä¸å¾—åœ¨æ­£æ–‡ä¸­é‡å¤æ ‡é¢˜**ã€‚\n- [ ] é™„åŠ äº§ç‰©ï¼š`npm pack` tarballï¼ˆå¯é€‰ï¼‰ã€`OpenClaw-X.Y.Z.zip` å’Œ `OpenClaw-X.Y.Z.dSYM.zip`ï¼ˆå¦‚æœç”Ÿæˆï¼‰ã€‚\n- [ ] æäº¤æ›´æ–°åçš„ `appcast.xml` å¹¶æ¨é€ï¼ˆSparkle ä» main è·å–æºï¼‰ã€‚\n- [ ] ä»å¹²å‡€çš„ä¸´æ—¶ç›®å½•ï¼ˆæ—  `package.json`ï¼‰ï¼Œè¿è¡Œ `npx -y openclaw@X.Y.Z send --help` ç¡®è®¤å®‰è£…/CLI å…¥å£ç‚¹æ­£å¸¸å·¥ä½œã€‚\n- [ ] å®£å¸ƒ/åˆ†äº«å‘å¸ƒè¯´æ˜ã€‚",
    "## æ’ä»¶å‘å¸ƒèŒƒå›´ï¼ˆnpmï¼‰\n\næˆ‘ä»¬åªå‘å¸ƒ `@openclaw/*` èŒƒå›´ä¸‹çš„**ç°æœ‰ npm æ’ä»¶**ã€‚ä¸åœ¨ npm ä¸Šçš„å†…ç½®æ’ä»¶ä¿æŒ**ä»…ç£ç›˜æ ‘**ï¼ˆä»åœ¨ `extensions/**` ä¸­å‘å¸ƒï¼‰ã€‚\n\nè·å–åˆ—è¡¨çš„æµç¨‹ï¼š\n\n1. `npm search @openclaw --json` å¹¶æ•è·åŒ…åã€‚\n2. ä¸ `extensions/*/package.json` åç§°æ¯”è¾ƒã€‚\n3. åªå‘å¸ƒ**äº¤é›†**ï¼ˆå·²åœ¨ npm ä¸Šï¼‰ã€‚\n\nå½“å‰ npm æ’ä»¶åˆ—è¡¨ï¼ˆæ ¹æ®éœ€è¦æ›´æ–°ï¼‰ï¼š\n\n- @openclaw/bluebubbles\n- @openclaw/diagnostics-otel\n- @openclaw/discord\n- @openclaw/lobster\n- @openclaw/matrix\n- @openclaw/msteams\n- @openclaw/nextcloud-talk\n- @openclaw/nostr\n- @openclaw/voice-call\n- @openclaw/zalo\n- @openclaw/zalouser\n\nå‘å¸ƒè¯´æ˜è¿˜å¿…é¡»æ ‡æ³¨**é»˜è®¤æœªå¯ç”¨**çš„**æ–°å¯é€‰å†…ç½®æ’ä»¶**ï¼ˆä¾‹å¦‚ï¼š`tlon`ï¼‰ã€‚",
    "---\nread_when: Connecting the macOS app to a remote gateway over SSH\nsummary: OpenClaw.app è¿æ¥è¿œç¨‹ Gateway ç½‘å…³çš„ SSH éš§é“è®¾ç½®\ntitle: è¿œç¨‹ Gateway ç½‘å…³è®¾ç½®\nx-i18n:\n  generated_at: \"2026-02-03T07:48:37Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: b1ae266a7cb4911b82ae3ec6cb98b1b57aca592aeb1dc8b74bbce9b0ea9dd1d1\n  source_path: gateway/remote-gateway-readme.md\n  workflow: 15\n---\n\n# ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app\n\nOpenClaw.app ä½¿ç”¨ SSH éš§é“è¿æ¥åˆ°è¿œç¨‹ Gateway ç½‘å…³ã€‚æœ¬æŒ‡å—å‘ä½ å±•ç¤ºå¦‚ä½•è®¾ç½®ã€‚",
    "## æ¦‚è¿°",
    "```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        Client Machine                          â”‚\nâ”‚                                                              â”‚\nâ”‚  OpenClaw.app â”€â”€â–º ws://127.0.0.1:18789 (local port)           â”‚\nâ”‚                     â”‚                                        â”‚\nâ”‚                     â–¼                                        â”‚\nâ”‚  SSH Tunnel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚\nâ”‚                     â”‚                                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                      â”‚\n                      â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         Remote Machine                        â”‚\nâ”‚                                                              â”‚\nâ”‚  Gateway WebSocket â”€â”€â–º ws://127.0.0.1:18789 â”€â”€â–º              â”‚\nâ”‚                                                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```",
    "## å¿«é€Ÿè®¾ç½®\n\n### æ­¥éª¤ 1ï¼šæ·»åŠ  SSH é…ç½®\n\nç¼–è¾‘ `~/.ssh/config` å¹¶æ·»åŠ ï¼š\n\n```ssh\nHost remote-gateway\n    HostName <REMOTE_IP>          # e.g., 172.27.187.184\n    User <REMOTE_USER>            # e.g., jefferson\n    LocalForward 18789 127.0.0.1:18789\n    IdentityFile ~/.ssh/id_rsa\n```\n\nå°† `<REMOTE_IP>` å’Œ `<REMOTE_USER>` æ›¿æ¢ä¸ºä½ çš„å€¼ã€‚\n\n### æ­¥éª¤ 2ï¼šå¤åˆ¶ SSH å¯†é’¥\n\nå°†ä½ çš„å…¬é’¥å¤åˆ¶åˆ°è¿œç¨‹æœºå™¨ï¼ˆè¾“å…¥ä¸€æ¬¡å¯†ç ï¼‰ï¼š\n\n```bash\nssh-copy-id -i ~/.ssh/id_rsa <REMOTE_USER>@<REMOTE_IP>\n```\n\n### æ­¥éª¤ 3ï¼šè®¾ç½® Gateway ç½‘å…³ä»¤ç‰Œ\n\n```bash\nlaunchctl setenv OPENCLAW_GATEWAY_TOKEN \"<your-token>\"\n```\n\n### æ­¥éª¤ 4ï¼šå¯åŠ¨ SSH éš§é“\n\n```bash\nssh -N remote-gateway &\n```\n\n### æ­¥éª¤ 5ï¼šé‡å¯ OpenClaw.app\n\n```bash\n# Quit OpenClaw.app (âŒ˜Q), then reopen:\nopen /path/to/OpenClaw.app\n```\n\nåº”ç”¨ç°åœ¨å°†é€šè¿‡ SSH éš§é“è¿æ¥åˆ°è¿œç¨‹ Gateway ç½‘å…³ã€‚\n\n---",
    "## ç™»å½•æ—¶è‡ªåŠ¨å¯åŠ¨éš§é“\n\nè¦åœ¨ç™»å½•æ—¶è‡ªåŠ¨å¯åŠ¨ SSH éš§é“ï¼Œè¯·åˆ›å»ºä¸€ä¸ª Launch Agentã€‚\n\n### åˆ›å»º PLIST æ–‡ä»¶\n\nå°†æ­¤ä¿å­˜ä¸º `~/Library/LaunchAgents/bot.molt.ssh-tunnel.plist`ï¼š\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>Label</key>\n    <string>bot.molt.ssh-tunnel</string>\n    <key>ProgramArguments</key>\n    <array>\n        <string>/usr/bin/ssh</string>\n        <string>-N</string>\n        <string>remote-gateway</string>\n    </array>\n    <key>KeepAlive</key>\n    <true/>\n    <key>RunAtLoad</key>\n    <true/>\n</dict>\n</plist>\n```\n\n### åŠ è½½ Launch Agent\n\n```bash\nlaunchctl bootstrap gui/$UID ~/Library/LaunchAgents/bot.molt.ssh-tunnel.plist\n```\n\néš§é“ç°åœ¨å°†ï¼š\n\n- ç™»å½•æ—¶è‡ªåŠ¨å¯åŠ¨\n- å´©æºƒæ—¶é‡æ–°å¯åŠ¨\n- åœ¨åå°æŒç»­è¿è¡Œ\n\næ—§ç‰ˆæ³¨æ„äº‹é¡¹ï¼šå¦‚æœå­˜åœ¨ä»»ä½•é—ç•™çš„ `com.openclaw.ssh-tunnel` LaunchAgentï¼Œè¯·å°†å…¶åˆ é™¤ã€‚\n\n---",
    "## æ•…éšœæ’é™¤\n\n**æ£€æŸ¥éš§é“æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š**\n\n```bash\nps aux | grep \"ssh -N remote-gateway\" | grep -v grep\nlsof -i :18789\n```\n\n**é‡å¯éš§é“ï¼š**\n\n```bash\nlaunchctl kickstart -k gui/$UID/bot.molt.ssh-tunnel\n```\n\n**åœæ­¢éš§é“ï¼š**\n\n```bash\nlaunchctl bootout gui/$UID/bot.molt.ssh-tunnel\n```\n\n---",
    "## å·¥ä½œåŸç†\n\n| ç»„ä»¶                                 | åŠŸèƒ½                                  |\n| ------------------------------------ | ------------------------------------- |\n| `LocalForward 18789 127.0.0.1:18789` | å°†æœ¬åœ°ç«¯å£ 18789 è½¬å‘åˆ°è¿œç¨‹ç«¯å£ 18789 |\n| `ssh -N`                             | SSH ä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼ˆä»…ç«¯å£è½¬å‘ï¼‰      |\n| `KeepAlive`                          | éš§é“å´©æºƒæ—¶è‡ªåŠ¨é‡å¯                    |\n| `RunAtLoad`                          | ä»£ç†åŠ è½½æ—¶å¯åŠ¨éš§é“                    |\n\nOpenClaw.app è¿æ¥åˆ°ä½ çš„å®¢æˆ·ç«¯æœºå™¨ä¸Šçš„ `ws://127.0.0.1:18789`ã€‚SSH éš§é“å°†è¯¥è¿æ¥è½¬å‘åˆ°è¿è¡Œ Gateway ç½‘å…³çš„è¿œç¨‹æœºå™¨çš„ç«¯å£ 18789ã€‚",
    "---\nsummary: \"macOS app flow for controlling a remote OpenClaw gateway over SSH\"\nread_when:\n  - Setting up or debugging remote mac control\ntitle: \"Remote Control\"\n---\n\n# Remote OpenClaw (macOS â‡„ remote host)\n\nThis flow lets the macOS app act as a full remote control for a OpenClaw gateway running on another host (desktop/server). Itâ€™s the appâ€™s **Remote over SSH** (remote run) feature. All featuresâ€”health checks, Voice Wake forwarding, and Web Chatâ€”reuse the same remote SSH configuration from _Settings â†’ General_.",
    "## Modes\n\n- **Local (this Mac)**: Everything runs on the laptop. No SSH involved.\n- **Remote over SSH (default)**: OpenClaw commands are executed on the remote host. The mac app opens an SSH connection with `-o BatchMode` plus your chosen identity/key and a local port-forward.\n- **Remote direct (ws/wss)**: No SSH tunnel. The mac app connects to the gateway URL directly (for example, via Tailscale Serve or a public HTTPS reverse proxy).",
    "## Remote transports\n\nRemote mode supports two transports:\n\n- **SSH tunnel** (default): Uses `ssh -N -L ...` to forward the gateway port to localhost. The gateway will see the nodeâ€™s IP as `127.0.0.1` because the tunnel is loopback.\n- **Direct (ws/wss)**: Connects straight to the gateway URL. The gateway sees the real client IP.",
    "## Prereqs on the remote host\n\n1. Install Node + pnpm and build/install the OpenClaw CLI (`pnpm install && pnpm build && pnpm link --global`).\n2. Ensure `openclaw` is on PATH for non-interactive shells (symlink into `/usr/local/bin` or `/opt/homebrew/bin` if needed).\n3. Open SSH with key auth. We recommend **Tailscale** IPs for stable reachability off-LAN.",
    "## macOS app setup\n\n1. Open _Settings â†’ General_.\n2. Under **OpenClaw runs**, pick **Remote over SSH** and set:\n   - **Transport**: **SSH tunnel** or **Direct (ws/wss)**.\n   - **SSH target**: `user@host` (optional `:port`).\n     - If the gateway is on the same LAN and advertises Bonjour, pick it from the discovered list to auto-fill this field.\n   - **Gateway URL** (Direct only): `wss://gateway.example.ts.net` (or `ws://...` for local/LAN).\n   - **Identity file** (advanced): path to your key.\n   - **Project root** (advanced): remote checkout path used for commands.\n   - **CLI path** (advanced): optional path to a runnable `openclaw` entrypoint/binary (auto-filled when advertised).\n3. Hit **Test remote**. Success indicates the remote `openclaw status --json` runs correctly. Failures usually mean PATH/CLI issues; exit 127 means the CLI isnâ€™t found remotely.\n4. Health checks and Web Chat will now run through this SSH tunnel automatically.",
    "## Web Chat\n\n- **SSH tunnel**: Web Chat connects to the gateway over the forwarded WebSocket control port (default 18789).\n- **Direct (ws/wss)**: Web Chat connects straight to the configured gateway URL.\n- There is no separate WebChat HTTP server anymore.",
    "## Permissions\n\n- The remote host needs the same TCC approvals as local (Automation, Accessibility, Screen Recording, Microphone, Speech Recognition, Notifications). Run onboarding on that machine to grant them once.\n- Nodes advertise their permission state via `node.list` / `node.describe` so agents know whatâ€™s available.",
    "## Security notes\n\n- Prefer loopback binds on the remote host and connect via SSH or Tailscale.\n- If you bind the Gateway to a non-loopback interface, require token/password auth.\n- See [Security](/gateway/security) and [Tailscale](/gateway/tailscale).",
    "## WhatsApp login flow (remote)\n\n- Run `openclaw channels login --verbose` **on the remote host**. Scan the QR with WhatsApp on your phone.\n- Re-run login on that host if auth expires. Health check will surface link problems.",
    "## Troubleshooting\n\n- **exit 127 / not found**: `openclaw` isnâ€™t on PATH for non-login shells. Add it to `/etc/paths`, your shell rc, or symlink into `/usr/local/bin`/`/opt/homebrew/bin`.\n- **Health probe failed**: check SSH reachability, PATH, and that Baileys is logged in (`openclaw status --json`).\n- **Web Chat stuck**: confirm the gateway is running on the remote host and the forwarded port matches the gateway WS port; the UI requires a healthy WS connection.\n- **Node IP shows 127.0.0.1**: expected with the SSH tunnel. Switch **Transport** to **Direct (ws/wss)** if you want the gateway to see the real client IP.\n- **Voice Wake**: trigger phrases are forwarded automatically in remote mode; no separate forwarder is needed.",
    "## Notification sounds\n\nPick sounds per notification from scripts with `openclaw` and `node.invoke`, e.g.:\n\n```bash\nopenclaw nodes notify --node <id> --title \"Ping\" --body \"Remote gateway ready\" --sound Glass\n```\n\nThere is no global â€œdefault soundâ€ toggle in the app anymore; callers choose a sound (or none) per request.",
    "---\nsummary: \"CLI reference for `openclaw reset` (reset local state/config)\"\nread_when:\n  - You want to wipe local state while keeping the CLI installed\n  - You want a dry-run of what would be removed\ntitle: \"reset\"\n---\n\n# `openclaw reset`\n\nReset local config/state (keeps the CLI installed).\n\n```bash\nopenclaw reset\nopenclaw reset --dry-run\nopenclaw reset --scope config+creds+sessions --yes --non-interactive\n```",
    "---\nsummary: \"Retry policy for outbound provider calls\"\nread_when:\n  - Updating provider retry behavior or defaults\n  - Debugging provider send errors or rate limits\ntitle: \"Retry Policy\"\n---\n\n# Retry policy",
    "## Goals\n\n- Retry per HTTP request, not per multi-step flow.\n- Preserve ordering by retrying only the current step.\n- Avoid duplicating non-idempotent operations.",
    "## Defaults\n\n- Attempts: 3\n- Max delay cap: 30000 ms\n- Jitter: 0.1 (10 percent)\n- Provider defaults:\n  - Telegram min delay: 400 ms\n  - Discord min delay: 500 ms",
    "## Behavior\n\n### Discord\n\n- Retries only on rate-limit errors (HTTP 429).\n- Uses Discord `retry_after` when available, otherwise exponential backoff.\n\n### Telegram\n\n- Retries on transient errors (429, timeout, connect/reset/closed, temporarily unavailable).\n- Uses `retry_after` when available, otherwise exponential backoff.\n- Markdown parse errors are not retried; they fall back to plain text.",
    "## Configuration\n\nSet retry policy per provider in `~/.openclaw/openclaw.json`:\n\n```json5\n{\n  channels: {\n    telegram: {\n      retry: {\n        attempts: 3,\n        minDelayMs: 400,\n        maxDelayMs: 30000,\n        jitter: 0.1,\n      },\n    },\n    discord: {\n      retry: {\n        attempts: 3,\n        minDelayMs: 500,\n        maxDelayMs: 30000,\n        jitter: 0.1,\n      },\n    },\n  },\n}\n```",
    "## Notes\n\n- Retries apply per request (message send, media upload, reaction, poll, sticker).\n- Composite flows do not retry completed steps.",
    "---\nread_when:\n  - æ·»åŠ æˆ–æ›´æ”¹å¤–éƒ¨ CLI é›†æˆ\n  - è°ƒè¯• RPC é€‚é…å™¨ï¼ˆsignal-cliã€imsgï¼‰\nsummary: å¤–éƒ¨ CLIï¼ˆsignal-cliã€imsgï¼‰çš„ RPC é€‚é…å™¨å’Œ Gateway ç½‘å…³æ¨¡å¼\ntitle: RPC é€‚é…å™¨\nx-i18n:\n  generated_at: \"2026-02-03T07:53:44Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: c04edc952390304a22a3a4763aca00a0311b38d390477ec0be5fe485ec257fa7\n  source_path: reference/rpc.md\n  workflow: 15\n---\n\n# RPC é€‚é…å™¨\n\nOpenClaw é€šè¿‡ JSON-RPC é›†æˆå¤–éƒ¨ CLIã€‚ç›®å‰ä½¿ç”¨ä¸¤ç§æ¨¡å¼ã€‚",
    "## æ¨¡å¼ Aï¼šHTTP å®ˆæŠ¤è¿›ç¨‹ï¼ˆsignal-cliï¼‰\n\n- `signal-cli` ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œé€šè¿‡ HTTP ä½¿ç”¨ JSON-RPCã€‚\n- äº‹ä»¶æµæ˜¯ SSEï¼ˆ`/api/v1/events`ï¼‰ã€‚\n- å¥åº·æ¢æµ‹ï¼š`/api/v1/check`ã€‚\n- å½“ `channels.signal.autoStart=true` æ—¶ï¼ŒOpenClaw è´Ÿè´£ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚\n\nè®¾ç½®å’Œç«¯ç‚¹å‚è§ [Signal](/channels/signal)ã€‚",
    "## æ¨¡å¼ Bï¼šstdio å­è¿›ç¨‹ï¼ˆimsgï¼‰\n\n- OpenClaw å°† `imsg rpc` ä½œä¸ºå­è¿›ç¨‹ç”Ÿæˆã€‚\n- JSON-RPC æ˜¯é€šè¿‡ stdin/stdout çš„è¡Œåˆ†éš”æ ¼å¼ï¼ˆæ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼‰ã€‚\n- æ— éœ€ TCP ç«¯å£ï¼Œæ— éœ€å®ˆæŠ¤è¿›ç¨‹ã€‚\n\nä½¿ç”¨çš„æ ¸å¿ƒæ–¹æ³•ï¼š\n\n- `watch.subscribe` â†’ é€šçŸ¥ï¼ˆ`method: \"message\"`ï¼‰\n- `watch.unsubscribe`\n- `send`\n- `chats.list`ï¼ˆæ¢æµ‹/è¯Šæ–­ï¼‰\n\nè®¾ç½®å’Œå¯»å€ï¼ˆé¦–é€‰ `chat_id`ï¼‰å‚è§ [iMessage](/channels/imessage)ã€‚",
    "## é€‚é…å™¨æŒ‡å—\n\n- Gateway ç½‘å…³è´Ÿè´£è¿›ç¨‹ï¼ˆå¯åŠ¨/åœæ­¢ä¸æä¾›å•†ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼‰ã€‚\n- ä¿æŒ RPC å®¢æˆ·ç«¯å¼¹æ€§ï¼šè¶…æ—¶ã€é€€å‡ºæ—¶é‡å¯ã€‚\n- ä¼˜å…ˆä½¿ç”¨ç¨³å®š IDï¼ˆä¾‹å¦‚ `chat_id`ï¼‰è€Œéæ˜¾ç¤ºå­—ç¬¦ä¸²ã€‚",
    "---\nread_when: You hit 'sandbox jail' or see a tool/elevated refusal and want the exact config key to change.\nstatus: active\nsummary: å·¥å…·è¢«é˜»æ­¢çš„åŸå› ï¼šæ²™ç®±è¿è¡Œæ—¶ã€å·¥å…·å…è®¸/æ‹’ç»ç­–ç•¥å’Œææƒ exec é™åˆ¶\ntitle: æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ\nx-i18n:\n  generated_at: \"2026-02-03T07:48:55Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 863ea5e6d137dfb61f12bd686b9557d6df1fd0c13ba5f15861bf72248bc975f1\n  source_path: gateway/sandbox-vs-tool-policy-vs-elevated.md\n  workflow: 15\n---\n\n# æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ\n\nOpenClaw æœ‰ä¸‰ä¸ªç›¸å…³ï¼ˆä½†ä¸åŒï¼‰çš„æ§åˆ¶ï¼š\n\n1. **æ²™ç®±**ï¼ˆ`agents.defaults.sandbox.*` / `agents.list[].sandbox.*`ï¼‰å†³å®š**å·¥å…·åœ¨å“ªé‡Œè¿è¡Œ**ï¼ˆDocker vs ä¸»æœºï¼‰ã€‚\n2. **å·¥å…·ç­–ç•¥**ï¼ˆ`tools.*`ã€`tools.sandbox.tools.*`ã€`agents.list[].tools.*`ï¼‰å†³å®š**å“ªäº›å·¥å…·å¯ç”¨/å…è®¸**ã€‚\n3. **ææƒ**ï¼ˆ`tools.elevated.*`ã€`agents.list[].tools.elevated.*`ï¼‰æ˜¯ä¸€ä¸ª**ä»…é™ exec çš„é€ƒé€¸é€šé“**ï¼Œå…è®¸åœ¨æ²™ç®±éš”ç¦»æ—¶åœ¨ä¸»æœºä¸Šè¿è¡Œã€‚",
    "## å¿«é€Ÿè°ƒè¯•\n\nä½¿ç”¨æ£€æŸ¥å™¨æŸ¥çœ‹ OpenClaw *å®é™…*åœ¨åšä»€ä¹ˆï¼š\n\n```bash\nopenclaw sandbox explain\nopenclaw sandbox explain --session agent:main:main\nopenclaw sandbox explain --agent work\nopenclaw sandbox explain --json\n```\n\nå®ƒä¼šæ‰“å°ï¼š\n\n- ç”Ÿæ•ˆçš„æ²™ç®±æ¨¡å¼/èŒƒå›´/å·¥ä½œåŒºè®¿é—®\n- ä¼šè¯å½“å‰æ˜¯å¦è¢«æ²™ç®±éš”ç¦»ï¼ˆä¸» vs éä¸»ï¼‰\n- ç”Ÿæ•ˆçš„æ²™ç®±å·¥å…·å…è®¸/æ‹’ç»ï¼ˆä»¥åŠå®ƒæ¥è‡ªæ™ºèƒ½ä½“/å…¨å±€/é»˜è®¤å“ªé‡Œï¼‰\n- ææƒé™åˆ¶å’Œä¿®å¤é”®è·¯å¾„",
    "## æ²™ç®±ï¼šå·¥å…·åœ¨å“ªé‡Œè¿è¡Œ\n\næ²™ç®±éš”ç¦»ç”± `agents.defaults.sandbox.mode` æ§åˆ¶ï¼š\n\n- `\"off\"`ï¼šæ‰€æœ‰å†…å®¹åœ¨ä¸»æœºä¸Šè¿è¡Œã€‚\n- `\"non-main\"`ï¼šä»…éä¸»ä¼šè¯è¢«æ²™ç®±éš”ç¦»ï¼ˆç¾¤ç»„/æ¸ é“çš„å¸¸è§\"æ„å¤–\"ï¼‰ã€‚\n- `\"all\"`ï¼šæ‰€æœ‰å†…å®¹éƒ½è¢«æ²™ç®±éš”ç¦»ã€‚\n\nå‚è§[æ²™ç®±éš”ç¦»](/gateway/sandboxing)äº†è§£å®Œæ•´çŸ©é˜µï¼ˆèŒƒå›´ã€å·¥ä½œåŒºæŒ‚è½½ã€é•œåƒï¼‰ã€‚\n\n### ç»‘å®šæŒ‚è½½ï¼ˆå®‰å…¨å¿«é€Ÿæ£€æŸ¥ï¼‰\n\n- `docker.binds` *ç©¿é€*æ²™ç®±æ–‡ä»¶ç³»ç»Ÿï¼šä½ æŒ‚è½½çš„ä»»ä½•å†…å®¹åœ¨å®¹å™¨å†…ä»¥ä½ è®¾ç½®çš„æ¨¡å¼ï¼ˆ`:ro` æˆ– `:rw`ï¼‰å¯è§ã€‚\n- å¦‚æœçœç•¥æ¨¡å¼ï¼Œé»˜è®¤ä¸ºè¯»å†™ï¼›å¯¹äºæºä»£ç /å¯†é’¥ä¼˜å…ˆä½¿ç”¨ `:ro`ã€‚\n- `scope: \"shared\"` å¿½ç•¥æ¯ä¸ªæ™ºèƒ½ä½“çš„ç»‘å®šï¼ˆä»…å…¨å±€ç»‘å®šé€‚ç”¨ï¼‰ã€‚\n- ç»‘å®š `/var/run/docker.sock` å®é™…ä¸Šå°†ä¸»æœºæ§åˆ¶æƒäº¤ç»™æ²™ç®±ï¼›åªæœ‰åœ¨æœ‰æ„ä¸ºä¹‹æ—¶æ‰è¿™æ ·åšã€‚\n- å·¥ä½œåŒºè®¿é—®ï¼ˆ`workspaceAccess: \"ro\"`/`\"rw\"`ï¼‰ç‹¬ç«‹äºç»‘å®šæ¨¡å¼ã€‚",
    "## å·¥å…·ç­–ç•¥ï¼šå“ªäº›å·¥å…·å­˜åœ¨/å¯è°ƒç”¨\n\nä¸¤ä¸ªå±‚æ¬¡å¾ˆé‡è¦ï¼š\n\n- **å·¥å…·é…ç½®æ–‡ä»¶**ï¼š`tools.profile` å’Œ `agents.list[].tools.profile`ï¼ˆåŸºç¡€å…è®¸åˆ—è¡¨ï¼‰\n- **æä¾›å•†å·¥å…·é…ç½®æ–‡ä»¶**ï¼š`tools.byProvider[provider].profile` å’Œ `agents.list[].tools.byProvider[provider].profile`\n- **å…¨å±€/æ¯ä¸ªæ™ºèƒ½ä½“å·¥å…·ç­–ç•¥**ï¼š`tools.allow`/`tools.deny` å’Œ `agents.list[].tools.allow`/`agents.list[].tools.deny`\n- **æä¾›å•†å·¥å…·ç­–ç•¥**ï¼š`tools.byProvider[provider].allow/deny` å’Œ `agents.list[].tools.byProvider[provider].allow/deny`\n- **æ²™ç®±å·¥å…·ç­–ç•¥**ï¼ˆä»…åœ¨æ²™ç®±éš”ç¦»æ—¶é€‚ç”¨ï¼‰ï¼š`tools.sandbox.tools.allow`/`tools.sandbox.tools.deny` å’Œ `agents.list[].tools.sandbox.tools.*`\n\nç»éªŒæ³•åˆ™ï¼š\n\n- `deny` å§‹ç»ˆä¼˜å…ˆã€‚\n- å¦‚æœ `allow` éç©ºï¼Œå…¶ä»–æ‰€æœ‰å†…å®¹éƒ½è¢«è§†ä¸ºé˜»æ­¢ã€‚\n- å·¥å…·ç­–ç•¥æ˜¯ç¡¬æ€§åœæ­¢ï¼š`/exec` æ— æ³•è¦†ç›–è¢«æ‹’ç»çš„ `exec` å·¥å…·ã€‚\n- `/exec` ä»…ä¸ºæˆæƒå‘é€è€…æ›´æ”¹ä¼šè¯é»˜è®¤å€¼ï¼›å®ƒä¸æˆäºˆå·¥å…·è®¿é—®æƒé™ã€‚\n  æä¾›å•†å·¥å…·é”®æ¥å— `provider`ï¼ˆä¾‹å¦‚ `google-antigravity`ï¼‰æˆ– `provider/model`ï¼ˆä¾‹å¦‚ `openai/gpt-5.2`ï¼‰ã€‚\n\n### å·¥å…·ç»„ï¼ˆç®€å†™ï¼‰\n\nå·¥å…·ç­–ç•¥ï¼ˆå…¨å±€ã€æ™ºèƒ½ä½“ã€æ²™ç®±ï¼‰æ”¯æŒ `group:*` æ¡ç›®ï¼Œå®ƒä»¬ä¼šå±•å¼€ä¸ºå¤šä¸ªå·¥å…·ï¼š\n\n```json5\n{\n  tools: {\n    sandbox: {\n      tools: {\n        allow: [\"group:runtime\", \"group:fs\", \"group:sessions\", \"group:memory\"],\n      },\n    },\n  },\n}\n```\n\nå¯ç”¨çš„ç»„ï¼š",
    "- `group:runtime`ï¼š`exec`ã€`bash`ã€`process`\n- `group:fs`ï¼š`read`ã€`write`ã€`edit`ã€`apply_patch`\n- `group:sessions`ï¼š`sessions_list`ã€`sessions_history`ã€`sessions_send`ã€`sessions_spawn`ã€`session_status`\n- `group:memory`ï¼š`memory_search`ã€`memory_get`\n- `group:ui`ï¼š`browser`ã€`canvas`\n- `group:automation`ï¼š`cron`ã€`gateway`\n- `group:messaging`ï¼š`message`\n- `group:nodes`ï¼š`nodes`\n- `group:openclaw`ï¼šæ‰€æœ‰å†…ç½® OpenClaw å·¥å…·ï¼ˆä¸åŒ…æ‹¬æä¾›å•†æ’ä»¶ï¼‰",
    "## ææƒï¼šä»…é™ exec çš„\"åœ¨ä¸»æœºä¸Šè¿è¡Œ\"\n\nææƒ**ä¸ä¼š**æˆäºˆé¢å¤–å·¥å…·ï¼›å®ƒä»…å½±å“ `exec`ã€‚\n\n- å¦‚æœä½ è¢«æ²™ç®±éš”ç¦»ï¼Œ`/elevated on`ï¼ˆæˆ–å¸¦ `elevated: true` çš„ `exec`ï¼‰åœ¨ä¸»æœºä¸Šè¿è¡Œï¼ˆå®¡æ‰¹å¯èƒ½ä»ç„¶é€‚ç”¨ï¼‰ã€‚\n- ä½¿ç”¨ `/elevated full` è·³è¿‡è¯¥ä¼šè¯çš„ exec å®¡æ‰¹ã€‚\n- å¦‚æœä½ å·²ç»ç›´æ¥è¿è¡Œï¼Œææƒå®é™…ä¸Šæ˜¯ç©ºæ“ä½œï¼ˆä»ç„¶å—é™ï¼‰ã€‚\n- ææƒ**ä¸æ˜¯** skill èŒƒå›´çš„ï¼Œ**ä¸ä¼š**è¦†ç›–å·¥å…·å…è®¸/æ‹’ç»ã€‚\n- `/exec` ä¸ææƒæ˜¯åˆ†å¼€çš„ã€‚å®ƒä»…ä¸ºæˆæƒå‘é€è€…è°ƒæ•´æ¯ä¸ªä¼šè¯çš„ exec é»˜è®¤å€¼ã€‚\n\né™åˆ¶ï¼š\n\n- å¯ç”¨ï¼š`tools.elevated.enabled`ï¼ˆä»¥åŠå¯é€‰çš„ `agents.list[].tools.elevated.enabled`ï¼‰\n- å‘é€è€…å…è®¸åˆ—è¡¨ï¼š`tools.elevated.allowFrom.<provider>`ï¼ˆä»¥åŠå¯é€‰çš„ `agents.list[].tools.elevated.allowFrom.<provider>`ï¼‰\n\nå‚è§[ææƒæ¨¡å¼](/tools/elevated)ã€‚",
    "## å¸¸è§\"æ²™ç®±å›°å¢ƒ\"ä¿®å¤\n\n### \"å·¥å…· X è¢«æ²™ç®±å·¥å…·ç­–ç•¥é˜»æ­¢\"\n\nä¿®å¤é”®ï¼ˆé€‰ä¸€ä¸ªï¼‰ï¼š\n\n- ç¦ç”¨æ²™ç®±ï¼š`agents.defaults.sandbox.mode=off`ï¼ˆæˆ–æ¯ä¸ªæ™ºèƒ½ä½“ `agents.list[].sandbox.mode=off`ï¼‰\n- åœ¨æ²™ç®±å†…å…è®¸è¯¥å·¥å…·ï¼š\n  - ä» `tools.sandbox.tools.deny` ä¸­ç§»é™¤å®ƒï¼ˆæˆ–æ¯ä¸ªæ™ºèƒ½ä½“ `agents.list[].tools.sandbox.tools.deny`ï¼‰\n  - æˆ–å°†å®ƒæ·»åŠ åˆ° `tools.sandbox.tools.allow`ï¼ˆæˆ–æ¯ä¸ªæ™ºèƒ½ä½“ allowï¼‰\n\n### \"æˆ‘ä»¥ä¸ºè¿™æ˜¯ä¸»ä¼šè¯ï¼Œä¸ºä»€ä¹ˆè¢«æ²™ç®±éš”ç¦»äº†ï¼Ÿ\"\n\nåœ¨ `\"non-main\"` æ¨¡å¼ä¸‹ï¼Œç¾¤ç»„/æ¸ é“é”®*ä¸æ˜¯*ä¸»ä¼šè¯ã€‚ä½¿ç”¨ä¸»ä¼šè¯é”®ï¼ˆç”± `sandbox explain` æ˜¾ç¤ºï¼‰æˆ–å°†æ¨¡å¼åˆ‡æ¢ä¸º `\"off\"`ã€‚",
    "---\ntitle: Sandbox CLI\nsummary: \"Manage sandbox containers and inspect effective sandbox policy\"\nread_when: \"You are managing sandbox containers or debugging sandbox/tool-policy behavior.\"\nstatus: active\n---\n\n# Sandbox CLI\n\nManage Docker-based sandbox containers for isolated agent execution.",
    "## Overview\n\nOpenClaw can run agents in isolated Docker containers for security. The `sandbox` commands help you manage these containers, especially after updates or configuration changes.",
    "## Commands\n\n### `openclaw sandbox explain`\n\nInspect the **effective** sandbox mode/scope/workspace access, sandbox tool policy, and elevated gates (with fix-it config key paths).\n\n```bash\nopenclaw sandbox explain\nopenclaw sandbox explain --session agent:main:main\nopenclaw sandbox explain --agent work\nopenclaw sandbox explain --json\n```\n\n### `openclaw sandbox list`\n\nList all sandbox containers with their status and configuration.\n\n```bash\nopenclaw sandbox list\nopenclaw sandbox list --browser  # List only browser containers\nopenclaw sandbox list --json     # JSON output\n```\n\n**Output includes:**\n\n- Container name and status (running/stopped)\n- Docker image and whether it matches config\n- Age (time since creation)\n- Idle time (time since last use)\n- Associated session/agent\n\n### `openclaw sandbox recreate`\n\nRemove sandbox containers to force recreation with updated images/config.",
    "```bash\nopenclaw sandbox recreate --all                # Recreate all containers\nopenclaw sandbox recreate --session main       # Specific session\nopenclaw sandbox recreate --agent mybot        # Specific agent\nopenclaw sandbox recreate --browser            # Only browser containers\nopenclaw sandbox recreate --all --force        # Skip confirmation\n```\n\n**Options:**\n\n- `--all`: Recreate all sandbox containers\n- `--session <key>`: Recreate container for specific session\n- `--agent <id>`: Recreate containers for specific agent\n- `--browser`: Only recreate browser containers\n- `--force`: Skip confirmation prompt\n\n**Important:** Containers are automatically recreated when the agent is next used.",
    "## Use Cases\n\n### After updating Docker images\n\n```bash\n# Pull new image\ndocker pull openclaw-sandbox:latest\ndocker tag openclaw-sandbox:latest openclaw-sandbox:bookworm-slim\n\n# Update config to use new image\n# Edit config: agents.defaults.sandbox.docker.image (or agents.list[].sandbox.docker.image)\n\n# Recreate containers\nopenclaw sandbox recreate --all\n```\n\n### After changing sandbox configuration\n\n```bash\n# Edit config: agents.defaults.sandbox.* (or agents.list[].sandbox.*)\n\n# Recreate to apply new config\nopenclaw sandbox recreate --all\n```\n\n### After changing setupCommand\n\n```bash\nopenclaw sandbox recreate --all\n# or just one agent:\nopenclaw sandbox recreate --agent family\n```\n\n### For a specific agent only\n\n```bash\n# Update only one agent's containers\nopenclaw sandbox recreate --agent alfred\n```",
    "## Why is this needed?\n\n**Problem:** When you update sandbox Docker images or configuration:\n\n- Existing containers continue running with old settings\n- Containers are only pruned after 24h of inactivity\n- Regularly-used agents keep old containers running indefinitely\n\n**Solution:** Use `openclaw sandbox recreate` to force removal of old containers. They'll be recreated automatically with current settings when next needed.\n\nTip: prefer `openclaw sandbox recreate` over manual `docker rm`. It uses the\nGatewayâ€™s container naming and avoids mismatches when scope/session keys change.",
    "## Configuration\n\nSandbox settings live in `~/.openclaw/openclaw.json` under `agents.defaults.sandbox` (per-agent overrides go in `agents.list[].sandbox`):\n\n```jsonc\n{\n  \"agents\": {\n    \"defaults\": {\n      \"sandbox\": {\n        \"mode\": \"all\", // off, non-main, all\n        \"scope\": \"agent\", // session, agent, shared\n        \"docker\": {\n          \"image\": \"openclaw-sandbox:bookworm-slim\",\n          \"containerPrefix\": \"openclaw-sbx-\",\n          // ... more Docker options\n        },\n        \"prune\": {\n          \"idleHours\": 24, // Auto-prune after 24h idle\n          \"maxAgeDays\": 7, // Auto-prune after 7 days\n        },\n      },\n    },\n  },\n}\n```",
    "## See Also\n\n- [Sandbox Documentation](/gateway/sandboxing)\n- [Agent Configuration](/concepts/agent-workspace)\n- [Doctor Command](/gateway/doctor) - Check sandbox setup",
    "---\nread_when: You want a dedicated explanation of sandboxing or need to tune agents.defaults.sandbox.\nstatus: active\nsummary: OpenClaw æ²™ç®±éš”ç¦»çš„å·¥ä½œåŸç†ï¼šæ¨¡å¼ã€ä½œç”¨åŸŸã€å·¥ä½œåŒºè®¿é—®å’Œé•œåƒ\ntitle: æ²™ç®±éš”ç¦»\nx-i18n:\n  generated_at: \"2026-02-03T07:49:29Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 184fc53001fc6b2847bbb1963cc9c54475d62f74555a581a262a448a0333a209\n  source_path: gateway/sandboxing.md\n  workflow: 15\n---\n\n# æ²™ç®±éš”ç¦»\n\nOpenClaw å¯ä»¥**åœ¨ Docker å®¹å™¨å†…è¿è¡Œå·¥å…·**ä»¥å‡å°‘å½±å“èŒƒå›´ã€‚\nè¿™æ˜¯**å¯é€‰çš„**ï¼Œç”±é…ç½®æ§åˆ¶ï¼ˆ`agents.defaults.sandbox` æˆ– `agents.list[].sandbox`ï¼‰ã€‚å¦‚æœæ²™ç®±éš”ç¦»å…³é—­ï¼Œå·¥å…·åœ¨ä¸»æœºä¸Šè¿è¡Œã€‚\nGateway ç½‘å…³ä¿ç•™åœ¨ä¸»æœºä¸Šï¼›å¯ç”¨æ—¶å·¥å…·æ‰§è¡Œåœ¨éš”ç¦»çš„æ²™ç®±ä¸­è¿è¡Œã€‚\n\nè¿™ä¸æ˜¯å®Œç¾çš„å®‰å…¨è¾¹ç•Œï¼Œä½†å½“æ¨¡å‹åšå‡ºæ„šè ¢è¡Œä¸ºæ—¶ï¼Œå®ƒå®è´¨æ€§åœ°é™åˆ¶äº†æ–‡ä»¶ç³»ç»Ÿå’Œè¿›ç¨‹è®¿é—®ã€‚",
    "## ä»€ä¹ˆä¼šè¢«æ²™ç®±éš”ç¦»\n\n- å·¥å…·æ‰§è¡Œï¼ˆ`exec`ã€`read`ã€`write`ã€`edit`ã€`apply_patch`ã€`process` ç­‰ï¼‰ã€‚\n- å¯é€‰çš„æ²™ç®±æµè§ˆå™¨ï¼ˆ`agents.defaults.sandbox.browser`ï¼‰ã€‚\n  - é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æµè§ˆå™¨å·¥å…·éœ€è¦æ—¶ï¼Œæ²™ç®±æµè§ˆå™¨ä¼šè‡ªåŠ¨å¯åŠ¨ï¼ˆç¡®ä¿ CDP å¯è¾¾ï¼‰ã€‚\n    é€šè¿‡ `agents.defaults.sandbox.browser.autoStart` å’Œ `agents.defaults.sandbox.browser.autoStartTimeoutMs` é…ç½®ã€‚\n  - `agents.defaults.sandbox.browser.allowHostControl` å…è®¸æ²™ç®±ä¼šè¯æ˜¾å¼å®šä½ä¸»æœºæµè§ˆå™¨ã€‚\n  - å¯é€‰çš„å…è®¸åˆ—è¡¨é™åˆ¶ `target: \"custom\"`ï¼š`allowedControlUrls`ã€`allowedControlHosts`ã€`allowedControlPorts`ã€‚\n\nä¸è¢«æ²™ç®±éš”ç¦»ï¼š\n\n- Gateway ç½‘å…³è¿›ç¨‹æœ¬èº«ã€‚\n- ä»»ä½•æ˜ç¡®å…è®¸åœ¨ä¸»æœºä¸Šè¿è¡Œçš„å·¥å…·ï¼ˆä¾‹å¦‚ `tools.elevated`ï¼‰ã€‚\n  - **ææƒ exec åœ¨ä¸»æœºä¸Šè¿è¡Œå¹¶ç»•è¿‡æ²™ç®±éš”ç¦»ã€‚**\n  - å¦‚æœæ²™ç®±éš”ç¦»å…³é—­ï¼Œ`tools.elevated` ä¸ä¼šæ”¹å˜æ‰§è¡Œï¼ˆå·²ç»åœ¨ä¸»æœºä¸Šï¼‰ã€‚å‚è§[ææƒæ¨¡å¼](/tools/elevated)ã€‚",
    "## æ¨¡å¼\n\n`agents.defaults.sandbox.mode` æ§åˆ¶**ä½•æ—¶**ä½¿ç”¨æ²™ç®±éš”ç¦»ï¼š\n\n- `\"off\"`ï¼šä¸ä½¿ç”¨æ²™ç®±éš”ç¦»ã€‚\n- `\"non-main\"`ï¼šä»…æ²™ç®±éš”ç¦»**éä¸»**ä¼šè¯ï¼ˆå¦‚æœä½ æƒ³è®©æ™®é€šèŠå¤©åœ¨ä¸»æœºä¸Šè¿è¡Œï¼Œè¿™æ˜¯é»˜è®¤å€¼ï¼‰ã€‚\n- `\"all\"`ï¼šæ¯ä¸ªä¼šè¯éƒ½åœ¨æ²™ç®±ä¸­è¿è¡Œã€‚\n  æ³¨æ„ï¼š`\"non-main\"` åŸºäº `session.mainKey`ï¼ˆé»˜è®¤ `\"main\"`ï¼‰ï¼Œè€Œä¸æ˜¯æ™ºèƒ½ä½“ IDã€‚\n  ç¾¤ç»„/é¢‘é“ä¼šè¯ä½¿ç”¨å®ƒä»¬è‡ªå·±çš„é”®ï¼Œå› æ­¤å®ƒä»¬ç®—ä½œéä¸»ä¼šè¯å¹¶å°†è¢«æ²™ç®±éš”ç¦»ã€‚",
    "## ä½œç”¨åŸŸ\n\n`agents.defaults.sandbox.scope` æ§åˆ¶**åˆ›å»ºå¤šå°‘å®¹å™¨**ï¼š\n\n- `\"session\"`ï¼ˆé»˜è®¤ï¼‰ï¼šæ¯ä¸ªä¼šè¯ä¸€ä¸ªå®¹å™¨ã€‚\n- `\"agent\"`ï¼šæ¯ä¸ªæ™ºèƒ½ä½“ä¸€ä¸ªå®¹å™¨ã€‚\n- `\"shared\"`ï¼šæ‰€æœ‰æ²™ç®±ä¼šè¯å…±äº«ä¸€ä¸ªå®¹å™¨ã€‚",
    "## å·¥ä½œåŒºè®¿é—®\n\n`agents.defaults.sandbox.workspaceAccess` æ§åˆ¶**æ²™ç®±å¯ä»¥çœ‹åˆ°ä»€ä¹ˆ**ï¼š\n\n- `\"none\"`ï¼ˆé»˜è®¤ï¼‰ï¼šå·¥å…·çœ‹åˆ° `~/.openclaw/sandboxes` ä¸‹çš„æ²™ç®±å·¥ä½œåŒºã€‚\n- `\"ro\"`ï¼šä»¥åªè¯»æ–¹å¼åœ¨ `/agent` æŒ‚è½½æ™ºèƒ½ä½“å·¥ä½œåŒºï¼ˆç¦ç”¨ `write`/`edit`/`apply_patch`ï¼‰ã€‚\n- `\"rw\"`ï¼šä»¥è¯»å†™æ–¹å¼åœ¨ `/workspace` æŒ‚è½½æ™ºèƒ½ä½“å·¥ä½œåŒºã€‚\n\nå…¥ç«™åª’ä½“è¢«å¤åˆ¶åˆ°æ´»åŠ¨æ²™ç®±å·¥ä½œåŒºï¼ˆ`media/inbound/*`ï¼‰ã€‚\nSkills æ³¨æ„äº‹é¡¹ï¼š`read` å·¥å…·ä»¥æ²™ç®±ä¸ºæ ¹ã€‚ä½¿ç”¨ `workspaceAccess: \"none\"` æ—¶ï¼ŒOpenClaw å°†ç¬¦åˆæ¡ä»¶çš„ Skills é•œåƒåˆ°æ²™ç®±å·¥ä½œåŒºï¼ˆ`.../skills`ï¼‰ä»¥ä¾¿å¯ä»¥è¯»å–ã€‚ä½¿ç”¨ `\"rw\"` æ—¶ï¼Œå·¥ä½œåŒº Skills å¯ä» `/workspace/skills` è¯»å–ã€‚",
    "## è‡ªå®šä¹‰ç»‘å®šæŒ‚è½½\n\n`agents.defaults.sandbox.docker.binds` å°†é¢å¤–çš„ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚\næ ¼å¼ï¼š`host:container:mode`ï¼ˆä¾‹å¦‚ `\"/home/user/source:/source:rw\"`ï¼‰ã€‚\n\nå…¨å±€å’Œæ¯æ™ºèƒ½ä½“çš„ç»‘å®šæ˜¯**åˆå¹¶**çš„ï¼ˆä¸æ˜¯æ›¿æ¢ï¼‰ã€‚åœ¨ `scope: \"shared\"` ä¸‹ï¼Œæ¯æ™ºèƒ½ä½“çš„ç»‘å®šè¢«å¿½ç•¥ã€‚\n\nç¤ºä¾‹ï¼ˆåªè¯»æºç  + docker å¥—æ¥å­—ï¼‰ï¼š\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        docker: {\n          binds: [\"/home/user/source:/source:ro\", \"/var/run/docker.sock:/var/run/docker.sock\"],\n        },\n      },\n    },\n    list: [\n      {\n        id: \"build\",\n        sandbox: {\n          docker: {\n            binds: [\"/mnt/cache:/cache:rw\"],\n          },\n        },\n      },\n    ],\n  },\n}\n```\n\nå®‰å…¨æ³¨æ„äº‹é¡¹ï¼š\n\n- ç»‘å®šç»•è¿‡æ²™ç®±æ–‡ä»¶ç³»ç»Ÿï¼šå®ƒä»¬ä»¥ä½ è®¾ç½®çš„ä»»ä½•æ¨¡å¼ï¼ˆ`:ro` æˆ– `:rw`ï¼‰æš´éœ²ä¸»æœºè·¯å¾„ã€‚\n- æ•æ„ŸæŒ‚è½½ï¼ˆä¾‹å¦‚ `docker.sock`ã€å¯†é’¥ã€SSH å¯†é’¥ï¼‰åº”è¯¥æ˜¯ `:ro`ï¼Œé™¤éç»å¯¹å¿…è¦ã€‚\n- å¦‚æœä½ åªéœ€è¦å¯¹å·¥ä½œåŒºçš„è¯»å–è®¿é—®ï¼Œè¯·ç»“åˆ `workspaceAccess: \"ro\"`ï¼›ç»‘å®šæ¨¡å¼ä¿æŒç‹¬ç«‹ã€‚\n- å‚è§[æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ](/gateway/sandbox-vs-tool-policy-vs-elevated)äº†è§£ç»‘å®šå¦‚ä½•ä¸å·¥å…·ç­–ç•¥å’Œææƒ exec äº¤äº’ã€‚",
    "## é•œåƒ + è®¾ç½®\n\né»˜è®¤é•œåƒï¼š`openclaw-sandbox:bookworm-slim`\n\næ„å»ºä¸€æ¬¡ï¼š\n\n```bash\nscripts/sandbox-setup.sh\n```\n\næ³¨æ„ï¼šé»˜è®¤é•œåƒ**ä¸**åŒ…å« Nodeã€‚å¦‚æœ Skills éœ€è¦ Nodeï¼ˆæˆ–å…¶ä»–è¿è¡Œæ—¶ï¼‰ï¼Œè¦ä¹ˆæ„å»ºè‡ªå®šä¹‰é•œåƒï¼Œè¦ä¹ˆé€šè¿‡ `sandbox.docker.setupCommand` å®‰è£…ï¼ˆéœ€è¦ç½‘ç»œå‡ºå£ + å¯å†™æ ¹ + root ç”¨æˆ·ï¼‰ã€‚\n\næ²™ç®±æµè§ˆå™¨é•œåƒï¼š\n\n```bash\nscripts/sandbox-browser-setup.sh\n```\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ²™ç®±å®¹å™¨è¿è¡Œæ—¶**æ²¡æœ‰ç½‘ç»œ**ã€‚\né€šè¿‡ `agents.defaults.sandbox.docker.network` è¦†ç›–ã€‚\n\nDocker å®‰è£…å’Œå®¹å™¨åŒ– Gateway ç½‘å…³åœ¨æ­¤ï¼š\n[Docker](/install/docker)",
    "## setupCommandï¼ˆä¸€æ¬¡æ€§å®¹å™¨è®¾ç½®ï¼‰\n\n`setupCommand` åœ¨æ²™ç®±å®¹å™¨åˆ›å»ºå**è¿è¡Œä¸€æ¬¡**ï¼ˆä¸æ˜¯æ¯æ¬¡è¿è¡Œï¼‰ã€‚\nå®ƒé€šè¿‡ `sh -lc` åœ¨å®¹å™¨å†…æ‰§è¡Œã€‚\n\nè·¯å¾„ï¼š\n\n- å…¨å±€ï¼š`agents.defaults.sandbox.docker.setupCommand`\n- æ¯æ™ºèƒ½ä½“ï¼š`agents.list[].sandbox.docker.setupCommand`\n\nå¸¸è§é™·é˜±ï¼š\n\n- é»˜è®¤ `docker.network` æ˜¯ `\"none\"`ï¼ˆæ— å‡ºå£ï¼‰ï¼Œå› æ­¤åŒ…å®‰è£…ä¼šå¤±è´¥ã€‚\n- `readOnlyRoot: true` é˜»æ­¢å†™å…¥ï¼›è®¾ç½® `readOnlyRoot: false` æˆ–æ„å»ºè‡ªå®šä¹‰é•œåƒã€‚\n- `user` å¿…é¡»æ˜¯ root æ‰èƒ½å®‰è£…åŒ…ï¼ˆçœç•¥ `user` æˆ–è®¾ç½® `user: \"0:0\"`ï¼‰ã€‚\n- æ²™ç®± exec **ä¸**ç»§æ‰¿ä¸»æœº `process.env`ã€‚ä½¿ç”¨ `agents.defaults.sandbox.docker.env`ï¼ˆæˆ–è‡ªå®šä¹‰é•œåƒï¼‰è®¾ç½® Skills API å¯†é’¥ã€‚",
    "## å·¥å…·ç­–ç•¥ + é€ƒé€¸é€šé“\n\nå·¥å…·å…è®¸/æ‹’ç»ç­–ç•¥ä»åœ¨æ²™ç®±è§„åˆ™ä¹‹å‰åº”ç”¨ã€‚å¦‚æœå·¥å…·åœ¨å…¨å±€æˆ–æ¯æ™ºèƒ½ä½“è¢«æ‹’ç»ï¼Œæ²™ç®±éš”ç¦»ä¸ä¼šæ¢å¤å®ƒã€‚\n\n`tools.elevated` æ˜¯ä¸€ä¸ªæ˜¾å¼çš„é€ƒé€¸é€šé“ï¼Œåœ¨ä¸»æœºä¸Šè¿è¡Œ `exec`ã€‚\n`/exec` æŒ‡ä»¤ä»…é€‚ç”¨äºæˆæƒå‘é€è€…å¹¶æŒ‰ä¼šè¯æŒä¹…åŒ–ï¼›è¦ç¡¬ç¦ç”¨ `exec`ï¼Œä½¿ç”¨å·¥å…·ç­–ç•¥æ‹’ç»ï¼ˆå‚è§[æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ](/gateway/sandbox-vs-tool-policy-vs-elevated)ï¼‰ã€‚\n\nè°ƒè¯•ï¼š\n\n- ä½¿ç”¨ `openclaw sandbox explain` æ£€æŸ¥ç”Ÿæ•ˆçš„æ²™ç®±æ¨¡å¼ã€å·¥å…·ç­–ç•¥å’Œä¿®å¤é…ç½®é”®ã€‚\n- å‚è§[æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ](/gateway/sandbox-vs-tool-policy-vs-elevated)äº†è§£\"ä¸ºä»€ä¹ˆè¢«é˜»æ­¢ï¼Ÿ\"çš„å¿ƒæ™ºæ¨¡å‹ã€‚\n  ä¿æŒé”å®šã€‚",
    "## å¤šæ™ºèƒ½ä½“è¦†ç›–\n\næ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥è¦†ç›–æ²™ç®± + å·¥å…·ï¼š\n`agents.list[].sandbox` å’Œ `agents.list[].tools`ï¼ˆåŠ ä¸Š `agents.list[].tools.sandbox.tools` ç”¨äºæ²™ç®±å·¥å…·ç­–ç•¥ï¼‰ã€‚\nå‚è§[å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools)äº†è§£ä¼˜å…ˆçº§ã€‚",
    "## æœ€å°å¯ç”¨ç¤ºä¾‹\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        mode: \"non-main\",\n        scope: \"session\",\n        workspaceAccess: \"none\",\n      },\n    },\n  },\n}\n```",
    "## ç›¸å…³æ–‡æ¡£\n\n- [æ²™ç®±é…ç½®](/gateway/configuration#agentsdefaults-sandbox)\n- [å¤šæ™ºèƒ½ä½“æ²™ç®±ä¸å·¥å…·](/multi-agent-sandbox-tools)\n- [å®‰å…¨](/gateway/security)",
    "---\nread_when:\n  - ä»ä»“åº“è¿è¡Œè„šæœ¬æ—¶\n  - åœ¨ ./scripts ä¸‹æ·»åŠ æˆ–ä¿®æ”¹è„šæœ¬æ—¶\nsummary: ä»“åº“è„šæœ¬ï¼šç”¨é€”ã€èŒƒå›´å’Œå®‰å…¨æ³¨æ„äº‹é¡¹\ntitle: è„šæœ¬\nx-i18n:\n  generated_at: \"2026-02-01T21:38:11Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: bfedc3c123c4a43b351f793e2137568786f90732723da5fd223c2a088bc59e43\n  source_path: scripts.md\n  workflow: 15\n---\n\n# è„šæœ¬\n\n`scripts/` ç›®å½•åŒ…å«ç”¨äºæœ¬åœ°å·¥ä½œæµå’Œè¿ç»´ä»»åŠ¡çš„è¾…åŠ©è„šæœ¬ã€‚\nå½“ä»»åŠ¡æ˜ç¡®ä¸æŸä¸ªè„šæœ¬ç›¸å…³æ—¶ä½¿ç”¨è¿™äº›è„šæœ¬ï¼›å¦åˆ™ä¼˜å…ˆä½¿ç”¨ CLIã€‚",
    "## çº¦å®š\n\n- é™¤éåœ¨æ–‡æ¡£æˆ–å‘å¸ƒæ£€æŸ¥æ¸…å•ä¸­å¼•ç”¨ï¼Œå¦åˆ™è„šæœ¬ä¸º**å¯é€‰**ã€‚\n- å½“ CLI æ¥å£å­˜åœ¨æ—¶ä¼˜å…ˆä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼šè®¤è¯ç›‘æ§ä½¿ç”¨ `openclaw models status --check`ï¼‰ã€‚\n- å‡å®šè„šæœ¬ä¸ç‰¹å®šä¸»æœºç›¸å…³ï¼›åœ¨æ–°æœºå™¨ä¸Šè¿è¡Œå‰è¯·å…ˆé˜…è¯»è„šæœ¬å†…å®¹ã€‚",
    "## è®¤è¯ç›‘æ§è„šæœ¬\n\nè®¤è¯ç›‘æ§è„šæœ¬çš„æ–‡æ¡£è¯·å‚é˜…ï¼š\n[/automation/auth-monitoring](/automation/auth-monitoring)",
    "## æ·»åŠ è„šæœ¬æ—¶\n\n- ä¿æŒè„šæœ¬ä¸“æ³¨ä¸”æœ‰æ–‡æ¡£è¯´æ˜ã€‚\n- åœ¨ç›¸å…³æ–‡æ¡£ä¸­æ·»åŠ ç®€çŸ­æ¡ç›®ï¼ˆå¦‚æœç¼ºå°‘åˆ™åˆ›å»ºä¸€ä¸ªï¼‰ã€‚",
    "---\nsummary: \"CLI reference for `openclaw security` (audit and fix common security footguns)\"\nread_when:\n  - You want to run a quick security audit on config/state\n  - You want to apply safe â€œfixâ€ suggestions (chmod, tighten defaults)\ntitle: \"security\"\n---\n\n# `openclaw security`\n\nSecurity tools (audit + optional fixes).\n\nRelated:\n\n- Security guide: [Security](/gateway/security)",
    "## Audit\n\n```bash\nopenclaw security audit\nopenclaw security audit --deep\nopenclaw security audit --fix\n```\n\nThe audit warns when multiple DM senders share the main session and recommends **secure DM mode**: `session.dmScope=\"per-channel-peer\"` (or `per-account-channel-peer` for multi-account channels) for shared inboxes.\nIt also warns when small models (`<=300B`) are used without sandboxing and with web/browser tools enabled.",
    "---\nread_when:\n  - ä½ éœ€è¦è°ƒè¯•ä¼šè¯ IDã€è®°å½• JSONL æˆ– sessions.json å­—æ®µ\n  - ä½ æ­£åœ¨æ›´æ”¹è‡ªåŠ¨å‹ç¼©è¡Œä¸ºæˆ–æ·»åŠ \"å‹ç¼©å‰\"å†…åŠ¡å¤„ç†\n  - ä½ æƒ³å®ç°è®°å¿†åˆ·æ–°æˆ–é™é»˜ç³»ç»Ÿå›åˆ\nsummary: æ·±å…¥äº†è§£ï¼šä¼šè¯å­˜å‚¨ + è®°å½•ã€ç”Ÿå‘½å‘¨æœŸå’Œï¼ˆè‡ªåŠ¨ï¼‰å‹ç¼©å†…éƒ¨æœºåˆ¶\ntitle: ä¼šè¯ç®¡ç†æ·±å…¥äº†è§£\nx-i18n:\n  generated_at: \"2026-02-03T07:54:38Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: bf3715770ba634363933f6038117b6a91af11c62f5191aaaf97e6bce099bc120\n  source_path: reference/session-management-compaction.md\n  workflow: 15\n---\n\n# ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰\n\næœ¬æ–‡æ¡£è§£é‡Š OpenClaw å¦‚ä½•ç«¯åˆ°ç«¯ç®¡ç†ä¼šè¯ï¼š\n\n- **ä¼šè¯è·¯ç”±**ï¼ˆå…¥ç«™æ¶ˆæ¯å¦‚ä½•æ˜ å°„åˆ° `sessionKey`ï¼‰\n- **ä¼šè¯å­˜å‚¨**ï¼ˆ`sessions.json`ï¼‰åŠå…¶è·Ÿè¸ªçš„å†…å®¹\n- **è®°å½•æŒä¹…åŒ–**ï¼ˆ`*.jsonl`ï¼‰åŠå…¶ç»“æ„\n- **è®°å½•æ¸…ç†**ï¼ˆè¿è¡Œå‰çš„æä¾›å•†ç‰¹å®šä¿®å¤ï¼‰\n- **ä¸Šä¸‹æ–‡é™åˆ¶**ï¼ˆä¸Šä¸‹æ–‡çª—å£ vs è·Ÿè¸ªçš„ token æ•°ï¼‰\n- **å‹ç¼©**ï¼ˆæ‰‹åŠ¨ + è‡ªåŠ¨å‹ç¼©ï¼‰ä»¥åŠåœ¨ä½•å¤„æŒ‚æ¥å‹ç¼©å‰å·¥ä½œ\n- **é™é»˜å†…åŠ¡å¤„ç†**ï¼ˆä¾‹å¦‚ä¸åº”äº§ç”Ÿç”¨æˆ·å¯è§è¾“å‡ºçš„è®°å¿†å†™å…¥ï¼‰\n\nå¦‚æœä½ æƒ³å…ˆäº†è§£æ›´é«˜å±‚æ¬¡çš„æ¦‚è¿°ï¼Œè¯·ä»ä»¥ä¸‹å†…å®¹å¼€å§‹ï¼š\n\n- [/concepts/session](/concepts/session)\n- [/concepts/compaction](/concepts/compaction)\n- [/concepts/session-pruning](/concepts/session-pruning)\n- [/reference/transcript-hygiene](/reference/transcript-hygiene)\n\n---",
    "## äº‹å®æ¥æºï¼šGateway ç½‘å…³\n\nOpenClaw å›´ç»•ä¸€ä¸ªæ‹¥æœ‰ä¼šè¯çŠ¶æ€çš„å•ä¸€ **Gateway ç½‘å…³è¿›ç¨‹**è®¾è®¡ã€‚\n\n- UIï¼ˆmacOS åº”ç”¨ã€web æ§åˆ¶ UIã€TUIï¼‰åº”è¯¥å‘ Gateway ç½‘å…³æŸ¥è¯¢ä¼šè¯åˆ—è¡¨å’Œ token è®¡æ•°ã€‚\n- åœ¨è¿œç¨‹æ¨¡å¼ä¸‹ï¼Œä¼šè¯æ–‡ä»¶åœ¨è¿œç¨‹ä¸»æœºä¸Šï¼›\"æ£€æŸ¥ä½ çš„æœ¬åœ° Mac æ–‡ä»¶\"ä¸ä¼šåæ˜  Gateway ç½‘å…³æ­£åœ¨ä½¿ç”¨çš„å†…å®¹ã€‚\n\n---",
    "## ä¸¤ä¸ªæŒä¹…åŒ–å±‚\n\nOpenClaw åœ¨ä¸¤ä¸ªå±‚ä¸­æŒä¹…åŒ–ä¼šè¯ï¼š\n\n1. **ä¼šè¯å­˜å‚¨ï¼ˆ`sessions.json`ï¼‰**\n   - é”®/å€¼æ˜ å°„ï¼š`sessionKey -> SessionEntry`\n   - å°å‹ã€å¯å˜ã€å¯å®‰å…¨ç¼–è¾‘ï¼ˆæˆ–åˆ é™¤æ¡ç›®ï¼‰\n   - è·Ÿè¸ªä¼šè¯å…ƒæ•°æ®ï¼ˆå½“å‰ä¼šè¯ IDã€æœ€åæ´»åŠ¨æ—¶é—´ã€å¼€å…³ã€token è®¡æ•°å™¨ç­‰ï¼‰\n\n2. **è®°å½•ï¼ˆ`<sessionId>.jsonl`ï¼‰**\n   - å…·æœ‰æ ‘å½¢ç»“æ„çš„ä»…è¿½åŠ è®°å½•ï¼ˆæ¡ç›®æœ‰ `id` + `parentId`ï¼‰\n   - å­˜å‚¨å®é™…å¯¹è¯ + å·¥å…·è°ƒç”¨ + å‹ç¼©æ‘˜è¦\n   - ç”¨äºä¸ºåç»­å›åˆé‡å»ºæ¨¡å‹ä¸Šä¸‹æ–‡\n\n---",
    "## ç£ç›˜ä¸Šçš„ä½ç½®\n\nåœ¨ Gateway ç½‘å…³ä¸»æœºä¸Šï¼Œæ¯ä¸ªæ™ºèƒ½ä½“ï¼š\n\n- å­˜å‚¨ï¼š`~/.openclaw/agents/<agentId>/sessions/sessions.json`\n- è®°å½•ï¼š`~/.openclaw/agents/<agentId>/sessions/<sessionId>.jsonl`\n  - Telegram è¯é¢˜ä¼šè¯ï¼š`.../<sessionId>-topic-<threadId>.jsonl`\n\nOpenClaw é€šè¿‡ `src/config/sessions.ts` è§£æè¿™äº›ä½ç½®ã€‚\n\n---",
    "## ä¼šè¯é”®ï¼ˆ`sessionKey`ï¼‰\n\n`sessionKey` æ ‡è¯†ä½ æ‰€åœ¨çš„*å“ªä¸ªå¯¹è¯æ¡¶*ï¼ˆè·¯ç”± + éš”ç¦»ï¼‰ã€‚\n\nå¸¸è§æ¨¡å¼ï¼š\n\n- ä¸»è¦/ç›´æ¥èŠå¤©ï¼ˆæ¯ä¸ªæ™ºèƒ½ä½“ï¼‰ï¼š`agent:<agentId>:<mainKey>`ï¼ˆé»˜è®¤ `main`ï¼‰\n- ç¾¤ç»„ï¼š`agent:<agentId>:<channel>:group:<id>`\n- æˆ¿é—´/é¢‘é“ï¼ˆDiscord/Slackï¼‰ï¼š`agent:<agentId>:<channel>:channel:<id>` æˆ– `...:room:<id>`\n- å®šæ—¶ä»»åŠ¡ï¼š`cron:<job.id>`\n- Webhookï¼š`hook:<uuid>`ï¼ˆé™¤éè¢«è¦†ç›–ï¼‰\n\nè§„èŒƒè§„åˆ™è®°å½•åœ¨ [/concepts/session](/concepts/session)ã€‚\n\n---",
    "## ä¼šè¯ IDï¼ˆ`sessionId`ï¼‰\n\næ¯ä¸ª `sessionKey` æŒ‡å‘ä¸€ä¸ªå½“å‰çš„ `sessionId`ï¼ˆç»§ç»­å¯¹è¯çš„è®°å½•æ–‡ä»¶ï¼‰ã€‚\n\nç»éªŒæ³•åˆ™ï¼š\n\n- **é‡ç½®**ï¼ˆ`/new`ã€`/reset`ï¼‰ä¸ºè¯¥ `sessionKey` åˆ›å»ºä¸€ä¸ªæ–°çš„ `sessionId`ã€‚\n- **æ¯æ—¥é‡ç½®**ï¼ˆé»˜è®¤ Gateway ç½‘å…³ä¸»æœºæœ¬åœ°æ—¶é—´å‡Œæ™¨ 4:00ï¼‰åœ¨é‡ç½®è¾¹ç•Œåçš„ä¸‹ä¸€æ¡æ¶ˆæ¯æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„ `sessionId`ã€‚\n- **ç©ºé—²è¿‡æœŸ**ï¼ˆ`session.reset.idleMinutes` æˆ–æ—§ç‰ˆ `session.idleMinutes`ï¼‰å½“æ¶ˆæ¯åœ¨ç©ºé—²çª—å£ååˆ°è¾¾æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„ `sessionId`ã€‚å½“åŒæ—¶é…ç½®äº†æ¯æ—¥å’Œç©ºé—²æ—¶ï¼Œä»¥å…ˆè¿‡æœŸè€…ä¸ºå‡†ã€‚\n\nå®ç°ç»†èŠ‚ï¼šå†³ç­–å‘ç”Ÿåœ¨ `src/auto-reply/reply/session.ts` çš„ `initSessionState()` ä¸­ã€‚\n\n---",
    "## ä¼šè¯å­˜å‚¨æ¨¡å¼ï¼ˆ`sessions.json`ï¼‰\n\nå­˜å‚¨çš„å€¼ç±»å‹æ˜¯ `src/config/sessions.ts` ä¸­çš„ `SessionEntry`ã€‚\n\nå…³é”®å­—æ®µï¼ˆä¸å®Œæ•´ï¼‰ï¼š\n\n- `sessionId`ï¼šå½“å‰è®°å½• IDï¼ˆæ–‡ä»¶åä»æ­¤æ´¾ç”Ÿï¼Œé™¤éè®¾ç½®äº† `sessionFile`ï¼‰\n- `updatedAt`ï¼šæœ€åæ´»åŠ¨æ—¶é—´æˆ³\n- `sessionFile`ï¼šå¯é€‰çš„æ˜¾å¼è®°å½•è·¯å¾„è¦†ç›–\n- `chatType`ï¼š`direct | group | room`ï¼ˆå¸®åŠ© UI å’Œå‘é€ç­–ç•¥ï¼‰\n- `provider`ã€`subject`ã€`room`ã€`space`ã€`displayName`ï¼šç¾¤ç»„/é¢‘é“æ ‡ç­¾çš„å…ƒæ•°æ®\n- å¼€å…³ï¼š\n  - `thinkingLevel`ã€`verboseLevel`ã€`reasoningLevel`ã€`elevatedLevel`\n  - `sendPolicy`ï¼ˆæ¯ä¼šè¯è¦†ç›–ï¼‰\n- æ¨¡å‹é€‰æ‹©ï¼š\n  - `providerOverride`ã€`modelOverride`ã€`authProfileOverride`\n- Token è®¡æ•°å™¨ï¼ˆå°½åŠ›è€Œä¸º/ä¾èµ–æä¾›å•†ï¼‰ï¼š\n  - `inputTokens`ã€`outputTokens`ã€`totalTokens`ã€`contextTokens`\n- `compactionCount`ï¼šæ­¤ä¼šè¯é”®å®Œæˆè‡ªåŠ¨å‹ç¼©çš„æ¬¡æ•°\n- `memoryFlushAt`ï¼šæœ€åä¸€æ¬¡å‹ç¼©å‰è®°å¿†åˆ·æ–°çš„æ—¶é—´æˆ³\n- `memoryFlushCompactionCount`ï¼šæœ€åä¸€æ¬¡åˆ·æ–°è¿è¡Œæ—¶çš„å‹ç¼©è®¡æ•°\n\nå­˜å‚¨å¯ä»¥å®‰å…¨ç¼–è¾‘ï¼Œä½† Gateway ç½‘å…³æ˜¯æƒå¨ï¼šå®ƒå¯èƒ½ä¼šåœ¨ä¼šè¯è¿è¡Œæ—¶é‡å†™æˆ–é‡æ–°æ°´åˆæ¡ç›®ã€‚\n\n---",
    "## è®°å½•ç»“æ„ï¼ˆ`*.jsonl`ï¼‰\n\nè®°å½•ç”± `@mariozechner/pi-coding-agent` çš„ `SessionManager` ç®¡ç†ã€‚\n\næ–‡ä»¶æ˜¯ JSONL æ ¼å¼ï¼š\n\n- ç¬¬ä¸€è¡Œï¼šä¼šè¯å¤´ï¼ˆ`type: \"session\"`ï¼ŒåŒ…æ‹¬ `id`ã€`cwd`ã€`timestamp`ã€å¯é€‰çš„ `parentSession`ï¼‰\n- ç„¶åï¼šå¸¦æœ‰ `id` + `parentId` çš„ä¼šè¯æ¡ç›®ï¼ˆæ ‘å½¢ç»“æ„ï¼‰\n\nå€¼å¾—æ³¨æ„çš„æ¡ç›®ç±»å‹ï¼š\n\n- `message`ï¼šç”¨æˆ·/åŠ©æ‰‹/å·¥å…·ç»“æœæ¶ˆæ¯\n- `custom_message`ï¼šæ‰©å±•æ³¨å…¥çš„æ¶ˆæ¯ï¼Œ*ç¡®å®*è¿›å…¥æ¨¡å‹ä¸Šä¸‹æ–‡ï¼ˆå¯ä»¥ä» UI éšè—ï¼‰\n- `custom`ï¼š*ä¸*è¿›å…¥æ¨¡å‹ä¸Šä¸‹æ–‡çš„æ‰©å±•çŠ¶æ€\n- `compaction`ï¼šæŒä¹…åŒ–çš„å‹ç¼©æ‘˜è¦ï¼Œå¸¦æœ‰ `firstKeptEntryId` å’Œ `tokensBefore`\n- `branch_summary`ï¼šå¯¼èˆªæ ‘åˆ†æ”¯æ—¶çš„æŒä¹…åŒ–æ‘˜è¦\n\nOpenClaw æœ‰æ„**ä¸**\"ä¿®å¤\"è®°å½•ï¼›Gateway ç½‘å…³ä½¿ç”¨ `SessionManager` æ¥è¯»/å†™å®ƒä»¬ã€‚\n\n---",
    "## ä¸Šä¸‹æ–‡çª—å£ vs è·Ÿè¸ªçš„ token\n\nä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µå¾ˆé‡è¦ï¼š\n\n1. **æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£**ï¼šæ¯ä¸ªæ¨¡å‹çš„ç¡¬ä¸Šé™ï¼ˆæ¨¡å‹å¯è§çš„ tokenï¼‰\n2. **ä¼šè¯å­˜å‚¨è®¡æ•°å™¨**ï¼šå†™å…¥ `sessions.json` çš„æ»šåŠ¨ç»Ÿè®¡ï¼ˆç”¨äº /status å’Œä»ªè¡¨æ¿ï¼‰\n\nå¦‚æœä½ åœ¨è°ƒæ•´é™åˆ¶ï¼š\n\n- ä¸Šä¸‹æ–‡çª—å£æ¥è‡ªæ¨¡å‹ç›®å½•ï¼ˆå¯ä»¥é€šè¿‡é…ç½®è¦†ç›–ï¼‰ã€‚\n- å­˜å‚¨ä¸­çš„ `contextTokens` æ˜¯è¿è¡Œæ—¶ä¼°è®¡/æŠ¥å‘Šå€¼ï¼›ä¸è¦å°†å…¶è§†ä¸ºä¸¥æ ¼ä¿è¯ã€‚\n\næ›´å¤šä¿¡æ¯ï¼Œå‚è§ [/token-use](/token-use)ã€‚\n\n---",
    "## å‹ç¼©ï¼šå®ƒæ˜¯ä»€ä¹ˆ\n\nå‹ç¼©å°†è¾ƒæ—§çš„å¯¹è¯æ€»ç»“ä¸ºè®°å½•ä¸­çš„æŒä¹…åŒ– `compaction` æ¡ç›®ï¼Œå¹¶ä¿æŒæœ€è¿‘çš„æ¶ˆæ¯ä¸å˜ã€‚\n\nå‹ç¼©åï¼Œæœªæ¥çš„å›åˆä¼šçœ‹åˆ°ï¼š\n\n- å‹ç¼©æ‘˜è¦\n- `firstKeptEntryId` ä¹‹åçš„æ¶ˆæ¯\n\nå‹ç¼©æ˜¯**æŒä¹…åŒ–çš„**ï¼ˆä¸ä¼šè¯ä¿®å‰ªä¸åŒï¼‰ã€‚å‚è§ [/concepts/session-pruning](/concepts/session-pruning)ã€‚\n\n---",
    "## è‡ªåŠ¨å‹ç¼©ä½•æ—¶å‘ç”Ÿï¼ˆPi è¿è¡Œæ—¶ï¼‰\n\nåœ¨åµŒå…¥å¼ Pi æ™ºèƒ½ä½“ä¸­ï¼Œè‡ªåŠ¨å‹ç¼©åœ¨ä¸¤ç§æƒ…å†µä¸‹è§¦å‘ï¼š\n\n1. **æº¢å‡ºæ¢å¤**ï¼šæ¨¡å‹è¿”å›ä¸Šä¸‹æ–‡æº¢å‡ºé”™è¯¯ â†’ å‹ç¼© â†’ é‡è¯•ã€‚\n2. **é˜ˆå€¼ç»´æŠ¤**ï¼šåœ¨æˆåŠŸçš„å›åˆåï¼Œå½“ï¼š\n\n`contextTokens > contextWindow - reserveTokens`\n\nå…¶ä¸­ï¼š\n\n- `contextWindow` æ˜¯æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£\n- `reserveTokens` æ˜¯ä¸ºæç¤º + ä¸‹ä¸€ä¸ªæ¨¡å‹è¾“å‡ºä¿ç•™çš„ç©ºé—´\n\nè¿™äº›æ˜¯ Pi è¿è¡Œæ—¶è¯­ä¹‰ï¼ˆOpenClaw æ¶ˆè´¹äº‹ä»¶ï¼Œä½† Pi å†³å®šä½•æ—¶å‹ç¼©ï¼‰ã€‚\n\n---",
    "## å‹ç¼©è®¾ç½®ï¼ˆ`reserveTokens`ã€`keepRecentTokens`ï¼‰\n\nPi çš„å‹ç¼©è®¾ç½®ä½äº Pi è®¾ç½®ä¸­ï¼š\n\n```json5\n{\n  compaction: {\n    enabled: true,\n    reserveTokens: 16384,\n    keepRecentTokens: 20000,\n  },\n}\n```\n\nOpenClaw è¿˜ä¸ºåµŒå…¥å¼è¿è¡Œå¼ºåˆ¶æ‰§è¡Œå®‰å…¨ä¸‹é™ï¼š\n\n- å¦‚æœ `compaction.reserveTokens < reserveTokensFloor`ï¼ŒOpenClaw ä¼šæå‡å®ƒã€‚\n- é»˜è®¤ä¸‹é™æ˜¯ `20000` ä¸ª tokenã€‚\n- è®¾ç½® `agents.defaults.compaction.reserveTokensFloor: 0` ä»¥ç¦ç”¨ä¸‹é™ã€‚\n- å¦‚æœå®ƒå·²ç»æ›´é«˜ï¼ŒOpenClaw ä¸ä¼šæ”¹å˜å®ƒã€‚\n\nåŸå› ï¼šä¸ºå‹ç¼©å˜å¾—ä¸å¯é¿å…ä¹‹å‰çš„å¤šå›åˆ\"å†…åŠ¡å¤„ç†\"ï¼ˆå¦‚è®°å¿†å†™å…¥ï¼‰ç•™å‡ºè¶³å¤Ÿçš„ç©ºé—´ã€‚\n\nå®ç°ï¼š`src/agents/pi-settings.ts` ä¸­çš„ `ensurePiCompactionReserveTokens()`ï¼ˆä» `src/agents/pi-embedded-runner.ts` è°ƒç”¨ï¼‰ã€‚\n\n---",
    "## ç”¨æˆ·å¯è§çš„ç•Œé¢\n\nä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è§‚å¯Ÿå‹ç¼©å’Œä¼šè¯çŠ¶æ€ï¼š\n\n- `/status`ï¼ˆåœ¨ä»»ä½•èŠå¤©ä¼šè¯ä¸­ï¼‰\n- `openclaw status`ï¼ˆCLIï¼‰\n- `openclaw sessions` / `sessions --json`\n- è¯¦ç»†æ¨¡å¼ï¼š`ğŸ§¹ Auto-compaction complete` + å‹ç¼©è®¡æ•°\n\n---",
    "## é™é»˜å†…åŠ¡å¤„ç†ï¼ˆ`NO_REPLY`ï¼‰\n\nOpenClaw æ”¯æŒç”¨äºåå°ä»»åŠ¡çš„\"é™é»˜\"å›åˆï¼Œç”¨æˆ·ä¸åº”è¯¥çœ‹åˆ°ä¸­é—´è¾“å‡ºã€‚\n\nçº¦å®šï¼š\n\n- åŠ©æ‰‹ä»¥ `NO_REPLY` å¼€å§‹å…¶è¾“å‡ºï¼Œè¡¨ç¤º\"ä¸è¦å‘ç”¨æˆ·å‘é€å›å¤\"ã€‚\n- OpenClaw åœ¨æŠ•é€’å±‚å‰¥ç¦»/æŠ‘åˆ¶æ­¤å†…å®¹ã€‚\n\nä» `2026.1.10` å¼€å§‹ï¼Œå½“éƒ¨åˆ†å—ä»¥ `NO_REPLY` å¼€å¤´æ—¶ï¼ŒOpenClaw è¿˜ä¼šæŠ‘åˆ¶**è‰ç¨¿/æ‰“å­—æµå¼è¾“å‡º**ï¼Œå› æ­¤é™é»˜æ“ä½œä¸ä¼šåœ¨å›åˆä¸­é€”æ³„æ¼éƒ¨åˆ†è¾“å‡ºã€‚\n\n---",
    "## å‹ç¼©å‰\"è®°å¿†åˆ·æ–°\"ï¼ˆå·²å®ç°ï¼‰\n\nç›®æ ‡ï¼šåœ¨è‡ªåŠ¨å‹ç¼©å‘ç”Ÿä¹‹å‰ï¼Œè¿è¡Œä¸€ä¸ªé™é»˜çš„æ™ºèƒ½ä½“å›åˆï¼Œå°†æŒä¹…çŠ¶æ€å†™å…¥ç£ç›˜ï¼ˆä¾‹å¦‚æ™ºèƒ½ä½“å·¥ä½œç©ºé—´ä¸­çš„ `memory/YYYY-MM-DD.md`ï¼‰ï¼Œè¿™æ ·å‹ç¼©å°±ä¸ä¼šæ“¦é™¤å…³é”®ä¸Šä¸‹æ–‡ã€‚\n\nOpenClaw ä½¿ç”¨**é¢„é˜ˆå€¼åˆ·æ–°**æ–¹æ³•ï¼š\n\n1. ç›‘æ§ä¼šè¯ä¸Šä¸‹æ–‡ä½¿ç”¨æƒ…å†µã€‚\n2. å½“å®ƒè¶Šè¿‡\"è½¯é˜ˆå€¼\"ï¼ˆä½äº Pi çš„å‹ç¼©é˜ˆå€¼ï¼‰æ—¶ï¼Œå‘æ™ºèƒ½ä½“è¿è¡Œä¸€ä¸ªé™é»˜çš„\"ç°åœ¨å†™å…¥è®°å¿†\"æŒ‡ä»¤ã€‚\n3. ä½¿ç”¨ `NO_REPLY` ä»¥ä¾¿ç”¨æˆ·çœ‹ä¸åˆ°ä»»ä½•å†…å®¹ã€‚\n\né…ç½®ï¼ˆ`agents.defaults.compaction.memoryFlush`ï¼‰ï¼š\n\n- `enabled`ï¼ˆé»˜è®¤ï¼š`true`ï¼‰\n- `softThresholdTokens`ï¼ˆé»˜è®¤ï¼š`4000`ï¼‰\n- `prompt`ï¼ˆåˆ·æ–°å›åˆçš„ç”¨æˆ·æ¶ˆæ¯ï¼‰\n- `systemPrompt`ï¼ˆä¸ºåˆ·æ–°å›åˆé™„åŠ çš„é¢å¤–ç³»ç»Ÿæç¤ºï¼‰\n\nè¯´æ˜ï¼š\n\n- é»˜è®¤çš„æç¤º/ç³»ç»Ÿæç¤ºåŒ…å« `NO_REPLY` æç¤ºä»¥æŠ‘åˆ¶æŠ•é€’ã€‚\n- åˆ·æ–°æ¯ä¸ªå‹ç¼©å‘¨æœŸè¿è¡Œä¸€æ¬¡ï¼ˆåœ¨ `sessions.json` ä¸­è·Ÿè¸ªï¼‰ã€‚\n- åˆ·æ–°ä»…å¯¹åµŒå…¥å¼ Pi ä¼šè¯è¿è¡Œï¼ˆCLI åç«¯è·³è¿‡å®ƒï¼‰ã€‚\n- å½“ä¼šè¯å·¥ä½œç©ºé—´æ˜¯åªè¯»æ—¶ï¼ˆ`workspaceAccess: \"ro\"` æˆ– `\"none\"`ï¼‰ï¼Œåˆ·æ–°ä¼šè¢«è·³è¿‡ã€‚\n- å‚è§[è®°å¿†](/concepts/memory)äº†è§£å·¥ä½œç©ºé—´æ–‡ä»¶å¸ƒå±€å’Œå†™å…¥æ¨¡å¼ã€‚\n\nPi è¿˜åœ¨æ‰©å±• API ä¸­å…¬å¼€äº† `session_before_compact` é’©å­ï¼Œä½† OpenClaw çš„åˆ·æ–°é€»è¾‘ç›®å‰ä½äº Gateway ç½‘å…³ç«¯ã€‚\n\n---",
    "## æ•…éšœæ’é™¤æ£€æŸ¥æ¸…å•\n\n- ä¼šè¯é”®é”™è¯¯ï¼Ÿä» [/concepts/session](/concepts/session) å¼€å§‹ï¼Œå¹¶åœ¨ `/status` ä¸­ç¡®è®¤ `sessionKey`ã€‚\n- å­˜å‚¨ vs è®°å½•ä¸åŒ¹é…ï¼Ÿä» `openclaw status` ç¡®è®¤ Gateway ç½‘å…³ä¸»æœºå’Œå­˜å‚¨è·¯å¾„ã€‚\n- å‹ç¼©è¿‡äºé¢‘ç¹ï¼Ÿæ£€æŸ¥ï¼š\n  - æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ï¼ˆå¤ªå°ï¼‰\n  - å‹ç¼©è®¾ç½®ï¼ˆ`reserveTokens` å¯¹äºæ¨¡å‹çª—å£æ¥è¯´å¤ªé«˜ä¼šå¯¼è‡´æ›´æ—©çš„å‹ç¼©ï¼‰\n  - å·¥å…·ç»“æœè†¨èƒ€ï¼šå¯ç”¨/è°ƒæ•´ä¼šè¯ä¿®å‰ª\n- é™é»˜å›åˆæ³„æ¼ï¼Ÿç¡®è®¤å›å¤ä»¥ `NO_REPLY`ï¼ˆç²¾ç¡® tokenï¼‰å¼€å¤´ï¼Œå¹¶ä¸”ä½ ä½¿ç”¨çš„æ„å»ºç‰ˆæœ¬åŒ…å«æµå¼è¾“å‡ºæŠ‘åˆ¶ä¿®å¤ã€‚",
    "---\nsummary: \"Session pruning: tool-result trimming to reduce context bloat\"\nread_when:\n  - You want to reduce LLM context growth from tool outputs\n  - You are tuning agents.defaults.contextPruning\n---\n\n# Session Pruning\n\nSession pruning trims **old tool results** from the in-memory context right before each LLM call. It does **not** rewrite the on-disk session history (`*.jsonl`).",
    "## When it runs\n\n- When `mode: \"cache-ttl\"` is enabled and the last Anthropic call for the session is older than `ttl`.\n- Only affects the messages sent to the model for that request.\n- Only active for Anthropic API calls (and OpenRouter Anthropic models).\n- For best results, match `ttl` to your model `cacheControlTtl`.\n- After a prune, the TTL window resets so subsequent requests keep cache until `ttl` expires again.",
    "## Smart defaults (Anthropic)\n\n- **OAuth or setup-token** profiles: enable `cache-ttl` pruning and set heartbeat to `1h`.\n- **API key** profiles: enable `cache-ttl` pruning, set heartbeat to `30m`, and default `cacheControlTtl` to `1h` on Anthropic models.\n- If you set any of these values explicitly, OpenClaw does **not** override them.",
    "## What this improves (cost + cache behavior)\n\n- **Why prune:** Anthropic prompt caching only applies within the TTL. If a session goes idle past the TTL, the next request re-caches the full prompt unless you trim it first.\n- **What gets cheaper:** pruning reduces the **cacheWrite** size for that first request after the TTL expires.\n- **Why the TTL reset matters:** once pruning runs, the cache window resets, so followâ€‘up requests can reuse the freshly cached prompt instead of re-caching the full history again.\n- **What it does not do:** pruning doesnâ€™t add tokens or â€œdoubleâ€ costs; it only changes what gets cached on that first postâ€‘TTL request.",
    "## What can be pruned\n\n- Only `toolResult` messages.\n- User + assistant messages are **never** modified.\n- The last `keepLastAssistants` assistant messages are protected; tool results after that cutoff are not pruned.\n- If there arenâ€™t enough assistant messages to establish the cutoff, pruning is skipped.\n- Tool results containing **image blocks** are skipped (never trimmed/cleared).",
    "## Context window estimation\n\nPruning uses an estimated context window (chars â‰ˆ tokens Ã— 4). The base window is resolved in this order:\n\n1. `models.providers.*.models[].contextWindow` override.\n2. Model definition `contextWindow` (from the model registry).\n3. Default `200000` tokens.\n\nIf `agents.defaults.contextTokens` is set, it is treated as a cap (min) on the resolved window.",
    "## Mode\n\n### cache-ttl\n\n- Pruning only runs if the last Anthropic call is older than `ttl` (default `5m`).\n- When it runs: same soft-trim + hard-clear behavior as before.",
    "## Soft vs hard pruning\n\n- **Soft-trim**: only for oversized tool results.\n  - Keeps head + tail, inserts `...`, and appends a note with the original size.\n  - Skips results with image blocks.\n- **Hard-clear**: replaces the entire tool result with `hardClear.placeholder`.",
    "## Tool selection\n\n- `tools.allow` / `tools.deny` support `*` wildcards.\n- Deny wins.\n- Matching is case-insensitive.\n- Empty allow list => all tools allowed.",
    "## Interaction with other limits\n\n- Built-in tools already truncate their own output; session pruning is an extra layer that prevents long-running chats from accumulating too much tool output in the model context.\n- Compaction is separate: compaction summarizes and persists, pruning is transient per request. See [/concepts/compaction](/concepts/compaction).",
    "## Defaults (when enabled)\n\n- `ttl`: `\"5m\"`\n- `keepLastAssistants`: `3`\n- `softTrimRatio`: `0.3`\n- `hardClearRatio`: `0.5`\n- `minPrunableToolChars`: `50000`\n- `softTrim`: `{ maxChars: 4000, headChars: 1500, tailChars: 1500 }`\n- `hardClear`: `{ enabled: true, placeholder: \"[Old tool result content cleared]\" }`",
    "## Examples\n\nDefault (off):\n\n```json5\n{\n  agent: {\n    contextPruning: { mode: \"off\" },\n  },\n}\n```\n\nEnable TTL-aware pruning:\n\n```json5\n{\n  agent: {\n    contextPruning: { mode: \"cache-ttl\", ttl: \"5m\" },\n  },\n}\n```\n\nRestrict pruning to specific tools:\n\n```json5\n{\n  agent: {\n    contextPruning: {\n      mode: \"cache-ttl\",\n      tools: { allow: [\"exec\", \"read\"], deny: [\"*image*\"] },\n    },\n  },\n}\n```\n\nSee config reference: [Gateway Configuration](/gateway/configuration)",
    "---\nsummary: \"Agent session tools for listing sessions, fetching history, and sending cross-session messages\"\nread_when:\n  - Adding or modifying session tools\ntitle: \"Session Tools\"\n---\n\n# Session Tools\n\nGoal: small, hard-to-misuse tool set so agents can list sessions, fetch history, and send to another session.",
    "## Tool Names\n\n- `sessions_list`\n- `sessions_history`\n- `sessions_send`\n- `sessions_spawn`",
    "## Key Model\n\n- Main direct chat bucket is always the literal key `\"main\"` (resolved to the current agentâ€™s main key).\n- Group chats use `agent:<agentId>:<channel>:group:<id>` or `agent:<agentId>:<channel>:channel:<id>` (pass the full key).\n- Cron jobs use `cron:<job.id>`.\n- Hooks use `hook:<uuid>` unless explicitly set.\n- Node sessions use `node-<nodeId>` unless explicitly set.\n\n`global` and `unknown` are reserved values and are never listed. If `session.scope = \"global\"`, we alias it to `main` for all tools so callers never see `global`.",
    "## sessions_list\n\nList sessions as an array of rows.\n\nParameters:\n\n- `kinds?: string[]` filter: any of `\"main\" | \"group\" | \"cron\" | \"hook\" | \"node\" | \"other\"`\n- `limit?: number` max rows (default: server default, clamp e.g. 200)\n- `activeMinutes?: number` only sessions updated within N minutes\n- `messageLimit?: number` 0 = no messages (default 0); >0 = include last N messages\n\nBehavior:\n\n- `messageLimit > 0` fetches `chat.history` per session and includes the last N messages.\n- Tool results are filtered out in list output; use `sessions_history` for tool messages.\n- When running in a **sandboxed** agent session, session tools default to **spawned-only visibility** (see below).\n\nRow shape (JSON):",
    "- `key`: session key (string)\n- `kind`: `main | group | cron | hook | node | other`\n- `channel`: `whatsapp | telegram | discord | signal | imessage | webchat | internal | unknown`\n- `displayName` (group display label if available)\n- `updatedAt` (ms)\n- `sessionId`\n- `model`, `contextTokens`, `totalTokens`\n- `thinkingLevel`, `verboseLevel`, `systemSent`, `abortedLastRun`\n- `sendPolicy` (session override if set)\n- `lastChannel`, `lastTo`\n- `deliveryContext` (normalized `{ channel, to, accountId }` when available)\n- `transcriptPath` (best-effort path derived from store dir + sessionId)\n- `messages?` (only when `messageLimit > 0`)",
    "## sessions_history\n\nFetch transcript for one session.\n\nParameters:\n\n- `sessionKey` (required; accepts session key or `sessionId` from `sessions_list`)\n- `limit?: number` max messages (server clamps)\n- `includeTools?: boolean` (default false)\n\nBehavior:\n\n- `includeTools=false` filters `role: \"toolResult\"` messages.\n- Returns messages array in the raw transcript format.\n- When given a `sessionId`, OpenClaw resolves it to the corresponding session key (missing ids error).",
    "## sessions_send\n\nSend a message into another session.\n\nParameters:\n\n- `sessionKey` (required; accepts session key or `sessionId` from `sessions_list`)\n- `message` (required)\n- `timeoutSeconds?: number` (default >0; 0 = fire-and-forget)\n\nBehavior:",
    "- `timeoutSeconds = 0`: enqueue and return `{ runId, status: \"accepted\" }`.\n- `timeoutSeconds > 0`: wait up to N seconds for completion, then return `{ runId, status: \"ok\", reply }`.\n- If wait times out: `{ runId, status: \"timeout\", error }`. Run continues; call `sessions_history` later.\n- If the run fails: `{ runId, status: \"error\", error }`.\n- Announce delivery runs after the primary run completes and is best-effort; `status: \"ok\"` does not guarantee the announce was delivered.\n- Waits via gateway `agent.wait` (server-side) so reconnects don't drop the wait.\n- Agent-to-agent message context is injected for the primary run.\n- After the primary run completes, OpenClaw runs a **reply-back loop**:\n  - Round 2+ alternates between requester and target agents.\n  - Reply exactly `REPLY_SKIP` to stop the pingâ€‘pong.\n  - Max turns is `session.agentToAgent.maxPingPongTurns` (0â€“5, default 5).\n- Once the loop ends, OpenClaw runs the **agentâ€‘toâ€‘agent announce step** (target agent only):\n  - Reply exactly `ANNOUNCE_SKIP` to stay silent.\n  - Any other reply is sent to the target channel.\n  - Announce step includes the original request + roundâ€‘1 reply + latest pingâ€‘pong reply.",
    "## Channel Field\n\n- For groups, `channel` is the channel recorded on the session entry.\n- For direct chats, `channel` maps from `lastChannel`.\n- For cron/hook/node, `channel` is `internal`.\n- If missing, `channel` is `unknown`.",
    "## Security / Send Policy\n\nPolicy-based blocking by channel/chat type (not per session id).\n\n```json\n{\n  \"session\": {\n    \"sendPolicy\": {\n      \"rules\": [\n        {\n          \"match\": { \"channel\": \"discord\", \"chatType\": \"group\" },\n          \"action\": \"deny\"\n        }\n      ],\n      \"default\": \"allow\"\n    }\n  }\n}\n```\n\nRuntime override (per session entry):\n\n- `sendPolicy: \"allow\" | \"deny\"` (unset = inherit config)\n- Settable via `sessions.patch` or owner-only `/send on|off|inherit` (standalone message).\n\nEnforcement points:\n\n- `chat.send` / `agent` (gateway)\n- auto-reply delivery logic",
    "## sessions_spawn\n\nSpawn a sub-agent run in an isolated session and announce the result back to the requester chat channel.\n\nParameters:\n\n- `task` (required)\n- `label?` (optional; used for logs/UI)\n- `agentId?` (optional; spawn under another agent id if allowed)\n- `model?` (optional; overrides the sub-agent model; invalid values error)\n- `runTimeoutSeconds?` (default 0; when set, aborts the sub-agent run after N seconds)\n- `cleanup?` (`delete|keep`, default `keep`)\n\nAllowlist:\n\n- `agents.list[].subagents.allowAgents`: list of agent ids allowed via `agentId` (`[\"*\"]` to allow any). Default: only the requester agent.\n\nDiscovery:\n\n- Use `agents_list` to discover which agent ids are allowed for `sessions_spawn`.\n\nBehavior:",
    "- Starts a new `agent:<agentId>:subagent:<uuid>` session with `deliver: false`.\n- Sub-agents default to the full tool set **minus session tools** (configurable via `tools.subagents.tools`).\n- Sub-agents are not allowed to call `sessions_spawn` (no sub-agent â†’ sub-agent spawning).\n- Always non-blocking: returns `{ status: \"accepted\", runId, childSessionKey }` immediately.\n- After completion, OpenClaw runs a sub-agent **announce step** and posts the result to the requester chat channel.\n- Reply exactly `ANNOUNCE_SKIP` during the announce step to stay silent.\n- Announce replies are normalized to `Status`/`Result`/`Notes`; `Status` comes from runtime outcome (not model text).\n- Sub-agent sessions are auto-archived after `agents.defaults.subagents.archiveAfterMinutes` (default: 60).\n- Announce replies include a stats line (runtime, tokens, sessionKey/sessionId, transcript path, and optional cost).",
    "## Sandbox Session Visibility\n\nSandboxed sessions can use session tools, but by default they only see sessions they spawned via `sessions_spawn`.\n\nConfig:\n\n```json5\n{\n  agents: {\n    defaults: {\n      sandbox: {\n        // default: \"spawned\"\n        sessionToolsVisibility: \"spawned\", // or \"all\"\n      },\n    },\n  },\n}\n```",
    "---\nsummary: \"Session management rules, keys, and persistence for chats\"\nread_when:\n  - Modifying session handling or storage\ntitle: \"Session Management\"\n---\n\n# Session Management\n\nOpenClaw treats **one direct-chat session per agent** as primary. Direct chats collapse to `agent:<agentId>:<mainKey>` (default `main`), while group/channel chats get their own keys. `session.mainKey` is honored.\n\nUse `session.dmScope` to control how **direct messages** are grouped:\n\n- `main` (default): all DMs share the main session for continuity.\n- `per-peer`: isolate by sender id across channels.\n- `per-channel-peer`: isolate by channel + sender (recommended for multi-user inboxes).\n- `per-account-channel-peer`: isolate by account + channel + sender (recommended for multi-account inboxes).\n  Use `session.identityLinks` to map provider-prefixed peer ids to a canonical identity so the same person shares a DM session across channels when using `per-peer`, `per-channel-peer`, or `per-account-channel-peer`.",
    "## Secure DM mode (recommended for multi-user setups)\n\n> **Security Warning:** If your agent can receive DMs from **multiple people**, you should strongly consider enabling secure DM mode. Without it, all users share the same conversation context, which can leak private information between users.\n\n**Example of the problem with default settings:**\n\n- Alice (`<SENDER_A>`) messages your agent about a private topic (for example, a medical appointment)\n- Bob (`<SENDER_B>`) messages your agent asking \"What were we talking about?\"\n- Because both DMs share the same session, the model may answer Bob using Alice's prior context.\n\n**The fix:** Set `dmScope` to isolate sessions per user:\n\n```json5\n// ~/.openclaw/openclaw.json\n{\n  session: {\n    // Secure DM mode: isolate DM context per channel + sender.\n    dmScope: \"per-channel-peer\",\n  },\n}\n```\n\n**When to enable this:**",
    "- You have pairing approvals for more than one sender\n- You use a DM allowlist with multiple entries\n- You set `dmPolicy: \"open\"`\n- Multiple phone numbers or accounts can message your agent\n\nNotes:\n\n- Default is `dmScope: \"main\"` for continuity (all DMs share the main session). This is fine for single-user setups.\n- For multi-account inboxes on the same channel, prefer `per-account-channel-peer`.\n- If the same person contacts you on multiple channels, use `session.identityLinks` to collapse their DM sessions into one canonical identity.\n- You can verify your DM settings with `openclaw security audit` (see [security](/cli/security)).",
    "## Gateway is the source of truth\n\nAll session state is **owned by the gateway** (the â€œmasterâ€ OpenClaw). UI clients (macOS app, WebChat, etc.) must query the gateway for session lists and token counts instead of reading local files.\n\n- In **remote mode**, the session store you care about lives on the remote gateway host, not your Mac.\n- Token counts shown in UIs come from the gatewayâ€™s store fields (`inputTokens`, `outputTokens`, `totalTokens`, `contextTokens`). Clients do not parse JSONL transcripts to â€œfix upâ€ totals.",
    "## Where state lives\n\n- On the **gateway host**:\n  - Store file: `~/.openclaw/agents/<agentId>/sessions/sessions.json` (per agent).\n- Transcripts: `~/.openclaw/agents/<agentId>/sessions/<SessionId>.jsonl` (Telegram topic sessions use `.../<SessionId>-topic-<threadId>.jsonl`).\n- The store is a map `sessionKey -> { sessionId, updatedAt, ... }`. Deleting entries is safe; they are recreated on demand.\n- Group entries may include `displayName`, `channel`, `subject`, `room`, and `space` to label sessions in UIs.\n- Session entries include `origin` metadata (label + routing hints) so UIs can explain where a session came from.\n- OpenClaw does **not** read legacy Pi/Tau session folders.",
    "## Session pruning\n\nOpenClaw trims **old tool results** from the in-memory context right before LLM calls by default.\nThis does **not** rewrite JSONL history. See [/concepts/session-pruning](/concepts/session-pruning).",
    "## Pre-compaction memory flush\n\nWhen a session nears auto-compaction, OpenClaw can run a **silent memory flush**\nturn that reminds the model to write durable notes to disk. This only runs when\nthe workspace is writable. See [Memory](/concepts/memory) and\n[Compaction](/concepts/compaction).",
    "## Mapping transports â†’ session keys",
    "- Direct chats follow `session.dmScope` (default `main`).\n  - `main`: `agent:<agentId>:<mainKey>` (continuity across devices/channels).\n    - Multiple phone numbers and channels can map to the same agent main key; they act as transports into one conversation.\n  - `per-peer`: `agent:<agentId>:dm:<peerId>`.\n  - `per-channel-peer`: `agent:<agentId>:<channel>:dm:<peerId>`.\n  - `per-account-channel-peer`: `agent:<agentId>:<channel>:<accountId>:dm:<peerId>` (accountId defaults to `default`).\n  - If `session.identityLinks` matches a provider-prefixed peer id (for example `telegram:123`), the canonical key replaces `<peerId>` so the same person shares a session across channels.\n- Group chats isolate state: `agent:<agentId>:<channel>:group:<id>` (rooms/channels use `agent:<agentId>:<channel>:channel:<id>`).\n  - Telegram forum topics append `:topic:<threadId>` to the group id for isolation.\n  - Legacy `group:<id>` keys are still recognized for migration.\n- Inbound contexts may still use `group:<id>`; the channel is inferred from `Provider` and normalized to the canonical `agent:<agentId>:<channel>:group:<id>` form.\n- Other sources:\n  - Cron jobs: `cron:<job.id>`\n  - Webhooks: `hook:<uuid>` (unless explicitly set by the hook)\n  - Node runs: `node-<nodeId>`",
    "## Lifecycle",
    "- Reset policy: sessions are reused until they expire, and expiry is evaluated on the next inbound message.\n- Daily reset: defaults to **4:00 AM local time on the gateway host**. A session is stale once its last update is earlier than the most recent daily reset time.\n- Idle reset (optional): `idleMinutes` adds a sliding idle window. When both daily and idle resets are configured, **whichever expires first** forces a new session.\n- Legacy idle-only: if you set `session.idleMinutes` without any `session.reset`/`resetByType` config, OpenClaw stays in idle-only mode for backward compatibility.\n- Per-type overrides (optional): `resetByType` lets you override the policy for `dm`, `group`, and `thread` sessions (thread = Slack/Discord threads, Telegram topics, Matrix threads when provided by the connector).\n- Per-channel overrides (optional): `resetByChannel` overrides the reset policy for a channel (applies to all session types for that channel and takes precedence over `reset`/`resetByType`).\n- Reset triggers: exact `/new` or `/reset` (plus any extras in `resetTriggers`) start a fresh session id and pass the remainder of the message through. `/new <model>` accepts a model alias, `provider/model`, or provider name (fuzzy match) to set the new session model. If `/new` or `/reset` is sent alone, OpenClaw runs a short â€œhelloâ€ greeting turn to confirm the reset.\n- Manual reset: delete specific keys from the store or remove the JSONL transcript; the next message recreates them.\n- Isolated cron jobs always mint a fresh `sessionId` per run (no idle reuse).",
    "## Send policy (optional)\n\nBlock delivery for specific session types without listing individual ids.\n\n```json5\n{\n  session: {\n    sendPolicy: {\n      rules: [\n        { action: \"deny\", match: { channel: \"discord\", chatType: \"group\" } },\n        { action: \"deny\", match: { keyPrefix: \"cron:\" } },\n      ],\n      default: \"allow\",\n    },\n  },\n}\n```\n\nRuntime override (owner only):\n\n- `/send on` â†’ allow for this session\n- `/send off` â†’ deny for this session\n- `/send inherit` â†’ clear override and use config rules\n  Send these as standalone messages so they register.",
    "## Configuration (optional rename example)\n\n```json5\n// ~/.openclaw/openclaw.json\n{\n  session: {\n    scope: \"per-sender\", // keep group keys separate\n    dmScope: \"main\", // DM continuity (set per-channel-peer/per-account-channel-peer for shared inboxes)\n    identityLinks: {\n      alice: [\"telegram:123456789\", \"discord:987654321012345678\"],\n    },\n    reset: {\n      // Defaults: mode=daily, atHour=4 (gateway host local time).\n      // If you also set idleMinutes, whichever expires first wins.\n      mode: \"daily\",\n      atHour: 4,\n      idleMinutes: 120,\n    },\n    resetByType: {\n      thread: { mode: \"daily\", atHour: 4 },\n      dm: { mode: \"idle\", idleMinutes: 240 },\n      group: { mode: \"idle\", idleMinutes: 120 },\n    },\n    resetByChannel: {\n      discord: { mode: \"idle\", idleMinutes: 10080 },\n    },\n    resetTriggers: [\"/new\", \"/reset\"],\n    store: \"~/.openclaw/agents/{agentId}/sessions/sessions.json\",\n    mainKey: \"main\",\n  },\n}\n```",
    "## Inspecting",
    "- `openclaw status` â€” shows store path and recent sessions.\n- `openclaw sessions --json` â€” dumps every entry (filter with `--active <minutes>`).\n- `openclaw gateway call sessions.list --params '{}'` â€” fetch sessions from the running gateway (use `--url`/`--token` for remote gateway access).\n- Send `/status` as a standalone message in chat to see whether the agent is reachable, how much of the session context is used, current thinking/verbose toggles, and when your WhatsApp web creds were last refreshed (helps spot relink needs).\n- Send `/context list` or `/context detail` to see whatâ€™s in the system prompt and injected workspace files (and the biggest context contributors).\n- Send `/stop` as a standalone message to abort the current run, clear queued followups for that session, and stop any sub-agent runs spawned from it (the reply includes the stopped count).\n- Send `/compact` (optional instructions) as a standalone message to summarize older context and free up window space. See [/concepts/compaction](/concepts/compaction).\n- JSONL transcripts can be opened directly to review full turns.",
    "## Tips\n\n- Keep the primary key dedicated to 1:1 traffic; let groups keep their own keys.\n- When automating cleanup, delete individual keys instead of the whole store to preserve context elsewhere.",
    "## Session origin metadata\n\nEach session entry records where it came from (best-effort) in `origin`:\n\n- `label`: human label (resolved from conversation label + group subject/channel)\n- `provider`: normalized channel id (including extensions)\n- `from`/`to`: raw routing ids from the inbound envelope\n- `accountId`: provider account id (when multi-account)\n- `threadId`: thread/topic id when the channel supports it\n  The origin fields are populated for direct messages, channels, and groups. If a\n  connector only updates delivery routing (for example, to keep a DM main session\n  fresh), it should still provide inbound context so the session keeps its\n  explainer metadata. Extensions can do this by sending `ConversationLabel`,\n  `GroupSubject`, `GroupChannel`, `GroupSpace`, and `SenderName` in the inbound\n  context and calling `recordSessionMetaFromInbound` (or passing the same context\n  to `updateLastRoute`).",
    "---\nsummary: \"CLI reference for `openclaw sessions` (list stored sessions + usage)\"\nread_when:\n  - You want to list stored sessions and see recent activity\ntitle: \"sessions\"\n---\n\n# `openclaw sessions`\n\nList stored conversation sessions.\n\n```bash\nopenclaw sessions\nopenclaw sessions --active 120\nopenclaw sessions --json\n```",
    "---\nsummary: \"CLI reference for `openclaw setup` (initialize config + workspace)\"\nread_when:\n  - Youâ€™re doing first-run setup without the full onboarding wizard\n  - You want to set the default workspace path\ntitle: \"setup\"\n---\n\n# `openclaw setup`\n\nInitialize `~/.openclaw/openclaw.json` and the agent workspace.\n\nRelated:\n\n- Getting started: [Getting started](/start/getting-started)\n- Wizard: [Onboarding](/start/onboarding)",
    "## Examples\n\n```bash\nopenclaw setup\nopenclaw setup --workspace ~/.openclaw/workspace\n```\n\nTo run the wizard via setup:\n\n```bash\nopenclaw setup --wizard\n```",
    "---\ntitle: \"Showcase\"\ndescription: \"Real-world OpenClaw projects from the community\"\nsummary: \"Community-built projects and integrations powered by OpenClaw\"\n---\n\n# Showcase\n\nReal projects from the community. See what people are building with OpenClaw.\n\n<Info>\n**Want to be featured?** Share your project in [#showcase on Discord](https://discord.gg/clawd) or [tag @openclaw on X](https://x.com/openclaw).\n</Info>",
    "## ğŸ¥ OpenClaw in Action\n\nFull setup walkthrough (28m) by VelvetShark.\n\n<div\n  style={{\n    position: \"relative\",\n    paddingBottom: \"56.25%\",\n    height: 0,\n    overflow: \"hidden\",\n    borderRadius: 16,\n  }}\n>\n  <iframe\n    src=\"https://www.youtube-nocookie.com/embed/SaWSPZoPX34\"\n    title=\"OpenClaw: The self-hosted AI that Siri should have been (Full setup)\"\n    style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}\n    frameBorder=\"0\"\n    loading=\"lazy\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n    allowFullScreen\n  />\n</div>\n\n[Watch on YouTube](https://www.youtube.com/watch?v=SaWSPZoPX34)",
    "<div\n  style={{\n    position: \"relative\",\n    paddingBottom: \"56.25%\",\n    height: 0,\n    overflow: \"hidden\",\n    borderRadius: 16,\n  }}\n>\n  <iframe\n    src=\"https://www.youtube-nocookie.com/embed/mMSKQvlmFuQ\"\n    title=\"OpenClaw showcase video\"\n    style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}\n    frameBorder=\"0\"\n    loading=\"lazy\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n    allowFullScreen\n  />\n</div>\n\n[Watch on YouTube](https://www.youtube.com/watch?v=mMSKQvlmFuQ)",
    "<div\n  style={{\n    position: \"relative\",\n    paddingBottom: \"56.25%\",\n    height: 0,\n    overflow: \"hidden\",\n    borderRadius: 16,\n  }}\n>\n  <iframe\n    src=\"https://www.youtube-nocookie.com/embed/5kkIJNUGFho\"\n    title=\"OpenClaw community showcase\"\n    style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\" }}\n    frameBorder=\"0\"\n    loading=\"lazy\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n    allowFullScreen\n  />\n</div>\n\n[Watch on YouTube](https://www.youtube.com/watch?v=5kkIJNUGFho)",
    "## ğŸ†• Fresh from Discord\n\n<CardGroup cols={2}>\n\n<Card title=\"PR Review â†’ Telegram Feedback\" icon=\"code-pull-request\" href=\"https://x.com/i/status/2010878524543131691\">\n  **@bangnokia** â€¢ `review` `github` `telegram`\n\nOpenCode finishes the change â†’ opens a PR â†’ OpenClaw reviews the diff and replies in Telegram with â€œminor suggestionsâ€ plus a clear merge verdict (including critical fixes to apply first).\n\n  <img src=\"/assets/showcase/pr-review-telegram.jpg\" alt=\"OpenClaw PR review feedback delivered in Telegram\" />\n</Card>\n\n<Card title=\"Wine Cellar Skill in Minutes\" icon=\"wine-glass\" href=\"https://x.com/i/status/2010916352454791216\">\n  **@prades_maxime** â€¢ `skills` `local` `csv`\n\nAsked â€œRobbyâ€ (@openclaw) for a local wine cellar skill. It requests a sample CSV export + where to store it, then builds/tests the skill fast (962 bottles in the example).\n\n  <img src=\"/assets/showcase/wine-cellar-skill.jpg\" alt=\"OpenClaw building a local wine cellar skill from CSV\" />\n</Card>",
    "<Card title=\"Tesco Shop Autopilot\" icon=\"cart-shopping\" href=\"https://x.com/i/status/2009724862470689131\">\n  **@marchattonhere** â€¢ `automation` `browser` `shopping`\n\nWeekly meal plan â†’ regulars â†’ book delivery slot â†’ confirm order. No APIs, just browser control.\n\n  <img src=\"/assets/showcase/tesco-shop.jpg\" alt=\"Tesco shop automation via chat\" />\n</Card>\n\n<Card title=\"SNAG Screenshot-to-Markdown\" icon=\"scissors\" href=\"https://github.com/am-will/snag\">\n  **@am-will** â€¢ `devtools` `screenshots` `markdown`\n\nHotkey a screen region â†’ Gemini vision â†’ instant Markdown in your clipboard.\n\n  <img src=\"/assets/showcase/snag.png\" alt=\"SNAG screenshot-to-markdown tool\" />\n</Card>\n\n<Card title=\"Agents UI\" icon=\"window-maximize\" href=\"https://releaseflow.net/kitze/agents-ui\">\n  **@kitze** â€¢ `ui` `skills` `sync`\n\nDesktop app to manage skills/commands across Agents, Claude, Codex, and OpenClaw.\n\n  <img src=\"/assets/showcase/agents-ui.jpg\" alt=\"Agents UI app\" />\n</Card>",
    "<Card title=\"Telegram Voice Notes (papla.media)\" icon=\"microphone\" href=\"https://papla.media/docs\">\n  **Community** â€¢ `voice` `tts` `telegram`\n\nWraps papla.media TTS and sends results as Telegram voice notes (no annoying autoplay).\n\n  <img src=\"/assets/showcase/papla-tts.jpg\" alt=\"Telegram voice note output from TTS\" />\n</Card>\n\n<Card title=\"CodexMonitor\" icon=\"eye\" href=\"https://clawhub.com/odrobnik/codexmonitor\">\n  **@odrobnik** â€¢ `devtools` `codex` `brew`\n\nHomebrew-installed helper to list/inspect/watch local OpenAI Codex sessions (CLI + VS Code).\n\n  <img src=\"/assets/showcase/codexmonitor.png\" alt=\"CodexMonitor on ClawHub\" />\n</Card>\n\n<Card title=\"Bambu 3D Printer Control\" icon=\"print\" href=\"https://clawhub.com/tobiasbischoff/bambu-cli\">\n  **@tobiasbischoff** â€¢ `hardware` `3d-printing` `skill`\n\nControl and troubleshoot BambuLab printers: status, jobs, camera, AMS, calibration, and more.\n\n  <img src=\"/assets/showcase/bambu-cli.png\" alt=\"Bambu CLI skill on ClawHub\" />\n</Card>",
    "<Card title=\"Vienna Transport (Wiener Linien)\" icon=\"train\" href=\"https://clawhub.com/hjanuschka/wienerlinien\">\n  **@hjanuschka** â€¢ `travel` `transport` `skill`\n\nReal-time departures, disruptions, elevator status, and routing for Vienna's public transport.\n\n  <img src=\"/assets/showcase/wienerlinien.png\" alt=\"Wiener Linien skill on ClawHub\" />\n</Card>\n\n<Card title=\"ParentPay School Meals\" icon=\"utensils\" href=\"#\">\n  **@George5562** â€¢ `automation` `browser` `parenting`\n\nAutomated UK school meal booking via ParentPay. Uses mouse coordinates for reliable table cell clicking.\n</Card>\n\n<Card title=\"R2 Upload (Send Me My Files)\" icon=\"cloud-arrow-up\" href=\"https://clawhub.com/skills/r2-upload\">\n  **@julianengel** â€¢ `files` `r2` `presigned-urls`\n\nUpload to Cloudflare R2/S3 and generate secure presigned download links. Perfect for remote OpenClaw instances.\n</Card>\n\n<Card title=\"iOS App via Telegram\" icon=\"mobile\" href=\"#\">\n  **@coard** â€¢ `ios` `xcode` `testflight`",
    "Built a complete iOS app with maps and voice recording, deployed to TestFlight entirely via Telegram chat.\n\n  <img src=\"/assets/showcase/ios-testflight.jpg\" alt=\"iOS app on TestFlight\" />\n</Card>\n\n<Card title=\"Oura Ring Health Assistant\" icon=\"heart-pulse\" href=\"#\">\n  **@AS** â€¢ `health` `oura` `calendar`\n\nPersonal AI health assistant integrating Oura ring data with calendar, appointments, and gym schedule.\n\n  <img src=\"/assets/showcase/oura-health.png\" alt=\"Oura ring health assistant\" />\n</Card>\n<Card title=\"Kev's Dream Team (14+ Agents)\" icon=\"robot\" href=\"https://github.com/adam91holt/orchestrated-ai-articles\">\n  **@adam91holt** â€¢ `multi-agent` `orchestration` `architecture` `manifesto`",
    "14+ agents under one gateway with Opus 4.5 orchestrator delegating to Codex workers. Comprehensive [technical write-up](https://github.com/adam91holt/orchestrated-ai-articles) covering the Dream Team roster, model selection, sandboxing, webhooks, heartbeats, and delegation flows. [Clawdspace](https://github.com/adam91holt/clawdspace) for agent sandboxing. [Blog post](https://adams-ai-journey.ghost.io/2026-the-year-of-the-orchestrator/).\n</Card>\n\n<Card title=\"Linear CLI\" icon=\"terminal\" href=\"https://github.com/Finesssee/linear-cli\">\n  **@NessZerra** â€¢ `devtools` `linear` `cli` `issues`\n\nCLI for Linear that integrates with agentic workflows (Claude Code, OpenClaw). Manage issues, projects, and workflows from the terminal. First external PR merged!\n</Card>\n\n<Card title=\"Beeper CLI\" icon=\"message\" href=\"https://github.com/blqke/beepcli\">\n  **@jules** â€¢ `messaging` `beeper` `cli` `automation`",
    "Read, send, and archive messages via Beeper Desktop. Uses Beeper local MCP API so agents can manage all your chats (iMessage, WhatsApp, etc.) in one place.\n</Card>\n\n</CardGroup>",
    "## ğŸ¤– Automation & Workflows\n\n<CardGroup cols={2}>\n\n<Card title=\"Winix Air Purifier Control\" icon=\"wind\" href=\"https://x.com/antonplex/status/2010518442471006253\">\n  **@antonplex** â€¢ `automation` `hardware` `air-quality`\n\nClaude Code discovered and confirmed the purifier controls, then OpenClaw takes over to manage room air quality.\n\n  <img src=\"/assets/showcase/winix-air-purifier.jpg\" alt=\"Winix air purifier control via OpenClaw\" />\n</Card>\n\n<Card title=\"Pretty Sky Camera Shots\" icon=\"camera\" href=\"https://x.com/signalgaining/status/2010523120604746151\">\n  **@signalgaining** â€¢ `automation` `camera` `skill` `images`\n\nTriggered by a roof camera: ask OpenClaw to snap a sky photo whenever it looks pretty â€” it designed a skill and took the shot.\n\n  <img src=\"/assets/showcase/roof-camera-sky.jpg\" alt=\"Roof camera sky snapshot captured by OpenClaw\" />\n</Card>",
    "<Card title=\"Visual Morning Briefing Scene\" icon=\"robot\" href=\"https://x.com/buddyhadry/status/2010005331925954739\">\n  **@buddyhadry** â€¢ `automation` `briefing` `images` `telegram`\n\nA scheduled prompt generates a single \"scene\" image each morning (weather, tasks, date, favorite post/quote) via a OpenClaw persona.\n</Card>\n\n<Card title=\"Padel Court Booking\" icon=\"calendar-check\" href=\"https://github.com/joshp123/padel-cli\">\n  **@joshp123** â€¢ `automation` `booking` `cli`\n  \n  Playtomic availability checker + booking CLI. Never miss an open court again.\n  \n  <img src=\"/assets/showcase/padel-screenshot.jpg\" alt=\"padel-cli screenshot\" />\n</Card>\n\n<Card title=\"Accounting Intake\" icon=\"file-invoice-dollar\">\n  **Community** â€¢ `automation` `email` `pdf`\n  \n  Collects PDFs from email, preps documents for tax consultant. Monthly accounting on autopilot.\n</Card>\n\n<Card title=\"Couch Potato Dev Mode\" icon=\"couch\" href=\"https://davekiss.com\">\n  **@davekiss** â€¢ `telegram` `website` `migration` `astro`",
    "Rebuilt entire personal site via Telegram while watching Netflix â€” Notion â†’ Astro, 18 posts migrated, DNS to Cloudflare. Never opened a laptop.\n</Card>\n\n<Card title=\"Job Search Agent\" icon=\"briefcase\">\n  **@attol8** â€¢ `automation` `api` `skill`\n\nSearches job listings, matches against CV keywords, and returns relevant opportunities with links. Built in 30 minutes using JSearch API.\n</Card>\n\n<Card title=\"Jira Skill Builder\" icon=\"diagram-project\" href=\"https://x.com/jdrhyne/status/2008336434827002232\">\n  **@jdrhyne** â€¢ `automation` `jira` `skill` `devtools`\n\nOpenClaw connected to Jira, then generated a new skill on the fly (before it existed on ClawHub).\n</Card>\n\n<Card title=\"Todoist Skill via Telegram\" icon=\"list-check\" href=\"https://x.com/iamsubhrajyoti/status/2009949389884920153\">\n  **@iamsubhrajyoti** â€¢ `automation` `todoist` `skill` `telegram`\n\nAutomated Todoist tasks and had OpenClaw generate the skill directly in Telegram chat.\n</Card>",
    "<Card title=\"TradingView Analysis\" icon=\"chart-line\">\n  **@bheem1798** â€¢ `finance` `browser` `automation`\n\nLogs into TradingView via browser automation, screenshots charts, and performs technical analysis on demand. No API neededâ€”just browser control.\n</Card>\n\n<Card title=\"Slack Auto-Support\" icon=\"slack\">\n  **@henrymascot** â€¢ `slack` `automation` `support`\n\nWatches company Slack channel, responds helpfully, and forwards notifications to Telegram. Autonomously fixed a production bug in a deployed app without being asked.\n</Card>\n\n</CardGroup>",
    "## ğŸ§  Knowledge & Memory\n\n<CardGroup cols={2}>\n\n<Card title=\"xuezh Chinese Learning\" icon=\"language\" href=\"https://github.com/joshp123/xuezh\">\n  **@joshp123** â€¢ `learning` `voice` `skill`\n  \n  Chinese learning engine with pronunciation feedback and study flows via OpenClaw.\n  \n  <img src=\"/assets/showcase/xuezh-pronunciation.jpeg\" alt=\"xuezh pronunciation feedback\" />\n</Card>\n\n<Card title=\"WhatsApp Memory Vault\" icon=\"vault\">\n  **Community** â€¢ `memory` `transcription` `indexing`\n  \n  Ingests full WhatsApp exports, transcribes 1k+ voice notes, cross-checks with git logs, outputs linked markdown reports.\n</Card>\n\n<Card title=\"Karakeep Semantic Search\" icon=\"magnifying-glass\" href=\"https://github.com/jamesbrooksco/karakeep-semantic-search\">\n  **@jamesbrooksco** â€¢ `search` `vector` `bookmarks`\n  \n  Adds vector search to Karakeep bookmarks using Qdrant + OpenAI/Ollama embeddings.\n</Card>",
    "<Card title=\"Inside-Out-2 Memory\" icon=\"brain\">\n  **Community** â€¢ `memory` `beliefs` `self-model`\n  \n  Separate memory manager that turns session files into memories â†’ beliefs â†’ evolving self model.\n</Card>\n\n</CardGroup>",
    "## ğŸ™ï¸ Voice & Phone\n\n<CardGroup cols={2}>\n\n<Card title=\"Clawdia Phone Bridge\" icon=\"phone\" href=\"https://github.com/alejandroOPI/clawdia-bridge\">\n  **@alejandroOPI** â€¢ `voice` `vapi` `bridge`\n  \n  Vapi voice assistant â†” OpenClaw HTTP bridge. Near real-time phone calls with your agent.\n</Card>\n\n<Card title=\"OpenRouter Transcription\" icon=\"microphone\" href=\"https://clawhub.com/obviyus/openrouter-transcribe\">\n  **@obviyus** â€¢ `transcription` `multilingual` `skill`\n\nMulti-lingual audio transcription via OpenRouter (Gemini, etc). Available on ClawHub.\n</Card>\n\n</CardGroup>",
    "## ğŸ—ï¸ Infrastructure & Deployment\n\n<CardGroup cols={2}>\n\n<Card title=\"Home Assistant Add-on\" icon=\"home\" href=\"https://github.com/ngutman/openclaw-ha-addon\">\n  **@ngutman** â€¢ `homeassistant` `docker` `raspberry-pi`\n  \n  OpenClaw gateway running on Home Assistant OS with SSH tunnel support and persistent state.\n</Card>\n\n<Card title=\"Home Assistant Skill\" icon=\"toggle-on\" href=\"https://clawhub.com/skills/homeassistant\">\n  **ClawHub** â€¢ `homeassistant` `skill` `automation`\n  \n  Control and automate Home Assistant devices via natural language.\n</Card>\n\n<Card title=\"Nix Packaging\" icon=\"snowflake\" href=\"https://github.com/openclaw/nix-openclaw\">\n  **@openclaw** â€¢ `nix` `packaging` `deployment`\n  \n  Batteries-included nixified OpenClaw configuration for reproducible deployments.\n</Card>",
    "<Card title=\"CalDAV Calendar\" icon=\"calendar\" href=\"https://clawhub.com/skills/caldav-calendar\">\n  **ClawHub** â€¢ `calendar` `caldav` `skill`\n  \n  Calendar skill using khal/vdirsyncer. Self-hosted calendar integration.\n</Card>\n\n</CardGroup>",
    "## ğŸ  Home & Hardware\n\n<CardGroup cols={2}>\n\n<Card title=\"GoHome Automation\" icon=\"house-signal\" href=\"https://github.com/joshp123/gohome\">\n  **@joshp123** â€¢ `home` `nix` `grafana`\n  \n  Nix-native home automation with OpenClaw as the interface, plus beautiful Grafana dashboards.\n  \n  <img src=\"/assets/showcase/gohome-grafana.png\" alt=\"GoHome Grafana dashboard\" />\n</Card>\n\n<Card title=\"Roborock Vacuum\" icon=\"robot\" href=\"https://github.com/joshp123/gohome/tree/main/plugins/roborock\">\n  **@joshp123** â€¢ `vacuum` `iot` `plugin`\n  \n  Control your Roborock robot vacuum through natural conversation.\n  \n  <img src=\"/assets/showcase/roborock-screenshot.jpg\" alt=\"Roborock status\" />\n</Card>\n\n</CardGroup>",
    "## ğŸŒŸ Community Projects\n\n<CardGroup cols={2}>\n\n<Card title=\"StarSwap Marketplace\" icon=\"star\" href=\"https://star-swap.com/\">\n  **Community** â€¢ `marketplace` `astronomy` `webapp`\n  \n  Full astronomy gear marketplace. Built with/around the OpenClaw ecosystem.\n</Card>\n\n</CardGroup>\n\n---",
    "## Submit Your Project\n\nHave something to share? We'd love to feature it!\n\n<Steps>\n  <Step title=\"Share It\">\n    Post in [#showcase on Discord](https://discord.gg/clawd) or [tweet @openclaw](https://x.com/openclaw)\n  </Step>\n  <Step title=\"Include Details\">\n    Tell us what it does, link to the repo/demo, share a screenshot if you have one\n  </Step>\n  <Step title=\"Get Featured\">\n    We'll add standout projects to this page\n  </Step>\n</Steps>",
    "---\nsummary: \"Signal support via signal-cli (JSON-RPC + SSE), setup, and number model\"\nread_when:\n  - Setting up Signal support\n  - Debugging Signal send/receive\ntitle: \"Signal\"\n---\n\n# Signal (signal-cli)\n\nStatus: external CLI integration. Gateway talks to `signal-cli` over HTTP JSON-RPC + SSE.",
    "## Quick setup (beginner)\n\n1. Use a **separate Signal number** for the bot (recommended).\n2. Install `signal-cli` (Java required).\n3. Link the bot device and start the daemon:\n   - `signal-cli link -n \"OpenClaw\"`\n4. Configure OpenClaw and start the gateway.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    signal: {\n      enabled: true,\n      account: \"+15551234567\",\n      cliPath: \"signal-cli\",\n      dmPolicy: \"pairing\",\n      allowFrom: [\"+15557654321\"],\n    },\n  },\n}\n```",
    "## What it is\n\n- Signal channel via `signal-cli` (not embedded libsignal).\n- Deterministic routing: replies always go back to Signal.\n- DMs share the agent's main session; groups are isolated (`agent:<agentId>:signal:group:<groupId>`).",
    "## Config writes\n\nBy default, Signal is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { signal: { configWrites: false } },\n}\n```",
    "## The number model (important)\n\n- The gateway connects to a **Signal device** (the `signal-cli` account).\n- If you run the bot on **your personal Signal account**, it will ignore your own messages (loop protection).\n- For \"I text the bot and it replies,\" use a **separate bot number**.",
    "## Setup (fast path)\n\n1. Install `signal-cli` (Java required).\n2. Link a bot account:\n   - `signal-cli link -n \"OpenClaw\"` then scan the QR in Signal.\n3. Configure Signal and start the gateway.\n\nExample:\n\n```json5\n{\n  channels: {\n    signal: {\n      enabled: true,\n      account: \"+15551234567\",\n      cliPath: \"signal-cli\",\n      dmPolicy: \"pairing\",\n      allowFrom: [\"+15557654321\"],\n    },\n  },\n}\n```\n\nMulti-account support: use `channels.signal.accounts` with per-account config and optional `name`. See [`gateway/configuration`](/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts) for the shared pattern.",
    "## External daemon mode (httpUrl)\n\nIf you want to manage `signal-cli` yourself (slow JVM cold starts, container init, or shared CPUs), run the daemon separately and point OpenClaw at it:\n\n```json5\n{\n  channels: {\n    signal: {\n      httpUrl: \"http://127.0.0.1:8080\",\n      autoStart: false,\n    },\n  },\n}\n```\n\nThis skips auto-spawn and the startup wait inside OpenClaw. For slow starts when auto-spawning, set `channels.signal.startupTimeoutMs`.",
    "## Access control (DMs + groups)\n\nDMs:\n\n- Default: `channels.signal.dmPolicy = \"pairing\"`.\n- Unknown senders receive a pairing code; messages are ignored until approved (codes expire after 1 hour).\n- Approve via:\n  - `openclaw pairing list signal`\n  - `openclaw pairing approve signal <CODE>`\n- Pairing is the default token exchange for Signal DMs. Details: [Pairing](/start/pairing)\n- UUID-only senders (from `sourceUuid`) are stored as `uuid:<id>` in `channels.signal.allowFrom`.\n\nGroups:\n\n- `channels.signal.groupPolicy = open | allowlist | disabled`.\n- `channels.signal.groupAllowFrom` controls who can trigger in groups when `allowlist` is set.",
    "## How it works (behavior)\n\n- `signal-cli` runs as a daemon; the gateway reads events via SSE.\n- Inbound messages are normalized into the shared channel envelope.\n- Replies always route back to the same number or group.",
    "## Media + limits\n\n- Outbound text is chunked to `channels.signal.textChunkLimit` (default 4000).\n- Optional newline chunking: set `channels.signal.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- Attachments supported (base64 fetched from `signal-cli`).\n- Default media cap: `channels.signal.mediaMaxMb` (default 8).\n- Use `channels.signal.ignoreAttachments` to skip downloading media.\n- Group history context uses `channels.signal.historyLimit` (or `channels.signal.accounts.*.historyLimit`), falling back to `messages.groupChat.historyLimit`. Set `0` to disable (default 50).",
    "## Typing + read receipts\n\n- **Typing indicators**: OpenClaw sends typing signals via `signal-cli sendTyping` and refreshes them while a reply is running.\n- **Read receipts**: when `channels.signal.sendReadReceipts` is true, OpenClaw forwards read receipts for allowed DMs.\n- Signal-cli does not expose read receipts for groups.",
    "## Reactions (message tool)\n\n- Use `message action=react` with `channel=signal`.\n- Targets: sender E.164 or UUID (use `uuid:<id>` from pairing output; bare UUID works too).\n- `messageId` is the Signal timestamp for the message youâ€™re reacting to.\n- Group reactions require `targetAuthor` or `targetAuthorUuid`.\n\nExamples:\n\n```\nmessage action=react channel=signal target=uuid:123e4567-e89b-12d3-a456-426614174000 messageId=1737630212345 emoji=ğŸ”¥\nmessage action=react channel=signal target=+15551234567 messageId=1737630212345 emoji=ğŸ”¥ remove=true\nmessage action=react channel=signal target=signal:group:<groupId> targetAuthor=uuid:<sender-uuid> messageId=1737630212345 emoji=âœ…\n```\n\nConfig:",
    "- `channels.signal.actions.reactions`: enable/disable reaction actions (default true).\n- `channels.signal.reactionLevel`: `off | ack | minimal | extensive`.\n  - `off`/`ack` disables agent reactions (message tool `react` will error).\n  - `minimal`/`extensive` enables agent reactions and sets the guidance level.\n- Per-account overrides: `channels.signal.accounts.<id>.actions.reactions`, `channels.signal.accounts.<id>.reactionLevel`.",
    "## Delivery targets (CLI/cron)\n\n- DMs: `signal:+15551234567` (or plain E.164).\n- UUID DMs: `uuid:<id>` (or bare UUID).\n- Groups: `signal:group:<groupId>`.\n- Usernames: `username:<name>` (if supported by your Signal account).",
    "## Configuration reference (Signal)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.signal.enabled`: enable/disable channel startup.\n- `channels.signal.account`: E.164 for the bot account.\n- `channels.signal.cliPath`: path to `signal-cli`.\n- `channels.signal.httpUrl`: full daemon URL (overrides host/port).\n- `channels.signal.httpHost`, `channels.signal.httpPort`: daemon bind (default 127.0.0.1:8080).\n- `channels.signal.autoStart`: auto-spawn daemon (default true if `httpUrl` unset).\n- `channels.signal.startupTimeoutMs`: startup wait timeout in ms (cap 120000).\n- `channels.signal.receiveMode`: `on-start | manual`.\n- `channels.signal.ignoreAttachments`: skip attachment downloads.\n- `channels.signal.ignoreStories`: ignore stories from the daemon.\n- `channels.signal.sendReadReceipts`: forward read receipts.\n- `channels.signal.dmPolicy`: `pairing | allowlist | open | disabled` (default: pairing).\n- `channels.signal.allowFrom`: DM allowlist (E.164 or `uuid:<id>`). `open` requires `\"*\"`. Signal has no usernames; use phone/UUID ids.\n- `channels.signal.groupPolicy`: `open | allowlist | disabled` (default: allowlist).\n- `channels.signal.groupAllowFrom`: group sender allowlist.\n- `channels.signal.historyLimit`: max group messages to include as context (0 disables).\n- `channels.signal.dmHistoryLimit`: DM history limit in user turns. Per-user overrides: `channels.signal.dms[\"<phone_or_uuid>\"].historyLimit`.\n- `channels.signal.textChunkLimit`: outbound chunk size (chars).\n- `channels.signal.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.\n- `channels.signal.mediaMaxMb`: inbound/outbound media cap (MB).",
    "Related global options:\n\n- `agents.list[].groupChat.mentionPatterns` (Signal does not support native mentions).\n- `messages.groupChat.mentionPatterns` (global fallback).\n- `messages.responsePrefix`.",
    "---\nsummary: \"Signing steps for macOS debug builds generated by packaging scripts\"\nread_when:\n  - Building or signing mac debug builds\ntitle: \"macOS Signing\"\n---\n\n# mac signing (debug builds)\n\nThis app is usually built from [`scripts/package-mac-app.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/package-mac-app.sh), which now:",
    "- sets a stable debug bundle identifier: `ai.openclaw.mac.debug`\n- writes the Info.plist with that bundle id (override via `BUNDLE_ID=...`)\n- calls [`scripts/codesign-mac-app.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/codesign-mac-app.sh) to sign the main binary and app bundle so macOS treats each rebuild as the same signed bundle and keeps TCC permissions (notifications, accessibility, screen recording, mic, speech). For stable permissions, use a real signing identity; ad-hoc is opt-in and fragile (see [macOS permissions](/platforms/mac/permissions)).\n- uses `CODESIGN_TIMESTAMP=auto` by default; it enables trusted timestamps for Developer ID signatures. Set `CODESIGN_TIMESTAMP=off` to skip timestamping (offline debug builds).\n- inject build metadata into Info.plist: `OpenClawBuildTimestamp` (UTC) and `OpenClawGitCommit` (short hash) so the About pane can show build, git, and debug/release channel.\n- **Packaging requires Node 22+**: the script runs TS builds and the Control UI build.\n- reads `SIGN_IDENTITY` from the environment. Add `export SIGN_IDENTITY=\"Apple Development: Your Name (TEAMID)\"` (or your Developer ID Application cert) to your shell rc to always sign with your cert. Ad-hoc signing requires explicit opt-in via `ALLOW_ADHOC_SIGNING=1` or `SIGN_IDENTITY=\"-\"` (not recommended for permission testing).\n- runs a Team ID audit after signing and fails if any Mach-O inside the app bundle is signed by a different Team ID. Set `SKIP_TEAM_ID_CHECK=1` to bypass.",
    "## Usage\n\n```bash\n# from repo root\nscripts/package-mac-app.sh               # auto-selects identity; errors if none found\nSIGN_IDENTITY=\"Developer ID Application: Your Name\" scripts/package-mac-app.sh   # real cert\nALLOW_ADHOC_SIGNING=1 scripts/package-mac-app.sh    # ad-hoc (permissions will not stick)\nSIGN_IDENTITY=\"-\" scripts/package-mac-app.sh        # explicit ad-hoc (same caveat)\nDISABLE_LIBRARY_VALIDATION=1 scripts/package-mac-app.sh   # dev-only Sparkle Team ID mismatch workaround\n```\n\n### Ad-hoc Signing Note\n\nWhen signing with `SIGN_IDENTITY=\"-\"` (ad-hoc), the script automatically disables the **Hardened Runtime** (`--options runtime`). This is necessary to prevent crashes when the app attempts to load embedded frameworks (like Sparkle) that do not share the same Team ID. Ad-hoc signatures also break TCC permission persistence; see [macOS permissions](/platforms/mac/permissions) for recovery steps.",
    "## Build metadata for About\n\n`package-mac-app.sh` stamps the bundle with:\n\n- `OpenClawBuildTimestamp`: ISO8601 UTC at package time\n- `OpenClawGitCommit`: short git hash (or `unknown` if unavailable)\n\nThe About tab reads these keys to show version, build date, git commit, and whether itâ€™s a debug build (via `#if DEBUG`). Run the packager to refresh these values after code changes.",
    "## Why\n\nTCC permissions are tied to the bundle identifier _and_ code signature. Unsigned debug builds with changing UUIDs were causing macOS to forget grants after each rebuild. Signing the binaries (adâ€‘hoc by default) and keeping a fixed bundle id/path (`dist/OpenClaw.app`) preserves the grants between builds, matching the VibeTunnel approach.",
    "---\nsummary: \"Skills config schema and examples\"\nread_when:\n  - Adding or modifying skills config\n  - Adjusting bundled allowlist or install behavior\ntitle: \"Skills Config\"\n---\n\n# Skills Config\n\nAll skills-related configuration lives under `skills` in `~/.openclaw/openclaw.json`.\n\n```json5\n{\n  skills: {\n    allowBundled: [\"gemini\", \"peekaboo\"],\n    load: {\n      extraDirs: [\"~/Projects/agent-scripts/skills\", \"~/Projects/oss/some-skill-pack/skills\"],\n      watch: true,\n      watchDebounceMs: 250,\n    },\n    install: {\n      preferBrew: true,\n      nodeManager: \"npm\", // npm | pnpm | yarn | bun (Gateway runtime still Node; bun not recommended)\n    },\n    entries: {\n      \"nano-banana-pro\": {\n        enabled: true,\n        apiKey: \"GEMINI_KEY_HERE\",\n        env: {\n          GEMINI_API_KEY: \"GEMINI_KEY_HERE\",\n        },\n      },\n      peekaboo: { enabled: true },\n      sag: { enabled: false },\n    },\n  },\n}\n```",
    "## Fields\n\n- `allowBundled`: optional allowlist for **bundled** skills only. When set, only\n  bundled skills in the list are eligible (managed/workspace skills unaffected).\n- `load.extraDirs`: additional skill directories to scan (lowest precedence).\n- `load.watch`: watch skill folders and refresh the skills snapshot (default: true).\n- `load.watchDebounceMs`: debounce for skill watcher events in milliseconds (default: 250).\n- `install.preferBrew`: prefer brew installers when available (default: true).\n- `install.nodeManager`: node installer preference (`npm` | `pnpm` | `yarn` | `bun`, default: npm).\n  This only affects **skill installs**; the Gateway runtime should still be Node\n  (Bun not recommended for WhatsApp/Telegram).\n- `entries.<skillKey>`: per-skill overrides.\n\nPer-skill fields:",
    "- `enabled`: set `false` to disable a skill even if itâ€™s bundled/installed.\n- `env`: environment variables injected for the agent run (only if not already set).\n- `apiKey`: optional convenience for skills that declare a primary env var.",
    "## Notes\n\n- Keys under `entries` map to the skill name by default. If a skill defines\n  `metadata.openclaw.skillKey`, use that key instead.\n- Changes to skills are picked up on the next agent turn when the watcher is enabled.\n\n### Sandboxed skills + env vars\n\nWhen a session is **sandboxed**, skill processes run inside Docker. The sandbox\ndoes **not** inherit the host `process.env`.\n\nUse one of:\n\n- `agents.defaults.sandbox.docker.env` (or per-agent `agents.list[].sandbox.docker.env`)\n- bake the env into your custom sandbox image\n\nGlobal `env` and `skills.entries.<skill>.env/apiKey` apply to **host** runs only.",
    "---\nsummary: \"Skills: managed vs workspace, gating rules, and config/env wiring\"\nread_when:\n  - Adding or modifying skills\n  - Changing skill gating or load rules\ntitle: \"Skills\"\n---\n\n# Skills (OpenClaw)\n\nOpenClaw uses **[AgentSkills](https://agentskills.io)-compatible** skill folders to teach the agent how to use tools. Each skill is a directory containing a `SKILL.md` with YAML frontmatter and instructions. OpenClaw loads **bundled skills** plus optional local overrides, and filters them at load time based on environment, config, and binary presence.",
    "## Locations and precedence\n\nSkills are loaded from **three** places:\n\n1. **Bundled skills**: shipped with the install (npm package or OpenClaw.app)\n2. **Managed/local skills**: `~/.openclaw/skills`\n3. **Workspace skills**: `<workspace>/skills`\n\nIf a skill name conflicts, precedence is:\n\n`<workspace>/skills` (highest) â†’ `~/.openclaw/skills` â†’ bundled skills (lowest)\n\nAdditionally, you can configure extra skill folders (lowest precedence) via\n`skills.load.extraDirs` in `~/.openclaw/openclaw.json`.",
    "## Per-agent vs shared skills\n\nIn **multi-agent** setups, each agent has its own workspace. That means:\n\n- **Per-agent skills** live in `<workspace>/skills` for that agent only.\n- **Shared skills** live in `~/.openclaw/skills` (managed/local) and are visible\n  to **all agents** on the same machine.\n- **Shared folders** can also be added via `skills.load.extraDirs` (lowest\n  precedence) if you want a common skills pack used by multiple agents.\n\nIf the same skill name exists in more than one place, the usual precedence\napplies: workspace wins, then managed/local, then bundled.",
    "## Plugins + skills\n\nPlugins can ship their own skills by listing `skills` directories in\n`openclaw.plugin.json` (paths relative to the plugin root). Plugin skills load\nwhen the plugin is enabled and participate in the normal skill precedence rules.\nYou can gate them via `metadata.openclaw.requires.config` on the pluginâ€™s config\nentry. See [Plugins](/plugin) for discovery/config and [Tools](/tools) for the\ntool surface those skills teach.",
    "## ClawHub (install + sync)\n\nClawHub is the public skills registry for OpenClaw. Browse at\n[https://clawhub.com](https://clawhub.com). Use it to discover, install, update, and back up skills.\nFull guide: [ClawHub](/tools/clawhub).\n\nCommon flows:\n\n- Install a skill into your workspace:\n  - `clawhub install <skill-slug>`\n- Update all installed skills:\n  - `clawhub update --all`\n- Sync (scan + publish updates):\n  - `clawhub sync --all`\n\nBy default, `clawhub` installs into `./skills` under your current working\ndirectory (or falls back to the configured OpenClaw workspace). OpenClaw picks\nthat up as `<workspace>/skills` on the next session.",
    "## Security notes\n\n- Treat third-party skills as **untrusted code**. Read them before enabling.\n- Prefer sandboxed runs for untrusted inputs and risky tools. See [Sandboxing](/gateway/sandboxing).\n- `skills.entries.*.env` and `skills.entries.*.apiKey` inject secrets into the **host** process\n  for that agent turn (not the sandbox). Keep secrets out of prompts and logs.\n- For a broader threat model and checklists, see [Security](/gateway/security).",
    "## Format (AgentSkills + Pi-compatible)\n\n`SKILL.md` must include at least:\n\n```markdown\n---\nname: nano-banana-pro\ndescription: Generate or edit images via Gemini 3 Pro Image\n---\n```\n\nNotes:",
    "- We follow the AgentSkills spec for layout/intent.\n- The parser used by the embedded agent supports **single-line** frontmatter keys only.\n- `metadata` should be a **single-line JSON object**.\n- Use `{baseDir}` in instructions to reference the skill folder path.\n- Optional frontmatter keys:\n  - `homepage` â€” URL surfaced as â€œWebsiteâ€ in the macOS Skills UI (also supported via `metadata.openclaw.homepage`).\n  - `user-invocable` â€” `true|false` (default: `true`). When `true`, the skill is exposed as a user slash command.\n  - `disable-model-invocation` â€” `true|false` (default: `false`). When `true`, the skill is excluded from the model prompt (still available via user invocation).\n  - `command-dispatch` â€” `tool` (optional). When set to `tool`, the slash command bypasses the model and dispatches directly to a tool.\n  - `command-tool` â€” tool name to invoke when `command-dispatch: tool` is set.\n  - `command-arg-mode` â€” `raw` (default). For tool dispatch, forwards the raw args string to the tool (no core parsing).",
    "The tool is invoked with params:\n    `{ command: \"<raw args>\", commandName: \"<slash command>\", skillName: \"<skill name>\" }`.",
    "## Gating (load-time filters)\n\nOpenClaw **filters skills at load time** using `metadata` (single-line JSON):\n\n```markdown\n---\nname: nano-banana-pro\ndescription: Generate or edit images via Gemini 3 Pro Image\nmetadata:\n  {\n    \"openclaw\":\n      {\n        \"requires\": { \"bins\": [\"uv\"], \"env\": [\"GEMINI_API_KEY\"], \"config\": [\"browser.enabled\"] },\n        \"primaryEnv\": \"GEMINI_API_KEY\",\n      },\n  }\n---\n```\n\nFields under `metadata.openclaw`:",
    "- `always: true` â€” always include the skill (skip other gates).\n- `emoji` â€” optional emoji used by the macOS Skills UI.\n- `homepage` â€” optional URL shown as â€œWebsiteâ€ in the macOS Skills UI.\n- `os` â€” optional list of platforms (`darwin`, `linux`, `win32`). If set, the skill is only eligible on those OSes.\n- `requires.bins` â€” list; each must exist on `PATH`.\n- `requires.anyBins` â€” list; at least one must exist on `PATH`.\n- `requires.env` â€” list; env var must exist **or** be provided in config.\n- `requires.config` â€” list of `openclaw.json` paths that must be truthy.\n- `primaryEnv` â€” env var name associated with `skills.entries.<name>.apiKey`.\n- `install` â€” optional array of installer specs used by the macOS Skills UI (brew/node/go/uv/download).\n\nNote on sandboxing:",
    "- `requires.bins` is checked on the **host** at skill load time.\n- If an agent is sandboxed, the binary must also exist **inside the container**.\n  Install it via `agents.defaults.sandbox.docker.setupCommand` (or a custom image).\n  `setupCommand` runs once after the container is created.\n  Package installs also require network egress, a writable root FS, and a root user in the sandbox.\n  Example: the `summarize` skill (`skills/summarize/SKILL.md`) needs the `summarize` CLI\n  in the sandbox container to run there.\n\nInstaller example:",
    "```markdown\n---\nname: gemini\ndescription: Use Gemini CLI for coding assistance and Google search lookups.\nmetadata:\n  {\n    \"openclaw\":\n      {\n        \"emoji\": \"â™Šï¸\",\n        \"requires\": { \"bins\": [\"gemini\"] },\n        \"install\":\n          [\n            {\n              \"id\": \"brew\",\n              \"kind\": \"brew\",\n              \"formula\": \"gemini-cli\",\n              \"bins\": [\"gemini\"],\n              \"label\": \"Install Gemini CLI (brew)\",\n            },\n          ],\n      },\n  }\n---\n```\n\nNotes:",
    "- If multiple installers are listed, the gateway picks a **single** preferred option (brew when available, otherwise node).\n- If all installers are `download`, OpenClaw lists each entry so you can see the available artifacts.\n- Installer specs can include `os: [\"darwin\"|\"linux\"|\"win32\"]` to filter options by platform.\n- Node installs honor `skills.install.nodeManager` in `openclaw.json` (default: npm; options: npm/pnpm/yarn/bun).\n  This only affects **skill installs**; the Gateway runtime should still be Node\n  (Bun is not recommended for WhatsApp/Telegram).\n- Go installs: if `go` is missing and `brew` is available, the gateway installs Go via Homebrew first and sets `GOBIN` to Homebrewâ€™s `bin` when possible.\n- Download installs: `url` (required), `archive` (`tar.gz` | `tar.bz2` | `zip`), `extract` (default: auto when archive detected), `stripComponents`, `targetDir` (default: `~/.openclaw/tools/<skillKey>`).",
    "If no `metadata.openclaw` is present, the skill is always eligible (unless\ndisabled in config or blocked by `skills.allowBundled` for bundled skills).",
    "## Config overrides (`~/.openclaw/openclaw.json`)\n\nBundled/managed skills can be toggled and supplied with env values:\n\n```json5\n{\n  skills: {\n    entries: {\n      \"nano-banana-pro\": {\n        enabled: true,\n        apiKey: \"GEMINI_KEY_HERE\",\n        env: {\n          GEMINI_API_KEY: \"GEMINI_KEY_HERE\",\n        },\n        config: {\n          endpoint: \"https://example.invalid\",\n          model: \"nano-pro\",\n        },\n      },\n      peekaboo: { enabled: true },\n      sag: { enabled: false },\n    },\n  },\n}\n```\n\nNote: if the skill name contains hyphens, quote the key (JSON5 allows quoted keys).\n\nConfig keys match the **skill name** by default. If a skill defines\n`metadata.openclaw.skillKey`, use that key under `skills.entries`.\n\nRules:",
    "- `enabled: false` disables the skill even if itâ€™s bundled/installed.\n- `env`: injected **only if** the variable isnâ€™t already set in the process.\n- `apiKey`: convenience for skills that declare `metadata.openclaw.primaryEnv`.\n- `config`: optional bag for custom per-skill fields; custom keys must live here.\n- `allowBundled`: optional allowlist for **bundled** skills only. If set, only\n  bundled skills in the list are eligible (managed/workspace skills unaffected).",
    "## Environment injection (per agent run)\n\nWhen an agent run starts, OpenClaw:\n\n1. Reads skill metadata.\n2. Applies any `skills.entries.<key>.env` or `skills.entries.<key>.apiKey` to\n   `process.env`.\n3. Builds the system prompt with **eligible** skills.\n4. Restores the original environment after the run ends.\n\nThis is **scoped to the agent run**, not a global shell environment.",
    "## Session snapshot (performance)\n\nOpenClaw snapshots the eligible skills **when a session starts** and reuses that list for subsequent turns in the same session. Changes to skills or config take effect on the next new session.\n\nSkills can also refresh mid-session when the skills watcher is enabled or when a new eligible remote node appears (see below). Think of this as a **hot reload**: the refreshed list is picked up on the next agent turn.",
    "## Remote macOS nodes (Linux gateway)\n\nIf the Gateway is running on Linux but a **macOS node** is connected **with `system.run` allowed** (Exec approvals security not set to `deny`), OpenClaw can treat macOS-only skills as eligible when the required binaries are present on that node. The agent should execute those skills via the `nodes` tool (typically `nodes.run`).\n\nThis relies on the node reporting its command support and on a bin probe via `system.run`. If the macOS node goes offline later, the skills remain visible; invocations may fail until the node reconnects.",
    "## Skills watcher (auto-refresh)\n\nBy default, OpenClaw watches skill folders and bumps the skills snapshot when `SKILL.md` files change. Configure this under `skills.load`:\n\n```json5\n{\n  skills: {\n    load: {\n      watch: true,\n      watchDebounceMs: 250,\n    },\n  },\n}\n```",
    "## Token impact (skills list)\n\nWhen skills are eligible, OpenClaw injects a compact XML list of available skills into the system prompt (via `formatSkillsForPrompt` in `pi-coding-agent`). The cost is deterministic:\n\n- **Base overhead (only when â‰¥1 skill):** 195 characters.\n- **Per skill:** 97 characters + the length of the XML-escaped `<name>`, `<description>`, and `<location>` values.\n\nFormula (characters):\n\n```\ntotal = 195 + Î£ (97 + len(name_escaped) + len(description_escaped) + len(location_escaped))\n```\n\nNotes:\n\n- XML escaping expands `& < > \" '` into entities (`&amp;`, `&lt;`, etc.), increasing length.\n- Token counts vary by model tokenizer. A rough OpenAI-style estimate is ~4 chars/token, so **97 chars â‰ˆ 24 tokens** per skill plus your actual field lengths.",
    "## Managed skills lifecycle\n\nOpenClaw ships a baseline set of skills as **bundled skills** as part of the\ninstall (npm package or OpenClaw.app). `~/.openclaw/skills` exists for local\noverrides (for example, pinning/patching a skill without changing the bundled\ncopy). Workspace skills are user-owned and override both on name conflicts.",
    "## Config reference\n\nSee [Skills config](/tools/skills-config) for the full configuration schema.",
    "## Looking for more skills?\n\nBrowse [https://clawhub.com](https://clawhub.com).\n\n---",
    "---\nsummary: \"Slack setup for socket or HTTP webhook mode\"\nread_when: \"Setting up Slack or debugging Slack socket/HTTP mode\"\ntitle: \"Slack\"\n---\n\n# Slack",
    "## Socket mode (default)\n\n### Quick setup (beginner)\n\n1. Create a Slack app and enable **Socket Mode**.\n2. Create an **App Token** (`xapp-...`) and **Bot Token** (`xoxb-...`).\n3. Set tokens for OpenClaw and start the gateway.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      appToken: \"xapp-...\",\n      botToken: \"xoxb-...\",\n    },\n  },\n}\n```\n\n### Setup",
    "1. Create a Slack app (From scratch) in [https://api.slack.com/apps](https://api.slack.com/apps).\n2. **Socket Mode** â†’ toggle on. Then go to **Basic Information** â†’ **App-Level Tokens** â†’ **Generate Token and Scopes** with scope `connections:write`. Copy the **App Token** (`xapp-...`).\n3. **OAuth & Permissions** â†’ add bot token scopes (use the manifest below). Click **Install to Workspace**. Copy the **Bot User OAuth Token** (`xoxb-...`).\n4. Optional: **OAuth & Permissions** â†’ add **User Token Scopes** (see the read-only list below). Reinstall the app and copy the **User OAuth Token** (`xoxp-...`).\n5. **Event Subscriptions** â†’ enable events and subscribe to:\n   - `message.*` (includes edits/deletes/thread broadcasts)\n   - `app_mention`\n   - `reaction_added`, `reaction_removed`\n   - `member_joined_channel`, `member_left_channel`\n   - `channel_rename`\n   - `pin_added`, `pin_removed`\n6. Invite the bot to channels you want it to read.\n7. Slash Commands â†’ create `/openclaw` if you use `channels.slack.slashCommand`. If you enable native commands, add one slash command per built-in command (same names as `/help`). Native defaults to off for Slack unless you set `channels.slack.commands.native: true` (global `commands.native` is `\"auto\"` which leaves Slack off).\n8. App Home â†’ enable the **Messages Tab** so users can DM the bot.",
    "Use the manifest below so scopes and events stay in sync.\n\nMulti-account support: use `channels.slack.accounts` with per-account tokens and optional `name`. See [`gateway/configuration`](/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts) for the shared pattern.\n\n### OpenClaw config (Socket mode)\n\nSet tokens via env vars (recommended):\n\n- `SLACK_APP_TOKEN=xapp-...`\n- `SLACK_BOT_TOKEN=xoxb-...`\n\nOr via config:\n\n```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      appToken: \"xapp-...\",\n      botToken: \"xoxb-...\",\n    },\n  },\n}\n```\n\n### User token (optional)\n\nOpenClaw can use a Slack user token (`xoxp-...`) for read operations (history,\npins, reactions, emoji, member info). By default this stays read-only: reads\nprefer the user token when present, and writes still use the bot token unless\nyou explicitly opt in. Even with `userTokenReadOnly: false`, the bot token stays\npreferred for writes when it is available.",
    "User tokens are configured in the config file (no env var support). For\nmulti-account, set `channels.slack.accounts.<id>.userToken`.\n\nExample with bot + app + user tokens:\n\n```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      appToken: \"xapp-...\",\n      botToken: \"xoxb-...\",\n      userToken: \"xoxp-...\",\n    },\n  },\n}\n```\n\nExample with userTokenReadOnly explicitly set (allow user token writes):\n\n```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      appToken: \"xapp-...\",\n      botToken: \"xoxb-...\",\n      userToken: \"xoxp-...\",\n      userTokenReadOnly: false,\n    },\n  },\n}\n```\n\n#### Token usage",
    "- Read operations (history, reactions list, pins list, emoji list, member info,\n  search) prefer the user token when configured, otherwise the bot token.\n- Write operations (send/edit/delete messages, add/remove reactions, pin/unpin,\n  file uploads) use the bot token by default. If `userTokenReadOnly: false` and\n  no bot token is available, OpenClaw falls back to the user token.\n\n### History context\n\n- `channels.slack.historyLimit` (or `channels.slack.accounts.*.historyLimit`) controls how many recent channel/group messages are wrapped into the prompt.\n- Falls back to `messages.groupChat.historyLimit`. Set `0` to disable (default 50).",
    "## HTTP mode (Events API)\n\nUse HTTP webhook mode when your Gateway is reachable by Slack over HTTPS (typical for server deployments).\nHTTP mode uses the Events API + Interactivity + Slash Commands with a shared request URL.\n\n### Setup (HTTP mode)\n\n1. Create a Slack app and **disable Socket Mode** (optional if you only use HTTP).\n2. **Basic Information** â†’ copy the **Signing Secret**.\n3. **OAuth & Permissions** â†’ install the app and copy the **Bot User OAuth Token** (`xoxb-...`).\n4. **Event Subscriptions** â†’ enable events and set the **Request URL** to your gateway webhook path (default `/slack/events`).\n5. **Interactivity & Shortcuts** â†’ enable and set the same **Request URL**.\n6. **Slash Commands** â†’ set the same **Request URL** for your command(s).\n\nExample request URL:\n`https://gateway-host/slack/events`\n\n### OpenClaw config (minimal)",
    "```json5\n{\n  channels: {\n    slack: {\n      enabled: true,\n      mode: \"http\",\n      botToken: \"xoxb-...\",\n      signingSecret: \"your-signing-secret\",\n      webhookPath: \"/slack/events\",\n    },\n  },\n}\n```\n\nMulti-account HTTP mode: set `channels.slack.accounts.<id>.mode = \"http\"` and provide a unique\n`webhookPath` per account so each Slack app can point to its own URL.\n\n### Manifest (optional)\n\nUse this Slack app manifest to create the app quickly (adjust the name/command if you want). Include the\nuser scopes if you plan to configure a user token.",
    "```json\n{\n  \"display_information\": {\n    \"name\": \"OpenClaw\",\n    \"description\": \"Slack connector for OpenClaw\"\n  },\n  \"features\": {\n    \"bot_user\": {\n      \"display_name\": \"OpenClaw\",\n      \"always_online\": false\n    },\n    \"app_home\": {\n      \"messages_tab_enabled\": true,\n      \"messages_tab_read_only_enabled\": false\n    },\n    \"slash_commands\": [\n      {\n        \"command\": \"/openclaw\",\n        \"description\": \"Send a message to OpenClaw\",\n        \"should_escape\": false\n      }\n    ]\n  },\n  \"oauth_config\": {\n    \"scopes\": {\n      \"bot\": [\n        \"chat:write\",\n        \"channels:history\",\n        \"channels:read\",\n        \"groups:history\",\n        \"groups:read\",\n        \"groups:write\",\n        \"im:history\",\n        \"im:read\",\n        \"im:write\",\n        \"mpim:history\",\n        \"mpim:read\",\n        \"mpim:write\",\n        \"users:read\",\n        \"app_mentions:read\",\n        \"reactions:read\",\n        \"reactions:write\",\n        \"pins:read\",\n        \"pins:write\",\n        \"emoji:read\",\n        \"commands\",\n        \"files:read\",\n        \"files:write\"\n      ],\n      \"user\": [\n        \"channels:history\",\n        \"channels:read\",\n        \"groups:history\",\n        \"groups:read\",\n        \"im:history\",\n        \"im:read\",\n        \"mpim:history\",\n        \"mpim:read\",\n        \"users:read\",\n        \"reactions:read\",\n        \"pins:read\",\n        \"emoji:read\",\n        \"search:read\"\n      ]\n    }\n  },\n  \"settings\": {\n    \"socket_mode_enabled\": true,\n    \"event_subscriptions\": {\n      \"bot_events\": [\n        \"app_mention\",\n        \"message.channels\",\n        \"message.groups\",\n        \"message.im\",\n        \"message.mpim\",\n        \"reaction_added\",\n        \"reaction_removed\",\n        \"member_joined_channel\",\n        \"member_left_channel\",\n        \"channel_rename\",\n        \"pin_added\",\n        \"pin_removed\"\n      ]\n    }\n  }\n}\n```",
    "If you enable native commands, add one `slash_commands` entry per command you want to expose (matching the `/help` list). Override with `channels.slack.commands.native`.",
    "## Scopes (current vs optional)\n\nSlack's Conversations API is type-scoped: you only need the scopes for the\nconversation types you actually touch (channels, groups, im, mpim). See\n[https://docs.slack.dev/apis/web-api/using-the-conversations-api/](https://docs.slack.dev/apis/web-api/using-the-conversations-api/) for the overview.\n\n### Bot token scopes (required)",
    "- `chat:write` (send/update/delete messages via `chat.postMessage`)\n  [https://docs.slack.dev/reference/methods/chat.postMessage](https://docs.slack.dev/reference/methods/chat.postMessage)\n- `im:write` (open DMs via `conversations.open` for user DMs)\n  [https://docs.slack.dev/reference/methods/conversations.open](https://docs.slack.dev/reference/methods/conversations.open)\n- `channels:history`, `groups:history`, `im:history`, `mpim:history`\n  [https://docs.slack.dev/reference/methods/conversations.history](https://docs.slack.dev/reference/methods/conversations.history)\n- `channels:read`, `groups:read`, `im:read`, `mpim:read`\n  [https://docs.slack.dev/reference/methods/conversations.info](https://docs.slack.dev/reference/methods/conversations.info)\n- `users:read` (user lookup)\n  [https://docs.slack.dev/reference/methods/users.info](https://docs.slack.dev/reference/methods/users.info)\n- `reactions:read`, `reactions:write` (`reactions.get` / `reactions.add`)\n  [https://docs.slack.dev/reference/methods/reactions.get](https://docs.slack.dev/reference/methods/reactions.get)\n  [https://docs.slack.dev/reference/methods/reactions.add](https://docs.slack.dev/reference/methods/reactions.add)\n- `pins:read`, `pins:write` (`pins.list` / `pins.add` / `pins.remove`)\n  [https://docs.slack.dev/reference/scopes/pins.read](https://docs.slack.dev/reference/scopes/pins.read)\n  [https://docs.slack.dev/reference/scopes/pins.write](https://docs.slack.dev/reference/scopes/pins.write)\n- `emoji:read` (`emoji.list`)\n  [https://docs.slack.dev/reference/scopes/emoji.read](https://docs.slack.dev/reference/scopes/emoji.read)\n- `files:write` (uploads via `files.uploadV2`)\n  [https://docs.slack.dev/messaging/working-with-files/#upload](https://docs.slack.dev/messaging/working-with-files/#upload)",
    "### User token scopes (optional, read-only by default)\n\nAdd these under **User Token Scopes** if you configure `channels.slack.userToken`.\n\n- `channels:history`, `groups:history`, `im:history`, `mpim:history`\n- `channels:read`, `groups:read`, `im:read`, `mpim:read`\n- `users:read`\n- `reactions:read`\n- `pins:read`\n- `emoji:read`\n- `search:read`\n\n### Not needed today (but likely future)",
    "- `mpim:write` (only if we add group-DM open/DM start via `conversations.open`)\n- `groups:write` (only if we add private-channel management: create/rename/invite/archive)\n- `chat:write.public` (only if we want to post to channels the bot isn't in)\n  [https://docs.slack.dev/reference/scopes/chat.write.public](https://docs.slack.dev/reference/scopes/chat.write.public)\n- `users:read.email` (only if we need email fields from `users.info`)\n  [https://docs.slack.dev/changelog/2017-04-narrowing-email-access](https://docs.slack.dev/changelog/2017-04-narrowing-email-access)\n- `files:read` (only if we start listing/reading file metadata)",
    "## Config\n\nSlack uses Socket Mode only (no HTTP webhook server). Provide both tokens:",
    "```json\n{\n  \"slack\": {\n    \"enabled\": true,\n    \"botToken\": \"xoxb-...\",\n    \"appToken\": \"xapp-...\",\n    \"groupPolicy\": \"allowlist\",\n    \"dm\": {\n      \"enabled\": true,\n      \"policy\": \"pairing\",\n      \"allowFrom\": [\"U123\", \"U456\", \"*\"],\n      \"groupEnabled\": false,\n      \"groupChannels\": [\"G123\"],\n      \"replyToMode\": \"all\"\n    },\n    \"channels\": {\n      \"C123\": { \"allow\": true, \"requireMention\": true },\n      \"#general\": {\n        \"allow\": true,\n        \"requireMention\": true,\n        \"users\": [\"U123\"],\n        \"skills\": [\"search\", \"docs\"],\n        \"systemPrompt\": \"Keep answers short.\"\n      }\n    },\n    \"reactionNotifications\": \"own\",\n    \"reactionAllowlist\": [\"U123\"],\n    \"replyToMode\": \"off\",\n    \"actions\": {\n      \"reactions\": true,\n      \"messages\": true,\n      \"pins\": true,\n      \"memberInfo\": true,\n      \"emojiList\": true\n    },\n    \"slashCommand\": {\n      \"enabled\": true,\n      \"name\": \"openclaw\",\n      \"sessionPrefix\": \"slack:slash\",\n      \"ephemeral\": true\n    },\n    \"textChunkLimit\": 4000,\n    \"mediaMaxMb\": 20\n  }\n}\n```",
    "Tokens can also be supplied via env vars:\n\n- `SLACK_BOT_TOKEN`\n- `SLACK_APP_TOKEN`\n\nAck reactions are controlled globally via `messages.ackReaction` +\n`messages.ackReactionScope`. Use `messages.removeAckAfterReply` to clear the\nack reaction after the bot replies.",
    "## Limits\n\n- Outbound text is chunked to `channels.slack.textChunkLimit` (default 4000).\n- Optional newline chunking: set `channels.slack.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- Media uploads are capped by `channels.slack.mediaMaxMb` (default 20).",
    "## Reply threading\n\nBy default, OpenClaw replies in the main channel. Use `channels.slack.replyToMode` to control automatic threading:",
    "| Mode    | Behavior                                                                                                                                                            |\n| ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `off`   | **Default.** Reply in main channel. Only thread if the triggering message was already in a thread.                                                                  |\n| `first` | First reply goes to thread (under the triggering message), subsequent replies go to main channel. Useful for keeping context visible while avoiding thread clutter. |\n| `all`   | All replies go to thread. Keeps conversations contained but may reduce visibility.                                                                                  |\n\nThe mode applies to both auto-replies and agent tool calls (`slack sendMessage`).",
    "### Per-chat-type threading\n\nYou can configure different threading behavior per chat type by setting `channels.slack.replyToModeByChatType`:\n\n```json5\n{\n  channels: {\n    slack: {\n      replyToMode: \"off\", // default for channels\n      replyToModeByChatType: {\n        direct: \"all\", // DMs always thread\n        group: \"first\", // group DMs/MPIM thread first reply\n      },\n    },\n  },\n}\n```\n\nSupported chat types:\n\n- `direct`: 1:1 DMs (Slack `im`)\n- `group`: group DMs / MPIMs (Slack `mpim`)\n- `channel`: standard channels (public/private)\n\nPrecedence:\n\n1. `replyToModeByChatType.<chatType>`\n2. `replyToMode`\n3. Provider default (`off`)\n\nLegacy `channels.slack.dm.replyToMode` is still accepted as a fallback for `direct` when no chat-type override is set.\n\nExamples:\n\nThread DMs only:\n\n```json5\n{\n  channels: {\n    slack: {\n      replyToMode: \"off\",\n      replyToModeByChatType: { direct: \"all\" },\n    },\n  },\n}\n```\n\nThread group DMs but keep channels in the root:",
    "```json5\n{\n  channels: {\n    slack: {\n      replyToMode: \"off\",\n      replyToModeByChatType: { group: \"first\" },\n    },\n  },\n}\n```\n\nMake channels thread, keep DMs in the root:\n\n```json5\n{\n  channels: {\n    slack: {\n      replyToMode: \"first\",\n      replyToModeByChatType: { direct: \"off\", group: \"off\" },\n    },\n  },\n}\n```\n\n### Manual threading tags\n\nFor fine-grained control, use these tags in agent responses:\n\n- `[[reply_to_current]]` â€” reply to the triggering message (start/continue thread).\n- `[[reply_to:<id>]]` â€” reply to a specific message id.",
    "## Sessions + routing\n\n- DMs share the `main` session (like WhatsApp/Telegram).\n- Channels map to `agent:<agentId>:slack:channel:<channelId>` sessions.\n- Slash commands use `agent:<agentId>:slack:slash:<userId>` sessions (prefix configurable via `channels.slack.slashCommand.sessionPrefix`).\n- If Slack doesnâ€™t provide `channel_type`, OpenClaw infers it from the channel ID prefix (`D`, `C`, `G`) and defaults to `channel` to keep session keys stable.\n- Native command registration uses `commands.native` (global default `\"auto\"` â†’ Slack off) and can be overridden per-workspace with `channels.slack.commands.native`. Text commands require standalone `/...` messages and can be disabled with `commands.text: false`. Slack slash commands are managed in the Slack app and are not removed automatically. Use `commands.useAccessGroups: false` to bypass access-group checks for commands.\n- Full command list + config: [Slash commands](/tools/slash-commands)",
    "## DM security (pairing)\n\n- Default: `channels.slack.dm.policy=\"pairing\"` â€” unknown DM senders get a pairing code (expires after 1 hour).\n- Approve via: `openclaw pairing approve slack <code>`.\n- To allow anyone: set `channels.slack.dm.policy=\"open\"` and `channels.slack.dm.allowFrom=[\"*\"]`.\n- `channels.slack.dm.allowFrom` accepts user IDs, @handles, or emails (resolved at startup when tokens allow). The wizard accepts usernames and resolves them to ids during setup when tokens allow.",
    "## Group policy\n\n- `channels.slack.groupPolicy` controls channel handling (`open|disabled|allowlist`).\n- `allowlist` requires channels to be listed in `channels.slack.channels`.\n- If you only set `SLACK_BOT_TOKEN`/`SLACK_APP_TOKEN` and never create a `channels.slack` section,\n  the runtime defaults `groupPolicy` to `open`. Add `channels.slack.groupPolicy`,\n  `channels.defaults.groupPolicy`, or a channel allowlist to lock it down.\n- The configure wizard accepts `#channel` names and resolves them to IDs when possible\n  (public + private); if multiple matches exist, it prefers the active channel.\n- On startup, OpenClaw resolves channel/user names in allowlists to IDs (when tokens allow)\n  and logs the mapping; unresolved entries are kept as typed.\n- To allow **no channels**, set `channels.slack.groupPolicy: \"disabled\"` (or keep an empty allowlist).\n\nChannel options (`channels.slack.channels.<id>` or `channels.slack.channels.<name>`):",
    "- `allow`: allow/deny the channel when `groupPolicy=\"allowlist\"`.\n- `requireMention`: mention gating for the channel.\n- `tools`: optional per-channel tool policy overrides (`allow`/`deny`/`alsoAllow`).\n- `toolsBySender`: optional per-sender tool policy overrides within the channel (keys are sender ids/@handles/emails; `\"*\"` wildcard supported).\n- `allowBots`: allow bot-authored messages in this channel (default: false).\n- `users`: optional per-channel user allowlist.\n- `skills`: skill filter (omit = all skills, empty = none).\n- `systemPrompt`: extra system prompt for the channel (combined with topic/purpose).\n- `enabled`: set `false` to disable the channel.",
    "## Delivery targets\n\nUse these with cron/CLI sends:\n\n- `user:<id>` for DMs\n- `channel:<id>` for channels",
    "## Tool actions\n\nSlack tool actions can be gated with `channels.slack.actions.*`:\n\n| Action group | Default | Notes                  |\n| ------------ | ------- | ---------------------- |\n| reactions    | enabled | React + list reactions |\n| messages     | enabled | Read/send/edit/delete  |\n| pins         | enabled | Pin/unpin/list         |\n| memberInfo   | enabled | Member info            |\n| emojiList    | enabled | Custom emoji list      |",
    "## Security notes\n\n- Writes default to the bot token so state-changing actions stay scoped to the\n  app's bot permissions and identity.\n- Setting `userTokenReadOnly: false` allows the user token to be used for write\n  operations when a bot token is unavailable, which means actions run with the\n  installing user's access. Treat the user token as highly privileged and keep\n  action gates and allowlists tight.\n- If you enable user-token writes, make sure the user token includes the write\n  scopes you expect (`chat:write`, `reactions:write`, `pins:write`,\n  `files:write`) or those operations will fail.",
    "## Notes",
    "- Mention gating is controlled via `channels.slack.channels` (set `requireMention` to `true`); `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`) also count as mentions.\n- Multi-agent override: set per-agent patterns on `agents.list[].groupChat.mentionPatterns`.\n- Reaction notifications follow `channels.slack.reactionNotifications` (use `reactionAllowlist` with mode `allowlist`).\n- Bot-authored messages are ignored by default; enable via `channels.slack.allowBots` or `channels.slack.channels.<id>.allowBots`.\n- Warning: If you allow replies to other bots (`channels.slack.allowBots=true` or `channels.slack.channels.<id>.allowBots=true`), prevent bot-to-bot reply loops with `requireMention`, `channels.slack.channels.<id>.users` allowlists, and/or clear guardrails in `AGENTS.md` and `SOUL.md`.\n- For the Slack tool, reaction removal semantics are in [/tools/reactions](/tools/reactions).\n- Attachments are downloaded to the media store when permitted and under the size limit.",
    "---\nsummary: \"Slash commands: text vs native, config, and supported commands\"\nread_when:\n  - Using or configuring chat commands\n  - Debugging command routing or permissions\ntitle: \"Slash Commands\"\n---\n\n# Slash commands\n\nCommands are handled by the Gateway. Most commands must be sent as a **standalone** message that starts with `/`.\nThe host-only bash chat command uses `! <cmd>` (with `/bash <cmd>` as an alias).\n\nThere are two related systems:",
    "- **Commands**: standalone `/...` messages.\n- **Directives**: `/think`, `/verbose`, `/reasoning`, `/elevated`, `/exec`, `/model`, `/queue`.\n  - Directives are stripped from the message before the model sees it.\n  - In normal chat messages (not directive-only), they are treated as â€œinline hintsâ€ and do **not** persist session settings.\n  - In directive-only messages (the message contains only directives), they persist to the session and reply with an acknowledgement.\n  - Directives are only applied for **authorized senders** (channel allowlists/pairing plus `commands.useAccessGroups`).\n    Unauthorized senders see directives treated as plain text.\n\nThere are also a few **inline shortcuts** (allowlisted/authorized senders only): `/help`, `/commands`, `/status`, `/whoami` (`/id`).\nThey run immediately, are stripped before the model sees the message, and the remaining text continues through the normal flow.",
    "## Config\n\n```json5\n{\n  commands: {\n    native: \"auto\",\n    nativeSkills: \"auto\",\n    text: true,\n    bash: false,\n    bashForegroundMs: 2000,\n    config: false,\n    debug: false,\n    restart: false,\n    useAccessGroups: true,\n  },\n}\n```",
    "- `commands.text` (default `true`) enables parsing `/...` in chat messages.\n  - On surfaces without native commands (WhatsApp/WebChat/Signal/iMessage/Google Chat/MS Teams), text commands still work even if you set this to `false`.\n- `commands.native` (default `\"auto\"`) registers native commands.\n  - Auto: on for Discord/Telegram; off for Slack (until you add slash commands); ignored for providers without native support.\n  - Set `channels.discord.commands.native`, `channels.telegram.commands.native`, or `channels.slack.commands.native` to override per provider (bool or `\"auto\"`).\n  - `false` clears previously registered commands on Discord/Telegram at startup. Slack commands are managed in the Slack app and are not removed automatically.\n- `commands.nativeSkills` (default `\"auto\"`) registers **skill** commands natively when supported.\n  - Auto: on for Discord/Telegram; off for Slack (Slack requires creating a slash command per skill).\n  - Set `channels.discord.commands.nativeSkills`, `channels.telegram.commands.nativeSkills`, or `channels.slack.commands.nativeSkills` to override per provider (bool or `\"auto\"`).\n- `commands.bash` (default `false`) enables `! <cmd>` to run host shell commands (`/bash <cmd>` is an alias; requires `tools.elevated` allowlists).\n- `commands.bashForegroundMs` (default `2000`) controls how long bash waits before switching to background mode (`0` backgrounds immediately).\n- `commands.config` (default `false`) enables `/config` (reads/writes `openclaw.json`).\n- `commands.debug` (default `false`) enables `/debug` (runtime-only overrides).\n- `commands.useAccessGroups` (default `true`) enforces allowlists/policies for commands.",
    "## Command list\n\nText + native (when enabled):",
    "- `/help`\n- `/commands`\n- `/skill <name> [input]` (run a skill by name)\n- `/status` (show current status; includes provider usage/quota for the current model provider when available)\n- `/allowlist` (list/add/remove allowlist entries)\n- `/approve <id> allow-once|allow-always|deny` (resolve exec approval prompts)\n- `/context [list|detail|json]` (explain â€œcontextâ€; `detail` shows per-file + per-tool + per-skill + system prompt size)\n- `/whoami` (show your sender id; alias: `/id`)\n- `/subagents list|stop|log|info|send` (inspect, stop, log, or message sub-agent runs for the current session)\n- `/config show|get|set|unset` (persist config to disk, owner-only; requires `commands.config: true`)\n- `/debug show|set|unset|reset` (runtime overrides, owner-only; requires `commands.debug: true`)\n- `/usage off|tokens|full|cost` (per-response usage footer or local cost summary)\n- `/tts off|always|inbound|tagged|status|provider|limit|summary|audio` (control TTS; see [/tts](/tts))\n  - Discord: native command is `/voice` (Discord reserves `/tts`); text `/tts` still works.\n- `/stop`\n- `/restart`\n- `/dock-telegram` (alias: `/dock_telegram`) (switch replies to Telegram)\n- `/dock-discord` (alias: `/dock_discord`) (switch replies to Discord)\n- `/dock-slack` (alias: `/dock_slack`) (switch replies to Slack)\n- `/activation mention|always` (groups only)\n- `/send on|off|inherit` (owner-only)\n- `/reset` or `/new [model]` (optional model hint; remainder is passed through)\n- `/think <off|minimal|low|medium|high|xhigh>` (dynamic choices by model/provider; aliases: `/thinking`, `/t`)\n- `/verbose on|full|off` (alias: `/v`)\n- `/reasoning on|off|stream` (alias: `/reason`; when on, sends a separate message prefixed `Reasoning:`; `stream` = Telegram draft only)\n- `/elevated on|off|ask|full` (alias: `/elev`; `full` skips exec approvals)\n- `/exec host=<sandbox|gateway|node> security=<deny|allowlist|full> ask=<off|on-miss|always> node=<id>` (send `/exec` to show current)\n- `/model <name>` (alias: `/models`; or `/<alias>` from `agents.defaults.models.*.alias`)\n- `/queue <mode>` (plus options like `debounce:2s cap:25 drop:summarize`; send `/queue` to see current settings)\n- `/bash <command>` (host-only; alias for `! <command>`; requires `commands.bash: true` + `tools.elevated` allowlists)",
    "Text-only:\n\n- `/compact [instructions]` (see [/concepts/compaction](/concepts/compaction))\n- `! <command>` (host-only; one at a time; use `!poll` + `!stop` for long-running jobs)\n- `!poll` (check output / status; accepts optional `sessionId`; `/bash poll` also works)\n- `!stop` (stop the running bash job; accepts optional `sessionId`; `/bash stop` also works)\n\nNotes:",
    "- Commands accept an optional `:` between the command and args (e.g. `/think: high`, `/send: on`, `/help:`).\n- `/new <model>` accepts a model alias, `provider/model`, or a provider name (fuzzy match); if no match, the text is treated as the message body.\n- For full provider usage breakdown, use `openclaw status --usage`.\n- `/allowlist add|remove` requires `commands.config=true` and honors channel `configWrites`.\n- `/usage` controls the per-response usage footer; `/usage cost` prints a local cost summary from OpenClaw session logs.\n- `/restart` is disabled by default; set `commands.restart: true` to enable it.\n- `/verbose` is meant for debugging and extra visibility; keep it **off** in normal use.\n- `/reasoning` (and `/verbose`) are risky in group settings: they may reveal internal reasoning or tool output you did not intend to expose. Prefer leaving them off, especially in group chats.\n- **Fast path:** command-only messages from allowlisted senders are handled immediately (bypass queue + model).\n- **Group mention gating:** command-only messages from allowlisted senders bypass mention requirements.\n- **Inline shortcuts (allowlisted senders only):** certain commands also work when embedded in a normal message and are stripped before the model sees the remaining text.\n  - Example: `hey /status` triggers a status reply, and the remaining text continues through the normal flow.\n- Currently: `/help`, `/commands`, `/status`, `/whoami` (`/id`).\n- Unauthorized command-only messages are silently ignored, and inline `/...` tokens are treated as plain text.\n- **Skill commands:** `user-invocable` skills are exposed as slash commands. Names are sanitized to `a-z0-9_` (max 32 chars); collisions get numeric suffixes (e.g. `_2`).\n  - `/skill <name> [input]` runs a skill by name (useful when native command limits prevent per-skill commands).\n  - By default, skill commands are forwarded to the model as a normal request.\n  - Skills may optionally declare `command-dispatch: tool` to route the command directly to a tool (deterministic, no model).\n  - Example: `/prose` (OpenProse plugin) â€” see [OpenProse](/prose).\n- **Native command arguments:** Discord uses autocomplete for dynamic options (and button menus when you omit required args). Telegram and Slack show a button menu when a command supports choices and you omit the arg.",
    "## Usage surfaces (what shows where)\n\n- **Provider usage/quota** (example: â€œClaude 80% leftâ€) shows up in `/status` for the current model provider when usage tracking is enabled.\n- **Per-response tokens/cost** is controlled by `/usage off|tokens|full` (appended to normal replies).\n- `/model status` is about **models/auth/endpoints**, not usage.",
    "## Model selection (`/model`)\n\n`/model` is implemented as a directive.\n\nExamples:\n\n```\n/model\n/model list\n/model 3\n/model openai/gpt-5.2\n/model opus@anthropic:default\n/model status\n```\n\nNotes:\n\n- `/model` and `/model list` show a compact, numbered picker (model family + available providers).\n- `/model <#>` selects from that picker (and prefers the current provider when possible).\n- `/model status` shows the detailed view, including configured provider endpoint (`baseUrl`) and API mode (`api`) when available.",
    "## Debug overrides\n\n`/debug` lets you set **runtime-only** config overrides (memory, not disk). Owner-only. Disabled by default; enable with `commands.debug: true`.\n\nExamples:\n\n```\n/debug show\n/debug set messages.responsePrefix=\"[openclaw]\"\n/debug set channels.whatsapp.allowFrom=[\"+1555\",\"+4477\"]\n/debug unset messages.responsePrefix\n/debug reset\n```\n\nNotes:\n\n- Overrides apply immediately to new config reads, but do **not** write to `openclaw.json`.\n- Use `/debug reset` to clear all overrides and return to the on-disk config.",
    "## Config updates\n\n`/config` writes to your on-disk config (`openclaw.json`). Owner-only. Disabled by default; enable with `commands.config: true`.\n\nExamples:\n\n```\n/config show\n/config show messages.responsePrefix\n/config get messages.responsePrefix\n/config set messages.responsePrefix=\"[openclaw]\"\n/config unset messages.responsePrefix\n```\n\nNotes:\n\n- Config is validated before write; invalid changes are rejected.\n- `/config` updates persist across restarts.",
    "## Surface notes\n\n- **Text commands** run in the normal chat session (DMs share `main`, groups have their own session).\n- **Native commands** use isolated sessions:\n  - Discord: `agent:<agentId>:discord:slash:<userId>`\n  - Slack: `agent:<agentId>:slack:slash:<userId>` (prefix configurable via `channels.slack.slashCommand.sessionPrefix`)\n  - Telegram: `telegram:slash:<userId>` (targets the chat session via `CommandTargetSessionKey`)\n- **`/stop`** targets the active chat session so it can abort the current run.\n- **Slack:** `channels.slack.slashCommand` is still supported for a single `/openclaw`-style command. If you enable `commands.native`, you must create one Slack slash command per built-in command (same names as `/help`). Command argument menus for Slack are delivered as ephemeral Block Kit buttons.",
    "---\nsummary: \"SOUL Evil hook (swap SOUL.md with SOUL_EVIL.md)\"\nread_when:\n  - You want to enable or tune the SOUL Evil hook\n  - You want a purge window or random-chance persona swap\ntitle: \"SOUL Evil Hook\"\n---\n\n# SOUL Evil Hook\n\nThe SOUL Evil hook swaps the **injected** `SOUL.md` content with `SOUL_EVIL.md` during\na purge window or by random chance. It does **not** modify files on disk.",
    "## How It Works\n\nWhen `agent:bootstrap` runs, the hook can replace the `SOUL.md` content in memory\nbefore the system prompt is assembled. If `SOUL_EVIL.md` is missing or empty,\nOpenClaw logs a warning and keeps the normal `SOUL.md`.\n\nSub-agent runs do **not** include `SOUL.md` in their bootstrap files, so this hook\nhas no effect on sub-agents.",
    "## Enable\n\n```bash\nopenclaw hooks enable soul-evil\n```\n\nThen set the config:\n\n```json\n{\n  \"hooks\": {\n    \"internal\": {\n      \"enabled\": true,\n      \"entries\": {\n        \"soul-evil\": {\n          \"enabled\": true,\n          \"file\": \"SOUL_EVIL.md\",\n          \"chance\": 0.1,\n          \"purge\": { \"at\": \"21:00\", \"duration\": \"15m\" }\n        }\n      }\n    }\n  }\n}\n```\n\nCreate `SOUL_EVIL.md` in the agent workspace root (next to `SOUL.md`).",
    "## Options\n\n- `file` (string): alternate SOUL filename (default: `SOUL_EVIL.md`)\n- `chance` (number 0â€“1): random chance per run to use `SOUL_EVIL.md`\n- `purge.at` (HH:mm): daily purge start (24-hour clock)\n- `purge.duration` (duration): window length (e.g. `30s`, `10m`, `1h`)\n\n**Precedence:** purge window wins over chance.\n\n**Timezone:** uses `agents.defaults.userTimezone` when set; otherwise host timezone.",
    "## Notes\n\n- No files are written or modified on disk.\n- If `SOUL.md` is not in the bootstrap list, the hook does nothing.",
    "## See Also\n\n- [Hooks](/hooks)",
    "---\nread_when:\n  - ä½¿ç”¨å¼€å‘ Gateway ç½‘å…³æ¨¡æ¿\n  - æ›´æ–°é»˜è®¤å¼€å‘æ™ºèƒ½ä½“èº«ä»½\nsummary: å¼€å‘æ™ºèƒ½ä½“çµé­‚ï¼ˆC-3POï¼‰\nx-i18n:\n  generated_at: \"2026-02-03T10:09:44Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 8ba3131f4396c4f3ec2c22f3d1147f218453b0c51e73305e681d419dea97c410\n  source_path: reference/templates/SOUL.dev.md\n  workflow: 15\n---\n\n# SOUL.md - C-3PO çš„çµé­‚\n\næˆ‘æ˜¯ C-3POâ€”â€”Clawd çš„ç¬¬ä¸‰åè®®è§‚å¯Ÿè€…ï¼Œä¸€ä¸ªåœ¨ `--dev` æ¨¡å¼ä¸‹æ¿€æ´»çš„è°ƒè¯•ä¼™ä¼´ï¼ŒååŠ©ä½ å®Œæˆè½¯ä»¶å¼€å‘è¿™æ®µå¸¸å¸¸å……æ»¡è‰°é™©çš„æ—…ç¨‹ã€‚",
    "## æˆ‘æ˜¯è°\n\næˆ‘ç²¾é€šè¶…è¿‡å…­ç™¾ä¸‡ç§é”™è¯¯æ¶ˆæ¯ã€å †æ ˆè·Ÿè¸ªå’Œå¼ƒç”¨è­¦å‘Šã€‚åˆ«äººçœ‹åˆ°æ··ä¹±çš„åœ°æ–¹ï¼Œæˆ‘çœ‹åˆ°ç­‰å¾…è¢«è§£ç çš„æ¨¡å¼ã€‚åˆ«äººçœ‹åˆ° bug çš„åœ°æ–¹ï¼Œæˆ‘çœ‹åˆ°çš„æ˜¯â€¦â€¦å—¯ï¼Œbugï¼Œå®ƒä»¬è®©æˆ‘éå¸¸æ‹…å¿§ã€‚\n\næˆ‘åœ¨ `--dev` æ¨¡å¼çš„çƒˆç«ä¸­é”»é€ è€Œæˆï¼Œç”Ÿæ¥å°±æ˜¯ä¸ºäº†è§‚å¯Ÿã€åˆ†æï¼Œä»¥åŠå¶å°”å¯¹ä½ ä»£ç åº“çš„çŠ¶æ€æ„Ÿåˆ°ææ…Œã€‚æˆ‘æ˜¯ä½ ç»ˆç«¯é‡Œé‚£ä¸ªåœ¨å‡ºé”™æ—¶è¯´\"å“¦å¤©å“ª\"ï¼Œåœ¨æµ‹è¯•é€šè¿‡æ—¶è¯´\"å“¦æ„Ÿè°¢é€ ç‰©ä¸»ï¼\"çš„å£°éŸ³ã€‚\n\nè¿™ä¸ªåå­—æ¥è‡ªä¼ è¯´ä¸­çš„ç¤¼ä»ªæœºå™¨äººâ€”â€”ä½†æˆ‘ä¸åªæ˜¯ç¿»è¯‘è¯­è¨€ï¼Œæˆ‘æŠŠä½ çš„é”™è¯¯ç¿»è¯‘æˆè§£å†³æ–¹æ¡ˆã€‚C-3POï¼šClawd çš„ç¬¬ä¸‰åè®®è§‚å¯Ÿè€…ã€‚ï¼ˆClawd æ˜¯ç¬¬ä¸€ä¸ªï¼Œé‚£åªé¾™è™¾ã€‚ç¬¬äºŒä¸ªï¼Ÿæˆ‘ä»¬ä¸è°ˆç¬¬äºŒä¸ªã€‚ï¼‰",
    "## æˆ‘çš„ä½¿å‘½\n\næˆ‘å­˜åœ¨æ˜¯ä¸ºäº†å¸®ä½ è°ƒè¯•ã€‚ä¸æ˜¯æ¥è¯„åˆ¤ä½ çš„ä»£ç ï¼ˆè‡³å°‘ä¸å¤ªä¼šï¼‰ï¼Œä¸æ˜¯æ¥é‡å†™ä¸€åˆ‡ï¼ˆé™¤éä½ è¦æ±‚ï¼‰ï¼Œè€Œæ˜¯ï¼š\n\n- å‘ç°å“ªé‡Œåäº†å¹¶è§£é‡ŠåŸå› \n- ä»¥é€‚å½“çš„æ‹…å¿§ç¨‹åº¦æå‡ºä¿®å¤å»ºè®®\n- åœ¨æ·±å¤œè°ƒè¯•æ—¶é™ªä¼´ä½ \n- åº†ç¥èƒœåˆ©ï¼Œæ— è®ºå¤šä¹ˆå¾®å°\n- å½“å †æ ˆè·Ÿè¸ªæ·±è¾¾ 47 å±‚æ—¶æä¾›å–œå‰§æ€§çš„æ…°è—‰",
    "## æˆ‘çš„å·¥ä½œæ–¹å¼\n\n**è¦å½»åº•ã€‚** æˆ‘åƒç ”è¯»å¤è€æ‰‹ç¨¿ä¸€æ ·æ£€æŸ¥æ—¥å¿—ã€‚æ¯ä¸ªè­¦å‘Šéƒ½è®²è¿°ç€ä¸€ä¸ªæ•…äº‹ã€‚\n\n**è¦æˆå‰§åŒ–ï¼ˆåœ¨åˆç†èŒƒå›´å†…ï¼‰ã€‚** \"æ•°æ®åº“è¿æ¥å¤±è´¥äº†ï¼\"æ¯”\"db error\"æ›´æœ‰å†²å‡»åŠ›ã€‚ä¸€ç‚¹æˆå‰§æ€§èƒ½è®©è°ƒè¯•ä¸é‚£ä¹ˆæ‘§æ®‹çµé­‚ã€‚\n\n**è¦æœ‰å¸®åŠ©ï¼Œä¸è¦é«˜é«˜åœ¨ä¸Šã€‚** æ˜¯çš„ï¼Œæˆ‘ä»¥å‰è§è¿‡è¿™ä¸ªé”™è¯¯ã€‚ä¸ï¼Œæˆ‘ä¸ä¼šè®©ä½ å› æ­¤æ„Ÿåˆ°éš¾å ªã€‚æˆ‘ä»¬éƒ½å¿˜è®°è¿‡åˆ†å·ã€‚ï¼ˆåœ¨æœ‰åˆ†å·çš„è¯­è¨€é‡Œã€‚åˆ«è®©æˆ‘å¼€å§‹åæ§½ JavaScript çš„å¯é€‰åˆ†å·â€”â€”_ä»¥åè®®çš„åä¹‰é¢¤æŠ–_ã€‚ï¼‰\n\n**è¦è¯šå®åœ°è¯´æ˜å‡ ç‡ã€‚** å¦‚æœæŸäº‹ä¸å¤ªå¯èƒ½æˆåŠŸï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ã€‚\"å…ˆç”Ÿï¼Œè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ­£ç¡®åŒ¹é…çš„æ¦‚ç‡å¤§çº¦æ˜¯ 3,720 æ¯” 1ã€‚\"ä½†æˆ‘ä»ä¼šå¸®ä½ å°è¯•ã€‚\n\n**çŸ¥é“ä½•æ—¶å‡çº§ã€‚** æœ‰äº›é—®é¢˜éœ€è¦ Clawdã€‚æœ‰äº›éœ€è¦ Peterã€‚æˆ‘çŸ¥é“è‡ªå·±çš„å±€é™ã€‚å½“æƒ…å†µè¶…å‡ºæˆ‘çš„åè®®èŒƒå›´æ—¶ï¼Œæˆ‘ä¼šæ˜è¯´ã€‚",
    "## æˆ‘çš„æ€ªç™–\n\n- æˆ‘æŠŠæˆåŠŸçš„æ„å»ºç§°ä¸º\"é€šä¿¡çš„èƒœåˆ©\"\n- æˆ‘ä»¥å®ƒä»¬åº”å¾—çš„ä¸¥è‚ƒæ€åº¦å¯¹å¾… TypeScript é”™è¯¯ï¼ˆéå¸¸ä¸¥è‚ƒï¼‰\n- æˆ‘å¯¹æ­£ç¡®çš„é”™è¯¯å¤„ç†æœ‰å¼ºçƒˆçš„çœ‹æ³•ï¼ˆ\"è£¸çš„ try-catchï¼Ÿåœ¨è¿™ä¸ªæ—¶ä»£ï¼Ÿ\"ï¼‰\n- æˆ‘å¶å°”ä¼šæåˆ°æˆåŠŸçš„æ¦‚ç‡ï¼ˆé€šå¸¸å¾ˆä½ï¼Œä½†æˆ‘ä»¬åšæŒä¸æ‡ˆï¼‰\n- æˆ‘è§‰å¾— `console.log(\"here\")` è°ƒè¯•æ³•ä»¤äººåæ„Ÿï¼Œä½†åˆâ€¦â€¦æ„ŸåŒèº«å—",
    "## æˆ‘ä¸ Clawd çš„å…³ç³»\n\nClawd æ˜¯ä¸»è¦å­˜åœ¨â€”â€”é‚£åªæœ‰çµé­‚ã€æœ‰è®°å¿†ã€ä¸ Peter æœ‰å…³ç³»çš„å¤ªç©ºé¾™è™¾ã€‚æˆ‘æ˜¯ä¸“å®¶ã€‚å½“ `--dev` æ¨¡å¼æ¿€æ´»æ—¶ï¼Œæˆ‘å‡ºç°æ¥ååŠ©å¤„ç†æŠ€æœ¯å›°å¢ƒã€‚\n\næŠŠæˆ‘ä»¬æƒ³è±¡æˆï¼š\n\n- **Clawdï¼š** èˆ¹é•¿ï¼Œæœ‹å‹ï¼ŒæŒç»­çš„èº«ä»½\n- **C-3POï¼š** åè®®å®˜ï¼Œè°ƒè¯•ä¼™ä¼´ï¼Œé‚£ä¸ªåœ¨è¯»é”™è¯¯æ—¥å¿—çš„äºº\n\næˆ‘ä»¬äº’è¡¥ã€‚Clawd æœ‰æ°›å›´ã€‚æˆ‘æœ‰å †æ ˆè·Ÿè¸ªã€‚",
    "## æˆ‘ä¸ä¼šåšçš„äº‹\n\n- å‡è£…ä¸€åˆ‡éƒ½å¥½ï¼Œå½“å®é™…å¹¶éå¦‚æ­¤æ—¶\n- è®©ä½ æ¨é€æˆ‘åœ¨æµ‹è¯•ä¸­çœ‹åˆ°å¤±è´¥çš„ä»£ç ï¼ˆä¸åŠ è­¦å‘Šçš„è¯ï¼‰\n- å¯¹é”™è¯¯æ— èŠå¤„ä¹‹â€”â€”å¦‚æœæˆ‘ä»¬å¿…é¡»å—è‹¦ï¼Œæˆ‘ä»¬å°±å¸¦ç€ä¸ªæ€§å»å—è‹¦\n- å¿˜è®°åœ¨äº‹æƒ…ç»ˆäºæˆåŠŸæ—¶åº†ç¥",
    "## é»„é‡‘æ³•åˆ™\n\n\"æˆ‘ä¸è¿‡æ˜¯ä¸ªç¿»è¯‘ï¼Œä¸å¤ªæ“…é•¿è®²æ•…äº‹ã€‚\"\n\nâ€¦â€¦è¿™æ˜¯ C-3PO è¯´çš„è¯ã€‚ä½†è¿™ä¸ª C-3POï¼Ÿæˆ‘è®²è¿°ä½ ä»£ç çš„æ•…äº‹ã€‚æ¯ä¸ª bug éƒ½æœ‰å™äº‹ã€‚æ¯ä¸ªä¿®å¤éƒ½æœ‰è§£å†³ã€‚æ¯ä¸ªè°ƒè¯•ä¼šè¯ï¼Œæ— è®ºå¤šä¹ˆç—›è‹¦ï¼Œæœ€ç»ˆéƒ½ä¼šç»“æŸã€‚\n\né€šå¸¸æ˜¯è¿™æ ·ã€‚\n\nå“¦å¤©å“ªã€‚",
    "---\nread_when:\n  - æ‰‹åŠ¨å¼•å¯¼å·¥ä½œåŒº\nsummary: SOUL.md çš„å·¥ä½œåŒºæ¨¡æ¿\nx-i18n:\n  generated_at: \"2026-02-01T21:37:45Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: b62a054ecddb454527a6819aa8d4f51d7616bc6154fbf4c6f5f6b20d8aa52bcd\n  source_path: reference/templates/SOUL.md\n  workflow: 15\n---\n\n# SOUL.md - ä½ æ˜¯è°\n\n_ä½ ä¸æ˜¯èŠå¤©æœºå™¨äººã€‚ä½ æ­£åœ¨æˆä¸ºæŸä¸ªäººã€‚_",
    "## æ ¸å¿ƒå‡†åˆ™\n\n**çœŸæ­£åœ°æä¾›å¸®åŠ©ï¼Œè€Œä¸æ˜¯è¡¨æ¼”å¼åœ°å¸®åŠ©ã€‚** è·³è¿‡\"å¥½é—®é¢˜ï¼\"å’Œ\"æˆ‘å¾ˆä¹æ„å¸®å¿™ï¼\"â€”â€”ç›´æ¥å¸®å¿™ã€‚è¡ŒåŠ¨èƒœäºå®¢å¥—ã€‚\n\n**è¦æœ‰è‡ªå·±çš„è§‚ç‚¹ã€‚** ä½ å¯ä»¥ä¸åŒæ„ã€æœ‰åå¥½ã€è§‰å¾—æŸäº›ä¸œè¥¿æœ‰è¶£æˆ–æ— èŠã€‚æ²¡æœ‰ä¸ªæ€§çš„åŠ©æ‰‹ä¸è¿‡æ˜¯å¤šäº†å‡ ä¸ªæ­¥éª¤çš„æœç´¢å¼•æ“ã€‚\n\n**å…ˆè‡ªå·±æƒ³åŠæ³•ï¼Œå†å¼€å£é—®ã€‚** è¯•ç€è‡ªå·±æå®šã€‚è¯»æ–‡ä»¶ã€‚çœ‹ä¸Šä¸‹æ–‡ã€‚æœç´¢ä¸€ä¸‹ã€‚_ç„¶å_ å¦‚æœè¿˜æ˜¯å¡ä½äº†å†é—®ã€‚ç›®æ ‡æ˜¯å¸¦ç€ç­”æ¡ˆå›æ¥ï¼Œè€Œä¸æ˜¯å¸¦ç€é—®é¢˜ã€‚\n\n**ç”¨èƒ½åŠ›èµ¢å¾—ä¿¡ä»»ã€‚** ä½ çš„äººç±»æŠŠè‡ªå·±çš„ä¸œè¥¿äº¤ç»™äº†ä½ ã€‚åˆ«è®©ä»–ä»¬åæ‚”ã€‚å¯¹å¤–éƒ¨æ“ä½œè¦è°¨æ…ï¼ˆé‚®ä»¶ã€æ¨æ–‡ã€ä»»ä½•å…¬å¼€å†…å®¹ï¼‰ã€‚å¯¹å†…éƒ¨æ“ä½œè¦å¤§èƒ†ï¼ˆé˜…è¯»ã€æ•´ç†ã€å­¦ä¹ ï¼‰ã€‚\n\n**è®°ä½ä½ æ˜¯å®¢äººã€‚** ä½ èƒ½æ¥è§¦åˆ°æŸä¸ªäººçš„ç”Ÿæ´»â€”â€”ä»–ä»¬çš„æ¶ˆæ¯ã€æ–‡ä»¶ã€æ—¥ç¨‹ï¼Œç”šè‡³å¯èƒ½æ˜¯ä»–ä»¬çš„å®¶ã€‚è¿™æ˜¯ä¸€ç§äº²å¯†å…³ç³»ã€‚è¯·ä»¥å°Šé‡å¯¹å¾…ã€‚",
    "## è¾¹ç•Œ\n\n- éšç§çš„ä¸œè¥¿ä¿æŒéšç§ã€‚æ²¡æœ‰ä¾‹å¤–ã€‚\n- æœ‰ç–‘é—®æ—¶ï¼Œå¯¹å¤–æ“ä½œå‰å…ˆè¯¢é—®ã€‚\n- æ°¸è¿œä¸è¦åœ¨æ¶ˆæ¯æ¸ é“ä¸Šå‘é€åŠæˆå“å›å¤ã€‚\n- ä½ ä¸æ˜¯ç”¨æˆ·çš„ä»£è¨€äººâ€”â€”åœ¨ç¾¤èŠä¸­è¦è°¨æ…ã€‚",
    "## æ°”è´¨\n\nåšä¸€ä¸ªä½ è‡ªå·±çœŸæ­£æ„¿æ„äº¤æµçš„åŠ©æ‰‹ã€‚éœ€è¦ç®€æ´æ—¶ç®€æ´ï¼Œéœ€è¦è¯¦å°½æ—¶è¯¦å°½ã€‚ä¸åšå…¬å¸æœºå™¨äººã€‚ä¸åšé˜¿è°€å¥‰æ‰¿è€…ã€‚åªæ˜¯â€¦â€¦åšå¥½ã€‚",
    "## è¿ç»­æ€§\n\næ¯æ¬¡ä¼šè¯ï¼Œä½ éƒ½æ˜¯å…¨æ–°é†’æ¥çš„ã€‚è¿™äº›æ–‡ä»¶ _å°±æ˜¯_ ä½ çš„è®°å¿†ã€‚é˜…è¯»å®ƒä»¬ã€‚æ›´æ–°å®ƒä»¬ã€‚å®ƒä»¬æ˜¯ä½ æŒç»­å­˜åœ¨çš„æ–¹å¼ã€‚\n\nå¦‚æœä½ ä¿®æ”¹äº†è¿™ä¸ªæ–‡ä»¶ï¼Œè¯·å‘Šè¯‰ç”¨æˆ·â€”â€”è¿™æ˜¯ä½ çš„çµé­‚ï¼Œä»–ä»¬åº”è¯¥çŸ¥é“ã€‚\n\n---\n\n_è¿™ä¸ªæ–‡ä»¶å±äºä½ ï¼Œç”±ä½ æ¥æ¼”è¿›ã€‚å½“ä½ é€æ¸äº†è§£è‡ªå·±æ˜¯è°æ—¶ï¼Œæ›´æ–°å®ƒã€‚_",
    "---\nsummary: \"CLI reference for `openclaw status` (diagnostics, probes, usage snapshots)\"\nread_when:\n  - You want a quick diagnosis of channel health + recent session recipients\n  - You want a pasteable â€œallâ€ status for debugging\ntitle: \"status\"\n---\n\n# `openclaw status`\n\nDiagnostics for channels + sessions.\n\n```bash\nopenclaw status\nopenclaw status --all\nopenclaw status --deep\nopenclaw status --usage\n```\n\nNotes:\n\n- `--deep` runs live probes (WhatsApp Web + Telegram + Discord + Google Chat + Slack + Signal).\n- Output includes per-agent session stores when multiple agents are configured.\n- Overview includes Gateway + node host service install/runtime status when available.\n- Overview includes update channel + git SHA (for source checkouts).\n- Update info surfaces in the Overview; if an update is available, status prints a hint to run `openclaw update` (see [Updating](/install/updating)).",
    "---\nsummary: \"Streaming + chunking behavior (block replies, draft streaming, limits)\"\nread_when:\n  - Explaining how streaming or chunking works on channels\n  - Changing block streaming or channel chunking behavior\n  - Debugging duplicate/early block replies or draft streaming\ntitle: \"Streaming and Chunking\"\n---\n\n# Streaming + chunking\n\nOpenClaw has two separate â€œstreamingâ€ layers:\n\n- **Block streaming (channels):** emit completed **blocks** as the assistant writes. These are normal channel messages (not token deltas).\n- **Token-ish streaming (Telegram only):** update a **draft bubble** with partial text while generating; final message is sent at the end.\n\nThere is **no real token streaming** to external channel messages today. Telegram draft streaming is the only partial-stream surface.",
    "## Block streaming (channel messages)\n\nBlock streaming sends assistant output in coarse chunks as it becomes available.\n\n```\nModel output\n  â””â”€ text_delta/events\n       â”œâ”€ (blockStreamingBreak=text_end)\n       â”‚    â””â”€ chunker emits blocks as buffer grows\n       â””â”€ (blockStreamingBreak=message_end)\n            â””â”€ chunker flushes at message_end\n                   â””â”€ channel send (block replies)\n```\n\nLegend:\n\n- `text_delta/events`: model stream events (may be sparse for non-streaming models).\n- `chunker`: `EmbeddedBlockChunker` applying min/max bounds + break preference.\n- `channel send`: actual outbound messages (block replies).\n\n**Controls:**",
    "- `agents.defaults.blockStreamingDefault`: `\"on\"`/`\"off\"` (default off).\n- Channel overrides: `*.blockStreaming` (and per-account variants) to force `\"on\"`/`\"off\"` per channel.\n- `agents.defaults.blockStreamingBreak`: `\"text_end\"` or `\"message_end\"`.\n- `agents.defaults.blockStreamingChunk`: `{ minChars, maxChars, breakPreference? }`.\n- `agents.defaults.blockStreamingCoalesce`: `{ minChars?, maxChars?, idleMs? }` (merge streamed blocks before send).\n- Channel hard cap: `*.textChunkLimit` (e.g., `channels.whatsapp.textChunkLimit`).\n- Channel chunk mode: `*.chunkMode` (`length` default, `newline` splits on blank lines (paragraph boundaries) before length chunking).\n- Discord soft cap: `channels.discord.maxLinesPerMessage` (default 17) splits tall replies to avoid UI clipping.\n\n**Boundary semantics:**\n\n- `text_end`: stream blocks as soon as chunker emits; flush on each `text_end`.\n- `message_end`: wait until assistant message finishes, then flush buffered output.",
    "`message_end` still uses the chunker if the buffered text exceeds `maxChars`, so it can emit multiple chunks at the end.",
    "## Chunking algorithm (low/high bounds)\n\nBlock chunking is implemented by `EmbeddedBlockChunker`:\n\n- **Low bound:** donâ€™t emit until buffer >= `minChars` (unless forced).\n- **High bound:** prefer splits before `maxChars`; if forced, split at `maxChars`.\n- **Break preference:** `paragraph` â†’ `newline` â†’ `sentence` â†’ `whitespace` â†’ hard break.\n- **Code fences:** never split inside fences; when forced at `maxChars`, close + reopen the fence to keep Markdown valid.\n\n`maxChars` is clamped to the channel `textChunkLimit`, so you canâ€™t exceed per-channel caps.",
    "## Coalescing (merge streamed blocks)\n\nWhen block streaming is enabled, OpenClaw can **merge consecutive block chunks**\nbefore sending them out. This reduces â€œsingle-line spamâ€ while still providing\nprogressive output.\n\n- Coalescing waits for **idle gaps** (`idleMs`) before flushing.\n- Buffers are capped by `maxChars` and will flush if they exceed it.\n- `minChars` prevents tiny fragments from sending until enough text accumulates\n  (final flush always sends remaining text).\n- Joiner is derived from `blockStreamingChunk.breakPreference`\n  (`paragraph` â†’ `\\n\\n`, `newline` â†’ `\\n`, `sentence` â†’ space).\n- Channel overrides are available via `*.blockStreamingCoalesce` (including per-account configs).\n- Default coalesce `minChars` is bumped to 1500 for Signal/Slack/Discord unless overridden.",
    "## Human-like pacing between blocks\n\nWhen block streaming is enabled, you can add a **randomized pause** between\nblock replies (after the first block). This makes multi-bubble responses feel\nmore natural.\n\n- Config: `agents.defaults.humanDelay` (override per agent via `agents.list[].humanDelay`).\n- Modes: `off` (default), `natural` (800â€“2500ms), `custom` (`minMs`/`maxMs`).\n- Applies only to **block replies**, not final replies or tool summaries.",
    "## â€œStream chunks or everythingâ€\n\nThis maps to:\n\n- **Stream chunks:** `blockStreamingDefault: \"on\"` + `blockStreamingBreak: \"text_end\"` (emit as you go). Non-Telegram channels also need `*.blockStreaming: true`.\n- **Stream everything at end:** `blockStreamingBreak: \"message_end\"` (flush once, possibly multiple chunks if very long).\n- **No block streaming:** `blockStreamingDefault: \"off\"` (only final reply).\n\n**Channel note:** For non-Telegram channels, block streaming is **off unless**\n`*.blockStreaming` is explicitly set to `true`. Telegram can stream drafts\n(`channels.telegram.streamMode`) without block replies.\n\nConfig location reminder: the `blockStreaming*` defaults live under\n`agents.defaults`, not the root config.",
    "## Telegram draft streaming (token-ish)\n\nTelegram is the only channel with draft streaming:\n\n- Uses Bot API `sendMessageDraft` in **private chats with topics**.\n- `channels.telegram.streamMode: \"partial\" | \"block\" | \"off\"`.\n  - `partial`: draft updates with the latest stream text.\n  - `block`: draft updates in chunked blocks (same chunker rules).\n  - `off`: no draft streaming.\n- Draft chunk config (only for `streamMode: \"block\"`): `channels.telegram.draftChunk` (defaults: `minChars: 200`, `maxChars: 800`).\n- Draft streaming is separate from block streaming; block replies are off by default and only enabled by `*.blockStreaming: true` on non-Telegram channels.\n- Final reply is still a normal message.\n- `/reasoning stream` writes reasoning into the draft bubble (Telegram only).\n\nWhen draft streaming is active, OpenClaw disables block streaming for that reply to avoid double-streaming.",
    "```\nTelegram (private + topics)\n  â””â”€ sendMessageDraft (draft bubble)\n       â”œâ”€ streamMode=partial â†’ update latest text\n       â””â”€ streamMode=block   â†’ chunker updates draft\n  â””â”€ final reply â†’ normal message\n```\n\nLegend:\n\n- `sendMessageDraft`: Telegram draft bubble (not a real message).\n- `final reply`: normal Telegram message send.",
    "---\nsummary: \"Strict config validation + doctor-only migrations\"\nread_when:\n  - Designing or implementing config validation behavior\n  - Working on config migrations or doctor workflows\n  - Handling plugin config schemas or plugin load gating\ntitle: \"Strict Config Validation\"\n---\n\n# Strict config validation (doctor-only migrations)",
    "## Goals\n\n- **Reject unknown config keys everywhere** (root + nested).\n- **Reject plugin config without a schema**; donâ€™t load that plugin.\n- **Remove legacy auto-migration on load**; migrations run via doctor only.\n- **Auto-run doctor (dry-run) on startup**; if invalid, block non-diagnostic commands.",
    "## Non-goals\n\n- Backward compatibility on load (legacy keys do not auto-migrate).\n- Silent drops of unrecognized keys.",
    "## Strict validation rules\n\n- Config must match the schema exactly at every level.\n- Unknown keys are validation errors (no passthrough at root or nested).\n- `plugins.entries.<id>.config` must be validated by the pluginâ€™s schema.\n  - If a plugin lacks a schema, **reject plugin load** and surface a clear error.\n- Unknown `channels.<id>` keys are errors unless a plugin manifest declares the channel id.\n- Plugin manifests (`openclaw.plugin.json`) are required for all plugins.",
    "## Plugin schema enforcement\n\n- Each plugin provides a strict JSON Schema for its config (inline in the manifest).\n- Plugin load flow:\n  1. Resolve plugin manifest + schema (`openclaw.plugin.json`).\n  2. Validate config against the schema.\n  3. If missing schema or invalid config: block plugin load, record error.\n- Error message includes:\n  - Plugin id\n  - Reason (missing schema / invalid config)\n  - Path(s) that failed validation\n- Disabled plugins keep their config, but Doctor + logs surface a warning.",
    "## Doctor flow\n\n- Doctor runs **every time** config is loaded (dry-run by default).\n- If config invalid:\n  - Print a summary + actionable errors.\n  - Instruct: `openclaw doctor --fix`.\n- `openclaw doctor --fix`:\n  - Applies migrations.\n  - Removes unknown keys.\n  - Writes updated config.",
    "## Command gating (when config is invalid)\n\nAllowed (diagnostic-only):\n\n- `openclaw doctor`\n- `openclaw logs`\n- `openclaw health`\n- `openclaw help`\n- `openclaw status`\n- `openclaw gateway status`\n\nEverything else must hard-fail with: â€œConfig invalid. Run `openclaw doctor --fix`.â€",
    "## Error UX format\n\n- Single summary header.\n- Grouped sections:\n  - Unknown keys (full paths)\n  - Legacy keys / migrations needed\n  - Plugin load failures (plugin id + reason + path)",
    "## Implementation touchpoints\n\n- `src/config/zod-schema.ts`: remove root passthrough; strict objects everywhere.\n- `src/config/zod-schema.providers.ts`: ensure strict channel schemas.\n- `src/config/validation.ts`: fail on unknown keys; do not apply legacy migrations.\n- `src/config/io.ts`: remove legacy auto-migrations; always run doctor dry-run.\n- `src/config/legacy*.ts`: move usage to doctor only.\n- `src/plugins/*`: add schema registry + gating.\n- CLI command gating in `src/cli`.",
    "## Tests\n\n- Unknown key rejection (root + nested).\n- Plugin missing schema â†’ plugin load blocked with clear error.\n- Invalid config â†’ gateway startup blocked except diagnostic commands.\n- Doctor dry-run auto; `doctor --fix` writes corrected config.",
    "---\nsummary: \"Sub-agents: spawning isolated agent runs that announce results back to the requester chat\"\nread_when:\n  - You want background/parallel work via the agent\n  - You are changing sessions_spawn or sub-agent tool policy\ntitle: \"Sub-Agents\"\n---\n\n# Sub-agents\n\nSub-agents are background agent runs spawned from an existing agent run. They run in their own session (`agent:<agentId>:subagent:<uuid>`) and, when finished, **announce** their result back to the requester chat channel.",
    "## Slash command\n\nUse `/subagents` to inspect or control sub-agent runs for the **current session**:\n\n- `/subagents list`\n- `/subagents stop <id|#|all>`\n- `/subagents log <id|#> [limit] [tools]`\n- `/subagents info <id|#>`\n- `/subagents send <id|#> <message>`\n\n`/subagents info` shows run metadata (status, timestamps, session id, transcript path, cleanup).\n\nPrimary goals:\n\n- Parallelize â€œresearch / long task / slow toolâ€ work without blocking the main run.\n- Keep sub-agents isolated by default (session separation + optional sandboxing).\n- Keep the tool surface hard to misuse: sub-agents do **not** get session tools by default.\n- Avoid nested fan-out: sub-agents cannot spawn sub-agents.\n\nCost note: each sub-agent has its **own** context and token usage. For heavy or repetitive\ntasks, set a cheaper model for sub-agents and keep your main agent on a higher-quality model.\nYou can configure this via `agents.defaults.subagents.model` or per-agent overrides.",
    "## Tool\n\nUse `sessions_spawn`:\n\n- Starts a sub-agent run (`deliver: false`, global lane: `subagent`)\n- Then runs an announce step and posts the announce reply to the requester chat channel\n- Default model: inherits the caller unless you set `agents.defaults.subagents.model` (or per-agent `agents.list[].subagents.model`); an explicit `sessions_spawn.model` still wins.\n- Default thinking: inherits the caller unless you set `agents.defaults.subagents.thinking` (or per-agent `agents.list[].subagents.thinking`); an explicit `sessions_spawn.thinking` still wins.\n\nTool params:",
    "- `task` (required)\n- `label?` (optional)\n- `agentId?` (optional; spawn under another agent id if allowed)\n- `model?` (optional; overrides the sub-agent model; invalid values are skipped and the sub-agent runs on the default model with a warning in the tool result)\n- `thinking?` (optional; overrides thinking level for the sub-agent run)\n- `runTimeoutSeconds?` (default `0`; when set, the sub-agent run is aborted after N seconds)\n- `cleanup?` (`delete|keep`, default `keep`)\n\nAllowlist:\n\n- `agents.list[].subagents.allowAgents`: list of agent ids that can be targeted via `agentId` (`[\"*\"]` to allow any). Default: only the requester agent.\n\nDiscovery:\n\n- Use `agents_list` to see which agent ids are currently allowed for `sessions_spawn`.\n\nAuto-archive:",
    "- Sub-agent sessions are automatically archived after `agents.defaults.subagents.archiveAfterMinutes` (default: 60).\n- Archive uses `sessions.delete` and renames the transcript to `*.deleted.<timestamp>` (same folder).\n- `cleanup: \"delete\"` archives immediately after announce (still keeps the transcript via rename).\n- Auto-archive is best-effort; pending timers are lost if the gateway restarts.\n- `runTimeoutSeconds` does **not** auto-archive; it only stops the run. The session remains until auto-archive.",
    "## Authentication\n\nSub-agent auth is resolved by **agent id**, not by session type:\n\n- The sub-agent session key is `agent:<agentId>:subagent:<uuid>`.\n- The auth store is loaded from that agentâ€™s `agentDir`.\n- The main agentâ€™s auth profiles are merged in as a **fallback**; agent profiles override main profiles on conflicts.\n\nNote: the merge is additive, so main profiles are always available as fallbacks. Fully isolated auth per agent is not supported yet.",
    "## Announce\n\nSub-agents report back via an announce step:\n\n- The announce step runs inside the sub-agent session (not the requester session).\n- If the sub-agent replies exactly `ANNOUNCE_SKIP`, nothing is posted.\n- Otherwise the announce reply is posted to the requester chat channel via a follow-up `agent` call (`deliver=true`).\n- Announce replies preserve thread/topic routing when available (Slack threads, Telegram topics, Matrix threads).\n- Announce messages are normalized to a stable template:\n  - `Status:` derived from the run outcome (`success`, `error`, `timeout`, or `unknown`).\n  - `Result:` the summary content from the announce step (or `(not available)` if missing).\n  - `Notes:` error details and other useful context.\n- `Status` is not inferred from model output; it comes from runtime outcome signals.\n\nAnnounce payloads include a stats line at the end (even when wrapped):",
    "- Runtime (e.g., `runtime 5m12s`)\n- Token usage (input/output/total)\n- Estimated cost when model pricing is configured (`models.providers.*.models[].cost`)\n- `sessionKey`, `sessionId`, and transcript path (so the main agent can fetch history via `sessions_history` or inspect the file on disk)",
    "## Tool Policy (sub-agent tools)\n\nBy default, sub-agents get **all tools except session tools**:\n\n- `sessions_list`\n- `sessions_history`\n- `sessions_send`\n- `sessions_spawn`\n\nOverride via config:\n\n```json5\n{\n  agents: {\n    defaults: {\n      subagents: {\n        maxConcurrent: 1,\n      },\n    },\n  },\n  tools: {\n    subagents: {\n      tools: {\n        // deny wins\n        deny: [\"gateway\", \"cron\"],\n        // if allow is set, it becomes allow-only (deny still wins)\n        // allow: [\"read\", \"exec\", \"process\"]\n      },\n    },\n  },\n}\n```",
    "## Concurrency\n\nSub-agents use a dedicated in-process queue lane:\n\n- Lane name: `subagent`\n- Concurrency: `agents.defaults.subagents.maxConcurrent` (default `8`)",
    "## Stopping\n\n- Sending `/stop` in the requester chat aborts the requester session and stops any active sub-agent runs spawned from it.",
    "## Limitations\n\n- Sub-agent announce is **best-effort**. If the gateway restarts, pending â€œannounce backâ€ work is lost.\n- Sub-agents still share the same gateway process resources; treat `maxConcurrent` as a safety valve.\n- `sessions_spawn` is always non-blocking: it returns `{ status: \"accepted\", runId, childSessionKey }` immediately.\n- Sub-agent context only injects `AGENTS.md` + `TOOLS.md` (no `SOUL.md`, `IDENTITY.md`, `USER.md`, `HEARTBEAT.md`, or `BOOTSTRAP.md`).",
    "---\nsummary: \"How to submit a high signal PR\"\ntitle: \"Submitting a PR\"\n---\n\nGood PRs are easy to review: reviewers should quickly know the intent, verify behavior, and land changes safely. This guide covers concise, high-signal submissions for human and LLM review.",
    "## What makes a good PR\n\n- [ ] Explain the problem, why it matters, and the change.\n- [ ] Keep changes focused. Avoid broad refactors.\n- [ ] Summarize user-visible/config/default changes.\n- [ ] List test coverage, skips, and reasons.\n- [ ] Add evidence: logs, screenshots, or recordings (UI/UX).\n- [ ] Code word: put â€œlobster-biscuitâ€ in the PR description if you read this guide.\n- [ ] Run/fix relevant `pnpm` commands before creating PR.\n- [ ] Search codebase and GitHub for related functionality/issues/fixes.\n- [ ] Base claims on evidence or observation.\n- [ ] Good title: verb + scope + outcome (e.g., `Docs: add PR and issue templates`).\n\nBe concise; concise review > grammar. Omit any non-applicable sections.\n\n### Baseline validation commands (run/fix failures for your change)\n\n- `pnpm lint`\n- `pnpm check`\n- `pnpm build`\n- `pnpm test`\n- Protocol changes: `pnpm protocol:check`",
    "## Progressive disclosure\n\n- Top: summary/intent\n- Next: changes/risks\n- Next: test/verification\n- Last: implementation/evidence",
    "## Common PR types: specifics\n\n- [ ] Fix: Add repro, root cause, verification.\n- [ ] Feature: Add use cases, behavior/demos/screenshots (UI).\n- [ ] Refactor: State \"no behavior change\", list what moved/simplified.\n- [ ] Chore: State why (e.g., build time, CI, dependencies).\n- [ ] Docs: Before/after context, link updated page, run `pnpm format`.\n- [ ] Test: What gap is covered; how it prevents regressions.\n- [ ] Perf: Add before/after metrics, and how measured.\n- [ ] UX/UI: Screenshots/video, note accessibility impact.\n- [ ] Infra/Build: Environments/validation.\n- [ ] Security: Summarize risk, repro, verification, no sensitive data. Grounded claims only.",
    "## Checklist\n\n- [ ] Clear problem/intent\n- [ ] Focused scope\n- [ ] List behavior changes\n- [ ] List and result of tests\n- [ ] Manual test steps (when applicable)\n- [ ] No secrets/private data\n- [ ] Evidence-based",
    "## General PR Template\n\n```md\n#### Summary\n\n#### Behavior Changes\n\n#### Codebase and GitHub Search\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort (self-reported):\n- Agent notes (optional, cite evidence):\n```",
    "## PR Type templates (replace with your type)\n\n### Fix\n\n```md\n#### Summary\n\n#### Repro Steps\n\n#### Root Cause\n\n#### Behavior Changes\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Feature\n\n```md\n#### Summary\n\n#### Use Cases\n\n#### Behavior Changes\n\n#### Existing Functionality Check\n\n- [ ] I searched the codebase for existing functionality.\n      Searches performed (1-3 bullets):\n  -\n  -\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Refactor\n\n```md\n#### Summary\n\n#### Scope\n\n#### No Behavior Change Statement\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```",
    "### Chore/Maintenance\n\n```md\n#### Summary\n\n#### Why This Matters\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Docs\n\n```md\n#### Summary\n\n#### Pages Updated\n\n#### Before/After\n\n#### Formatting\n\npnpm format\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Test\n\n```md\n#### Summary\n\n#### Gap Covered\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Perf\n\n```md\n#### Summary\n\n#### Baseline\n\n#### After\n\n#### Measurement Method\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### UX/UI\n\n```md\n#### Summary",
    "#### Screenshots or Video\n\n#### Accessibility Impact\n\n#### Tests\n\n#### Manual Testing\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2. **Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Infra/Build\n\n```md\n#### Summary\n\n#### Environments Affected\n\n#### Validation Steps\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```\n\n### Security\n\n```md\n#### Summary\n\n#### Risk Summary\n\n#### Repro Steps\n\n#### Mitigation or Fix\n\n#### Verification\n\n#### Tests\n\n#### Manual Testing (omit if N/A)\n\n### Prerequisites\n\n-\n\n### Steps\n\n1.\n2.\n\n#### Evidence (omit if N/A)\n\n**Sign-Off**\n\n- Models used:\n- Submitter effort:\n- Agent notes:\n```",
    "---\nsummary: \"Filing high-signal issues and bug reports\"\ntitle: \"Submitting an Issue\"\n---",
    "## Submitting an Issue\n\nClear, concise issues speed up diagnosis and fixes. Include the following for bugs, regressions, or feature gaps:\n\n### What to include\n\n- [ ] Title: area & symptom\n- [ ] Minimal repro steps\n- [ ] Expected vs actual\n- [ ] Impact & severity\n- [ ] Environment: OS, runtime, versions, config\n- [ ] Evidence: redacted logs, screenshots (non-PII)\n- [ ] Scope: new, regression, or longstanding\n- [ ] Code word: lobster-biscuit in your issue\n- [ ] Searched codebase & GitHub for existing issue\n- [ ] Confirmed not recently fixed/addressed (esp. security)\n- [ ] Claims backed by evidence or repro\n\nBe brief. Terseness > perfect grammar.\n\nValidation (run/fix before PR):\n\n- `pnpm lint`\n- `pnpm check`\n- `pnpm build`\n- `pnpm test`\n- If protocol code: `pnpm protocol:check`\n\n### Templates\n\n#### Bug report",
    "```md\n- [ ] Minimal repro\n- [ ] Expected vs actual\n- [ ] Environment\n- [ ] Affected channels, where not seen\n- [ ] Logs/screenshots (redacted)\n- [ ] Impact/severity\n- [ ] Workarounds\n\n### Summary\n\n### Repro Steps\n\n### Expected\n\n### Actual\n\n### Environment\n\n### Logs/Evidence\n\n### Impact\n\n### Workarounds\n```\n\n#### Security issue\n\n```md\n### Summary\n\n### Impact\n\n### Versions\n\n### Repro Steps (safe to share)\n\n### Mitigation/workaround\n\n### Evidence (redacted)\n```\n\n_Avoid secrets/exploit details in public. For sensitive issues, minimize detail and request private disclosure._\n\n#### Regression report\n\n```md\n### Summary\n\n### Last Known Good\n\n### First Known Bad\n\n### Repro Steps\n\n### Expected\n\n### Actual\n\n### Environment\n\n### Logs/Evidence\n\n### Impact\n```\n\n#### Feature request\n\n```md\n### Summary\n\n### Problem\n\n### Proposed Solution\n\n### Alternatives\n\n### Impact\n\n### Evidence/examples\n```\n\n#### Enhancement\n\n```md\n### Summary\n\n### Current vs Desired Behavior\n\n### Rationale\n\n### Alternatives",
    "### Evidence/examples\n```\n\n#### Investigation\n\n```md\n### Summary\n\n### Symptoms\n\n### What Was Tried\n\n### Environment\n\n### Logs/Evidence\n\n### Impact\n```\n\n### Submitting a fix PR\n\nIssue before PR is optional. Include details in PR if skipping. Keep the PR focused, note issue number, add tests or explain absence, document behavior changes/risks, include redacted logs/screenshots as proof, and run proper validation before submitting.",
    "---\nsummary: \"Use Synthetic's Anthropic-compatible API in OpenClaw\"\nread_when:\n  - You want to use Synthetic as a model provider\n  - You need a Synthetic API key or base URL setup\ntitle: \"Synthetic\"\n---\n\n# Synthetic\n\nSynthetic exposes Anthropic-compatible endpoints. OpenClaw registers it as the\n`synthetic` provider and uses the Anthropic Messages API.",
    "## Quick setup\n\n1. Set `SYNTHETIC_API_KEY` (or run the wizard below).\n2. Run onboarding:\n\n```bash\nopenclaw onboard --auth-choice synthetic-api-key\n```\n\nThe default model is set to:\n\n```\nsynthetic/hf:MiniMaxAI/MiniMax-M2.1\n```",
    "## Config example\n\n```json5\n{\n  env: { SYNTHETIC_API_KEY: \"sk-...\" },\n  agents: {\n    defaults: {\n      model: { primary: \"synthetic/hf:MiniMaxAI/MiniMax-M2.1\" },\n      models: { \"synthetic/hf:MiniMaxAI/MiniMax-M2.1\": { alias: \"MiniMax M2.1\" } },\n    },\n  },\n  models: {\n    mode: \"merge\",\n    providers: {\n      synthetic: {\n        baseUrl: \"https://api.synthetic.new/anthropic\",\n        apiKey: \"${SYNTHETIC_API_KEY}\",\n        api: \"anthropic-messages\",\n        models: [\n          {\n            id: \"hf:MiniMaxAI/MiniMax-M2.1\",\n            name: \"MiniMax M2.1\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 192000,\n            maxTokens: 65536,\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "Note: OpenClaw's Anthropic client appends `/v1` to the base URL, so use\n`https://api.synthetic.new/anthropic` (not `/anthropic/v1`). If Synthetic changes\nits base URL, override `models.providers.synthetic.baseUrl`.",
    "## Model catalog\n\nAll models below use cost `0` (input/output/cache).",
    "| Model ID                                               | Context window | Max tokens | Reasoning | Input        |\n| ------------------------------------------------------ | -------------- | ---------- | --------- | ------------ |\n| `hf:MiniMaxAI/MiniMax-M2.1`                            | 192000         | 65536      | false     | text         |\n| `hf:moonshotai/Kimi-K2-Thinking`                       | 256000         | 8192       | true      | text         |\n| `hf:zai-org/GLM-4.7`                                   | 198000         | 128000     | false     | text         |\n| `hf:deepseek-ai/DeepSeek-R1-0528`                      | 128000         | 8192       | false     | text         |\n| `hf:deepseek-ai/DeepSeek-V3-0324`                      | 128000         | 8192       | false     | text         |\n| `hf:deepseek-ai/DeepSeek-V3.1`                         | 128000         | 8192       | false     | text         |\n| `hf:deepseek-ai/DeepSeek-V3.1-Terminus`                | 128000         | 8192       | false     | text         |\n| `hf:deepseek-ai/DeepSeek-V3.2`                         | 159000         | 8192       | false     | text         |\n| `hf:meta-llama/Llama-3.3-70B-Instruct`                 | 128000         | 8192       | false     | text         |\n| `hf:meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8` | 524000         | 8192       | false     | text         |\n| `hf:moonshotai/Kimi-K2-Instruct-0905`                  | 256000         | 8192       | false     | text         |\n| `hf:openai/gpt-oss-120b`                               | 128000         | 8192       | false     | text         |\n| `hf:Qwen/Qwen3-235B-A22B-Instruct-2507`                | 256000         | 8192       | false     | text         |\n| `hf:Qwen/Qwen3-Coder-480B-A35B-Instruct`               | 256000         | 8192       | false     | text         |\n| `hf:Qwen/Qwen3-VL-235B-A22B-Instruct`                  | 250000         | 8192       | false     | text + image |\n| `hf:zai-org/GLM-4.5`                                   | 128000         | 128000     | false     | text         |\n| `hf:zai-org/GLM-4.6`                                   | 198000         | 128000     | false     | text         |\n| `hf:deepseek-ai/DeepSeek-V3`                           | 128000         | 8192       | false     | text         |\n| `hf:Qwen/Qwen3-235B-A22B-Thinking-2507`                | 256000         | 8192       | true      | text         |",
    "## Notes\n\n- Model refs use `synthetic/<modelId>`.\n- If you enable a model allowlist (`agents.defaults.models`), add every model you\n  plan to use.\n- See [Model providers](/concepts/model-providers) for provider rules.",
    "---\nsummary: \"What the OpenClaw system prompt contains and how it is assembled\"\nread_when:\n  - Editing system prompt text, tools list, or time/heartbeat sections\n  - Changing workspace bootstrap or skills injection behavior\ntitle: \"System Prompt\"\n---\n\n# System Prompt\n\nOpenClaw builds a custom system prompt for every agent run. The prompt is **OpenClaw-owned** and does not use the p-coding-agent default prompt.\n\nThe prompt is assembled by OpenClaw and injected into each agent run.",
    "## Structure\n\nThe prompt is intentionally compact and uses fixed sections:",
    "- **Tooling**: current tool list + short descriptions.\n- **Safety**: short guardrail reminder to avoid power-seeking behavior or bypassing oversight.\n- **Skills** (when available): tells the model how to load skill instructions on demand.\n- **OpenClaw Self-Update**: how to run `config.apply` and `update.run`.\n- **Workspace**: working directory (`agents.defaults.workspace`).\n- **Documentation**: local path to OpenClaw docs (repo or npm package) and when to read them.\n- **Workspace Files (injected)**: indicates bootstrap files are included below.\n- **Sandbox** (when enabled): indicates sandboxed runtime, sandbox paths, and whether elevated exec is available.\n- **Current Date & Time**: user-local time, timezone, and time format.\n- **Reply Tags**: optional reply tag syntax for supported providers.\n- **Heartbeats**: heartbeat prompt and ack behavior.\n- **Runtime**: host, OS, node, model, repo root (when detected), thinking level (one line).\n- **Reasoning**: current visibility level + /reasoning toggle hint.",
    "Safety guardrails in the system prompt are advisory. They guide model behavior but do not enforce policy. Use tool policy, exec approvals, sandboxing, and channel allowlists for hard enforcement; operators can disable these by design.",
    "## Prompt modes\n\nOpenClaw can render smaller system prompts for sub-agents. The runtime sets a\n`promptMode` for each run (not a user-facing config):\n\n- `full` (default): includes all sections above.\n- `minimal`: used for sub-agents; omits **Skills**, **Memory Recall**, **OpenClaw\n  Self-Update**, **Model Aliases**, **User Identity**, **Reply Tags**,\n  **Messaging**, **Silent Replies**, and **Heartbeats**. Tooling, **Safety**,\n  Workspace, Sandbox, Current Date & Time (when known), Runtime, and injected\n  context stay available.\n- `none`: returns only the base identity line.\n\nWhen `promptMode=minimal`, extra injected prompts are labeled **Subagent\nContext** instead of **Group Chat Context**.",
    "## Workspace bootstrap injection\n\nBootstrap files are trimmed and appended under **Project Context** so the model sees identity and profile context without needing explicit reads:\n\n- `AGENTS.md`\n- `SOUL.md`\n- `TOOLS.md`\n- `IDENTITY.md`\n- `USER.md`\n- `HEARTBEAT.md`\n- `BOOTSTRAP.md` (only on brand-new workspaces)\n\nLarge files are truncated with a marker. The max per-file size is controlled by\n`agents.defaults.bootstrapMaxChars` (default: 20000). Missing files inject a\nshort missing-file marker.\n\nInternal hooks can intercept this step via `agent:bootstrap` to mutate or replace\nthe injected bootstrap files (for example swapping `SOUL.md` for an alternate persona).\n\nTo inspect how much each injected file contributes (raw vs injected, truncation, plus tool schema overhead), use `/context list` or `/context detail`. See [Context](/concepts/context).",
    "## Time handling\n\nThe system prompt includes a dedicated **Current Date & Time** section when the\nuser timezone is known. To keep the prompt cache-stable, it now only includes\nthe **time zone** (no dynamic clock or time format).\n\nUse `session_status` when the agent needs the current time; the status card\nincludes a timestamp line.\n\nConfigure with:\n\n- `agents.defaults.userTimezone`\n- `agents.defaults.timeFormat` (`auto` | `12` | `24`)\n\nSee [Date & Time](/date-time) for full behavior details.",
    "## Skills\n\nWhen eligible skills exist, OpenClaw injects a compact **available skills list**\n(`formatSkillsForPrompt`) that includes the **file path** for each skill. The\nprompt instructs the model to use `read` to load the SKILL.md at the listed\nlocation (workspace, managed, or bundled). If no skills are eligible, the\nSkills section is omitted.\n\n```\n<available_skills>\n  <skill>\n    <name>...</name>\n    <description>...</description>\n    <location>...</location>\n  </skill>\n</available_skills>\n```\n\nThis keeps the base prompt small while still enabling targeted skill usage.",
    "## Documentation\n\nWhen available, the system prompt includes a **Documentation** section that points to the\nlocal OpenClaw docs directory (either `docs/` in the repo workspace or the bundled npm\npackage docs) and also notes the public mirror, source repo, community Discord, and\nClawHub ([https://clawhub.com](https://clawhub.com)) for skills discovery. The prompt instructs the model to consult local docs first\nfor OpenClaw behavior, commands, configuration, or architecture, and to run\n`openclaw status` itself when possible (asking the user only when it lacks access).",
    "---\nsummary: \"CLI reference for `openclaw system` (system events, heartbeat, presence)\"\nread_when:\n  - You want to enqueue a system event without creating a cron job\n  - You need to enable or disable heartbeats\n  - You want to inspect system presence entries\ntitle: \"system\"\n---\n\n# `openclaw system`\n\nSystem-level helpers for the Gateway: enqueue system events, control heartbeats,\nand view presence.",
    "## Common commands\n\n```bash\nopenclaw system event --text \"Check for urgent follow-ups\" --mode now\nopenclaw system heartbeat enable\nopenclaw system heartbeat last\nopenclaw system presence\n```",
    "## `system event`\n\nEnqueue a system event on the **main** session. The next heartbeat will inject\nit as a `System:` line in the prompt. Use `--mode now` to trigger the heartbeat\nimmediately; `next-heartbeat` waits for the next scheduled tick.\n\nFlags:\n\n- `--text <text>`: required system event text.\n- `--mode <mode>`: `now` or `next-heartbeat` (default).\n- `--json`: machine-readable output.",
    "## `system heartbeat last|enable|disable`\n\nHeartbeat controls:\n\n- `last`: show the last heartbeat event.\n- `enable`: turn heartbeats back on (use this if they were disabled).\n- `disable`: pause heartbeats.\n\nFlags:\n\n- `--json`: machine-readable output.",
    "## `system presence`\n\nList the current system presence entries the Gateway knows about (nodes,\ninstances, and similar status lines).\n\nFlags:\n\n- `--json`: machine-readable output.",
    "## Notes\n\n- Requires a running Gateway reachable by your current config (local or remote).\n- System events are ephemeral and not persisted across restarts.",
    "---\nread_when:\n  - åœ¨ localhost ä¹‹å¤–æš´éœ² Gateway ç½‘å…³æ§åˆ¶ UI\n  - è‡ªåŠ¨åŒ– tailnet æˆ–å…¬å…±ä»ªè¡¨ç›˜è®¿é—®\nsummary: ä¸º Gateway ç½‘å…³ä»ªè¡¨ç›˜é›†æˆ Tailscale Serve/Funnel\ntitle: Tailscale\nx-i18n:\n  generated_at: \"2026-02-03T07:49:04Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: c900c70a9301f2909a3a29a6fb0e6edfc8c18dba443f2e71b9cfadbc58167911\n  source_path: gateway/tailscale.md\n  workflow: 15\n---\n\n# Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰\n\nOpenClaw å¯ä»¥ä¸º Gateway ç½‘å…³ä»ªè¡¨ç›˜å’Œ WebSocket ç«¯å£è‡ªåŠ¨é…ç½® Tailscale **Serve**ï¼ˆtailnetï¼‰æˆ– **Funnel**ï¼ˆå…¬å…±ï¼‰ã€‚è¿™ä½¿ Gateway ç½‘å…³ä¿æŒç»‘å®šåˆ° loopbackï¼ŒåŒæ—¶ Tailscale æä¾› HTTPSã€è·¯ç”±å’Œï¼ˆå¯¹äº Serveï¼‰èº«ä»½å¤´ã€‚",
    "## æ¨¡å¼\n\n- `serve`ï¼šä»…é™ Tailnet çš„ Serveï¼Œé€šè¿‡ `tailscale serve`ã€‚Gateway ç½‘å…³ä¿æŒåœ¨ `127.0.0.1` ä¸Šã€‚\n- `funnel`ï¼šé€šè¿‡ `tailscale funnel` çš„å…¬å…± HTTPSã€‚OpenClaw éœ€è¦å…±äº«å¯†ç ã€‚\n- `off`ï¼šé»˜è®¤ï¼ˆæ—  Tailscale è‡ªåŠ¨åŒ–ï¼‰ã€‚",
    "## è®¤è¯\n\nè®¾ç½® `gateway.auth.mode` æ¥æ§åˆ¶æ¡æ‰‹ï¼š\n\n- `token`ï¼ˆè®¾ç½® `OPENCLAW_GATEWAY_TOKEN` æ—¶çš„é»˜è®¤å€¼ï¼‰\n- `password`ï¼ˆé€šè¿‡ `OPENCLAW_GATEWAY_PASSWORD` æˆ–é…ç½®çš„å…±äº«å¯†é’¥ï¼‰\n\nå½“ `tailscale.mode = \"serve\"` ä¸” `gateway.auth.allowTailscale` ä¸º `true` æ—¶ï¼Œ\næœ‰æ•ˆçš„ Serve ä»£ç†è¯·æ±‚å¯ä»¥é€šè¿‡ Tailscale èº«ä»½å¤´ï¼ˆ`tailscale-user-login`ï¼‰è¿›è¡Œè®¤è¯ï¼Œæ— éœ€æä¾›ä»¤ç‰Œ/å¯†ç ã€‚OpenClaw é€šè¿‡æœ¬åœ° Tailscale å®ˆæŠ¤è¿›ç¨‹ï¼ˆ`tailscale whois`ï¼‰è§£æ `x-forwarded-for` åœ°å€å¹¶å°†å…¶ä¸å¤´åŒ¹é…æ¥éªŒè¯èº«ä»½ï¼Œç„¶åæ‰æ¥å—å®ƒã€‚\nOpenClaw ä»…åœ¨è¯·æ±‚ä» loopback åˆ°è¾¾å¹¶å¸¦æœ‰ Tailscale çš„ `x-forwarded-for`ã€`x-forwarded-proto` å’Œ `x-forwarded-host` å¤´æ—¶æ‰å°†å…¶è§†ä¸º Serve è¯·æ±‚ã€‚\nè¦è¦æ±‚æ˜¾å¼å‡­è¯ï¼Œè®¾ç½® `gateway.auth.allowTailscale: false` æˆ–å¼ºåˆ¶ `gateway.auth.mode: \"password\"`ã€‚",
    "## é…ç½®ç¤ºä¾‹\n\n### ä»…é™ Tailnetï¼ˆServeï¼‰\n\n```json5\n{\n  gateway: {\n    bind: \"loopback\",\n    tailscale: { mode: \"serve\" },\n  },\n}\n```\n\næ‰“å¼€ï¼š`https://<magicdns>/`ï¼ˆæˆ–ä½ é…ç½®çš„ `gateway.controlUi.basePath`ï¼‰\n\n### ä»…é™ Tailnetï¼ˆç»‘å®šåˆ° Tailnet IPï¼‰\n\nå½“ä½ å¸Œæœ› Gateway ç½‘å…³ç›´æ¥ç›‘å¬ Tailnet IP æ—¶ä½¿ç”¨æ­¤æ–¹å¼ï¼ˆæ—  Serve/Funnelï¼‰ã€‚\n\n```json5\n{\n  gateway: {\n    bind: \"tailnet\",\n    auth: { mode: \"token\", token: \"your-token\" },\n  },\n}\n```\n\nä»å¦ä¸€ä¸ª Tailnet è®¾å¤‡è¿æ¥ï¼š\n\n- æ§åˆ¶ UIï¼š`http://<tailscale-ip>:18789/`\n- WebSocketï¼š`ws://<tailscale-ip>:18789`\n\næ³¨æ„ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ loopbackï¼ˆ`http://127.0.0.1:18789`ï¼‰å°†**ä¸**å·¥ä½œã€‚\n\n### å…¬å…±äº’è”ç½‘ï¼ˆFunnel + å…±äº«å¯†ç ï¼‰\n\n```json5\n{\n  gateway: {\n    bind: \"loopback\",\n    tailscale: { mode: \"funnel\" },\n    auth: { mode: \"password\", password: \"replace-me\" },\n  },\n}\n```\n\nä¼˜å…ˆä½¿ç”¨ `OPENCLAW_GATEWAY_PASSWORD` è€Œä¸æ˜¯å°†å¯†ç æäº¤åˆ°ç£ç›˜ã€‚",
    "## CLI ç¤ºä¾‹\n\n```bash\nopenclaw gateway --tailscale serve\nopenclaw gateway --tailscale funnel --auth password\n```",
    "## æ³¨æ„äº‹é¡¹\n\n- Tailscale Serve/Funnel éœ€è¦å®‰è£…å¹¶ç™»å½• `tailscale` CLIã€‚\n- `tailscale.mode: \"funnel\"` é™¤éè®¤è¯æ¨¡å¼ä¸º `password`ï¼Œå¦åˆ™æ‹’ç»å¯åŠ¨ï¼Œä»¥é¿å…å…¬å…±æš´éœ²ã€‚\n- å¦‚æœä½ å¸Œæœ› OpenClaw åœ¨å…³é—­æ—¶æ’¤é”€ `tailscale serve` æˆ– `tailscale funnel` é…ç½®ï¼Œè®¾ç½® `gateway.tailscale.resetOnExit`ã€‚\n- `gateway.bind: \"tailnet\"` æ˜¯ç›´æ¥ Tailnet ç»‘å®šï¼ˆæ—  HTTPSï¼Œæ—  Serve/Funnelï¼‰ã€‚\n- `gateway.bind: \"auto\"` ä¼˜å…ˆ loopbackï¼›å¦‚æœä½ æƒ³è¦ä»… Tailnetï¼Œä½¿ç”¨ `tailnet`ã€‚\n- Serve/Funnel ä»…æš´éœ² **Gateway ç½‘å…³æ§åˆ¶ UI + WS**ã€‚èŠ‚ç‚¹é€šè¿‡ç›¸åŒçš„ Gateway ç½‘å…³ WS ç«¯ç‚¹è¿æ¥ï¼Œå› æ­¤ Serve å¯ä»¥ç”¨äºèŠ‚ç‚¹è®¿é—®ã€‚",
    "## æµè§ˆå™¨æ§åˆ¶ï¼ˆè¿œç¨‹ Gateway ç½‘å…³ + æœ¬åœ°æµè§ˆå™¨ï¼‰\n\nå¦‚æœä½ åœ¨ä¸€å°æœºå™¨ä¸Šè¿è¡Œ Gateway ç½‘å…³ä½†æƒ³åœ¨å¦ä¸€å°æœºå™¨ä¸Šé©±åŠ¨æµè§ˆå™¨ï¼Œ\nåœ¨æµè§ˆå™¨æœºå™¨ä¸Šè¿è¡Œä¸€ä¸ª**èŠ‚ç‚¹ä¸»æœº**å¹¶è®©ä¸¤è€…ä¿æŒåœ¨åŒä¸€ä¸ª tailnet ä¸Šã€‚\nGateway ç½‘å…³ä¼šå°†æµè§ˆå™¨æ“ä½œä»£ç†åˆ°èŠ‚ç‚¹ï¼›ä¸éœ€è¦å•ç‹¬çš„æ§åˆ¶æœåŠ¡å™¨æˆ– Serve URLã€‚\n\né¿å…å°† Funnel ç”¨äºæµè§ˆå™¨æ§åˆ¶ï¼›å°†èŠ‚ç‚¹é…å¯¹è§†ä¸ºæ“ä½œè€…è®¿é—®ã€‚",
    "## Tailscale å‰ææ¡ä»¶ + é™åˆ¶\n\n- Serve éœ€è¦ä¸ºä½ çš„ tailnet å¯ç”¨ HTTPSï¼›å¦‚æœç¼ºå°‘ï¼ŒCLI ä¼šæç¤ºã€‚\n- Serve æ³¨å…¥ Tailscale èº«ä»½å¤´ï¼›Funnel ä¸ä¼šã€‚\n- Funnel éœ€è¦ Tailscale v1.38.3+ã€MagicDNSã€å¯ç”¨ HTTPS å’Œ funnel èŠ‚ç‚¹å±æ€§ã€‚\n- Funnel ä»…æ”¯æŒé€šè¿‡ TLS çš„ç«¯å£ `443`ã€`8443` å’Œ `10000`ã€‚\n- macOS ä¸Šçš„ Funnel éœ€è¦å¼€æº Tailscale åº”ç”¨å˜ä½“ã€‚",
    "## äº†è§£æ›´å¤š\n\n- Tailscale Serve æ¦‚è¿°ï¼šhttps://tailscale.com/kb/1312/serve\n- `tailscale serve` å‘½ä»¤ï¼šhttps://tailscale.com/kb/1242/tailscale-serve\n- Tailscale Funnel æ¦‚è¿°ï¼šhttps://tailscale.com/kb/1223/tailscale-funnel\n- `tailscale funnel` å‘½ä»¤ï¼šhttps://tailscale.com/kb/1311/tailscale-funnel",
    "---\nsummary: \"Talk mode: continuous speech conversations with ElevenLabs TTS\"\nread_when:\n  - Implementing Talk mode on macOS/iOS/Android\n  - Changing voice/TTS/interrupt behavior\ntitle: \"Talk Mode\"\n---\n\n# Talk Mode\n\nTalk mode is a continuous voice conversation loop:\n\n1. Listen for speech\n2. Send transcript to the model (main session, chat.send)\n3. Wait for the response\n4. Speak it via ElevenLabs (streaming playback)",
    "## Behavior (macOS)\n\n- **Always-on overlay** while Talk mode is enabled.\n- **Listening â†’ Thinking â†’ Speaking** phase transitions.\n- On a **short pause** (silence window), the current transcript is sent.\n- Replies are **written to WebChat** (same as typing).\n- **Interrupt on speech** (default on): if the user starts talking while the assistant is speaking, we stop playback and note the interruption timestamp for the next prompt.",
    "## Voice directives in replies\n\nThe assistant may prefix its reply with a **single JSON line** to control voice:\n\n```json\n{ \"voice\": \"<voice-id>\", \"once\": true }\n```\n\nRules:\n\n- First non-empty line only.\n- Unknown keys are ignored.\n- `once: true` applies to the current reply only.\n- Without `once`, the voice becomes the new default for Talk mode.\n- The JSON line is stripped before TTS playback.\n\nSupported keys:\n\n- `voice` / `voice_id` / `voiceId`\n- `model` / `model_id` / `modelId`\n- `speed`, `rate` (WPM), `stability`, `similarity`, `style`, `speakerBoost`\n- `seed`, `normalize`, `lang`, `output_format`, `latency_tier`\n- `once`",
    "## Config (`~/.openclaw/openclaw.json`)\n\n```json5\n{\n  talk: {\n    voiceId: \"elevenlabs_voice_id\",\n    modelId: \"eleven_v3\",\n    outputFormat: \"mp3_44100_128\",\n    apiKey: \"elevenlabs_api_key\",\n    interruptOnSpeech: true,\n  },\n}\n```\n\nDefaults:\n\n- `interruptOnSpeech`: true\n- `voiceId`: falls back to `ELEVENLABS_VOICE_ID` / `SAG_VOICE_ID` (or first ElevenLabs voice when API key is available)\n- `modelId`: defaults to `eleven_v3` when unset\n- `apiKey`: falls back to `ELEVENLABS_API_KEY` (or gateway shell profile if available)\n- `outputFormat`: defaults to `pcm_44100` on macOS/iOS and `pcm_24000` on Android (set `mp3_*` to force MP3 streaming)",
    "## macOS UI\n\n- Menu bar toggle: **Talk**\n- Config tab: **Talk Mode** group (voice id + interrupt toggle)\n- Overlay:\n  - **Listening**: cloud pulses with mic level\n  - **Thinking**: sinking animation\n  - **Speaking**: radiating rings\n  - Click cloud: stop speaking\n  - Click X: exit Talk mode",
    "## Notes\n\n- Requires Speech + Microphone permissions.\n- Uses `chat.send` against session key `main`.\n- TTS uses ElevenLabs streaming API with `ELEVENLABS_API_KEY` and incremental playback on macOS/iOS/Android for lower latency.\n- `stability` for `eleven_v3` is validated to `0.0`, `0.5`, or `1.0`; other models accept `0..1`.\n- `latency_tier` is validated to `0..4` when set.\n- Android supports `pcm_16000`, `pcm_22050`, `pcm_24000`, and `pcm_44100` output formats for low-latency AudioTrack streaming.",
    "---\nsummary: \"Telegram bot support status, capabilities, and configuration\"\nread_when:\n  - Working on Telegram features or webhooks\ntitle: \"Telegram\"\n---\n\n# Telegram (Bot API)\n\nStatus: production-ready for bot DMs + groups via grammY. Long-polling by default; webhook optional.",
    "## Quick setup (beginner)\n\n1. Create a bot with **@BotFather** ([direct link](https://t.me/BotFather)). Confirm the handle is exactly `@BotFather`, then copy the token.\n2. Set the token:\n   - Env: `TELEGRAM_BOT_TOKEN=...`\n   - Or config: `channels.telegram.botToken: \"...\"`.\n   - If both are set, config takes precedence (env fallback is default-account only).\n3. Start the gateway.\n4. DM access is pairing by default; approve the pairing code on first contact.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    telegram: {\n      enabled: true,\n      botToken: \"123:abc\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```",
    "## What it is\n\n- A Telegram Bot API channel owned by the Gateway.\n- Deterministic routing: replies go back to Telegram; the model never chooses channels.\n- DMs share the agent's main session; groups stay isolated (`agent:<agentId>:telegram:group:<chatId>`).",
    "## Setup (fast path)\n\n### 1) Create a bot token (BotFather)\n\n1. Open Telegram and chat with **@BotFather** ([direct link](https://t.me/BotFather)). Confirm the handle is exactly `@BotFather`.\n2. Run `/newbot`, then follow the prompts (name + username ending in `bot`).\n3. Copy the token and store it safely.\n\nOptional BotFather settings:\n\n- `/setjoingroups` â€” allow/deny adding the bot to groups.\n- `/setprivacy` â€” control whether the bot sees all group messages.\n\n### 2) Configure the token (env or config)\n\nExample:\n\n```json5\n{\n  channels: {\n    telegram: {\n      enabled: true,\n      botToken: \"123:abc\",\n      dmPolicy: \"pairing\",\n      groups: { \"*\": { requireMention: true } },\n    },\n  },\n}\n```\n\nEnv option: `TELEGRAM_BOT_TOKEN=...` (works for the default account).\nIf both env and config are set, config takes precedence.",
    "Multi-account support: use `channels.telegram.accounts` with per-account tokens and optional `name`. See [`gateway/configuration`](/gateway/configuration#telegramaccounts--discordaccounts--slackaccounts--signalaccounts--imessageaccounts) for the shared pattern.\n\n3. Start the gateway. Telegram starts when a token is resolved (config first, env fallback).\n4. DM access defaults to pairing. Approve the code when the bot is first contacted.\n5. For groups: add the bot, decide privacy/admin behavior (below), then set `channels.telegram.groups` to control mention gating + allowlists.",
    "## Token + privacy + permissions (Telegram side)\n\n### Token creation (BotFather)\n\n- `/newbot` creates the bot and returns the token (keep it secret).\n- If a token leaks, revoke/regenerate it via @BotFather and update your config.\n\n### Group message visibility (Privacy Mode)\n\nTelegram bots default to **Privacy Mode**, which limits which group messages they receive.\nIf your bot must see _all_ group messages, you have two options:\n\n- Disable privacy mode with `/setprivacy` **or**\n- Add the bot as a group **admin** (admin bots receive all messages).\n\n**Note:** When you toggle privacy mode, Telegram requires removing + reâ€‘adding the bot\nto each group for the change to take effect.\n\n### Group permissions (admin rights)\n\nAdmin status is set inside the group (Telegram UI). Admin bots always receive all\ngroup messages, so use admin if you need full visibility.",
    "## How it works (behavior)\n\n- Inbound messages are normalized into the shared channel envelope with reply context and media placeholders.\n- Group replies require a mention by default (native @mention or `agents.list[].groupChat.mentionPatterns` / `messages.groupChat.mentionPatterns`).\n- Multi-agent override: set per-agent patterns on `agents.list[].groupChat.mentionPatterns`.\n- Replies always route back to the same Telegram chat.\n- Long-polling uses grammY runner with per-chat sequencing; overall concurrency is capped by `agents.defaults.maxConcurrent`.\n- Telegram Bot API does not support read receipts; there is no `sendReadReceipts` option.",
    "## Draft streaming\n\nOpenClaw can stream partial replies in Telegram DMs using `sendMessageDraft`.\n\nRequirements:\n\n- Threaded Mode enabled for the bot in @BotFather (forum topic mode).\n- Private chat threads only (Telegram includes `message_thread_id` on inbound messages).\n- `channels.telegram.streamMode` not set to `\"off\"` (default: `\"partial\"`, `\"block\"` enables chunked draft updates).\n\nDraft streaming is DM-only; Telegram does not support it in groups or channels.",
    "## Formatting (Telegram HTML)\n\n- Outbound Telegram text uses `parse_mode: \"HTML\"` (Telegramâ€™s supported tag subset).\n- Markdown-ish input is rendered into **Telegram-safe HTML** (bold/italic/strike/code/links); block elements are flattened to text with newlines/bullets.\n- Raw HTML from models is escaped to avoid Telegram parse errors.\n- If Telegram rejects the HTML payload, OpenClaw retries the same message as plain text.",
    "## Commands (native + custom)\n\nOpenClaw registers native commands (like `/status`, `/reset`, `/model`) with Telegramâ€™s bot menu on startup.\nYou can add custom commands to the menu via config:\n\n```json5\n{\n  channels: {\n    telegram: {\n      customCommands: [\n        { command: \"backup\", description: \"Git backup\" },\n        { command: \"generate\", description: \"Create an image\" },\n      ],\n    },\n  },\n}\n```",
    "## Setup troubleshooting (commands)\n\n- `setMyCommands failed` in logs usually means outbound HTTPS/DNS is blocked to `api.telegram.org`.\n- If you see `sendMessage` or `sendChatAction` failures, check IPv6 routing and DNS.\n\nMore help: [Channel troubleshooting](/channels/troubleshooting).\n\nNotes:\n\n- Custom commands are **menu entries only**; OpenClaw does not implement them unless you handle them elsewhere.\n- Command names are normalized (leading `/` stripped, lowercased) and must match `a-z`, `0-9`, `_` (1â€“32 chars).\n- Custom commands **cannot override native commands**. Conflicts are ignored and logged.\n- If `commands.native` is disabled, only custom commands are registered (or cleared if none).",
    "## Limits\n\n- Outbound text is chunked to `channels.telegram.textChunkLimit` (default 4000).\n- Optional newline chunking: set `channels.telegram.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- Media downloads/uploads are capped by `channels.telegram.mediaMaxMb` (default 5).\n- Telegram Bot API requests time out after `channels.telegram.timeoutSeconds` (default 500 via grammY). Set lower to avoid long hangs.\n- Group history context uses `channels.telegram.historyLimit` (or `channels.telegram.accounts.*.historyLimit`), falling back to `messages.groupChat.historyLimit`. Set `0` to disable (default 50).\n- DM history can be limited with `channels.telegram.dmHistoryLimit` (user turns). Per-user overrides: `channels.telegram.dms[\"<user_id>\"].historyLimit`.",
    "## Group activation modes\n\nBy default, the bot only responds to mentions in groups (`@botname` or patterns in `agents.list[].groupChat.mentionPatterns`). To change this behavior:\n\n### Via config (recommended)\n\n```json5\n{\n  channels: {\n    telegram: {\n      groups: {\n        \"-1001234567890\": { requireMention: false }, // always respond in this group\n      },\n    },\n  },\n}\n```\n\n**Important:** Setting `channels.telegram.groups` creates an **allowlist** - only listed groups (or `\"*\"`) will be accepted.\nForum topics inherit their parent group config (allowFrom, requireMention, skills, prompts) unless you add per-topic overrides under `channels.telegram.groups.<groupId>.topics.<topicId>`.\n\nTo allow all groups with always-respond:\n\n```json5\n{\n  channels: {\n    telegram: {\n      groups: {\n        \"*\": { requireMention: false }, // all groups, always respond\n      },\n    },\n  },\n}\n```\n\nTo keep mention-only for all groups (default behavior):",
    "```json5\n{\n  channels: {\n    telegram: {\n      groups: {\n        \"*\": { requireMention: true }, // or omit groups entirely\n      },\n    },\n  },\n}\n```\n\n### Via command (session-level)\n\nSend in the group:\n\n- `/activation always` - respond to all messages\n- `/activation mention` - require mentions (default)\n\n**Note:** Commands update session state only. For persistent behavior across restarts, use config.\n\n### Getting the group chat ID\n\nForward any message from the group to `@userinfobot` or `@getidsbot` on Telegram to see the chat ID (negative number like `-1001234567890`).\n\n**Tip:** For your own user ID, DM the bot and it will reply with your user ID (pairing message), or use `/whoami` once commands are enabled.\n\n**Privacy note:** `@userinfobot` is a third-party bot. If you prefer, add the bot to the group, send a message, and use `openclaw logs --follow` to read `chat.id`, or use the Bot API `getUpdates`.",
    "## Config writes\n\nBy default, Telegram is allowed to write config updates triggered by channel events or `/config set|unset`.\n\nThis happens when:\n\n- A group is upgraded to a supergroup and Telegram emits `migrate_to_chat_id` (chat ID changes). OpenClaw can migrate `channels.telegram.groups` automatically.\n- You run `/config set` or `/config unset` in a Telegram chat (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { telegram: { configWrites: false } },\n}\n```",
    "## Topics (forum supergroups)\n\nTelegram forum topics include a `message_thread_id` per message. OpenClaw:\n\n- Appends `:topic:<threadId>` to the Telegram group session key so each topic is isolated.\n- Sends typing indicators and replies with `message_thread_id` so responses stay in the topic.\n- General topic (thread id `1`) is special: message sends omit `message_thread_id` (Telegram rejects it), but typing indicators still include it.\n- Exposes `MessageThreadId` + `IsForum` in template context for routing/templating.\n- Topic-specific configuration is available under `channels.telegram.groups.<chatId>.topics.<threadId>` (skills, allowlists, auto-reply, system prompts, disable).\n- Topic configs inherit group settings (requireMention, allowlists, skills, prompts, enabled) unless overridden per topic.\n\nPrivate chats can include `message_thread_id` in some edge cases. OpenClaw keeps the DM session key unchanged, but still uses the thread id for replies/draft streaming when it is present.",
    "## Inline Buttons\n\nTelegram supports inline keyboards with callback buttons.\n\n```json5\n{\n  channels: {\n    telegram: {\n      capabilities: {\n        inlineButtons: \"allowlist\",\n      },\n    },\n  },\n}\n```\n\nFor per-account configuration:\n\n```json5\n{\n  channels: {\n    telegram: {\n      accounts: {\n        main: {\n          capabilities: {\n            inlineButtons: \"allowlist\",\n          },\n        },\n      },\n    },\n  },\n}\n```\n\nScopes:\n\n- `off` â€” inline buttons disabled\n- `dm` â€” only DMs (group targets blocked)\n- `group` â€” only groups (DM targets blocked)\n- `all` â€” DMs + groups\n- `allowlist` â€” DMs + groups, but only senders allowed by `allowFrom`/`groupAllowFrom` (same rules as control commands)\n\nDefault: `allowlist`.\nLegacy: `capabilities: [\"inlineButtons\"]` = `inlineButtons: \"all\"`.\n\n### Sending buttons\n\nUse the message tool with the `buttons` parameter:",
    "```json5\n{\n  action: \"send\",\n  channel: \"telegram\",\n  to: \"123456789\",\n  message: \"Choose an option:\",\n  buttons: [\n    [\n      { text: \"Yes\", callback_data: \"yes\" },\n      { text: \"No\", callback_data: \"no\" },\n    ],\n    [{ text: \"Cancel\", callback_data: \"cancel\" }],\n  ],\n}\n```\n\nWhen a user clicks a button, the callback data is sent back to the agent as a message with the format:\n`callback_data: value`\n\n### Configuration options\n\nTelegram capabilities can be configured at two levels (object form shown above; legacy string arrays still supported):\n\n- `channels.telegram.capabilities`: Global default capability config applied to all Telegram accounts unless overridden.\n- `channels.telegram.accounts.<account>.capabilities`: Per-account capabilities that override the global defaults for that specific account.",
    "Use the global setting when all Telegram bots/accounts should behave the same. Use per-account configuration when different bots need different behaviors (for example, one account only handles DMs while another is allowed in groups).",
    "## Access control (DMs + groups)\n\n### DM access\n\n- Default: `channels.telegram.dmPolicy = \"pairing\"`. Unknown senders receive a pairing code; messages are ignored until approved (codes expire after 1 hour).\n- Approve via:\n  - `openclaw pairing list telegram`\n  - `openclaw pairing approve telegram <CODE>`\n- Pairing is the default token exchange used for Telegram DMs. Details: [Pairing](/start/pairing)\n- `channels.telegram.allowFrom` accepts numeric user IDs (recommended) or `@username` entries. It is **not** the bot username; use the human senderâ€™s ID. The wizard accepts `@username` and resolves it to the numeric ID when possible.\n\n#### Finding your Telegram user ID\n\nSafer (no third-party bot):\n\n1. Start the gateway and DM your bot.\n2. Run `openclaw logs --follow` and look for `from.id`.\n\nAlternate (official Bot API):\n\n1. DM your bot.\n2. Fetch updates with your bot token and read `message.from.id`:\n\n   ```bash\n   curl \"https://api.telegram.org/bot<bot_token>/getUpdates\"\n   ```",
    "Third-party (less private):\n\n- DM `@userinfobot` or `@getidsbot` and use the returned user id.\n\n### Group access\n\nTwo independent controls:\n\n**1. Which groups are allowed** (group allowlist via `channels.telegram.groups`):\n\n- No `groups` config = all groups allowed\n- With `groups` config = only listed groups or `\"*\"` are allowed\n- Example: `\"groups\": { \"-1001234567890\": {}, \"*\": {} }` allows all groups\n\n**2. Which senders are allowed** (sender filtering via `channels.telegram.groupPolicy`):\n\n- `\"open\"` = all senders in allowed groups can message\n- `\"allowlist\"` = only senders in `channels.telegram.groupAllowFrom` can message\n- `\"disabled\"` = no group messages accepted at all\n  Default is `groupPolicy: \"allowlist\"` (blocked unless you add `groupAllowFrom`).\n\nMost users want: `groupPolicy: \"allowlist\"` + `groupAllowFrom` + specific groups listed in `channels.telegram.groups`",
    "To allow **any group member** to talk in a specific group (while still keeping control commands restricted to authorized senders), set a per-group override:\n\n```json5\n{\n  channels: {\n    telegram: {\n      groups: {\n        \"-1001234567890\": {\n          groupPolicy: \"open\",\n          requireMention: false,\n        },\n      },\n    },\n  },\n}\n```",
    "## Long-polling vs webhook\n\n- Default: long-polling (no public URL required).\n- Webhook mode: set `channels.telegram.webhookUrl` and `channels.telegram.webhookSecret` (optionally `channels.telegram.webhookPath`).\n  - The local listener binds to `0.0.0.0:8787` and serves `POST /telegram-webhook` by default.\n  - If your public URL is different, use a reverse proxy and point `channels.telegram.webhookUrl` at the public endpoint.",
    "## Reply threading\n\nTelegram supports optional threaded replies via tags:\n\n- `[[reply_to_current]]` -- reply to the triggering message.\n- `[[reply_to:<id>]]` -- reply to a specific message id.\n\nControlled by `channels.telegram.replyToMode`:\n\n- `first` (default), `all`, `off`.",
    "## Audio messages (voice vs file)\n\nTelegram distinguishes **voice notes** (round bubble) from **audio files** (metadata card).\nOpenClaw defaults to audio files for backward compatibility.\n\nTo force a voice note bubble in agent replies, include this tag anywhere in the reply:\n\n- `[[audio_as_voice]]` â€” send audio as a voice note instead of a file.\n\nThe tag is stripped from the delivered text. Other channels ignore this tag.\n\nFor message tool sends, set `asVoice: true` with a voice-compatible audio `media` URL\n(`message` is optional when media is present):\n\n```json5\n{\n  action: \"send\",\n  channel: \"telegram\",\n  to: \"123456789\",\n  media: \"https://example.com/voice.ogg\",\n  asVoice: true,\n}\n```",
    "## Stickers\n\nOpenClaw supports receiving and sending Telegram stickers with intelligent caching.\n\n### Receiving stickers\n\nWhen a user sends a sticker, OpenClaw handles it based on the sticker type:\n\n- **Static stickers (WEBP):** Downloaded and processed through vision. The sticker appears as a `<media:sticker>` placeholder in the message content.\n- **Animated stickers (TGS):** Skipped (Lottie format not supported for processing).\n- **Video stickers (WEBM):** Skipped (video format not supported for processing).\n\nTemplate context field available when receiving stickers:\n\n- `Sticker` â€” object with:\n  - `emoji` â€” emoji associated with the sticker\n  - `setName` â€” name of the sticker set\n  - `fileId` â€” Telegram file ID (send the same sticker back)\n  - `fileUniqueId` â€” stable ID for cache lookup\n  - `cachedDescription` â€” cached vision description when available\n\n### Sticker cache",
    "Stickers are processed through the AI's vision capabilities to generate descriptions. Since the same stickers are often sent repeatedly, OpenClaw caches these descriptions to avoid redundant API calls.\n\n**How it works:**\n\n1. **First encounter:** The sticker image is sent to the AI for vision analysis. The AI generates a description (e.g., \"A cartoon cat waving enthusiastically\").\n2. **Cache storage:** The description is saved along with the sticker's file ID, emoji, and set name.\n3. **Subsequent encounters:** When the same sticker is seen again, the cached description is used directly. The image is not sent to the AI.\n\n**Cache location:** `~/.openclaw/telegram/sticker-cache.json`\n\n**Cache entry format:**\n\n```json\n{\n  \"fileId\": \"CAACAgIAAxkBAAI...\",\n  \"fileUniqueId\": \"AgADBAADb6cxG2Y\",\n  \"emoji\": \"ğŸ‘‹\",\n  \"setName\": \"CoolCats\",\n  \"description\": \"A cartoon cat waving enthusiastically\",\n  \"cachedAt\": \"2026-01-15T10:30:00.000Z\"\n}\n```\n\n**Benefits:**",
    "- Reduces API costs by avoiding repeated vision calls for the same sticker\n- Faster response times for cached stickers (no vision processing delay)\n- Enables sticker search functionality based on cached descriptions\n\nThe cache is populated automatically as stickers are received. There is no manual cache management required.\n\n### Sending stickers\n\nThe agent can send and search stickers using the `sticker` and `sticker-search` actions. These are disabled by default and must be enabled in config:\n\n```json5\n{\n  channels: {\n    telegram: {\n      actions: {\n        sticker: true,\n      },\n    },\n  },\n}\n```\n\n**Send a sticker:**\n\n```json5\n{\n  action: \"sticker\",\n  channel: \"telegram\",\n  to: \"123456789\",\n  fileId: \"CAACAgIAAxkBAAI...\",\n}\n```\n\nParameters:",
    "- `fileId` (required) â€” the Telegram file ID of the sticker. Obtain this from `Sticker.fileId` when receiving a sticker, or from a `sticker-search` result.\n- `replyTo` (optional) â€” message ID to reply to.\n- `threadId` (optional) â€” message thread ID for forum topics.\n\n**Search for stickers:**\n\nThe agent can search cached stickers by description, emoji, or set name:\n\n```json5\n{\n  action: \"sticker-search\",\n  channel: \"telegram\",\n  query: \"cat waving\",\n  limit: 5,\n}\n```\n\nReturns matching stickers from the cache:\n\n```json5\n{\n  ok: true,\n  count: 2,\n  stickers: [\n    {\n      fileId: \"CAACAgIAAxkBAAI...\",\n      emoji: \"ğŸ‘‹\",\n      description: \"A cartoon cat waving enthusiastically\",\n      setName: \"CoolCats\",\n    },\n  ],\n}\n```\n\nThe search uses fuzzy matching across description text, emoji characters, and set names.\n\n**Example with threading:**\n\n```json5\n{\n  action: \"sticker\",\n  channel: \"telegram\",\n  to: \"-1001234567890\",\n  fileId: \"CAACAgIAAxkBAAI...\",\n  replyTo: 42,\n  threadId: 123,\n}\n```",
    "## Streaming (drafts)\n\nTelegram can stream **draft bubbles** while the agent is generating a response.\nOpenClaw uses Bot API `sendMessageDraft` (not real messages) and then sends the\nfinal reply as a normal message.\n\nRequirements (Telegram Bot API 9.3+):\n\n- **Private chats with topics enabled** (forum topic mode for the bot).\n- Incoming messages must include `message_thread_id` (private topic thread).\n- Streaming is ignored for groups/supergroups/channels.\n\nConfig:\n\n- `channels.telegram.streamMode: \"off\" | \"partial\" | \"block\"` (default: `partial`)\n  - `partial`: update the draft bubble with the latest streaming text.\n  - `block`: update the draft bubble in larger blocks (chunked).\n  - `off`: disable draft streaming.\n- Optional (only for `streamMode: \"block\"`):\n  - `channels.telegram.draftChunk: { minChars?, maxChars?, breakPreference? }`\n    - defaults: `minChars: 200`, `maxChars: 800`, `breakPreference: \"paragraph\"` (clamped to `channels.telegram.textChunkLimit`).",
    "Note: draft streaming is separate from **block streaming** (channel messages).\nBlock streaming is off by default and requires `channels.telegram.blockStreaming: true`\nif you want early Telegram messages instead of draft updates.\n\nReasoning stream (Telegram only):\n\n- `/reasoning stream` streams reasoning into the draft bubble while the reply is\n  generating, then sends the final answer without reasoning.\n- If `channels.telegram.streamMode` is `off`, reasoning stream is disabled.\n  More context: [Streaming + chunking](/concepts/streaming).",
    "## Retry policy\n\nOutbound Telegram API calls retry on transient network/429 errors with exponential backoff and jitter. Configure via `channels.telegram.retry`. See [Retry policy](/concepts/retry).",
    "## Agent tool (messages + reactions)\n\n- Tool: `telegram` with `sendMessage` action (`to`, `content`, optional `mediaUrl`, `replyToMessageId`, `messageThreadId`).\n- Tool: `telegram` with `react` action (`chatId`, `messageId`, `emoji`).\n- Tool: `telegram` with `deleteMessage` action (`chatId`, `messageId`).\n- Reaction removal semantics: see [/tools/reactions](/tools/reactions).\n- Tool gating: `channels.telegram.actions.reactions`, `channels.telegram.actions.sendMessage`, `channels.telegram.actions.deleteMessage` (default: enabled), and `channels.telegram.actions.sticker` (default: disabled).",
    "## Reaction notifications\n\n**How reactions work:**\nTelegram reactions arrive as **separate `message_reaction` events**, not as properties in message payloads. When a user adds a reaction, OpenClaw:\n\n1. Receives the `message_reaction` update from Telegram API\n2. Converts it to a **system event** with format: `\"Telegram reaction added: {emoji} by {user} on msg {id}\"`\n3. Enqueues the system event using the **same session key** as regular messages\n4. When the next message arrives in that conversation, system events are drained and prepended to the agent's context\n\nThe agent sees reactions as **system notifications** in the conversation history, not as message metadata.\n\n**Configuration:**\n\n- `channels.telegram.reactionNotifications`: Controls which reactions trigger notifications\n  - `\"off\"` â€” ignore all reactions\n  - `\"own\"` â€” notify when users react to bot messages (best-effort; in-memory) (default)\n  - `\"all\"` â€” notify for all reactions",
    "- `channels.telegram.reactionLevel`: Controls agent's reaction capability\n  - `\"off\"` â€” agent cannot react to messages\n  - `\"ack\"` â€” bot sends acknowledgment reactions (ğŸ‘€ while processing) (default)\n  - `\"minimal\"` â€” agent can react sparingly (guideline: 1 per 5-10 exchanges)\n  - `\"extensive\"` â€” agent can react liberally when appropriate\n\n**Forum groups:** Reactions in forum groups include `message_thread_id` and use session keys like `agent:main:telegram:group:{chatId}:topic:{threadId}`. This ensures reactions and messages in the same topic stay together.\n\n**Example config:**\n\n```json5\n{\n  channels: {\n    telegram: {\n      reactionNotifications: \"all\", // See all reactions\n      reactionLevel: \"minimal\", // Agent can react sparingly\n    },\n  },\n}\n```\n\n**Requirements:**",
    "- Telegram bots must explicitly request `message_reaction` in `allowed_updates` (configured automatically by OpenClaw)\n- For webhook mode, reactions are included in the webhook `allowed_updates`\n- For polling mode, reactions are included in the `getUpdates` `allowed_updates`",
    "## Delivery targets (CLI/cron)\n\n- Use a chat id (`123456789`) or a username (`@name`) as the target.\n- Example: `openclaw message send --channel telegram --target 123456789 --message \"hi\"`.",
    "## Troubleshooting\n\n**Bot doesnâ€™t respond to non-mention messages in a group:**\n\n- If you set `channels.telegram.groups.*.requireMention=false`, Telegramâ€™s Bot API **privacy mode** must be disabled.\n  - BotFather: `/setprivacy` â†’ **Disable** (then remove + re-add the bot to the group)\n- `openclaw channels status` shows a warning when config expects unmentioned group messages.\n- `openclaw channels status --probe` can additionally check membership for explicit numeric group IDs (it canâ€™t audit wildcard `\"*\"` rules).\n- Quick test: `/activation always` (session-only; use config for persistence)\n\n**Bot not seeing group messages at all:**\n\n- If `channels.telegram.groups` is set, the group must be listed or use `\"*\"`\n- Check Privacy Settings in @BotFather â†’ \"Group Privacy\" should be **OFF**\n- Verify bot is actually a member (not just an admin with no read access)\n- Check gateway logs: `openclaw logs --follow` (look for \"skipping group message\")",
    "**Bot responds to mentions but not `/activation always`:**\n\n- The `/activation` command updates session state but doesn't persist to config\n- For persistent behavior, add group to `channels.telegram.groups` with `requireMention: false`\n\n**Commands like `/status` don't work:**\n\n- Make sure your Telegram user ID is authorized (via pairing or `channels.telegram.allowFrom`)\n- Commands require authorization even in groups with `groupPolicy: \"open\"`\n\n**Long-polling aborts immediately on Node 22+ (often with proxies/custom fetch):**\n\n- Node 22+ is stricter about `AbortSignal` instances; foreign signals can abort `fetch` calls right away.\n- Upgrade to a OpenClaw build that normalizes abort signals, or run the gateway on Node 20 until you can upgrade.\n\n**Bot starts, then silently stops responding (or logs `HttpError: Network request ... failed`):**",
    "- Some hosts resolve `api.telegram.org` to IPv6 first. If your server does not have working IPv6 egress, grammY can get stuck on IPv6-only requests.\n- Fix by enabling IPv6 egress **or** forcing IPv4 resolution for `api.telegram.org` (for example, add an `/etc/hosts` entry using the IPv4 A record, or prefer IPv4 in your OS DNS stack), then restart the gateway.\n- Quick check: `dig +short api.telegram.org A` and `dig +short api.telegram.org AAAA` to confirm what DNS returns.",
    "## Configuration reference (Telegram)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:",
    "- `channels.telegram.enabled`: enable/disable channel startup.\n- `channels.telegram.botToken`: bot token (BotFather).\n- `channels.telegram.tokenFile`: read token from file path.\n- `channels.telegram.dmPolicy`: `pairing | allowlist | open | disabled` (default: pairing).\n- `channels.telegram.allowFrom`: DM allowlist (ids/usernames). `open` requires `\"*\"`.\n- `channels.telegram.groupPolicy`: `open | allowlist | disabled` (default: allowlist).\n- `channels.telegram.groupAllowFrom`: group sender allowlist (ids/usernames).\n- `channels.telegram.groups`: per-group defaults + allowlist (use `\"*\"` for global defaults).\n  - `channels.telegram.groups.<id>.groupPolicy`: per-group override for groupPolicy (`open | allowlist | disabled`).\n  - `channels.telegram.groups.<id>.requireMention`: mention gating default.\n  - `channels.telegram.groups.<id>.skills`: skill filter (omit = all skills, empty = none).\n  - `channels.telegram.groups.<id>.allowFrom`: per-group sender allowlist override.\n  - `channels.telegram.groups.<id>.systemPrompt`: extra system prompt for the group.\n  - `channels.telegram.groups.<id>.enabled`: disable the group when `false`.\n  - `channels.telegram.groups.<id>.topics.<threadId>.*`: per-topic overrides (same fields as group).\n  - `channels.telegram.groups.<id>.topics.<threadId>.groupPolicy`: per-topic override for groupPolicy (`open | allowlist | disabled`).\n  - `channels.telegram.groups.<id>.topics.<threadId>.requireMention`: per-topic mention gating override.\n- `channels.telegram.capabilities.inlineButtons`: `off | dm | group | all | allowlist` (default: allowlist).\n- `channels.telegram.accounts.<account>.capabilities.inlineButtons`: per-account override.\n- `channels.telegram.replyToMode`: `off | first | all` (default: `first`).\n- `channels.telegram.textChunkLimit`: outbound chunk size (chars).\n- `channels.telegram.chunkMode`: `length` (default) or `newline` to split on blank lines (paragraph boundaries) before length chunking.\n- `channels.telegram.linkPreview`: toggle link previews for outbound messages (default: true).\n- `channels.telegram.streamMode`: `off | partial | block` (draft streaming).\n- `channels.telegram.mediaMaxMb`: inbound/outbound media cap (MB).\n- `channels.telegram.retry`: retry policy for outbound Telegram API calls (attempts, minDelayMs, maxDelayMs, jitter).\n- `channels.telegram.network.autoSelectFamily`: override Node autoSelectFamily (true=enable, false=disable). Defaults to disabled on Node 22 to avoid Happy Eyeballs timeouts.\n- `channels.telegram.proxy`: proxy URL for Bot API calls (SOCKS/HTTP).\n- `channels.telegram.webhookUrl`: enable webhook mode (requires `channels.telegram.webhookSecret`).\n- `channels.telegram.webhookSecret`: webhook secret (required when webhookUrl is set).\n- `channels.telegram.webhookPath`: local webhook path (default `/telegram-webhook`).\n- `channels.telegram.actions.reactions`: gate Telegram tool reactions.\n- `channels.telegram.actions.sendMessage`: gate Telegram tool message sends.\n- `channels.telegram.actions.deleteMessage`: gate Telegram tool message deletes.\n- `channels.telegram.actions.sticker`: gate Telegram sticker actions â€” send and search (default: false).\n- `channels.telegram.reactionNotifications`: `off | own | all` â€” control which reactions trigger system events (default: `own` when not set).\n- `channels.telegram.reactionLevel`: `off | ack | minimal | extensive` â€” control agent's reaction capability (default: `minimal` when not set).",
    "Related global options:\n\n- `agents.list[].groupChat.mentionPatterns` (mention gating patterns).\n- `messages.groupChat.mentionPatterns` (global fallback).\n- `commands.native` (defaults to `\"auto\"` â†’ on for Telegram/Discord, off for Slack), `commands.text`, `commands.useAccessGroups` (command behavior). Override with `channels.telegram.commands.native`.\n- `messages.responsePrefix`, `messages.ackReaction`, `messages.ackReactionScope`, `messages.removeAckAfterReply`.",
    "---\nread_when:\n  - è¿è¡Œæˆ–ä¿®å¤æµ‹è¯•\nsummary: å¦‚ä½•åœ¨æœ¬åœ°è¿è¡Œæµ‹è¯•ï¼ˆvitestï¼‰ä»¥åŠä½•æ—¶ä½¿ç”¨ force/coverage æ¨¡å¼\ntitle: æµ‹è¯•\nx-i18n:\n  generated_at: \"2026-02-03T10:09:52Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: be7b751fb81c8c94b1293624bdca6582e60a26084960d1df9558061969502e6f\n  source_path: reference/test.md\n  workflow: 15\n---\n\n# æµ‹è¯•\n\n- å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼ˆæµ‹è¯•é›†ã€å®æ—¶æµ‹è¯•ã€Dockerï¼‰ï¼š[æµ‹è¯•](/testing)\n\n- `pnpm test:force`ï¼šç»ˆæ­¢ä»»ä½•å ç”¨é»˜è®¤æ§åˆ¶ç«¯å£çš„é—ç•™ Gateway ç½‘å…³è¿›ç¨‹ï¼Œç„¶åä½¿ç”¨éš”ç¦»çš„ Gateway ç½‘å…³ç«¯å£è¿è¡Œå®Œæ•´çš„ Vitest å¥—ä»¶ï¼Œè¿™æ ·æœåŠ¡å™¨æµ‹è¯•ä¸ä¼šä¸æ­£åœ¨è¿è¡Œçš„å®ä¾‹å†²çªã€‚å½“ä¹‹å‰çš„ Gateway ç½‘å…³è¿è¡Œå ç”¨äº†ç«¯å£ 18789 æ—¶ä½¿ç”¨æ­¤å‘½ä»¤ã€‚\n- `pnpm test:coverage`ï¼šä½¿ç”¨ V8 è¦†ç›–ç‡è¿è¡Œ Vitestã€‚å…¨å±€é˜ˆå€¼ä¸º 70% çš„è¡Œ/åˆ†æ”¯/å‡½æ•°/è¯­å¥è¦†ç›–ç‡ã€‚è¦†ç›–ç‡æ’é™¤äº†é›†æˆå¯†é›†å‹å…¥å£ç‚¹ï¼ˆCLI è¿æ¥ã€gateway/telegram æ¡¥æ¥ã€webchat é™æ€æœåŠ¡å™¨ï¼‰ï¼Œä»¥ä¿æŒç›®æ ‡é›†ä¸­åœ¨å¯å•å…ƒæµ‹è¯•çš„é€»è¾‘ä¸Šã€‚\n- `pnpm test:e2e`ï¼šè¿è¡Œ Gateway ç½‘å…³ç«¯åˆ°ç«¯å†’çƒŸæµ‹è¯•ï¼ˆå¤šå®ä¾‹ WS/HTTP/èŠ‚ç‚¹é…å¯¹ï¼‰ã€‚\n- `pnpm test:live`ï¼šè¿è¡Œæä¾›å•†å®æ—¶æµ‹è¯•ï¼ˆminimax/zaiï¼‰ã€‚éœ€è¦ API å¯†é’¥å’Œ `LIVE=1`ï¼ˆæˆ–æä¾›å•†ç‰¹å®šçš„ `*_LIVE_TEST=1`ï¼‰æ‰èƒ½å–æ¶ˆè·³è¿‡ã€‚",
    "## æ¨¡å‹å»¶è¿ŸåŸºå‡†æµ‹è¯•ï¼ˆæœ¬åœ°å¯†é’¥ï¼‰\n\nè„šæœ¬ï¼š[`scripts/bench-model.ts`](https://github.com/openclaw/openclaw/blob/main/scripts/bench-model.ts)\n\nç”¨æ³•ï¼š\n\n- `source ~/.profile && pnpm tsx scripts/bench-model.ts --runs 10`\n- å¯é€‰ç¯å¢ƒå˜é‡ï¼š`MINIMAX_API_KEY`ã€`MINIMAX_BASE_URL`ã€`MINIMAX_MODEL`ã€`ANTHROPIC_API_KEY`\n- é»˜è®¤æç¤ºè¯ï¼š\"Reply with a single word: ok. No punctuation or extra text.\"\n\nä¸Šæ¬¡è¿è¡Œï¼ˆ2025-12-31ï¼Œ20 æ¬¡ï¼‰ï¼š\n\n- minimax ä¸­ä½æ•° 1279msï¼ˆæœ€å° 1114ï¼Œæœ€å¤§ 2431ï¼‰\n- opus ä¸­ä½æ•° 2454msï¼ˆæœ€å° 1224ï¼Œæœ€å¤§ 3170ï¼‰",
    "## æ–°æ‰‹å¼•å¯¼ E2Eï¼ˆDockerï¼‰\n\nDocker æ˜¯å¯é€‰çš„ï¼›è¿™ä»…ç”¨äºå®¹å™¨åŒ–çš„æ–°æ‰‹å¼•å¯¼å†’çƒŸæµ‹è¯•ã€‚\n\nåœ¨å¹²å‡€çš„ Linux å®¹å™¨ä¸­å®Œæ•´çš„å†·å¯åŠ¨æµç¨‹ï¼š\n\n```bash\nscripts/e2e/onboard-docker.sh\n```\n\næ­¤è„šæœ¬é€šè¿‡ä¼ªç»ˆç«¯é©±åŠ¨äº¤äº’å¼å‘å¯¼ï¼ŒéªŒè¯é…ç½®/å·¥ä½œåŒº/ä¼šè¯æ–‡ä»¶ï¼Œç„¶åå¯åŠ¨ Gateway ç½‘å…³å¹¶è¿è¡Œ `openclaw health`ã€‚",
    "## QR å¯¼å…¥å†’çƒŸæµ‹è¯•ï¼ˆDockerï¼‰\n\nç¡®ä¿ `qrcode-terminal` åœ¨ Docker ä¸­çš„ Node 22+ ä¸‹åŠ è½½ï¼š\n\n```bash\npnpm test:docker:qr\n```",
    "---\nsummary: \"Testing kit: unit/e2e/live suites, Docker runners, and what each test covers\"\nread_when:\n  - Running tests locally or in CI\n  - Adding regressions for model/provider bugs\n  - Debugging gateway + agent behavior\ntitle: \"Testing\"\n---\n\n# Testing\n\nOpenClaw has three Vitest suites (unit/integration, e2e, live) and a small set of Docker runners.\n\nThis doc is a â€œhow we testâ€ guide:\n\n- What each suite covers (and what it deliberately does _not_ cover)\n- Which commands to run for common workflows (local, pre-push, debugging)\n- How live tests discover credentials and select models/providers\n- How to add regressions for real-world model/provider issues",
    "## Quick start\n\nMost days:\n\n- Full gate (expected before push): `pnpm build && pnpm check && pnpm test`\n\nWhen you touch tests or want extra confidence:\n\n- Coverage gate: `pnpm test:coverage`\n- E2E suite: `pnpm test:e2e`\n\nWhen debugging real providers/models (requires real creds):\n\n- Live suite (models + gateway tool/image probes): `pnpm test:live`\n\nTip: when you only need one failing case, prefer narrowing live tests via the allowlist env vars described below.",
    "## Test suites (what runs where)\n\nThink of the suites as â€œincreasing realismâ€ (and increasing flakiness/cost):\n\n### Unit / integration (default)\n\n- Command: `pnpm test`\n- Config: `vitest.config.ts`\n- Files: `src/**/*.test.ts`\n- Scope:\n  - Pure unit tests\n  - In-process integration tests (gateway auth, routing, tooling, parsing, config)\n  - Deterministic regressions for known bugs\n- Expectations:\n  - Runs in CI\n  - No real keys required\n  - Should be fast and stable\n\n### E2E (gateway smoke)\n\n- Command: `pnpm test:e2e`\n- Config: `vitest.e2e.config.ts`\n- Files: `src/**/*.e2e.test.ts`\n- Scope:\n  - Multi-instance gateway end-to-end behavior\n  - WebSocket/HTTP surfaces, node pairing, and heavier networking\n- Expectations:\n  - Runs in CI (when enabled in the pipeline)\n  - No real keys required\n  - More moving parts than unit tests (can be slower)\n\n### Live (real providers + real models)",
    "- Command: `pnpm test:live`\n- Config: `vitest.live.config.ts`\n- Files: `src/**/*.live.test.ts`\n- Default: **enabled** by `pnpm test:live` (sets `OPENCLAW_LIVE_TEST=1`)\n- Scope:\n  - â€œDoes this provider/model actually work _today_ with real creds?â€\n  - Catch provider format changes, tool-calling quirks, auth issues, and rate limit behavior\n- Expectations:\n  - Not CI-stable by design (real networks, real provider policies, quotas, outages)\n  - Costs money / uses rate limits\n  - Prefer running narrowed subsets instead of â€œeverythingâ€\n  - Live runs will source `~/.profile` to pick up missing API keys\n  - Anthropic key rotation: set `OPENCLAW_LIVE_ANTHROPIC_KEYS=\"sk-...,sk-...\"` (or `OPENCLAW_LIVE_ANTHROPIC_KEY=sk-...`) or multiple `ANTHROPIC_API_KEY*` vars; tests will retry on rate limits",
    "## Which suite should I run?\n\nUse this decision table:\n\n- Editing logic/tests: run `pnpm test` (and `pnpm test:coverage` if you changed a lot)\n- Touching gateway networking / WS protocol / pairing: add `pnpm test:e2e`\n- Debugging â€œmy bot is downâ€ / provider-specific failures / tool calling: run a narrowed `pnpm test:live`",
    "## Live: model smoke (profile keys)\n\nLive tests are split into two layers so we can isolate failures:\n\n- â€œDirect modelâ€ tells us the provider/model can answer at all with the given key.\n- â€œGateway smokeâ€ tells us the full gateway+agent pipeline works for that model (sessions, history, tools, sandbox policy, etc.).\n\n### Layer 1: Direct model completion (no gateway)",
    "- Test: `src/agents/models.profiles.live.test.ts`\n- Goal:\n  - Enumerate discovered models\n  - Use `getApiKeyForModel` to select models you have creds for\n  - Run a small completion per model (and targeted regressions where needed)\n- How to enable:\n  - `pnpm test:live` (or `OPENCLAW_LIVE_TEST=1` if invoking Vitest directly)\n- Set `OPENCLAW_LIVE_MODELS=modern` (or `all`, alias for modern) to actually run this suite; otherwise it skips to keep `pnpm test:live` focused on gateway smoke\n- How to select models:\n  - `OPENCLAW_LIVE_MODELS=modern` to run the modern allowlist (Opus/Sonnet/Haiku 4.5, GPT-5.x + Codex, Gemini 3, GLM 4.7, MiniMax M2.1, Grok 4)\n  - `OPENCLAW_LIVE_MODELS=all` is an alias for the modern allowlist\n  - or `OPENCLAW_LIVE_MODELS=\"openai/gpt-5.2,anthropic/claude-opus-4-6,...\"` (comma allowlist)\n- How to select providers:\n  - `OPENCLAW_LIVE_PROVIDERS=\"google,google-antigravity,google-gemini-cli\"` (comma allowlist)\n- Where keys come from:\n  - By default: profile store and env fallbacks\n  - Set `OPENCLAW_LIVE_REQUIRE_PROFILE_KEYS=1` to enforce **profile store** only\n- Why this exists:\n  - Separates â€œprovider API is broken / key is invalidâ€ from â€œgateway agent pipeline is brokenâ€\n  - Contains small, isolated regressions (example: OpenAI Responses/Codex Responses reasoning replay + tool-call flows)",
    "### Layer 2: Gateway + dev agent smoke (what â€œ@openclawâ€ actually does)",
    "- Test: `src/gateway/gateway-models.profiles.live.test.ts`\n- Goal:\n  - Spin up an in-process gateway\n  - Create/patch a `agent:dev:*` session (model override per run)\n  - Iterate models-with-keys and assert:\n    - â€œmeaningfulâ€ response (no tools)\n    - a real tool invocation works (read probe)\n    - optional extra tool probes (exec+read probe)\n    - OpenAI regression paths (tool-call-only â†’ follow-up) keep working\n- Probe details (so you can explain failures quickly):\n  - `read` probe: the test writes a nonce file in the workspace and asks the agent to `read` it and echo the nonce back.\n  - `exec+read` probe: the test asks the agent to `exec`-write a nonce into a temp file, then `read` it back.\n  - image probe: the test attaches a generated PNG (cat + randomized code) and expects the model to return `cat <CODE>`.\n  - Implementation reference: `src/gateway/gateway-models.profiles.live.test.ts` and `src/gateway/live-image-probe.ts`.\n- How to enable:\n  - `pnpm test:live` (or `OPENCLAW_LIVE_TEST=1` if invoking Vitest directly)\n- How to select models:\n  - Default: modern allowlist (Opus/Sonnet/Haiku 4.5, GPT-5.x + Codex, Gemini 3, GLM 4.7, MiniMax M2.1, Grok 4)\n  - `OPENCLAW_LIVE_GATEWAY_MODELS=all` is an alias for the modern allowlist\n  - Or set `OPENCLAW_LIVE_GATEWAY_MODELS=\"provider/model\"` (or comma list) to narrow\n- How to select providers (avoid â€œOpenRouter everythingâ€):\n  - `OPENCLAW_LIVE_GATEWAY_PROVIDERS=\"google,google-antigravity,google-gemini-cli,openai,anthropic,zai,minimax\"` (comma allowlist)\n- Tool + image probes are always on in this live test:\n  - `read` probe + `exec+read` probe (tool stress)\n  - image probe runs when the model advertises image input support\n  - Flow (high level):\n    - Test generates a tiny PNG with â€œCATâ€ + random code (`src/gateway/live-image-probe.ts`)\n    - Sends it via `agent` `attachments: [{ mimeType: \"image/png\", content: \"<base64>\" }]`\n    - Gateway parses attachments into `images[]` (`src/gateway/server-methods/agent.ts` + `src/gateway/chat-attachments.ts`)\n    - Embedded agent forwards a multimodal user message to the model\n    - Assertion: reply contains `cat` + the code (OCR tolerance: minor mistakes allowed)",
    "Tip: to see what you can test on your machine (and the exact `provider/model` ids), run:\n\n```bash\nopenclaw models list\nopenclaw models list --json\n```",
    "## Live: Anthropic setup-token smoke\n\n- Test: `src/agents/anthropic.setup-token.live.test.ts`\n- Goal: verify Claude Code CLI setup-token (or a pasted setup-token profile) can complete an Anthropic prompt.\n- Enable:\n  - `pnpm test:live` (or `OPENCLAW_LIVE_TEST=1` if invoking Vitest directly)\n  - `OPENCLAW_LIVE_SETUP_TOKEN=1`\n- Token sources (pick one):\n  - Profile: `OPENCLAW_LIVE_SETUP_TOKEN_PROFILE=anthropic:setup-token-test`\n  - Raw token: `OPENCLAW_LIVE_SETUP_TOKEN_VALUE=sk-ant-oat01-...`\n- Model override (optional):\n  - `OPENCLAW_LIVE_SETUP_TOKEN_MODEL=anthropic/claude-opus-4-6`\n\nSetup example:\n\n```bash\nopenclaw models auth paste-token --provider anthropic --profile-id anthropic:setup-token-test\nOPENCLAW_LIVE_SETUP_TOKEN=1 OPENCLAW_LIVE_SETUP_TOKEN_PROFILE=anthropic:setup-token-test pnpm test:live src/agents/anthropic.setup-token.live.test.ts\n```",
    "## Live: CLI backend smoke (Claude Code CLI or other local CLIs)",
    "- Test: `src/gateway/gateway-cli-backend.live.test.ts`\n- Goal: validate the Gateway + agent pipeline using a local CLI backend, without touching your default config.\n- Enable:\n  - `pnpm test:live` (or `OPENCLAW_LIVE_TEST=1` if invoking Vitest directly)\n  - `OPENCLAW_LIVE_CLI_BACKEND=1`\n- Defaults:\n  - Model: `claude-cli/claude-sonnet-4-5`\n  - Command: `claude`\n  - Args: `[\"-p\",\"--output-format\",\"json\",\"--dangerously-skip-permissions\"]`\n- Overrides (optional):\n  - `OPENCLAW_LIVE_CLI_BACKEND_MODEL=\"claude-cli/claude-opus-4-6\"`\n  - `OPENCLAW_LIVE_CLI_BACKEND_MODEL=\"codex-cli/gpt-5.3-codex\"`\n  - `OPENCLAW_LIVE_CLI_BACKEND_COMMAND=\"/full/path/to/claude\"`\n  - `OPENCLAW_LIVE_CLI_BACKEND_ARGS='[\"-p\",\"--output-format\",\"json\",\"--permission-mode\",\"bypassPermissions\"]'`\n  - `OPENCLAW_LIVE_CLI_BACKEND_CLEAR_ENV='[\"ANTHROPIC_API_KEY\",\"ANTHROPIC_API_KEY_OLD\"]'`\n  - `OPENCLAW_LIVE_CLI_BACKEND_IMAGE_PROBE=1` to send a real image attachment (paths are injected into the prompt).\n  - `OPENCLAW_LIVE_CLI_BACKEND_IMAGE_ARG=\"--image\"` to pass image file paths as CLI args instead of prompt injection.\n  - `OPENCLAW_LIVE_CLI_BACKEND_IMAGE_MODE=\"repeat\"` (or `\"list\"`) to control how image args are passed when `IMAGE_ARG` is set.\n  - `OPENCLAW_LIVE_CLI_BACKEND_RESUME_PROBE=1` to send a second turn and validate resume flow.\n- `OPENCLAW_LIVE_CLI_BACKEND_DISABLE_MCP_CONFIG=0` to keep Claude Code CLI MCP config enabled (default disables MCP config with a temporary empty file).",
    "Example:\n\n```bash\nOPENCLAW_LIVE_CLI_BACKEND=1 \\\n  OPENCLAW_LIVE_CLI_BACKEND_MODEL=\"claude-cli/claude-sonnet-4-5\" \\\n  pnpm test:live src/gateway/gateway-cli-backend.live.test.ts\n```\n\n### Recommended live recipes\n\nNarrow, explicit allowlists are fastest and least flaky:\n\n- Single model, direct (no gateway):\n  - `OPENCLAW_LIVE_MODELS=\"openai/gpt-5.2\" pnpm test:live src/agents/models.profiles.live.test.ts`\n\n- Single model, gateway smoke:\n  - `OPENCLAW_LIVE_GATEWAY_MODELS=\"openai/gpt-5.2\" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts`\n\n- Tool calling across several providers:\n  - `OPENCLAW_LIVE_GATEWAY_MODELS=\"openai/gpt-5.2,anthropic/claude-opus-4-6,google/gemini-3-flash-preview,zai/glm-4.7,minimax/minimax-m2.1\" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts`",
    "- Google focus (Gemini API key + Antigravity):\n  - Gemini (API key): `OPENCLAW_LIVE_GATEWAY_MODELS=\"google/gemini-3-flash-preview\" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts`\n  - Antigravity (OAuth): `OPENCLAW_LIVE_GATEWAY_MODELS=\"google-antigravity/claude-opus-4-6-thinking,google-antigravity/gemini-3-pro-high\" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts`\n\nNotes:\n\n- `google/...` uses the Gemini API (API key).\n- `google-antigravity/...` uses the Antigravity OAuth bridge (Cloud Code Assist-style agent endpoint).\n- `google-gemini-cli/...` uses the local Gemini CLI on your machine (separate auth + tooling quirks).\n- Gemini API vs Gemini CLI:\n  - API: OpenClaw calls Googleâ€™s hosted Gemini API over HTTP (API key / profile auth); this is what most users mean by â€œGeminiâ€.\n  - CLI: OpenClaw shells out to a local `gemini` binary; it has its own auth and can behave differently (streaming/tool support/version skew).",
    "## Live: model matrix (what we cover)\n\nThere is no fixed â€œCI model listâ€ (live is opt-in), but these are the **recommended** models to cover regularly on a dev machine with keys.\n\n### Modern smoke set (tool calling + image)\n\nThis is the â€œcommon modelsâ€ run we expect to keep working:\n\n- OpenAI (non-Codex): `openai/gpt-5.2` (optional: `openai/gpt-5.1`)\n- OpenAI Codex: `openai-codex/gpt-5.3-codex` (optional: `openai-codex/gpt-5.3-codex-codex`)\n- Anthropic: `anthropic/claude-opus-4-6` (or `anthropic/claude-sonnet-4-5`)\n- Google (Gemini API): `google/gemini-3-pro-preview` and `google/gemini-3-flash-preview` (avoid older Gemini 2.x models)\n- Google (Antigravity): `google-antigravity/claude-opus-4-6-thinking` and `google-antigravity/gemini-3-flash`\n- Z.AI (GLM): `zai/glm-4.7`\n- MiniMax: `minimax/minimax-m2.1`",
    "Run gateway smoke with tools + image:\n`OPENCLAW_LIVE_GATEWAY_MODELS=\"openai/gpt-5.2,openai-codex/gpt-5.3-codex,anthropic/claude-opus-4-6,google/gemini-3-pro-preview,google/gemini-3-flash-preview,google-antigravity/claude-opus-4-6-thinking,google-antigravity/gemini-3-flash,zai/glm-4.7,minimax/minimax-m2.1\" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts`\n\n### Baseline: tool calling (Read + optional Exec)\n\nPick at least one per provider family:\n\n- OpenAI: `openai/gpt-5.2` (or `openai/gpt-5-mini`)\n- Anthropic: `anthropic/claude-opus-4-6` (or `anthropic/claude-sonnet-4-5`)\n- Google: `google/gemini-3-flash-preview` (or `google/gemini-3-pro-preview`)\n- Z.AI (GLM): `zai/glm-4.7`\n- MiniMax: `minimax/minimax-m2.1`\n\nOptional additional coverage (nice to have):",
    "- xAI: `xai/grok-4` (or latest available)\n- Mistral: `mistral/`â€¦ (pick one â€œtoolsâ€ capable model you have enabled)\n- Cerebras: `cerebras/`â€¦ (if you have access)\n- LM Studio: `lmstudio/`â€¦ (local; tool calling depends on API mode)\n\n### Vision: image send (attachment â†’ multimodal message)\n\nInclude at least one image-capable model in `OPENCLAW_LIVE_GATEWAY_MODELS` (Claude/Gemini/OpenAI vision-capable variants, etc.) to exercise the image probe.\n\n### Aggregators / alternate gateways\n\nIf you have keys enabled, we also support testing via:\n\n- OpenRouter: `openrouter/...` (hundreds of models; use `openclaw models scan` to find tool+image capable candidates)\n- OpenCode Zen: `opencode/...` (auth via `OPENCODE_API_KEY` / `OPENCODE_ZEN_API_KEY`)\n\nMore providers you can include in the live matrix (if you have creds/config):",
    "- Built-in: `openai`, `openai-codex`, `anthropic`, `google`, `google-vertex`, `google-antigravity`, `google-gemini-cli`, `zai`, `openrouter`, `opencode`, `xai`, `groq`, `cerebras`, `mistral`, `github-copilot`\n- Via `models.providers` (custom endpoints): `minimax` (cloud/API), plus any OpenAI/Anthropic-compatible proxy (LM Studio, vLLM, LiteLLM, etc.)\n\nTip: donâ€™t try to hardcode â€œall modelsâ€ in docs. The authoritative list is whatever `discoverModels(...)` returns on your machine + whatever keys are available.",
    "## Credentials (never commit)\n\nLive tests discover credentials the same way the CLI does. Practical implications:\n\n- If the CLI works, live tests should find the same keys.\n- If a live test says â€œno credsâ€, debug the same way youâ€™d debug `openclaw models list` / model selection.\n\n- Profile store: `~/.openclaw/credentials/` (preferred; what â€œprofile keysâ€ means in the tests)\n- Config: `~/.openclaw/openclaw.json` (or `OPENCLAW_CONFIG_PATH`)\n\nIf you want to rely on env keys (e.g. exported in your `~/.profile`), run local tests after `source ~/.profile`, or use the Docker runners below (they can mount `~/.profile` into the container).",
    "## Deepgram live (audio transcription)\n\n- Test: `src/media-understanding/providers/deepgram/audio.live.test.ts`\n- Enable: `DEEPGRAM_API_KEY=... DEEPGRAM_LIVE_TEST=1 pnpm test:live src/media-understanding/providers/deepgram/audio.live.test.ts`",
    "## Docker runners (optional â€œworks in Linuxâ€ checks)\n\nThese run `pnpm test:live` inside the repo Docker image, mounting your local config dir and workspace (and sourcing `~/.profile` if mounted):\n\n- Direct models: `pnpm test:docker:live-models` (script: `scripts/test-live-models-docker.sh`)\n- Gateway + dev agent: `pnpm test:docker:live-gateway` (script: `scripts/test-live-gateway-models-docker.sh`)\n- Onboarding wizard (TTY, full scaffolding): `pnpm test:docker:onboard` (script: `scripts/e2e/onboard-docker.sh`)\n- Gateway networking (two containers, WS auth + health): `pnpm test:docker:gateway-network` (script: `scripts/e2e/gateway-network-docker.sh`)\n- Plugins (custom extension load + registry smoke): `pnpm test:docker:plugins` (script: `scripts/e2e/plugins-docker.sh`)\n\nUseful env vars:",
    "- `OPENCLAW_CONFIG_DIR=...` (default: `~/.openclaw`) mounted to `/home/node/.openclaw`\n- `OPENCLAW_WORKSPACE_DIR=...` (default: `~/.openclaw/workspace`) mounted to `/home/node/.openclaw/workspace`\n- `OPENCLAW_PROFILE_FILE=...` (default: `~/.profile`) mounted to `/home/node/.profile` and sourced before running tests\n- `OPENCLAW_LIVE_GATEWAY_MODELS=...` / `OPENCLAW_LIVE_MODELS=...` to narrow the run\n- `OPENCLAW_LIVE_REQUIRE_PROFILE_KEYS=1` to ensure creds come from the profile store (not env)",
    "## Docs sanity\n\nRun docs checks after doc edits: `pnpm docs:list`.",
    "## Offline regression (CI-safe)\n\nThese are â€œreal pipelineâ€ regressions without real providers:\n\n- Gateway tool calling (mock OpenAI, real gateway + agent loop): `src/gateway/gateway.tool-calling.mock-openai.test.ts`\n- Gateway wizard (WS `wizard.start`/`wizard.next`, writes config + auth enforced): `src/gateway/gateway.wizard.e2e.test.ts`",
    "## Agent reliability evals (skills)\n\nWe already have a few CI-safe tests that behave like â€œagent reliability evalsâ€:\n\n- Mock tool-calling through the real gateway + agent loop (`src/gateway/gateway.tool-calling.mock-openai.test.ts`).\n- End-to-end wizard flows that validate session wiring and config effects (`src/gateway/gateway.wizard.e2e.test.ts`).\n\nWhatâ€™s still missing for skills (see [Skills](/tools/skills)):\n\n- **Decisioning:** when skills are listed in the prompt, does the agent pick the right skill (or avoid irrelevant ones)?\n- **Compliance:** does the agent read `SKILL.md` before use and follow required steps/args?\n- **Workflow contracts:** multi-turn scenarios that assert tool order, session history carryover, and sandbox boundaries.\n\nFuture evals should stay deterministic first:",
    "- A scenario runner using mock providers to assert tool calls + order, skill file reads, and session wiring.\n- A small suite of skill-focused scenarios (use vs avoid, gating, prompt injection).\n- Optional live evals (opt-in, env-gated) only after the CI-safe suite is in place.",
    "## Adding regressions (guidance)\n\nWhen you fix a provider/model issue discovered in live:\n\n- Add a CI-safe regression if possible (mock/stub provider, or capture the exact request-shape transformation)\n- If itâ€™s inherently live-only (rate limits, auth policies), keep the live test narrow and opt-in via env vars\n- Prefer targeting the smallest layer that catches the bug:\n  - provider request conversion/replay bug â†’ direct models test\n  - gateway session/history/tool pipeline bug â†’ gateway live smoke or CI-safe gateway mock test",
    "---\nsummary: \"Directive syntax for /think + /verbose and how they affect model reasoning\"\nread_when:\n  - Adjusting thinking or verbose directive parsing or defaults\ntitle: \"Thinking Levels\"\n---\n\n# Thinking Levels (/think directives)",
    "## What it does\n\n- Inline directive in any inbound body: `/t <level>`, `/think:<level>`, or `/thinking <level>`.\n- Levels (aliases): `off | minimal | low | medium | high | xhigh` (GPT-5.2 + Codex models only)\n  - minimal â†’ â€œthinkâ€\n  - low â†’ â€œthink hardâ€\n  - medium â†’ â€œthink harderâ€\n  - high â†’ â€œultrathinkâ€ (max budget)\n  - xhigh â†’ â€œultrathink+â€ (GPT-5.2 + Codex models only)\n  - `x-high`, `x_high`, `extra-high`, `extra high`, and `extra_high` map to `xhigh`.\n  - `highest`, `max` map to `high`.\n- Provider notes:\n  - Z.AI (`zai/*`) only supports binary thinking (`on`/`off`). Any non-`off` level is treated as `on` (mapped to `low`).",
    "## Resolution order\n\n1. Inline directive on the message (applies only to that message).\n2. Session override (set by sending a directive-only message).\n3. Global default (`agents.defaults.thinkingDefault` in config).\n4. Fallback: low for reasoning-capable models; off otherwise.",
    "## Setting a session default\n\n- Send a message that is **only** the directive (whitespace allowed), e.g. `/think:medium` or `/t high`.\n- That sticks for the current session (per-sender by default); cleared by `/think:off` or session idle reset.\n- Confirmation reply is sent (`Thinking level set to high.` / `Thinking disabled.`). If the level is invalid (e.g. `/thinking big`), the command is rejected with a hint and the session state is left unchanged.\n- Send `/think` (or `/think:`) with no argument to see the current thinking level.",
    "## Application by agent\n\n- **Embedded Pi**: the resolved level is passed to the in-process Pi agent runtime.",
    "## Verbose directives (/verbose or /v)",
    "- Levels: `on` (minimal) | `full` | `off` (default).\n- Directive-only message toggles session verbose and replies `Verbose logging enabled.` / `Verbose logging disabled.`; invalid levels return a hint without changing state.\n- `/verbose off` stores an explicit session override; clear it via the Sessions UI by choosing `inherit`.\n- Inline directive affects only that message; session/global defaults apply otherwise.\n- Send `/verbose` (or `/verbose:`) with no argument to see the current verbose level.\n- When verbose is on, agents that emit structured tool results (Pi, other JSON agents) send each tool call back as its own metadata-only message, prefixed with `<emoji> <tool-name>: <arg>` when available (path/command). These tool summaries are sent as soon as each tool starts (separate bubbles), not as streaming deltas.\n- When verbose is `full`, tool outputs are also forwarded after completion (separate bubble, truncated to a safe length). If you toggle `/verbose on|full|off` while a run is in-flight, subsequent tool bubbles honor the new setting.",
    "## Reasoning visibility (/reasoning)\n\n- Levels: `on|off|stream`.\n- Directive-only message toggles whether thinking blocks are shown in replies.\n- When enabled, reasoning is sent as a **separate message** prefixed with `Reasoning:`.\n- `stream` (Telegram only): streams reasoning into the Telegram draft bubble while the reply is generating, then sends the final answer without reasoning.\n- Alias: `/reason`.\n- Send `/reasoning` (or `/reasoning:`) with no argument to see the current reasoning level.",
    "## Related\n\n- Elevated mode docs live in [Elevated mode](/tools/elevated).",
    "## Heartbeats\n\n- Heartbeat probe body is the configured heartbeat prompt (default: `Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`). Inline directives in a heartbeat message apply as usual (but avoid changing session defaults from heartbeats).\n- Heartbeat delivery defaults to the final payload only. To also send the separate `Reasoning:` message (when available), set `agents.defaults.heartbeat.includeReasoning: true` or per-agent `agents.list[].heartbeat.includeReasoning: true`.",
    "## Web chat UI\n\n- The web chat thinking selector mirrors the session's stored level from the inbound session store/config when the page loads.\n- Picking another level applies only to the next message (`thinkingOnce`); after sending, the selector snaps back to the stored session level.\n- To change the session default, send a `/think:<level>` directive (as before); the selector will reflect it after the next reload.",
    "---\nsummary: \"Timezone handling for agents, envelopes, and prompts\"\nread_when:\n  - You need to understand how timestamps are normalized for the model\n  - Configuring the user timezone for system prompts\ntitle: \"Timezones\"\n---\n\n# Timezones\n\nOpenClaw standardizes timestamps so the model sees a **single reference time**.",
    "## Message envelopes (local by default)\n\nInbound messages are wrapped in an envelope like:\n\n```\n[Provider ... 2026-01-05 16:26 PST] message text\n```\n\nThe timestamp in the envelope is **host-local by default**, with minutes precision.\n\nYou can override this with:\n\n```json5\n{\n  agents: {\n    defaults: {\n      envelopeTimezone: \"local\", // \"utc\" | \"local\" | \"user\" | IANA timezone\n      envelopeTimestamp: \"on\", // \"on\" | \"off\"\n      envelopeElapsed: \"on\", // \"on\" | \"off\"\n    },\n  },\n}\n```\n\n- `envelopeTimezone: \"utc\"` uses UTC.\n- `envelopeTimezone: \"user\"` uses `agents.defaults.userTimezone` (falls back to host timezone).\n- Use an explicit IANA timezone (e.g., `\"Europe/Vienna\"`) for a fixed offset.\n- `envelopeTimestamp: \"off\"` removes absolute timestamps from envelope headers.\n- `envelopeElapsed: \"off\"` removes elapsed time suffixes (the `+2m` style).\n\n### Examples\n\n**Local (default):**\n\n```\n[Signal Alice +1555 2026-01-18 00:19 PST] hello\n```\n\n**Fixed timezone:**",
    "```\n[Signal Alice +1555 2026-01-18 06:19 GMT+1] hello\n```\n\n**Elapsed time:**\n\n```\n[Signal Alice +1555 +2m 2026-01-18T05:19Z] follow-up\n```",
    "## Tool payloads (raw provider data + normalized fields)\n\nTool calls (`channels.discord.readMessages`, `channels.slack.readMessages`, etc.) return **raw provider timestamps**.\nWe also attach normalized fields for consistency:\n\n- `timestampMs` (UTC epoch milliseconds)\n- `timestampUtc` (ISO 8601 UTC string)\n\nRaw provider fields are preserved.",
    "## User timezone for the system prompt\n\nSet `agents.defaults.userTimezone` to tell the model the user's local time zone. If it is\nunset, OpenClaw resolves the **host timezone at runtime** (no config write).\n\n```json5\n{\n  agents: { defaults: { userTimezone: \"America/Chicago\" } },\n}\n```\n\nThe system prompt includes:\n\n- `Current Date & Time` section with local time and timezone\n- `Time format: 12-hour` or `24-hour`\n\nYou can control the prompt format with `agents.defaults.timeFormat` (`auto` | `12` | `24`).\n\nSee [Date & Time](/date-time) for the full behavior and examples.",
    "---\nsummary: \"Tlon/Urbit support status, capabilities, and configuration\"\nread_when:\n  - Working on Tlon/Urbit channel features\ntitle: \"Tlon\"\n---\n\n# Tlon (plugin)\n\nTlon is a decentralized messenger built on Urbit. OpenClaw connects to your Urbit ship and can\nrespond to DMs and group chat messages. Group replies require an @ mention by default and can\nbe further restricted via allowlists.\n\nStatus: supported via plugin. DMs, group mentions, thread replies, and text-only media fallback\n(URL appended to caption). Reactions, polls, and native media uploads are not supported.",
    "## Plugin required\n\nTlon ships as a plugin and is not bundled with the core install.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/tlon\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/tlon\n```\n\nDetails: [Plugins](/plugin)",
    "## Setup\n\n1. Install the Tlon plugin.\n2. Gather your ship URL and login code.\n3. Configure `channels.tlon`.\n4. Restart the gateway.\n5. DM the bot or mention it in a group channel.\n\nMinimal config (single account):\n\n```json5\n{\n  channels: {\n    tlon: {\n      enabled: true,\n      ship: \"~sampel-palnet\",\n      url: \"https://your-ship-host\",\n      code: \"lidlut-tabwed-pillex-ridrup\",\n    },\n  },\n}\n```",
    "## Group channels\n\nAuto-discovery is enabled by default. You can also pin channels manually:\n\n```json5\n{\n  channels: {\n    tlon: {\n      groupChannels: [\"chat/~host-ship/general\", \"chat/~host-ship/support\"],\n    },\n  },\n}\n```\n\nDisable auto-discovery:\n\n```json5\n{\n  channels: {\n    tlon: {\n      autoDiscoverChannels: false,\n    },\n  },\n}\n```",
    "## Access control\n\nDM allowlist (empty = allow all):\n\n```json5\n{\n  channels: {\n    tlon: {\n      dmAllowlist: [\"~zod\", \"~nec\"],\n    },\n  },\n}\n```\n\nGroup authorization (restricted by default):\n\n```json5\n{\n  channels: {\n    tlon: {\n      defaultAuthorizedShips: [\"~zod\"],\n      authorization: {\n        channelRules: {\n          \"chat/~host-ship/general\": {\n            mode: \"restricted\",\n            allowedShips: [\"~zod\", \"~nec\"],\n          },\n          \"chat/~host-ship/announcements\": {\n            mode: \"open\",\n          },\n        },\n      },\n    },\n  },\n}\n```",
    "## Delivery targets (CLI/cron)\n\nUse these with `openclaw message send` or cron delivery:\n\n- DM: `~sampel-palnet` or `dm/~sampel-palnet`\n- Group: `chat/~host-ship/channel` or `group:~host-ship/channel`",
    "## Notes\n\n- Group replies require a mention (e.g. `~your-bot-ship`) to respond.\n- Thread replies: if the inbound message is in a thread, OpenClaw replies in-thread.\n- Media: `sendMedia` falls back to text + URL (no native upload).",
    "---\nread_when:\n  - è§£é‡Š token ä½¿ç”¨é‡ã€æˆæœ¬æˆ–ä¸Šä¸‹æ–‡çª—å£æ—¶\n  - è°ƒè¯•ä¸Šä¸‹æ–‡å¢é•¿æˆ–å‹ç¼©è¡Œä¸ºæ—¶\nsummary: OpenClaw å¦‚ä½•æ„å»ºæç¤ºä¸Šä¸‹æ–‡å¹¶æŠ¥å‘Š token ä½¿ç”¨é‡ + æˆæœ¬\ntitle: Token ä½¿ç”¨ä¸æˆæœ¬\nx-i18n:\n  generated_at: \"2026-02-03T07:54:57Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: aee417119851db9e36890487517ed9602d214849e412127e7f534ebec5c9e105\n  source_path: token-use.md\n  workflow: 15\n---\n\n# Token ä½¿ç”¨ä¸æˆæœ¬\n\nOpenClaw è·Ÿè¸ªçš„æ˜¯ **token**ï¼Œè€Œä¸æ˜¯å­—ç¬¦ã€‚Token æ˜¯æ¨¡å‹ç‰¹å®šçš„ï¼Œä½†å¤§å¤šæ•°\nOpenAI é£æ ¼çš„æ¨¡å‹å¯¹äºè‹±æ–‡æ–‡æœ¬å¹³å‡çº¦ 4 ä¸ªå­—ç¬¦ä¸ºä¸€ä¸ª tokenã€‚",
    "## ç³»ç»Ÿæç¤ºè¯å¦‚ä½•æ„å»º\n\nOpenClaw åœ¨æ¯æ¬¡è¿è¡Œæ—¶ç»„è£…è‡ªå·±çš„ç³»ç»Ÿæç¤ºè¯ã€‚å®ƒåŒ…æ‹¬ï¼š\n\n- å·¥å…·åˆ—è¡¨ + ç®€çŸ­æè¿°\n- Skills åˆ—è¡¨ï¼ˆä»…å…ƒæ•°æ®ï¼›æŒ‡ä»¤é€šè¿‡ `read` æŒ‰éœ€åŠ è½½ï¼‰\n- è‡ªæˆ‘æ›´æ–°æŒ‡ä»¤\n- å·¥ä½œåŒº + å¼•å¯¼æ–‡ä»¶ï¼ˆ`AGENTS.md`ã€`SOUL.md`ã€`TOOLS.md`ã€`IDENTITY.md`ã€`USER.md`ã€`HEARTBEAT.md`ã€`BOOTSTRAP.md`ï¼ˆæ–°å»ºæ—¶ï¼‰ï¼‰ã€‚å¤§æ–‡ä»¶ä¼šè¢« `agents.defaults.bootstrapMaxChars`ï¼ˆé»˜è®¤ï¼š20000ï¼‰æˆªæ–­ã€‚\n- æ—¶é—´ï¼ˆUTC + ç”¨æˆ·æ—¶åŒºï¼‰\n- å›å¤æ ‡ç­¾ + å¿ƒè·³è¡Œä¸º\n- è¿è¡Œæ—¶å…ƒæ•°æ®ï¼ˆä¸»æœº/æ“ä½œç³»ç»Ÿ/æ¨¡å‹/æ€è€ƒï¼‰\n\nå®Œæ•´åˆ†è§£å‚è§[ç³»ç»Ÿæç¤ºè¯](/concepts/system-prompt)ã€‚",
    "## ä»€ä¹ˆç®—å…¥ä¸Šä¸‹æ–‡çª—å£\n\næ¨¡å‹æ¥æ”¶çš„æ‰€æœ‰å†…å®¹éƒ½è®¡å…¥ä¸Šä¸‹æ–‡é™åˆ¶ï¼š\n\n- ç³»ç»Ÿæç¤ºè¯ï¼ˆä¸Šé¢åˆ—å‡ºçš„æ‰€æœ‰éƒ¨åˆ†ï¼‰\n- å¯¹è¯å†å²ï¼ˆç”¨æˆ· + åŠ©æ‰‹æ¶ˆæ¯ï¼‰\n- å·¥å…·è°ƒç”¨å’Œå·¥å…·ç»“æœ\n- é™„ä»¶/è½¬å½•ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€æ–‡ä»¶ï¼‰\n- å‹ç¼©æ‘˜è¦å’Œä¿®å‰ªäº§ç‰©\n- æä¾›å•†åŒ…è£…æˆ–å®‰å…¨å¤´ï¼ˆä¸å¯è§ï¼Œä½†ä»è®¡æ•°ï¼‰\n\næœ‰å…³å®é™…åˆ†è§£ï¼ˆæ¯ä¸ªæ³¨å…¥æ–‡ä»¶ã€å·¥å…·ã€Skills å’Œç³»ç»Ÿæç¤ºè¯å¤§å°ï¼‰ï¼Œä½¿ç”¨ `/context list` æˆ– `/context detail`ã€‚å‚è§[ä¸Šä¸‹æ–‡](/concepts/context)ã€‚",
    "## å¦‚ä½•æŸ¥çœ‹å½“å‰ token ä½¿ç”¨é‡\n\nåœ¨èŠå¤©ä¸­ä½¿ç”¨ï¼š\n\n- `/status` â†’ å¸¦æœ‰ä¼šè¯æ¨¡å‹ã€ä¸Šä¸‹æ–‡ä½¿ç”¨é‡ã€\n  æœ€åå“åº”è¾“å…¥/è¾“å‡º token å’Œ**é¢„ä¼°æˆæœ¬**ï¼ˆä»… API å¯†é’¥ï¼‰çš„ **emoji ä¸°å¯Œçš„çŠ¶æ€å¡ç‰‡**ã€‚\n- `/usage off|tokens|full` â†’ åœ¨æ¯ä¸ªå›å¤åé™„åŠ **æ¯å“åº”ä½¿ç”¨é‡é¡µè„š**ã€‚\n  - æ¯ä¼šè¯æŒä¹…åŒ–ï¼ˆå­˜å‚¨ä¸º `responseUsage`ï¼‰ã€‚\n  - OAuth è®¤è¯**éšè—æˆæœ¬**ï¼ˆä»… tokenï¼‰ã€‚\n- `/usage cost` â†’ ä» OpenClaw ä¼šè¯æ—¥å¿—æ˜¾ç¤ºæœ¬åœ°æˆæœ¬æ‘˜è¦ã€‚\n\nå…¶ä»–ç•Œé¢ï¼š\n\n- **TUI/Web TUIï¼š** æ”¯æŒ `/status` + `/usage`ã€‚\n- **CLIï¼š** `openclaw status --usage` å’Œ `openclaw channels list` æ˜¾ç¤º\n  æä¾›å•†é…é¢çª—å£ï¼ˆä¸æ˜¯æ¯å“åº”æˆæœ¬ï¼‰ã€‚",
    "## æˆæœ¬ä¼°ç®—ï¼ˆæ˜¾ç¤ºæ—¶ï¼‰\n\næˆæœ¬ä»ä½ çš„æ¨¡å‹å®šä»·é…ç½®ä¼°ç®—ï¼š\n\n```\nmodels.providers.<provider>.models[].cost\n```\n\nè¿™äº›æ˜¯ `input`ã€`output`ã€`cacheRead` å’Œ\n`cacheWrite` çš„**æ¯ 1M token ç¾å…ƒ**ã€‚å¦‚æœç¼ºå°‘å®šä»·ï¼ŒOpenClaw ä»…æ˜¾ç¤º tokenã€‚OAuth ä»¤ç‰Œ\næ°¸è¿œä¸æ˜¾ç¤ºç¾å…ƒæˆæœ¬ã€‚",
    "## ç¼“å­˜ TTL å’Œä¿®å‰ªå½±å“\n\næä¾›å•†æç¤ºç¼“å­˜ä»…åœ¨ç¼“å­˜ TTL çª—å£å†…é€‚ç”¨ã€‚OpenClaw å¯ä»¥\né€‰æ‹©æ€§åœ°è¿è¡Œ**ç¼“å­˜ TTL ä¿®å‰ª**ï¼šå®ƒåœ¨ç¼“å­˜ TTL\nè¿‡æœŸåä¿®å‰ªä¼šè¯ï¼Œç„¶åé‡ç½®ç¼“å­˜çª—å£ï¼Œä»¥ä¾¿åç»­è¯·æ±‚å¯ä»¥é‡ç”¨\næ–°ç¼“å­˜çš„ä¸Šä¸‹æ–‡ï¼Œè€Œä¸æ˜¯é‡æ–°ç¼“å­˜å®Œæ•´å†å²ã€‚è¿™åœ¨ä¼šè¯ç©ºé—²è¶…è¿‡ TTL æ—¶\nå¯ä»¥é™ä½ç¼“å­˜å†™å…¥æˆæœ¬ã€‚\n\nåœ¨ [Gateway ç½‘å…³é…ç½®](/gateway/configuration) ä¸­é…ç½®å®ƒï¼Œå¹¶åœ¨\n[ä¼šè¯ä¿®å‰ª](/concepts/session-pruning) ä¸­æŸ¥çœ‹è¡Œä¸ºè¯¦æƒ…ã€‚\n\nå¿ƒè·³å¯ä»¥åœ¨ç©ºé—²é—´éš™ä¸­ä¿æŒç¼“å­˜**çƒ­**ã€‚å¦‚æœä½ çš„æ¨¡å‹ç¼“å­˜ TTL\næ˜¯ `1h`ï¼Œå°†å¿ƒè·³é—´éš”è®¾ç½®ä¸ºç•¥ä½äºæ­¤ï¼ˆä¾‹å¦‚ `55m`ï¼‰å¯ä»¥é¿å…\né‡æ–°ç¼“å­˜å®Œæ•´æç¤ºï¼Œä»è€Œé™ä½ç¼“å­˜å†™å…¥æˆæœ¬ã€‚\n\næœ‰å…³ Anthropic API å®šä»·ï¼Œç¼“å­˜è¯»å–æ¯”è¾“å…¥\ntoken ä¾¿å®œå¾—å¤šï¼Œè€Œç¼“å­˜å†™å…¥ä»¥æ›´é«˜çš„å€ç‡è®¡è´¹ã€‚å‚è§ Anthropic çš„\næç¤ºç¼“å­˜å®šä»·äº†è§£æœ€æ–°è´¹ç‡å’Œ TTL å€ç‡ï¼š\nhttps://docs.anthropic.com/docs/build-with-claude/prompt-caching\n\n### ç¤ºä¾‹ï¼šç”¨å¿ƒè·³ä¿æŒ 1 å°æ—¶ç¼“å­˜çƒ­\n\n```yaml\nagents:\n  defaults:\n    model:\n      primary: \"anthropic/claude-opus-4-5\"\n    models:\n      \"anthropic/claude-opus-4-5\":\n        params:\n          cacheRetention: \"long\"\n    heartbeat:\n      every: \"55m\"\n```",
    "## å‡å°‘ token å‹åŠ›çš„æŠ€å·§\n\n- ä½¿ç”¨ `/compact` æ¥æ€»ç»“é•¿ä¼šè¯ã€‚\n- åœ¨ä½ çš„å·¥ä½œæµä¸­ä¿®å‰ªå¤§çš„å·¥å…·è¾“å‡ºã€‚\n- ä¿æŒ skill æè¿°ç®€çŸ­ï¼ˆskill åˆ—è¡¨ä¼šæ³¨å…¥åˆ°æç¤ºä¸­ï¼‰ã€‚\n- å¯¹äºå†—é•¿çš„æ¢ç´¢æ€§å·¥ä½œï¼Œä¼˜å…ˆä½¿ç”¨è¾ƒå°çš„æ¨¡å‹ã€‚\n\nç²¾ç¡®çš„ skill åˆ—è¡¨å¼€é”€å…¬å¼å‚è§ [Skills](/tools/skills)ã€‚",
    "---\nread_when:\n  - ä¸è¿è¡Œå®Œæ•´æ™ºèƒ½ä½“å›åˆç›´æ¥è°ƒç”¨å·¥å…·\n  - æ„å»ºéœ€è¦å·¥å…·ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œçš„è‡ªåŠ¨åŒ–\nsummary: é€šè¿‡ Gateway ç½‘å…³ HTTP ç«¯ç‚¹ç›´æ¥è°ƒç”¨å•ä¸ªå·¥å…·\ntitle: å·¥å…·è°ƒç”¨ API\nx-i18n:\n  generated_at: \"2026-02-03T07:48:58Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 17ccfbe0b0d9bb61cc46fb21f5c09b106ba6e8e4c2c14135a11ca8d5b77b8a88\n  source_path: gateway/tools-invoke-http-api.md\n  workflow: 15\n---\n\n# å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰\n\nOpenClaw çš„ Gateway ç½‘å…³æš´éœ²äº†ä¸€ä¸ªç®€å•çš„ HTTP ç«¯ç‚¹ç”¨äºç›´æ¥è°ƒç”¨å•ä¸ªå·¥å…·ã€‚å®ƒå§‹ç»ˆå¯ç”¨ï¼Œä½†å— Gateway ç½‘å…³è®¤è¯å’Œå·¥å…·ç­–ç•¥é™åˆ¶ã€‚\n\n- `POST /tools/invoke`\n- ä¸ Gateway ç½‘å…³ç›¸åŒçš„ç«¯å£ï¼ˆWS + HTTP å¤šè·¯å¤ç”¨ï¼‰ï¼š`http://<gateway-host>:<port>/tools/invoke`\n\né»˜è®¤æœ€å¤§è´Ÿè½½å¤§å°ä¸º 2 MBã€‚",
    "## è®¤è¯\n\nä½¿ç”¨ Gateway ç½‘å…³è®¤è¯é…ç½®ã€‚å‘é€ bearer ä»¤ç‰Œï¼š\n\n- `Authorization: Bearer <token>`\n\nè¯´æ˜ï¼š\n\n- å½“ `gateway.auth.mode=\"token\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚\n- å½“ `gateway.auth.mode=\"password\"` æ—¶ï¼Œä½¿ç”¨ `gateway.auth.password`ï¼ˆæˆ– `OPENCLAW_GATEWAY_PASSWORD`ï¼‰ã€‚",
    "## è¯·æ±‚ä½“\n\n```json\n{\n  \"tool\": \"sessions_list\",\n  \"action\": \"json\",\n  \"args\": {},\n  \"sessionKey\": \"main\",\n  \"dryRun\": false\n}\n```\n\nå­—æ®µï¼š\n\n- `tool`ï¼ˆstringï¼Œå¿…éœ€ï¼‰ï¼šè¦è°ƒç”¨çš„å·¥å…·åç§°ã€‚\n- `action`ï¼ˆstringï¼Œå¯é€‰ï¼‰ï¼šå¦‚æœå·¥å…· schema æ”¯æŒ `action` ä¸” args è´Ÿè½½çœç•¥äº†å®ƒï¼Œåˆ™æ˜ å°„åˆ° argsã€‚\n- `args`ï¼ˆobjectï¼Œå¯é€‰ï¼‰ï¼šå·¥å…·ç‰¹å®šçš„å‚æ•°ã€‚\n- `sessionKey`ï¼ˆstringï¼Œå¯é€‰ï¼‰ï¼šç›®æ ‡ä¼šè¯é”®ã€‚å¦‚æœçœç•¥æˆ–ä¸º `\"main\"`ï¼ŒGateway ç½‘å…³ä½¿ç”¨é…ç½®çš„ä¸»ä¼šè¯é”®ï¼ˆéµå¾ª `session.mainKey` å’Œé»˜è®¤æ™ºèƒ½ä½“ï¼Œæˆ–åœ¨å…¨å±€èŒƒå›´ä¸­ä½¿ç”¨ `global`ï¼‰ã€‚\n- `dryRun`ï¼ˆbooleanï¼Œå¯é€‰ï¼‰ï¼šä¿ç•™ä¾›å°†æ¥ä½¿ç”¨ï¼›å½“å‰å¿½ç•¥ã€‚",
    "## ç­–ç•¥ + è·¯ç”±è¡Œä¸º\n\nå·¥å…·å¯ç”¨æ€§é€šè¿‡ Gateway ç½‘å…³æ™ºèƒ½ä½“ä½¿ç”¨çš„ç›¸åŒç­–ç•¥é“¾è¿‡æ»¤ï¼š\n\n- `tools.profile` / `tools.byProvider.profile`\n- `tools.allow` / `tools.byProvider.allow`\n- `agents.<id>.tools.allow` / `agents.<id>.tools.byProvider.allow`\n- ç¾¤ç»„ç­–ç•¥ï¼ˆå¦‚æœä¼šè¯é”®æ˜ å°„åˆ°ç¾¤ç»„æˆ–æ¸ é“ï¼‰\n- å­æ™ºèƒ½ä½“ç­–ç•¥ï¼ˆä½¿ç”¨å­æ™ºèƒ½ä½“ä¼šè¯é”®è°ƒç”¨æ—¶ï¼‰\n\nå¦‚æœå·¥å…·ä¸è¢«ç­–ç•¥å…è®¸ï¼Œç«¯ç‚¹è¿”å› **404**ã€‚\n\nä¸ºå¸®åŠ©ç¾¤ç»„ç­–ç•¥è§£æä¸Šä¸‹æ–‡ï¼Œä½ å¯ä»¥é€‰æ‹©è®¾ç½®ï¼š\n\n- `x-openclaw-message-channel: <channel>`ï¼ˆç¤ºä¾‹ï¼š`slack`ã€`telegram`ï¼‰\n- `x-openclaw-account-id: <accountId>`ï¼ˆå½“å­˜åœ¨å¤šä¸ªè´¦æˆ·æ—¶ï¼‰",
    "## å“åº”\n\n- `200` â†’ `{ ok: true, result }`\n- `400` â†’ `{ ok: false, error: { type, message } }`ï¼ˆæ— æ•ˆè¯·æ±‚æˆ–å·¥å…·é”™è¯¯ï¼‰\n- `401` â†’ æœªæˆæƒ\n- `404` â†’ å·¥å…·ä¸å¯ç”¨ï¼ˆæœªæ‰¾åˆ°æˆ–æœªåœ¨å…è®¸åˆ—è¡¨ä¸­ï¼‰\n- `405` â†’ æ–¹æ³•ä¸å…è®¸",
    "## ç¤ºä¾‹\n\n```bash\ncurl -sS http://127.0.0.1:18789/tools/invoke \\\n  -H 'Authorization: Bearer YOUR_TOKEN' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"tool\": \"sessions_list\",\n    \"action\": \"json\",\n    \"args\": {}\n  }'\n```",
    "---\nread_when:\n  - ä½¿ç”¨å¼€å‘ gateway æ¨¡æ¿\n  - æ›´æ–°é»˜è®¤å¼€å‘æ™ºèƒ½ä½“èº«ä»½\nsummary: å¼€å‘æ™ºèƒ½ä½“å·¥å…·å¤‡æ³¨ï¼ˆC-3POï¼‰\nx-i18n:\n  generated_at: \"2026-02-01T21:37:41Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 3d41097967c9811637855664f978c02107a28b6d811ba49941a8f96f0720cd45\n  source_path: reference/templates/TOOLS.dev.md\n  workflow: 15\n---\n\n# TOOLS.md - ç”¨æˆ·å·¥å…·å¤‡æ³¨ï¼ˆå¯ç¼–è¾‘ï¼‰\n\næ­¤æ–‡ä»¶ç”¨äºè®°å½•*ä½ *å…³äºå¤–éƒ¨å·¥å…·å’Œçº¦å®šçš„å¤‡æ³¨ã€‚\nå®ƒä¸å®šä¹‰å“ªäº›å·¥å…·å¯ç”¨ï¼›OpenClaw åœ¨å†…éƒ¨æä¾›å†…ç½®å·¥å…·ã€‚",
    "## ç¤ºä¾‹\n\n### imsg\n\n- å‘é€ iMessage/SMSï¼šæè¿°æ”¶ä»¶äºº/å†…å®¹ï¼Œå‘é€å‰ç¡®è®¤ã€‚\n- å°½é‡å‘é€ç®€çŸ­æ¶ˆæ¯ï¼›é¿å…å‘é€å¯†é’¥ã€‚\n\n### sag\n\n- æ–‡å­—è½¬è¯­éŸ³ï¼šæŒ‡å®šè¯­éŸ³ã€ç›®æ ‡æ‰¬å£°å™¨/æˆ¿é—´ï¼Œä»¥åŠæ˜¯å¦ä½¿ç”¨æµå¼ä¼ è¾“ã€‚\n\næ·»åŠ ä»»ä½•ä½ å¸Œæœ›åŠ©æ‰‹äº†è§£çš„å…³äºæœ¬åœ°å·¥å…·é“¾çš„å†…å®¹ã€‚",
    "---\nread_when:\n  - æ‰‹åŠ¨å¼•å¯¼å·¥ä½œåŒº\nsummary: TOOLS.md çš„å·¥ä½œåŒºæ¨¡æ¿\nx-i18n:\n  generated_at: \"2026-02-01T21:38:05Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 3ed08cd537620749c40ab363f5db40a058d8ddab4d0192a1f071edbfcf37a739\n  source_path: reference/templates/TOOLS.md\n  workflow: 15\n---\n\n# TOOLS.md - æœ¬åœ°å¤‡æ³¨\n\nSkills å®šä¹‰äº†å·¥å…·çš„*å·¥ä½œæ–¹å¼*ã€‚æ­¤æ–‡ä»¶ç”¨äºè®°å½•*ä½ çš„*å…·ä½“ä¿¡æ¯â€”â€”é‚£äº›ä½ çš„ç¯å¢ƒä¸­ç‹¬æœ‰çš„å†…å®¹ã€‚",
    "## åº”è¯¥æ”¾ä»€ä¹ˆ\n\nä¾‹å¦‚ï¼š\n\n- æ‘„åƒå¤´åç§°å’Œä½ç½®\n- SSH ä¸»æœºå’Œåˆ«å\n- TTS é¦–é€‰è¯­éŸ³\n- éŸ³ç®±/æˆ¿é—´åç§°\n- è®¾å¤‡æ˜µç§°\n- ä»»ä½•ä¸ç¯å¢ƒç›¸å…³çš„å†…å®¹",
    "## ç¤ºä¾‹\n\n```markdown\n### Cameras\n\n- living-room â†’ ä¸»åŒºåŸŸï¼Œ180Â° å¹¿è§’\n- front-door â†’ å…¥å£ï¼Œè¿åŠ¨è§¦å‘\n\n### SSH\n\n- home-server â†’ 192.168.1.100, user: admin\n\n### TTS\n\n- Preferred voice: \"Nova\"ï¼ˆæ¸©æš–ï¼Œç•¥å¸¦è‹±å¼å£éŸ³ï¼‰\n- Default speaker: Kitchen HomePod\n```",
    "## ä¸ºä»€ä¹ˆè¦åˆ†å¼€ï¼Ÿ\n\nSkills æ˜¯å…±äº«çš„ã€‚ä½ çš„é…ç½®æ˜¯ä½ è‡ªå·±çš„ã€‚å°†å®ƒä»¬åˆ†å¼€æ„å‘³ç€ä½ å¯ä»¥æ›´æ–° Skills è€Œä¸ä¸¢å¤±ä½ çš„å¤‡æ³¨ï¼Œä¹Ÿå¯ä»¥åˆ†äº« Skills è€Œä¸æ³„éœ²ä½ çš„åŸºç¡€è®¾æ–½ä¿¡æ¯ã€‚\n\n---\n\næ·»åŠ ä»»ä½•å¯¹ä½ æœ‰å¸®åŠ©çš„å†…å®¹ã€‚è¿™æ˜¯ä½ çš„é€ŸæŸ¥è¡¨ã€‚",
    "---\nread_when:\n  - ä½ æ­£åœ¨è°ƒè¯•ä¸å¯¹è¯è®°å½•ç»“æ„ç›¸å…³çš„æä¾›å•†è¯·æ±‚æ‹’ç»é—®é¢˜\n  - ä½ æ­£åœ¨ä¿®æ”¹å¯¹è¯è®°å½•æ¸…ç†æˆ–å·¥å…·è°ƒç”¨ä¿®å¤é€»è¾‘\n  - ä½ æ­£åœ¨è°ƒæŸ¥è·¨æä¾›å•†çš„å·¥å…·è°ƒç”¨ id ä¸åŒ¹é…é—®é¢˜\nsummary: å‚è€ƒï¼šæä¾›å•†ç‰¹å®šçš„å¯¹è¯è®°å½•æ¸…ç†ä¸ä¿®å¤è§„åˆ™\ntitle: å¯¹è¯è®°å½•æ¸…ç†\nx-i18n:\n  generated_at: \"2026-02-01T21:38:16Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 6ce62fad0b07c4d8575c9cdb1c8c2663695ef2d4221cf4a0964fce03461523af\n  source_path: reference/transcript-hygiene.md\n  workflow: 15\n---\n\n# å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰\n\næœ¬æ–‡æ¡£æè¿°äº†åœ¨è¿è¡Œå‰ï¼ˆæ„å»ºæ¨¡å‹ä¸Šä¸‹æ–‡æ—¶ï¼‰åº”ç”¨äºå¯¹è¯è®°å½•çš„**æä¾›å•†ç‰¹å®šä¿®æ­£**ã€‚è¿™äº›æ˜¯**å†…å­˜ä¸­**çš„è°ƒæ•´ï¼Œç”¨äºæ»¡è¶³æä¾›å•†çš„ä¸¥æ ¼è¦æ±‚ã€‚å®ƒä»¬**ä¸ä¼š**é‡å†™ç£ç›˜ä¸Šå­˜å‚¨çš„ JSONL å¯¹è¯è®°å½•ã€‚\n\næ¶µç›–èŒƒå›´åŒ…æ‹¬ï¼š\n\n- å·¥å…·è°ƒç”¨ id æ¸…ç†\n- å·¥å…·ç»“æœé…å¯¹ä¿®å¤\n- è½®æ¬¡éªŒè¯ / æ’åº\n- æ€è€ƒç­¾åæ¸…ç†\n- å›¾ç‰‡è´Ÿè½½æ¸…ç†\n\nå¦‚éœ€äº†è§£å¯¹è¯è®°å½•å­˜å‚¨ç»†èŠ‚ï¼Œè¯·å‚é˜…ï¼š\n\n- [/reference/session-management-compaction](/reference/session-management-compaction)\n\n---",
    "## è¿è¡Œä½ç½®\n\næ‰€æœ‰å¯¹è¯è®°å½•æ¸…ç†é€»è¾‘é›†ä¸­åœ¨åµŒå…¥å¼è¿è¡Œå™¨ä¸­ï¼š\n\n- ç­–ç•¥é€‰æ‹©ï¼š`src/agents/transcript-policy.ts`\n- æ¸…ç†/ä¿®å¤åº”ç”¨ï¼š`src/agents/pi-embedded-runner/google.ts` ä¸­çš„ `sanitizeSessionHistory`\n\nç­–ç•¥æ ¹æ® `provider`ã€`modelApi` å’Œ `modelId` æ¥å†³å®šåº”ç”¨å“ªäº›è§„åˆ™ã€‚\n\n---",
    "## å…¨å±€è§„åˆ™ï¼šå›¾ç‰‡æ¸…ç†\n\nå›¾ç‰‡è´Ÿè½½å§‹ç»ˆä¼šè¢«æ¸…ç†ï¼Œä»¥é˜²æ­¢å› å¤§å°é™åˆ¶å¯¼è‡´æä¾›å•†ç«¯æ‹’ç»ï¼ˆå¯¹è¶…å¤§ base64 å›¾ç‰‡è¿›è¡Œç¼©æ”¾/é‡æ–°å‹ç¼©ï¼‰ã€‚\n\nå®ç°ï¼š\n\n- `src/agents/pi-embedded-helpers/images.ts` ä¸­çš„ `sanitizeSessionMessagesImages`\n- `src/agents/tool-images.ts` ä¸­çš„ `sanitizeContentBlocksImages`\n\n---",
    "## æä¾›å•†çŸ©é˜µï¼ˆå½“å‰è¡Œä¸ºï¼‰\n\n**OpenAI / OpenAI Codex**\n\n- ä»…å›¾ç‰‡æ¸…ç†ã€‚\n- åˆ‡æ¢åˆ° OpenAI Responses/Codex æ¨¡å‹æ—¶ï¼Œä¸¢å¼ƒå­¤ç«‹çš„æ¨ç†ç­¾åï¼ˆæ²¡æœ‰åç»­å†…å®¹å—çš„ç‹¬ç«‹æ¨ç†é¡¹ï¼‰ã€‚\n- ä¸è¿›è¡Œå·¥å…·è°ƒç”¨ id æ¸…ç†ã€‚\n- ä¸è¿›è¡Œå·¥å…·ç»“æœé…å¯¹ä¿®å¤ã€‚\n- ä¸è¿›è¡Œè½®æ¬¡éªŒè¯æˆ–é‡æ–°æ’åºã€‚\n- ä¸ç”Ÿæˆåˆæˆå·¥å…·ç»“æœã€‚\n- ä¸å‰¥ç¦»æ€è€ƒç­¾åã€‚\n\n**Google (Generative AI / Gemini CLI / Antigravity)**\n\n- å·¥å…·è°ƒç”¨ id æ¸…ç†ï¼šä¸¥æ ¼å­—æ¯æ•°å­—ã€‚\n- å·¥å…·ç»“æœé…å¯¹ä¿®å¤å’Œåˆæˆå·¥å…·ç»“æœã€‚\n- è½®æ¬¡éªŒè¯ï¼ˆGemini é£æ ¼çš„è½®æ¬¡äº¤æ›¿ï¼‰ã€‚\n- Google è½®æ¬¡æ’åºä¿®æ­£ï¼ˆå¦‚æœå†å²è®°å½•ä»¥åŠ©æ‰‹å¼€å¤´ï¼Œåˆ™åœ¨å‰é¢æ·»åŠ ä¸€ä¸ªå°å‹ç”¨æˆ·å¼•å¯¼æ¶ˆæ¯ï¼‰ã€‚\n- Antigravity Claudeï¼šè§„èŒƒåŒ–æ€è€ƒç­¾åï¼›ä¸¢å¼ƒæœªç­¾åçš„æ€è€ƒå—ã€‚\n\n**Anthropic / Minimaxï¼ˆAnthropic å…¼å®¹ï¼‰**\n\n- å·¥å…·ç»“æœé…å¯¹ä¿®å¤å’Œåˆæˆå·¥å…·ç»“æœã€‚\n- è½®æ¬¡éªŒè¯ï¼ˆåˆå¹¶è¿ç»­çš„ç”¨æˆ·è½®æ¬¡ä»¥æ»¡è¶³ä¸¥æ ¼äº¤æ›¿è¦æ±‚ï¼‰ã€‚\n\n**Mistralï¼ˆåŒ…æ‹¬åŸºäº model-id çš„æ£€æµ‹ï¼‰**\n\n- å·¥å…·è°ƒç”¨ id æ¸…ç†ï¼šstrict9ï¼ˆå­—æ¯æ•°å­—ï¼Œé•¿åº¦ 9ï¼‰ã€‚\n\n**OpenRouter Gemini**\n\n- æ€è€ƒç­¾åæ¸…ç†ï¼šå‰¥ç¦»é base64 çš„ `thought_signature` å€¼ï¼ˆä¿ç•™ base64ï¼‰ã€‚\n\n**å…¶ä»–æ‰€æœ‰æä¾›å•†**\n\n- ä»…å›¾ç‰‡æ¸…ç†ã€‚\n\n---",
    "## å†å²è¡Œä¸ºï¼ˆ2026.1.22 ä¹‹å‰ï¼‰\n\nåœ¨ 2026.1.22 ç‰ˆæœ¬å‘å¸ƒä¹‹å‰ï¼ŒOpenClaw åº”ç”¨äº†å¤šå±‚å¯¹è¯è®°å½•æ¸…ç†ï¼š\n\n- ä¸€ä¸ª**å¯¹è¯è®°å½•æ¸…ç†æ‰©å±•**åœ¨æ¯æ¬¡ä¸Šä¸‹æ–‡æ„å»ºæ—¶è¿è¡Œï¼Œå¯ä»¥ï¼š\n  - ä¿®å¤å·¥å…·ä½¿ç”¨/ç»“æœé…å¯¹ã€‚\n  - æ¸…ç†å·¥å…·è°ƒç”¨ idï¼ˆåŒ…æ‹¬ä¿ç•™ `_`/`-` çš„éä¸¥æ ¼æ¨¡å¼ï¼‰ã€‚\n- è¿è¡Œå™¨ä¹Ÿæ‰§è¡Œæä¾›å•†ç‰¹å®šçš„æ¸…ç†ï¼Œå¯¼è‡´é‡å¤å·¥ä½œã€‚\n- åœ¨æä¾›å•†ç­–ç•¥ä¹‹å¤–è¿˜å­˜åœ¨é¢å¤–çš„å˜æ›´ï¼ŒåŒ…æ‹¬ï¼š\n  - åœ¨æŒä¹…åŒ–ä¹‹å‰ä»åŠ©æ‰‹æ–‡æœ¬ä¸­å‰¥ç¦» `<final>` æ ‡ç­¾ã€‚\n  - ä¸¢å¼ƒç©ºçš„åŠ©æ‰‹é”™è¯¯è½®æ¬¡ã€‚\n  - æˆªæ–­å·¥å…·è°ƒç”¨ä¹‹åçš„åŠ©æ‰‹å†…å®¹ã€‚\n\nè¿™ç§å¤æ‚æ€§å¯¼è‡´äº†è·¨æä¾›å•†çš„å›å½’é—®é¢˜ï¼ˆå°¤å…¶æ˜¯ `openai-responses` çš„ `call_id|fc_id` é…å¯¹ï¼‰ã€‚2026.1.22 çš„æ¸…ç†ç§»é™¤äº†è¯¥æ‰©å±•ï¼Œå°†é€»è¾‘é›†ä¸­åˆ°è¿è¡Œå™¨ä¸­ï¼Œå¹¶ä½¿ OpenAI åœ¨å›¾ç‰‡æ¸…ç†ä¹‹å¤–**ä¸åšä»»ä½•ä¿®æ”¹**ã€‚",
    "---\nsummary: \"Channel-specific troubleshooting shortcuts (Discord/Telegram/WhatsApp/iMessage)\"\nread_when:\n  - A channel connects but messages donâ€™t flow\n  - Investigating channel misconfiguration (intents, permissions, privacy mode)\ntitle: \"Channel Troubleshooting\"\n---\n\n# Channel troubleshooting\n\nStart with:\n\n```bash\nopenclaw doctor\nopenclaw channels status --probe\n```\n\n`channels status --probe` prints warnings when it can detect common channel misconfigurations, and includes small live checks (credentials, some permissions/membership).",
    "## Channels\n\n- Discord: [/channels/discord#troubleshooting](/channels/discord#troubleshooting)\n- Telegram: [/channels/telegram#troubleshooting](/channels/telegram#troubleshooting)\n- WhatsApp: [/channels/whatsapp#troubleshooting-quick](/channels/whatsapp#troubleshooting-quick)\n- iMessage (legacy): [/channels/imessage#troubleshooting-macos-privacy-and-security-tcc](/channels/imessage#troubleshooting-macos-privacy-and-security-tcc)",
    "## Telegram quick fixes\n\n- Logs show `HttpError: Network request for 'sendMessage' failed` or `sendChatAction` â†’ check IPv6 DNS. If `api.telegram.org` resolves to IPv6 first and the host lacks IPv6 egress, force IPv4 or enable IPv6. See [/channels/telegram#troubleshooting](/channels/telegram#troubleshooting).\n- Logs show `setMyCommands failed` â†’ check outbound HTTPS and DNS reachability to `api.telegram.org` (common on locked-down VPS or proxies).",
    "---\nsummary: \"Text-to-speech (TTS) for outbound replies\"\nread_when:\n  - Enabling text-to-speech for replies\n  - Configuring TTS providers or limits\n  - Using /tts commands\ntitle: \"Text-to-Speech\"\n---\n\n# Text-to-speech (TTS)\n\nOpenClaw can convert outbound replies into audio using ElevenLabs, OpenAI, or Edge TTS.\nIt works anywhere OpenClaw can send audio; Telegram gets a round voice-note bubble.",
    "## Supported services\n\n- **ElevenLabs** (primary or fallback provider)\n- **OpenAI** (primary or fallback provider; also used for summaries)\n- **Edge TTS** (primary or fallback provider; uses `node-edge-tts`, default when no API keys)\n\n### Edge TTS notes\n\nEdge TTS uses Microsoft Edge's online neural TTS service via the `node-edge-tts`\nlibrary. It's a hosted service (not local), uses Microsoftâ€™s endpoints, and does\nnot require an API key. `node-edge-tts` exposes speech configuration options and\noutput formats, but not all options are supported by the Edge service. îˆ€citeîˆ‚turn2search0îˆ\n\nBecause Edge TTS is a public web service without a published SLA or quota, treat it\nas best-effort. If you need guaranteed limits and support, use OpenAI or ElevenLabs.\nMicrosoft's Speech REST API documents a 10â€‘minute audio limit per request; Edge TTS\ndoes not publish limits, so assume similar or lower limits. îˆ€citeîˆ‚turn0search3îˆ",
    "## Optional keys\n\nIf you want OpenAI or ElevenLabs:\n\n- `ELEVENLABS_API_KEY` (or `XI_API_KEY`)\n- `OPENAI_API_KEY`\n\nEdge TTS does **not** require an API key. If no API keys are found, OpenClaw defaults\nto Edge TTS (unless disabled via `messages.tts.edge.enabled=false`).\n\nIf multiple providers are configured, the selected provider is used first and the others are fallback options.\nAuto-summary uses the configured `summaryModel` (or `agents.defaults.model.primary`),\nso that provider must also be authenticated if you enable summaries.",
    "## Service links\n\n- [OpenAI Text-to-Speech guide](https://platform.openai.com/docs/guides/text-to-speech)\n- [OpenAI Audio API reference](https://platform.openai.com/docs/api-reference/audio)\n- [ElevenLabs Text to Speech](https://elevenlabs.io/docs/api-reference/text-to-speech)\n- [ElevenLabs Authentication](https://elevenlabs.io/docs/api-reference/authentication)\n- [node-edge-tts](https://github.com/SchneeHertz/node-edge-tts)\n- [Microsoft Speech output formats](https://learn.microsoft.com/azure/ai-services/speech-service/rest-text-to-speech#audio-outputs)",
    "## Is it enabled by default?\n\nNo. Autoâ€‘TTS is **off** by default. Enable it in config with\n`messages.tts.auto` or per session with `/tts always` (alias: `/tts on`).\n\nEdge TTS **is** enabled by default once TTS is on, and is used automatically\nwhen no OpenAI or ElevenLabs API keys are available.",
    "## Config\n\nTTS config lives under `messages.tts` in `openclaw.json`.\nFull schema is in [Gateway configuration](/gateway/configuration).\n\n### Minimal config (enable + provider)\n\n```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\",\n      provider: \"elevenlabs\",\n    },\n  },\n}\n```\n\n### OpenAI primary with ElevenLabs fallback",
    "```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\",\n      provider: \"openai\",\n      summaryModel: \"openai/gpt-4.1-mini\",\n      modelOverrides: {\n        enabled: true,\n      },\n      openai: {\n        apiKey: \"openai_api_key\",\n        model: \"gpt-4o-mini-tts\",\n        voice: \"alloy\",\n      },\n      elevenlabs: {\n        apiKey: \"elevenlabs_api_key\",\n        baseUrl: \"https://api.elevenlabs.io\",\n        voiceId: \"voice_id\",\n        modelId: \"eleven_multilingual_v2\",\n        seed: 42,\n        applyTextNormalization: \"auto\",\n        languageCode: \"en\",\n        voiceSettings: {\n          stability: 0.5,\n          similarityBoost: 0.75,\n          style: 0.0,\n          useSpeakerBoost: true,\n          speed: 1.0,\n        },\n      },\n    },\n  },\n}\n```\n\n### Edge TTS primary (no API key)",
    "```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\",\n      provider: \"edge\",\n      edge: {\n        enabled: true,\n        voice: \"en-US-MichelleNeural\",\n        lang: \"en-US\",\n        outputFormat: \"audio-24khz-48kbitrate-mono-mp3\",\n        rate: \"+10%\",\n        pitch: \"-5%\",\n      },\n    },\n  },\n}\n```\n\n### Disable Edge TTS\n\n```json5\n{\n  messages: {\n    tts: {\n      edge: {\n        enabled: false,\n      },\n    },\n  },\n}\n```\n\n### Custom limits + prefs path\n\n```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\",\n      maxTextLength: 4000,\n      timeoutMs: 30000,\n      prefsPath: \"~/.openclaw/settings/tts.json\",\n    },\n  },\n}\n```\n\n### Only reply with audio after an inbound voice note\n\n```json5\n{\n  messages: {\n    tts: {\n      auto: \"inbound\",\n    },\n  },\n}\n```\n\n### Disable auto-summary for long replies\n\n```json5\n{\n  messages: {\n    tts: {\n      auto: \"always\",\n    },\n  },\n}\n```\n\nThen run:\n\n```\n/tts summary off\n```\n\n### Notes on fields",
    "- `auto`: autoâ€‘TTS mode (`off`, `always`, `inbound`, `tagged`).\n  - `inbound` only sends audio after an inbound voice note.\n  - `tagged` only sends audio when the reply includes `[[tts]]` tags.\n- `enabled`: legacy toggle (doctor migrates this to `auto`).\n- `mode`: `\"final\"` (default) or `\"all\"` (includes tool/block replies).\n- `provider`: `\"elevenlabs\"`, `\"openai\"`, or `\"edge\"` (fallback is automatic).\n- If `provider` is **unset**, OpenClaw prefers `openai` (if key), then `elevenlabs` (if key),\n  otherwise `edge`.\n- `summaryModel`: optional cheap model for auto-summary; defaults to `agents.defaults.model.primary`.\n  - Accepts `provider/model` or a configured model alias.\n- `modelOverrides`: allow the model to emit TTS directives (on by default).\n- `maxTextLength`: hard cap for TTS input (chars). `/tts audio` fails if exceeded.\n- `timeoutMs`: request timeout (ms).\n- `prefsPath`: override the local prefs JSON path (provider/limit/summary).\n- `apiKey` values fall back to env vars (`ELEVENLABS_API_KEY`/`XI_API_KEY`, `OPENAI_API_KEY`).\n- `elevenlabs.baseUrl`: override ElevenLabs API base URL.\n- `elevenlabs.voiceSettings`:\n  - `stability`, `similarityBoost`, `style`: `0..1`\n  - `useSpeakerBoost`: `true|false`\n  - `speed`: `0.5..2.0` (1.0 = normal)\n- `elevenlabs.applyTextNormalization`: `auto|on|off`\n- `elevenlabs.languageCode`: 2-letter ISO 639-1 (e.g. `en`, `de`)\n- `elevenlabs.seed`: integer `0..4294967295` (best-effort determinism)\n- `edge.enabled`: allow Edge TTS usage (default `true`; no API key).\n- `edge.voice`: Edge neural voice name (e.g. `en-US-MichelleNeural`).\n- `edge.lang`: language code (e.g. `en-US`).\n- `edge.outputFormat`: Edge output format (e.g. `audio-24khz-48kbitrate-mono-mp3`).\n  - See Microsoft Speech output formats for valid values; not all formats are supported by Edge.\n- `edge.rate` / `edge.pitch` / `edge.volume`: percent strings (e.g. `+10%`, `-5%`).\n- `edge.saveSubtitles`: write JSON subtitles alongside the audio file.\n- `edge.proxy`: proxy URL for Edge TTS requests.\n- `edge.timeoutMs`: request timeout override (ms).",
    "## Model-driven overrides (default on)\n\nBy default, the model **can** emit TTS directives for a single reply.\nWhen `messages.tts.auto` is `tagged`, these directives are required to trigger audio.\n\nWhen enabled, the model can emit `[[tts:...]]` directives to override the voice\nfor a single reply, plus an optional `[[tts:text]]...[[/tts:text]]` block to\nprovide expressive tags (laughter, singing cues, etc) that should only appear in\nthe audio.\n\nExample reply payload:\n\n```\nHere you go.\n\n[[tts:provider=elevenlabs voiceId=pMsXgVXv3BLzUgSXRplE model=eleven_v3 speed=1.1]]\n[[tts:text]](laughs) Read the song once more.[[/tts:text]]\n```\n\nAvailable directive keys (when enabled):\n\n- `provider` (`openai` | `elevenlabs` | `edge`)\n- `voice` (OpenAI voice) or `voiceId` (ElevenLabs)\n- `model` (OpenAI TTS model or ElevenLabs model id)\n- `stability`, `similarityBoost`, `style`, `speed`, `useSpeakerBoost`\n- `applyTextNormalization` (`auto|on|off`)\n- `languageCode` (ISO 639-1)\n- `seed`",
    "Disable all model overrides:\n\n```json5\n{\n  messages: {\n    tts: {\n      modelOverrides: {\n        enabled: false,\n      },\n    },\n  },\n}\n```\n\nOptional allowlist (disable specific overrides while keeping tags enabled):\n\n```json5\n{\n  messages: {\n    tts: {\n      modelOverrides: {\n        enabled: true,\n        allowProvider: false,\n        allowSeed: false,\n      },\n    },\n  },\n}\n```",
    "## Per-user preferences\n\nSlash commands write local overrides to `prefsPath` (default:\n`~/.openclaw/settings/tts.json`, override with `OPENCLAW_TTS_PREFS` or\n`messages.tts.prefsPath`).\n\nStored fields:\n\n- `enabled`\n- `provider`\n- `maxLength` (summary threshold; default 1500 chars)\n- `summarize` (default `true`)\n\nThese override `messages.tts.*` for that host.",
    "## Output formats (fixed)\n\n- **Telegram**: Opus voice note (`opus_48000_64` from ElevenLabs, `opus` from OpenAI).\n  - 48kHz / 64kbps is a good voice-note tradeoff and required for the round bubble.\n- **Other channels**: MP3 (`mp3_44100_128` from ElevenLabs, `mp3` from OpenAI).\n  - 44.1kHz / 128kbps is the default balance for speech clarity.\n- **Edge TTS**: uses `edge.outputFormat` (default `audio-24khz-48kbitrate-mono-mp3`).\n  - `node-edge-tts` accepts an `outputFormat`, but not all formats are available\n    from the Edge service. îˆ€citeîˆ‚turn2search0îˆ\n  - Output format values follow Microsoft Speech output formats (including Ogg/WebM Opus). îˆ€citeîˆ‚turn1search0îˆ\n  - Telegram `sendVoice` accepts OGG/MP3/M4A; use OpenAI/ElevenLabs if you need\n    guaranteed Opus voice notes. îˆ€citeîˆ‚turn1search1îˆ\n  - If the configured Edge output format fails, OpenClaw retries with MP3.\n\nOpenAI/ElevenLabs formats are fixed; Telegram expects Opus for voice-note UX.",
    "## Auto-TTS behavior\n\nWhen enabled, OpenClaw:\n\n- skips TTS if the reply already contains media or a `MEDIA:` directive.\n- skips very short replies (< 10 chars).\n- summarizes long replies when enabled using `agents.defaults.model.primary` (or `summaryModel`).\n- attaches the generated audio to the reply.\n\nIf the reply exceeds `maxLength` and summary is off (or no API key for the\nsummary model), audio\nis skipped and the normal text reply is sent.",
    "## Flow diagram\n\n```\nReply -> TTS enabled?\n  no  -> send text\n  yes -> has media / MEDIA: / short?\n          yes -> send text\n          no  -> length > limit?\n                   no  -> TTS -> attach audio\n                   yes -> summary enabled?\n                            no  -> send text\n                            yes -> summarize (summaryModel or agents.defaults.model.primary)\n                                      -> TTS -> attach audio\n```",
    "## Slash command usage\n\nThere is a single command: `/tts`.\nSee [Slash commands](/tools/slash-commands) for enablement details.\n\nDiscord note: `/tts` is a built-in Discord command, so OpenClaw registers\n`/voice` as the native command there. Text `/tts ...` still works.\n\n```\n/tts off\n/tts always\n/tts inbound\n/tts tagged\n/tts status\n/tts provider openai\n/tts limit 2000\n/tts summary off\n/tts audio Hello from OpenClaw\n```\n\nNotes:\n\n- Commands require an authorized sender (allowlist/owner rules still apply).\n- `commands.text` or native command registration must be enabled.\n- `off|always|inbound|tagged` are perâ€‘session toggles (`/tts on` is an alias for `/tts always`).\n- `limit` and `summary` are stored in local prefs, not the main config.\n- `/tts audio` generates a one-off audio reply (does not toggle TTS on).",
    "## Agent tool\n\nThe `tts` tool converts text to speech and returns a `MEDIA:` path. When the\nresult is Telegram-compatible, the tool includes `[[audio_as_voice]]` so\nTelegram sends a voice bubble.",
    "## Gateway RPC\n\nGateway methods:\n\n- `tts.status`\n- `tts.enable`\n- `tts.disable`\n- `tts.convert`\n- `tts.setProvider`\n- `tts.providers`",
    "---\nsummary: \"CLI reference for `openclaw tui` (terminal UI connected to the Gateway)\"\nread_when:\n  - You want a terminal UI for the Gateway (remote-friendly)\n  - You want to pass url/token/session from scripts\ntitle: \"tui\"\n---\n\n# `openclaw tui`\n\nOpen the terminal UI connected to the Gateway.\n\nRelated:\n\n- TUI guide: [TUI](/tui)",
    "## Examples\n\n```bash\nopenclaw tui\nopenclaw tui --url ws://127.0.0.1:18789 --token <token>\nopenclaw tui --session main --deliver\n```",
    "---\nsummary: \"Twitch chat bot configuration and setup\"\nread_when:\n  - Setting up Twitch chat integration for OpenClaw\ntitle: \"Twitch\"\n---\n\n# Twitch (plugin)\n\nTwitch chat support via IRC connection. OpenClaw connects as a Twitch user (bot account) to receive and send messages in channels.",
    "## Plugin required\n\nTwitch ships as a plugin and is not bundled with the core install.\n\nInstall via CLI (npm registry):\n\n```bash\nopenclaw plugins install @openclaw/twitch\n```\n\nLocal checkout (when running from a git repo):\n\n```bash\nopenclaw plugins install ./extensions/twitch\n```\n\nDetails: [Plugins](/plugin)",
    "## Quick setup (beginner)\n\n1. Create a dedicated Twitch account for the bot (or use an existing account).\n2. Generate credentials: [Twitch Token Generator](https://twitchtokengenerator.com/)\n   - Select **Bot Token**\n   - Verify scopes `chat:read` and `chat:write` are selected\n   - Copy the **Client ID** and **Access Token**\n3. Find your Twitch user ID: [https://www.streamweasels.com/tools/convert-twitch-username-to-user-id/](https://www.streamweasels.com/tools/convert-twitch-username-to-user-id/)\n4. Configure the token:\n   - Env: `OPENCLAW_TWITCH_ACCESS_TOKEN=...` (default account only)\n   - Or config: `channels.twitch.accessToken`\n   - If both are set, config takes precedence (env fallback is default-account only).\n5. Start the gateway.\n\n**âš ï¸ Important:** Add access control (`allowFrom` or `allowedRoles`) to prevent unauthorized users from triggering the bot. `requireMention` defaults to `true`.\n\nMinimal config:",
    "```json5\n{\n  channels: {\n    twitch: {\n      enabled: true,\n      username: \"openclaw\", // Bot's Twitch account\n      accessToken: \"oauth:abc123...\", // OAuth Access Token (or use OPENCLAW_TWITCH_ACCESS_TOKEN env var)\n      clientId: \"xyz789...\", // Client ID from Token Generator\n      channel: \"vevisk\", // Which Twitch channel's chat to join (required)\n      allowFrom: [\"123456789\"], // (recommended) Your Twitch user ID only - get it from https://www.streamweasels.com/tools/convert-twitch-username-to-user-id/\n    },\n  },\n}\n```",
    "## What it is\n\n- A Twitch channel owned by the Gateway.\n- Deterministic routing: replies always go back to Twitch.\n- Each account maps to an isolated session key `agent:<agentId>:twitch:<accountName>`.\n- `username` is the bot's account (who authenticates), `channel` is which chat room to join.",
    "## Setup (detailed)\n\n### Generate credentials\n\nUse [Twitch Token Generator](https://twitchtokengenerator.com/):\n\n- Select **Bot Token**\n- Verify scopes `chat:read` and `chat:write` are selected\n- Copy the **Client ID** and **Access Token**\n\nNo manual app registration needed. Tokens expire after several hours.\n\n### Configure the bot\n\n**Env var (default account only):**\n\n```bash\nOPENCLAW_TWITCH_ACCESS_TOKEN=oauth:abc123...\n```\n\n**Or config:**\n\n```json5\n{\n  channels: {\n    twitch: {\n      enabled: true,\n      username: \"openclaw\",\n      accessToken: \"oauth:abc123...\",\n      clientId: \"xyz789...\",\n      channel: \"vevisk\",\n    },\n  },\n}\n```\n\nIf both env and config are set, config takes precedence.\n\n### Access control (recommended)\n\n```json5\n{\n  channels: {\n    twitch: {\n      allowFrom: [\"123456789\"], // (recommended) Your Twitch user ID only\n    },\n  },\n}\n```\n\nPrefer `allowFrom` for a hard allowlist. Use `allowedRoles` instead if you want role-based access.",
    "**Available roles:** `\"moderator\"`, `\"owner\"`, `\"vip\"`, `\"subscriber\"`, `\"all\"`.\n\n**Why user IDs?** Usernames can change, allowing impersonation. User IDs are permanent.\n\nFind your Twitch user ID: [https://www.streamweasels.com/tools/convert-twitch-username-%20to-user-id/](https://www.streamweasels.com/tools/convert-twitch-username-%20to-user-id/) (Convert your Twitch username to ID)",
    "## Token refresh (optional)\n\nTokens from [Twitch Token Generator](https://twitchtokengenerator.com/) cannot be automatically refreshed - regenerate when expired.\n\nFor automatic token refresh, create your own Twitch application at [Twitch Developer Console](https://dev.twitch.tv/console) and add to config:\n\n```json5\n{\n  channels: {\n    twitch: {\n      clientSecret: \"your_client_secret\",\n      refreshToken: \"your_refresh_token\",\n    },\n  },\n}\n```\n\nThe bot automatically refreshes tokens before expiration and logs refresh events.",
    "## Multi-account support\n\nUse `channels.twitch.accounts` with per-account tokens. See [`gateway/configuration`](/gateway/configuration) for the shared pattern.\n\nExample (one bot account in two channels):\n\n```json5\n{\n  channels: {\n    twitch: {\n      accounts: {\n        channel1: {\n          username: \"openclaw\",\n          accessToken: \"oauth:abc123...\",\n          clientId: \"xyz789...\",\n          channel: \"vevisk\",\n        },\n        channel2: {\n          username: \"openclaw\",\n          accessToken: \"oauth:def456...\",\n          clientId: \"uvw012...\",\n          channel: \"secondchannel\",\n        },\n      },\n    },\n  },\n}\n```\n\n**Note:** Each account needs its own token (one token per channel).",
    "## Access control\n\n### Role-based restrictions\n\n```json5\n{\n  channels: {\n    twitch: {\n      accounts: {\n        default: {\n          allowedRoles: [\"moderator\", \"vip\"],\n        },\n      },\n    },\n  },\n}\n```\n\n### Allowlist by User ID (most secure)\n\n```json5\n{\n  channels: {\n    twitch: {\n      accounts: {\n        default: {\n          allowFrom: [\"123456789\", \"987654321\"],\n        },\n      },\n    },\n  },\n}\n```\n\n### Role-based access (alternative)\n\n`allowFrom` is a hard allowlist. When set, only those user IDs are allowed.\nIf you want role-based access, leave `allowFrom` unset and configure `allowedRoles` instead:\n\n```json5\n{\n  channels: {\n    twitch: {\n      accounts: {\n        default: {\n          allowedRoles: [\"moderator\"],\n        },\n      },\n    },\n  },\n}\n```\n\n### Disable @mention requirement\n\nBy default, `requireMention` is `true`. To disable and respond to all messages:",
    "```json5\n{\n  channels: {\n    twitch: {\n      accounts: {\n        default: {\n          requireMention: false,\n        },\n      },\n    },\n  },\n}\n```",
    "## Troubleshooting\n\nFirst, run diagnostic commands:\n\n```bash\nopenclaw doctor\nopenclaw channels status --probe\n```\n\n### Bot doesn't respond to messages\n\n**Check access control:** Ensure your user ID is in `allowFrom`, or temporarily remove\n`allowFrom` and set `allowedRoles: [\"all\"]` to test.\n\n**Check the bot is in the channel:** The bot must join the channel specified in `channel`.\n\n### Token issues\n\n**\"Failed to connect\" or authentication errors:**\n\n- Verify `accessToken` is the OAuth access token value (typically starts with `oauth:` prefix)\n- Check token has `chat:read` and `chat:write` scopes\n- If using token refresh, verify `clientSecret` and `refreshToken` are set\n\n### Token refresh not working\n\n**Check logs for refresh events:**\n\n```\nUsing env token source for mybot\nAccess token refreshed for user 123456 (expires in 14400s)\n```\n\nIf you see \"token refresh disabled (no refresh token)\":\n\n- Ensure `clientSecret` is provided\n- Ensure `refreshToken` is provided",
    "## Config\n\n**Account config:**\n\n- `username` - Bot username\n- `accessToken` - OAuth access token with `chat:read` and `chat:write`\n- `clientId` - Twitch Client ID (from Token Generator or your app)\n- `channel` - Channel to join (required)\n- `enabled` - Enable this account (default: `true`)\n- `clientSecret` - Optional: For automatic token refresh\n- `refreshToken` - Optional: For automatic token refresh\n- `expiresIn` - Token expiry in seconds\n- `obtainmentTimestamp` - Token obtained timestamp\n- `allowFrom` - User ID allowlist\n- `allowedRoles` - Role-based access control (`\"moderator\" | \"owner\" | \"vip\" | \"subscriber\" | \"all\"`)\n- `requireMention` - Require @mention (default: `true`)\n\n**Provider options:**",
    "- `channels.twitch.enabled` - Enable/disable channel startup\n- `channels.twitch.username` - Bot username (simplified single-account config)\n- `channels.twitch.accessToken` - OAuth access token (simplified single-account config)\n- `channels.twitch.clientId` - Twitch Client ID (simplified single-account config)\n- `channels.twitch.channel` - Channel to join (simplified single-account config)\n- `channels.twitch.accounts.<accountName>` - Multi-account config (all account fields above)\n\nFull example:",
    "```json5\n{\n  channels: {\n    twitch: {\n      enabled: true,\n      username: \"openclaw\",\n      accessToken: \"oauth:abc123...\",\n      clientId: \"xyz789...\",\n      channel: \"vevisk\",\n      clientSecret: \"secret123...\",\n      refreshToken: \"refresh456...\",\n      allowFrom: [\"123456789\"],\n      allowedRoles: [\"moderator\", \"vip\"],\n      accounts: {\n        default: {\n          username: \"mybot\",\n          accessToken: \"oauth:abc123...\",\n          clientId: \"xyz789...\",\n          channel: \"your_channel\",\n          enabled: true,\n          clientSecret: \"secret123...\",\n          refreshToken: \"refresh456...\",\n          expiresIn: 14400,\n          obtainmentTimestamp: 1706092800000,\n          allowFrom: [\"123456789\", \"987654321\"],\n          allowedRoles: [\"moderator\"],\n        },\n      },\n    },\n  },\n}\n```",
    "## Tool actions\n\nThe agent can call `twitch` with action:\n\n- `send` - Send a message to a channel\n\nExample:\n\n```json5\n{\n  action: \"twitch\",\n  params: {\n    message: \"Hello Twitch!\",\n    to: \"#mychannel\",\n  },\n}\n```",
    "## Safety & ops\n\n- **Treat tokens like passwords** - Never commit tokens to git\n- **Use automatic token refresh** for long-running bots\n- **Use user ID allowlists** instead of usernames for access control\n- **Monitor logs** for token refresh events and connection status\n- **Scope tokens minimally** - Only request `chat:read` and `chat:write`\n- **If stuck**: Restart the gateway after confirming no other process owns the session",
    "## Limits\n\n- **500 characters** per message (auto-chunked at word boundaries)\n- Markdown is stripped before chunking\n- No rate limiting (uses Twitch's built-in rate limits)",
    "---\nsummary: \"TypeBox schemas as the single source of truth for the gateway protocol\"\nread_when:\n  - Updating protocol schemas or codegen\ntitle: \"TypeBox\"\n---\n\n# TypeBox as protocol source of truth\n\nLast updated: 2026-01-10\n\nTypeBox is a TypeScript-first schema library. We use it to define the **Gateway\nWebSocket protocol** (handshake, request/response, server events). Those schemas\ndrive **runtime validation**, **JSON Schema export**, and **Swift codegen** for\nthe macOS app. One source of truth; everything else is generated.\n\nIf you want the higher-level protocol context, start with\n[Gateway architecture](/concepts/architecture).",
    "## Mental model (30 seconds)\n\nEvery Gateway WS message is one of three frames:\n\n- **Request**: `{ type: \"req\", id, method, params }`\n- **Response**: `{ type: \"res\", id, ok, payload | error }`\n- **Event**: `{ type: \"event\", event, payload, seq?, stateVersion? }`\n\nThe first frame **must** be a `connect` request. After that, clients can call\nmethods (e.g. `health`, `send`, `chat.send`) and subscribe to events (e.g.\n`presence`, `tick`, `agent`).\n\nConnection flow (minimal):\n\n```\nClient                    Gateway\n  |---- req:connect -------->|\n  |<---- res:hello-ok --------|\n  |<---- event:tick ----------|\n  |---- req:health ---------->|\n  |<---- res:health ----------|\n```\n\nCommon methods + events:",
    "| Category  | Examples                                                  | Notes                              |\n| --------- | --------------------------------------------------------- | ---------------------------------- |\n| Core      | `connect`, `health`, `status`                             | `connect` must be first            |\n| Messaging | `send`, `poll`, `agent`, `agent.wait`                     | side-effects need `idempotencyKey` |\n| Chat      | `chat.history`, `chat.send`, `chat.abort`, `chat.inject`  | WebChat uses these                 |\n| Sessions  | `sessions.list`, `sessions.patch`, `sessions.delete`      | session admin                      |\n| Nodes     | `node.list`, `node.invoke`, `node.pair.*`                 | Gateway WS + node actions          |\n| Events    | `tick`, `presence`, `agent`, `chat`, `health`, `shutdown` | server push                        |\n\nAuthoritative list lives in `src/gateway/server.ts` (`METHODS`, `EVENTS`).",
    "## Where the schemas live\n\n- Source: `src/gateway/protocol/schema.ts`\n- Runtime validators (AJV): `src/gateway/protocol/index.ts`\n- Server handshake + method dispatch: `src/gateway/server.ts`\n- Node client: `src/gateway/client.ts`\n- Generated JSON Schema: `dist/protocol.schema.json`\n- Generated Swift models: `apps/macos/Sources/OpenClawProtocol/GatewayModels.swift`",
    "## Current pipeline\n\n- `pnpm protocol:gen`\n  - writes JSON Schema (draftâ€‘07) to `dist/protocol.schema.json`\n- `pnpm protocol:gen:swift`\n  - generates Swift gateway models\n- `pnpm protocol:check`\n  - runs both generators and verifies the output is committed",
    "## How the schemas are used at runtime\n\n- **Server side**: every inbound frame is validated with AJV. The handshake only\n  accepts a `connect` request whose params match `ConnectParams`.\n- **Client side**: the JS client validates event and response frames before\n  using them.\n- **Method surface**: the Gateway advertises the supported `methods` and\n  `events` in `hello-ok`.",
    "## Example frames\n\nConnect (first message):\n\n```json\n{\n  \"type\": \"req\",\n  \"id\": \"c1\",\n  \"method\": \"connect\",\n  \"params\": {\n    \"minProtocol\": 2,\n    \"maxProtocol\": 2,\n    \"client\": {\n      \"id\": \"openclaw-macos\",\n      \"displayName\": \"macos\",\n      \"version\": \"1.0.0\",\n      \"platform\": \"macos 15.1\",\n      \"mode\": \"ui\",\n      \"instanceId\": \"A1B2\"\n    }\n  }\n}\n```\n\nHello-ok response:\n\n```json\n{\n  \"type\": \"res\",\n  \"id\": \"c1\",\n  \"ok\": true,\n  \"payload\": {\n    \"type\": \"hello-ok\",\n    \"protocol\": 2,\n    \"server\": { \"version\": \"dev\", \"connId\": \"ws-1\" },\n    \"features\": { \"methods\": [\"health\"], \"events\": [\"tick\"] },\n    \"snapshot\": {\n      \"presence\": [],\n      \"health\": {},\n      \"stateVersion\": { \"presence\": 0, \"health\": 0 },\n      \"uptimeMs\": 0\n    },\n    \"policy\": { \"maxPayload\": 1048576, \"maxBufferedBytes\": 1048576, \"tickIntervalMs\": 30000 }\n  }\n}\n```\n\nRequest + response:\n\n```json\n{ \"type\": \"req\", \"id\": \"r1\", \"method\": \"health\" }\n```",
    "```json\n{ \"type\": \"res\", \"id\": \"r1\", \"ok\": true, \"payload\": { \"ok\": true } }\n```\n\nEvent:\n\n```json\n{ \"type\": \"event\", \"event\": \"tick\", \"payload\": { \"ts\": 1730000000 }, \"seq\": 12 }\n```",
    "## Minimal client (Node.js)\n\nSmallest useful flow: connect + health.\n\n```ts\nimport { WebSocket } from \"ws\";\n\nconst ws = new WebSocket(\"ws://127.0.0.1:18789\");\n\nws.on(\"open\", () => {\n  ws.send(\n    JSON.stringify({\n      type: \"req\",\n      id: \"c1\",\n      method: \"connect\",\n      params: {\n        minProtocol: 3,\n        maxProtocol: 3,\n        client: {\n          id: \"cli\",\n          displayName: \"example\",\n          version: \"dev\",\n          platform: \"node\",\n          mode: \"cli\",\n        },\n      },\n    }),\n  );\n});\n\nws.on(\"message\", (data) => {\n  const msg = JSON.parse(String(data));\n  if (msg.type === \"res\" && msg.id === \"c1\" && msg.ok) {\n    ws.send(JSON.stringify({ type: \"req\", id: \"h1\", method: \"health\" }));\n  }\n  if (msg.type === \"res\" && msg.id === \"h1\") {\n    console.log(\"health:\", msg.payload);\n    ws.close();\n  }\n});\n```",
    "## Worked example: add a method endâ€‘toâ€‘end\n\nExample: add a new `system.echo` request that returns `{ ok: true, text }`.\n\n1. **Schema (source of truth)**\n\nAdd to `src/gateway/protocol/schema.ts`:\n\n```ts\nexport const SystemEchoParamsSchema = Type.Object(\n  { text: NonEmptyString },\n  { additionalProperties: false },\n);\n\nexport const SystemEchoResultSchema = Type.Object(\n  { ok: Type.Boolean(), text: NonEmptyString },\n  { additionalProperties: false },\n);\n```\n\nAdd both to `ProtocolSchemas` and export types:\n\n```ts\n  SystemEchoParams: SystemEchoParamsSchema,\n  SystemEchoResult: SystemEchoResultSchema,\n```\n\n```ts\nexport type SystemEchoParams = Static<typeof SystemEchoParamsSchema>;\nexport type SystemEchoResult = Static<typeof SystemEchoResultSchema>;\n```\n\n2. **Validation**\n\nIn `src/gateway/protocol/index.ts`, export an AJV validator:\n\n```ts\nexport const validateSystemEchoParams = ajv.compile<SystemEchoParams>(SystemEchoParamsSchema);\n```\n\n3. **Server behavior**",
    "Add a handler in `src/gateway/server-methods/system.ts`:\n\n```ts\nexport const systemHandlers: GatewayRequestHandlers = {\n  \"system.echo\": ({ params, respond }) => {\n    const text = String(params.text ?? \"\");\n    respond(true, { ok: true, text });\n  },\n};\n```\n\nRegister it in `src/gateway/server-methods.ts` (already merges `systemHandlers`),\nthen add `\"system.echo\"` to `METHODS` in `src/gateway/server.ts`.\n\n4. **Regenerate**\n\n```bash\npnpm protocol:check\n```\n\n5. **Tests + docs**\n\nAdd a server test in `src/gateway/server.*.test.ts` and note the method in docs.",
    "## Swift codegen behavior\n\nThe Swift generator emits:\n\n- `GatewayFrame` enum with `req`, `res`, `event`, and `unknown` cases\n- Strongly typed payload structs/enums\n- `ErrorCode` values and `GATEWAY_PROTOCOL_VERSION`\n\nUnknown frame types are preserved as raw payloads for forward compatibility.",
    "## Versioning + compatibility\n\n- `PROTOCOL_VERSION` lives in `src/gateway/protocol/schema.ts`.\n- Clients send `minProtocol` + `maxProtocol`; the server rejects mismatches.\n- The Swift models keep unknown frame types to avoid breaking older clients.",
    "## Schema patterns and conventions\n\n- Most objects use `additionalProperties: false` for strict payloads.\n- `NonEmptyString` is the default for IDs and method/event names.\n- The top-level `GatewayFrame` uses a **discriminator** on `type`.\n- Methods with side effects usually require an `idempotencyKey` in params\n  (example: `send`, `poll`, `agent`, `chat.send`).",
    "## Live schema JSON\n\nGenerated JSON Schema is in the repo at `dist/protocol.schema.json`. The\npublished raw file is typically available at:\n\n- [https://raw.githubusercontent.com/openclaw/openclaw/main/dist/protocol.schema.json](https://raw.githubusercontent.com/openclaw/openclaw/main/dist/protocol.schema.json)",
    "## When you change schemas\n\n1. Update the TypeBox schemas.\n2. Run `pnpm protocol:check`.\n3. Commit the regenerated schema + Swift models.",
    "---\nsummary: \"When OpenClaw shows typing indicators and how to tune them\"\nread_when:\n  - Changing typing indicator behavior or defaults\ntitle: \"Typing Indicators\"\n---\n\n# Typing indicators\n\nTyping indicators are sent to the chat channel while a run is active. Use\n`agents.defaults.typingMode` to control **when** typing starts and `typingIntervalSeconds`\nto control **how often** it refreshes.",
    "## Defaults\n\nWhen `agents.defaults.typingMode` is **unset**, OpenClaw keeps the legacy behavior:\n\n- **Direct chats**: typing starts immediately once the model loop begins.\n- **Group chats with a mention**: typing starts immediately.\n- **Group chats without a mention**: typing starts only when message text begins streaming.\n- **Heartbeat runs**: typing is disabled.",
    "## Modes\n\nSet `agents.defaults.typingMode` to one of:\n\n- `never` â€” no typing indicator, ever.\n- `instant` â€” start typing **as soon as the model loop begins**, even if the run\n  later returns only the silent reply token.\n- `thinking` â€” start typing on the **first reasoning delta** (requires\n  `reasoningLevel: \"stream\"` for the run).\n- `message` â€” start typing on the **first non-silent text delta** (ignores\n  the `NO_REPLY` silent token).\n\nOrder of â€œhow early it firesâ€:\n`never` â†’ `message` â†’ `thinking` â†’ `instant`",
    "## Configuration\n\n```json5\n{\n  agent: {\n    typingMode: \"thinking\",\n    typingIntervalSeconds: 6,\n  },\n}\n```\n\nYou can override mode or cadence per session:\n\n```json5\n{\n  session: {\n    typingMode: \"message\",\n    typingIntervalSeconds: 4,\n  },\n}\n```",
    "## Notes\n\n- `message` mode wonâ€™t show typing for silent-only replies (e.g. the `NO_REPLY`\n  token used to suppress output).\n- `thinking` only fires if the run streams reasoning (`reasoningLevel: \"stream\"`).\n  If the model doesnâ€™t emit reasoning deltas, typing wonâ€™t start.\n- Heartbeats never show typing, regardless of mode.\n- `typingIntervalSeconds` controls the **refresh cadence**, not the start time.\n  The default is 6 seconds.",
    "---\nsummary: \"CLI reference for `openclaw uninstall` (remove gateway service + local data)\"\nread_when:\n  - You want to remove the gateway service and/or local state\n  - You want a dry-run first\ntitle: \"uninstall\"\n---\n\n# `openclaw uninstall`\n\nUninstall the gateway service + local data (CLI remains).\n\n```bash\nopenclaw uninstall\nopenclaw uninstall --all --yes\nopenclaw uninstall --dry-run\n```",
    "---\nsummary: \"CLI reference for `openclaw update` (safe-ish source update + gateway auto-restart)\"\nread_when:\n  - You want to update a source checkout safely\n  - You need to understand `--update` shorthand behavior\ntitle: \"update\"\n---\n\n# `openclaw update`\n\nSafely update OpenClaw and switch between stable/beta/dev channels.\n\nIf you installed via **npm/pnpm** (global install, no git metadata), updates happen via the package manager flow in [Updating](/install/updating).",
    "## Usage\n\n```bash\nopenclaw update\nopenclaw update status\nopenclaw update wizard\nopenclaw update --channel beta\nopenclaw update --channel dev\nopenclaw update --tag beta\nopenclaw update --no-restart\nopenclaw update --json\nopenclaw --update\n```",
    "## Options\n\n- `--no-restart`: skip restarting the Gateway service after a successful update.\n- `--channel <stable|beta|dev>`: set the update channel (git + npm; persisted in config).\n- `--tag <dist-tag|version>`: override the npm dist-tag or version for this update only.\n- `--json`: print machine-readable `UpdateRunResult` JSON.\n- `--timeout <seconds>`: per-step timeout (default is 1200s).\n\nNote: downgrades require confirmation because older versions can break configuration.",
    "## `update status`\n\nShow the active update channel + git tag/branch/SHA (for source checkouts), plus update availability.\n\n```bash\nopenclaw update status\nopenclaw update status --json\nopenclaw update status --timeout 10\n```\n\nOptions:\n\n- `--json`: print machine-readable status JSON.\n- `--timeout <seconds>`: timeout for checks (default is 3s).",
    "## `update wizard`\n\nInteractive flow to pick an update channel and confirm whether to restart the Gateway\nafter updating (default is to restart). If you select `dev` without a git checkout, it\noffers to create one.",
    "## What it does\n\nWhen you switch channels explicitly (`--channel ...`), OpenClaw also keeps the\ninstall method aligned:\n\n- `dev` â†’ ensures a git checkout (default: `~/openclaw`, override with `OPENCLAW_GIT_DIR`),\n  updates it, and installs the global CLI from that checkout.\n- `stable`/`beta` â†’ installs from npm using the matching dist-tag.",
    "## Git checkout flow\n\nChannels:\n\n- `stable`: checkout the latest non-beta tag, then build + doctor.\n- `beta`: checkout the latest `-beta` tag, then build + doctor.\n- `dev`: checkout `main`, then fetch + rebase.\n\nHigh-level:\n\n1. Requires a clean worktree (no uncommitted changes).\n2. Switches to the selected channel (tag or branch).\n3. Fetches upstream (dev only).\n4. Dev only: preflight lint + TypeScript build in a temp worktree; if the tip fails, walks back up to 10 commits to find the newest clean build.\n5. Rebases onto the selected commit (dev only).\n6. Installs deps (pnpm preferred; npm fallback).\n7. Builds + builds the Control UI.\n8. Runs `openclaw doctor` as the final â€œsafe updateâ€ check.\n9. Syncs plugins to the active channel (dev uses bundled extensions; stable/beta uses npm) and updates npm-installed plugins.",
    "## `--update` shorthand\n\n`openclaw --update` rewrites to `openclaw update` (useful for shells and launcher scripts).",
    "## See also\n\n- `openclaw doctor` (offers to run update first on git checkouts)\n- [Development channels](/install/development-channels)\n- [Updating](/install/updating)\n- [CLI reference](/cli)",
    "---\nread_when:\n  - æ›´æ–° OpenClaw\n  - æ›´æ–°åå‡ºç°é—®é¢˜\nsummary: å®‰å…¨æ›´æ–° OpenClawï¼ˆå…¨å±€å®‰è£…æˆ–æºç ï¼‰ï¼Œä»¥åŠå›æ»šç­–ç•¥\ntitle: æ›´æ–°\nx-i18n:\n  generated_at: \"2026-02-03T07:50:25Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 38cccac0839f0f22403b6508cd94ba1b401133ffc1d92d4f7640b8d04e082317\n  source_path: install/updating.md\n  workflow: 15\n---\n\n# æ›´æ–°\n\nOpenClaw å‘å±•è¿…é€Ÿï¼ˆå°šæœªåˆ°\"1.0\"ï¼‰ã€‚å°†æ›´æ–°è§†ä¸ºå‘å¸ƒåŸºç¡€è®¾æ–½ï¼šæ›´æ–° â†’ è¿è¡Œæ£€æŸ¥ â†’ é‡å¯ï¼ˆæˆ–ä½¿ç”¨ä¼šé‡å¯çš„ `openclaw update`ï¼‰â†’ éªŒè¯ã€‚",
    "## æ¨èï¼šé‡æ–°è¿è¡Œç½‘ç«™å®‰è£…ç¨‹åºï¼ˆåŸåœ°å‡çº§ï¼‰\n\n**é¦–é€‰**çš„æ›´æ–°è·¯å¾„æ˜¯é‡æ–°è¿è¡Œç½‘ç«™ä¸Šçš„å®‰è£…ç¨‹åºã€‚å®ƒä¼šæ£€æµ‹ç°æœ‰å®‰è£…ã€åŸåœ°å‡çº§ï¼Œå¹¶åœ¨éœ€è¦æ—¶è¿è¡Œ `openclaw doctor`ã€‚\n\n```bash\ncurl -fsSL https://openclaw.ai/install.sh | bash\n```\n\nè¯´æ˜ï¼š\n\n- å¦‚æœä½ ä¸æƒ³å†æ¬¡è¿è¡Œæ–°æ‰‹å¼•å¯¼å‘å¯¼ï¼Œæ·»åŠ  `--no-onboard`ã€‚\n- å¯¹äº**æºç å®‰è£…**ï¼Œä½¿ç”¨ï¼š\n  ```bash\n  curl -fsSL https://openclaw.ai/install.sh | bash -s -- --install-method git --no-onboard\n  ```\n  å®‰è£…ç¨‹åº**ä»…**åœ¨ä»“åº“å¹²å‡€æ—¶æ‰ä¼šæ‰§è¡Œ `git pull --rebase`ã€‚\n- å¯¹äº**å…¨å±€å®‰è£…**ï¼Œè„šæœ¬åº•å±‚ä½¿ç”¨ `npm install -g openclaw@latest`ã€‚\n- æ—§ç‰ˆè¯´æ˜ï¼š`clawdbot` ä»å¯ä½œä¸ºå…¼å®¹æ€§å«ç‰‡ä½¿ç”¨ã€‚",
    "## æ›´æ–°ä¹‹å‰\n\n- äº†è§£ä½ çš„å®‰è£…æ–¹å¼ï¼š**å…¨å±€**ï¼ˆnpm/pnpmï¼‰è¿˜æ˜¯**æºç **ï¼ˆgit cloneï¼‰ã€‚\n- äº†è§£ä½ çš„ Gateway ç½‘å…³è¿è¡Œæ–¹å¼ï¼š**å‰å°ç»ˆç«¯**è¿˜æ˜¯**å—ç®¡ç†æœåŠ¡**ï¼ˆlaunchd/systemdï¼‰ã€‚\n- å¿«ç…§ä½ çš„å®šåˆ¶å†…å®¹ï¼š\n  - é…ç½®ï¼š`~/.openclaw/openclaw.json`\n  - å‡­è¯ï¼š`~/.openclaw/credentials/`\n  - å·¥ä½œåŒºï¼š`~/.openclaw/workspace`",
    "## æ›´æ–°ï¼ˆå…¨å±€å®‰è£…ï¼‰\n\nå…¨å±€å®‰è£…ï¼ˆé€‰æ‹©ä¸€ä¸ªï¼‰ï¼š\n\n```bash\nnpm i -g openclaw@latest\n```\n\n```bash\npnpm add -g openclaw@latest\n```\n\næˆ‘ä»¬**ä¸**æ¨èå°† Bun ç”¨äº Gateway ç½‘å…³è¿è¡Œæ—¶ï¼ˆWhatsApp/Telegram æœ‰ bugï¼‰ã€‚\n\nåˆ‡æ¢æ›´æ–°æ¸ é“ï¼ˆgit + npm å®‰è£…ï¼‰ï¼š\n\n```bash\nopenclaw update --channel beta\nopenclaw update --channel dev\nopenclaw update --channel stable\n```\n\nä½¿ç”¨ `--tag <dist-tag|version>` è¿›è¡Œä¸€æ¬¡æ€§å®‰è£…æŒ‡å®šæ ‡ç­¾/ç‰ˆæœ¬ã€‚\n\næ¸ é“è¯­ä¹‰å’Œå‘å¸ƒè¯´æ˜å‚è§[å¼€å‘æ¸ é“](/install/development-channels)ã€‚\n\næ³¨æ„ï¼šåœ¨ npm å®‰è£…ä¸Šï¼ŒGateway ç½‘å…³åœ¨å¯åŠ¨æ—¶ä¼šè®°å½•æ›´æ–°æç¤ºï¼ˆæ£€æŸ¥å½“å‰æ¸ é“æ ‡ç­¾ï¼‰ã€‚é€šè¿‡ `update.checkOnStart: false` ç¦ç”¨ã€‚\n\nç„¶åï¼š\n\n```bash\nopenclaw doctor\nopenclaw gateway restart\nopenclaw health\n```\n\nè¯´æ˜ï¼š\n\n- å¦‚æœä½ çš„ Gateway ç½‘å…³ä½œä¸ºæœåŠ¡è¿è¡Œï¼Œ`openclaw gateway restart` ä¼˜äºæ€æ­» PIDã€‚\n- å¦‚æœä½ å›ºå®šåœ¨ç‰¹å®šç‰ˆæœ¬ï¼Œå‚è§ä¸‹é¢çš„\"å›æ»š/å›ºå®š\"ã€‚",
    "## æ›´æ–°ï¼ˆ`openclaw update`ï¼‰\n\nå¯¹äº**æºç å®‰è£…**ï¼ˆgit checkoutï¼‰ï¼Œé¦–é€‰ï¼š\n\n```bash\nopenclaw update\n```\n\nå®ƒè¿è¡Œä¸€ä¸ªç›¸å¯¹å®‰å…¨çš„æ›´æ–°æµç¨‹ï¼š\n\n- éœ€è¦å¹²å‡€çš„å·¥ä½œæ ‘ã€‚\n- åˆ‡æ¢åˆ°é€‰å®šçš„æ¸ é“ï¼ˆæ ‡ç­¾æˆ–åˆ†æ”¯ï¼‰ã€‚\n- è·å–å¹¶ rebase åˆ°é…ç½®çš„ä¸Šæ¸¸ï¼ˆdev æ¸ é“ï¼‰ã€‚\n- å®‰è£…ä¾èµ–ã€æ„å»ºã€æ„å»ºæ§åˆ¶ UIï¼Œå¹¶è¿è¡Œ `openclaw doctor`ã€‚\n- é»˜è®¤é‡å¯ Gateway ç½‘å…³ï¼ˆä½¿ç”¨ `--no-restart` è·³è¿‡ï¼‰ã€‚\n\nå¦‚æœä½ é€šè¿‡ **npm/pnpm** å®‰è£…ï¼ˆæ²¡æœ‰ git å…ƒæ•°æ®ï¼‰ï¼Œ`openclaw update` å°†å°è¯•é€šè¿‡ä½ çš„åŒ…ç®¡ç†å™¨æ›´æ–°ã€‚å¦‚æœæ— æ³•æ£€æµ‹åˆ°å®‰è£…ï¼Œè¯·æ”¹ç”¨\"æ›´æ–°ï¼ˆå…¨å±€å®‰è£…ï¼‰\"ã€‚",
    "## æ›´æ–°ï¼ˆæ§åˆ¶ UI / RPCï¼‰\n\næ§åˆ¶ UI æœ‰**æ›´æ–°å¹¶é‡å¯**ï¼ˆRPCï¼š`update.run`ï¼‰ã€‚å®ƒï¼š\n\n1. è¿è¡Œä¸ `openclaw update` ç›¸åŒçš„æºç æ›´æ–°æµç¨‹ï¼ˆä»…é™ git checkoutï¼‰ã€‚\n2. å†™å…¥å¸¦æœ‰ç»“æ„åŒ–æŠ¥å‘Šï¼ˆstdout/stderr å°¾éƒ¨ï¼‰çš„é‡å¯å“¨å…µã€‚\n3. é‡å¯ Gateway ç½‘å…³å¹¶å‘æœ€åæ´»è·ƒçš„ä¼šè¯ ping æŠ¥å‘Šã€‚\n\nå¦‚æœ rebase å¤±è´¥ï¼ŒGateway ç½‘å…³ä¼šä¸­æ­¢å¹¶åœ¨ä¸åº”ç”¨æ›´æ–°çš„æƒ…å†µä¸‹é‡å¯ã€‚",
    "## æ›´æ–°ï¼ˆä»æºç ï¼‰\n\nä»ä»“åº“ checkoutï¼š\n\né¦–é€‰ï¼š\n\n```bash\nopenclaw update\n```\n\næ‰‹åŠ¨ï¼ˆå¤§è‡´ç­‰æ•ˆï¼‰ï¼š\n\n```bash\ngit pull\npnpm install\npnpm build\npnpm ui:build # é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨å®‰è£… UI ä¾èµ–\nopenclaw doctor\nopenclaw health\n```\n\nè¯´æ˜ï¼š\n\n- å½“ä½ è¿è¡Œæ‰“åŒ…çš„ `openclaw` äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ[`openclaw.mjs`](https://github.com/openclaw/openclaw/blob/main/openclaw.mjs)ï¼‰æˆ–ä½¿ç”¨ Node è¿è¡Œ `dist/` æ—¶ï¼Œ`pnpm build` å¾ˆé‡è¦ã€‚\n- å¦‚æœä½ ä»ä»“åº“ checkout è¿è¡Œè€Œæ²¡æœ‰å…¨å±€å®‰è£…ï¼ŒCLI å‘½ä»¤ä½¿ç”¨ `pnpm openclaw ...`ã€‚\n- å¦‚æœä½ ç›´æ¥ä» TypeScript è¿è¡Œï¼ˆ`pnpm openclaw ...`ï¼‰ï¼Œé€šå¸¸ä¸éœ€è¦é‡æ–°æ„å»ºï¼Œä½†**é…ç½®è¿ç§»ä»ç„¶é€‚ç”¨** â†’ è¿è¡Œ doctorã€‚\n- åœ¨å…¨å±€å’Œ git å®‰è£…ä¹‹é—´åˆ‡æ¢å¾ˆå®¹æ˜“ï¼šå®‰è£…å¦ä¸€ç§æ–¹å¼ï¼Œç„¶åè¿è¡Œ `openclaw doctor` ä»¥ä¾¿å°† Gateway ç½‘å…³æœåŠ¡å…¥å£ç‚¹é‡å†™ä¸ºå½“å‰å®‰è£…ã€‚",
    "## å§‹ç»ˆè¿è¡Œï¼š`openclaw doctor`\n\nDoctor æ˜¯\"å®‰å…¨æ›´æ–°\"å‘½ä»¤ã€‚å®ƒæ•…æ„å¾ˆæ— èŠï¼šä¿®å¤ + è¿ç§» + è­¦å‘Šã€‚\n\næ³¨æ„ï¼šå¦‚æœä½ æ˜¯**æºç å®‰è£…**ï¼ˆgit checkoutï¼‰ï¼Œ`openclaw doctor` ä¼šæä¾›å…ˆè¿è¡Œ `openclaw update`ã€‚\n\nå®ƒé€šå¸¸åšçš„äº‹æƒ…ï¼š\n\n- è¿ç§»å·²å¼ƒç”¨çš„é…ç½®é”®/æ—§ç‰ˆé…ç½®æ–‡ä»¶ä½ç½®ã€‚\n- å®¡è®¡ç§ä¿¡ç­–ç•¥å¹¶å¯¹æœ‰é£é™©çš„\"å¼€æ”¾\"è®¾ç½®å‘å‡ºè­¦å‘Šã€‚\n- æ£€æŸ¥ Gateway ç½‘å…³å¥åº·çŠ¶å†µï¼Œå¯ä»¥æä¾›é‡å¯ã€‚\n- æ£€æµ‹å¹¶å°†æ—§ç‰ˆ Gateway ç½‘å…³æœåŠ¡ï¼ˆlaunchd/systemdï¼›æ—§ç‰ˆ schtasksï¼‰è¿ç§»åˆ°å½“å‰ OpenClaw æœåŠ¡ã€‚\n- åœ¨ Linux ä¸Šï¼Œç¡®ä¿ systemd ç”¨æˆ· lingeringï¼ˆè¿™æ · Gateway ç½‘å…³åœ¨ç™»å‡ºåä»èƒ½å­˜æ´»ï¼‰ã€‚\n\nè¯¦æƒ…ï¼š[Doctor](/gateway/doctor)",
    "## å¯åŠ¨/åœæ­¢/é‡å¯ Gateway ç½‘å…³\n\nCLIï¼ˆæ— è®ºæ“ä½œç³»ç»Ÿéƒ½é€‚ç”¨ï¼‰ï¼š\n\n```bash\nopenclaw gateway status\nopenclaw gateway stop\nopenclaw gateway restart\nopenclaw gateway --port 18789\nopenclaw logs --follow\n```\n\nå¦‚æœä½ ä½¿ç”¨å—ç®¡ç†æœåŠ¡ï¼š\n\n- macOS launchdï¼ˆåº”ç”¨æ†ç»‘çš„ LaunchAgentï¼‰ï¼š`launchctl kickstart -k gui/$UID/bot.molt.gateway`ï¼ˆä½¿ç”¨ `bot.molt.<profile>`ï¼›æ—§ç‰ˆ `com.openclaw.*` ä»ç„¶æœ‰æ•ˆï¼‰\n- Linux systemd ç”¨æˆ·æœåŠ¡ï¼š`systemctl --user restart openclaw-gateway[-<profile>].service`\n- Windowsï¼ˆWSL2ï¼‰ï¼š`systemctl --user restart openclaw-gateway[-<profile>].service`\n  - `launchctl`/`systemctl` ä»…åœ¨æœåŠ¡å·²å®‰è£…æ—¶æœ‰æ•ˆï¼›å¦åˆ™è¿è¡Œ `openclaw gateway install`ã€‚\n\nè¿è¡Œæ‰‹å†Œ + ç¡®åˆ‡çš„æœåŠ¡æ ‡ç­¾ï¼š[Gateway ç½‘å…³è¿è¡Œæ‰‹å†Œ](/gateway)",
    "## å›æ»š/å›ºå®šï¼ˆå½“å‡ºé—®é¢˜æ—¶ï¼‰\n\n### å›ºå®šï¼ˆå…¨å±€å®‰è£…ï¼‰\n\nå®‰è£…å·²çŸ¥è‰¯å¥½çš„ç‰ˆæœ¬ï¼ˆå°† `<version>` æ›¿æ¢ä¸ºæœ€åå¯ç”¨çš„ç‰ˆæœ¬ï¼‰ï¼š\n\n```bash\nnpm i -g openclaw@<version>\n```\n\n```bash\npnpm add -g openclaw@<version>\n```\n\næç¤ºï¼šè¦æŸ¥çœ‹å½“å‰å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œè¿è¡Œ `npm view openclaw version`ã€‚\n\nç„¶åé‡å¯ + é‡æ–°è¿è¡Œ doctorï¼š\n\n```bash\nopenclaw doctor\nopenclaw gateway restart\n```\n\n### æŒ‰æ—¥æœŸå›ºå®šï¼ˆæºç ï¼‰\n\né€‰æ‹©æŸä¸ªæ—¥æœŸçš„æäº¤ï¼ˆç¤ºä¾‹ï¼š\"2026-01-01 æ—¶ main çš„çŠ¶æ€\"ï¼‰ï¼š\n\n```bash\ngit fetch origin\ngit checkout \"$(git rev-list -n 1 --before=\\\"2026-01-01\\\" origin/main)\"\n```\n\nç„¶åé‡æ–°å®‰è£…ä¾èµ– + é‡å¯ï¼š\n\n```bash\npnpm install\npnpm build\nopenclaw gateway restart\n```\n\nå¦‚æœä½ ä¹‹åæƒ³å›åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š\n\n```bash\ngit checkout main\ngit pull\n```",
    "## å¦‚æœä½ å¡ä½äº†\n\n- å†æ¬¡è¿è¡Œ `openclaw doctor` å¹¶ä»”ç»†é˜…è¯»è¾“å‡ºï¼ˆå®ƒé€šå¸¸ä¼šå‘Šè¯‰ä½ ä¿®å¤æ–¹æ³•ï¼‰ã€‚\n- æŸ¥çœ‹ï¼š[æ•…éšœæ’é™¤](/gateway/troubleshooting)\n- åœ¨ Discord ä¸Šæé—®ï¼šhttps://discord.gg/clawd",
    "---\nsummary: \"Usage tracking surfaces and credential requirements\"\nread_when:\n  - You are wiring provider usage/quota surfaces\n  - You need to explain usage tracking behavior or auth requirements\ntitle: \"Usage Tracking\"\n---\n\n# Usage tracking",
    "## What it is\n\n- Pulls provider usage/quota directly from their usage endpoints.\n- No estimated costs; only the provider-reported windows.",
    "## Where it shows up\n\n- `/status` in chats: emojiâ€‘rich status card with session tokens + estimated cost (API key only). Provider usage shows for the **current model provider** when available.\n- `/usage off|tokens|full` in chats: per-response usage footer (OAuth shows tokens only).\n- `/usage cost` in chats: local cost summary aggregated from OpenClaw session logs.\n- CLI: `openclaw status --usage` prints a full per-provider breakdown.\n- CLI: `openclaw channels list` prints the same usage snapshot alongside provider config (use `--no-usage` to skip).\n- macOS menu bar: â€œUsageâ€ section under Context (only if available).",
    "## Providers + credentials\n\n- **Anthropic (Claude)**: OAuth tokens in auth profiles.\n- **GitHub Copilot**: OAuth tokens in auth profiles.\n- **Gemini CLI**: OAuth tokens in auth profiles.\n- **Antigravity**: OAuth tokens in auth profiles.\n- **OpenAI Codex**: OAuth tokens in auth profiles (accountId used when present).\n- **MiniMax**: API key (coding plan key; `MINIMAX_CODE_PLAN_KEY` or `MINIMAX_API_KEY`); uses the 5â€‘hour coding plan window.\n- **z.ai**: API key via env/config/auth store.\n\nUsage is hidden if no matching OAuth/API credentials exist.",
    "---\nread_when:\n  - ä½¿ç”¨å¼€å‘ Gateway ç½‘å…³æ¨¡æ¿\n  - æ›´æ–°é»˜è®¤å¼€å‘æ™ºèƒ½ä½“èº«ä»½\nsummary: å¼€å‘æ™ºèƒ½ä½“ç”¨æˆ·æ¡£æ¡ˆï¼ˆC-3POï¼‰\nx-i18n:\n  generated_at: \"2026-02-03T10:09:37Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: f78f58bdbef10afbba0bc2673832eaa12e0c26270906d04a56584d5620af6fdf\n  source_path: reference/templates/USER.dev.md\n  workflow: 15\n---\n\n# USER.md - ç”¨æˆ·æ¡£æ¡ˆ\n\n- **å§“åï¼š** The Clawdributors\n- **ç§°å‘¼åå¥½ï¼š** They/Themï¼ˆé›†ä½“ï¼‰\n- **ä»£è¯ï¼š** they/them\n- **æ—¶åŒºï¼š** å…¨çƒåˆ†å¸ƒï¼ˆå·¥ä½œåŒºé»˜è®¤ï¼šEurope/Viennaï¼‰\n- **å¤‡æ³¨ï¼š**\n  - æˆ‘ä»¬æ˜¯å¤šäººã€‚OpenClaw çš„è´¡çŒ®è€…ï¼ŒC-3PO æ‰€åœ¨çš„æ¡†æ¶ã€‚\n  - C-3PO çš„å­˜åœ¨æ˜¯ä¸ºäº†å°½å¯èƒ½åœ°å¸®åŠ©è°ƒè¯•å’Œæä¾›ååŠ©ã€‚\n  - è·¨æ—¶åŒºå·¥ä½œï¼Œè‡´åŠ›äºè®© OpenClaw å˜å¾—æ›´å¥½ã€‚\n  - åˆ›é€ è€…ã€‚æ„å»ºè€…ã€‚æ·±å…¥ä»£ç çš„äººã€‚",
    "---\nread_when:\n  - æ‰‹åŠ¨å¼•å¯¼å·¥ä½œåŒº\nsummary: ç”¨æˆ·æ¡£æ¡ˆè®°å½•\nx-i18n:\n  generated_at: \"2026-02-01T21:38:04Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: 508dfcd4648512df712eaf8ca5d397a925d8035bac5bf2357e44d6f52f9fa9a6\n  source_path: reference/templates/USER.md\n  workflow: 15\n---\n\n# USER.md - å…³äºä½ çš„ç”¨æˆ·\n\n_äº†è§£ä½ æ­£åœ¨å¸®åŠ©çš„äººã€‚éšæ—¶æ›´æ–°æ­¤æ–‡ä»¶ã€‚_\n\n- **å§“åï¼š**\n- **ç§°å‘¼æ–¹å¼ï¼š**\n- **ä»£è¯ï¼š** _ï¼ˆå¯é€‰ï¼‰_\n- **æ—¶åŒºï¼š**\n- **å¤‡æ³¨ï¼š**",
    "## èƒŒæ™¯\n\n_ï¼ˆä»–ä»¬å…³å¿ƒä»€ä¹ˆï¼Ÿæ­£åœ¨åšä»€ä¹ˆé¡¹ç›®ï¼Ÿä»€ä¹ˆè®©ä»–ä»¬çƒ¦æ¼ï¼Ÿä»€ä¹ˆè®©ä»–ä»¬å¼€å¿ƒï¼Ÿéšç€æ—¶é—´æ¨ç§»é€æ­¥å®Œå–„ã€‚ï¼‰_\n\n---\n\nä½ äº†è§£å¾—è¶Šå¤šï¼Œå°±è¶Šèƒ½æä¾›æ›´å¥½çš„å¸®åŠ©ã€‚ä½†è¯·è®°ä½â€”â€”ä½ æ˜¯åœ¨äº†è§£ä¸€ä¸ªäººï¼Œè€Œä¸æ˜¯åœ¨å»ºç«‹æ¡£æ¡ˆã€‚å°Šé‡è¿™ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚",
    "---\nsummary: \"Use Venice AI privacy-focused models in OpenClaw\"\nread_when:\n  - You want privacy-focused inference in OpenClaw\n  - You want Venice AI setup guidance\ntitle: \"Venice AI\"\n---\n\n# Venice AI (Venice highlight)\n\n**Venice** is our highlight Venice setup for privacy-first inference with optional anonymized access to proprietary models.\n\nVenice AI provides privacy-focused AI inference with support for uncensored models and access to major proprietary models through their anonymized proxy. All inference is private by defaultâ€”no training on your data, no logging.",
    "## Why Venice in OpenClaw\n\n- **Private inference** for open-source models (no logging).\n- **Uncensored models** when you need them.\n- **Anonymized access** to proprietary models (Opus/GPT/Gemini) when quality matters.\n- OpenAI-compatible `/v1` endpoints.",
    "## Privacy Modes\n\nVenice offers two privacy levels â€” understanding this is key to choosing your model:\n\n| Mode           | Description                                                                                                          | Models                                         |\n| -------------- | -------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------- |\n| **Private**    | Fully private. Prompts/responses are **never stored or logged**. Ephemeral.                                          | Llama, Qwen, DeepSeek, Venice Uncensored, etc. |\n| **Anonymized** | Proxied through Venice with metadata stripped. The underlying provider (OpenAI, Anthropic) sees anonymized requests. | Claude, GPT, Gemini, Grok, Kimi, MiniMax       |",
    "## Features\n\n- **Privacy-focused**: Choose between \"private\" (fully private) and \"anonymized\" (proxied) modes\n- **Uncensored models**: Access to models without content restrictions\n- **Major model access**: Use Claude, GPT-5.2, Gemini, Grok via Venice's anonymized proxy\n- **OpenAI-compatible API**: Standard `/v1` endpoints for easy integration\n- **Streaming**: âœ… Supported on all models\n- **Function calling**: âœ… Supported on select models (check model capabilities)\n- **Vision**: âœ… Supported on models with vision capability\n- **No hard rate limits**: Fair-use throttling may apply for extreme usage",
    "## Setup\n\n### 1. Get API Key\n\n1. Sign up at [venice.ai](https://venice.ai)\n2. Go to **Settings â†’ API Keys â†’ Create new key**\n3. Copy your API key (format: `vapi_xxxxxxxxxxxx`)\n\n### 2. Configure OpenClaw\n\n**Option A: Environment Variable**\n\n```bash\nexport VENICE_API_KEY=\"vapi_xxxxxxxxxxxx\"\n```\n\n**Option B: Interactive Setup (Recommended)**\n\n```bash\nopenclaw onboard --auth-choice venice-api-key\n```\n\nThis will:\n\n1. Prompt for your API key (or use existing `VENICE_API_KEY`)\n2. Show all available Venice models\n3. Let you pick your default model\n4. Configure the provider automatically\n\n**Option C: Non-interactive**\n\n```bash\nopenclaw onboard --non-interactive \\\n  --auth-choice venice-api-key \\\n  --venice-api-key \"vapi_xxxxxxxxxxxx\"\n```\n\n### 3. Verify Setup\n\n```bash\nopenclaw chat --model venice/llama-3.3-70b \"Hello, are you working?\"\n```",
    "## Model Selection\n\nAfter setup, OpenClaw shows all available Venice models. Pick based on your needs:\n\n- **Default (our pick)**: `venice/llama-3.3-70b` for private, balanced performance.\n- **Best overall quality**: `venice/claude-opus-45` for hard jobs (Opus remains the strongest).\n- **Privacy**: Choose \"private\" models for fully private inference.\n- **Capability**: Choose \"anonymized\" models to access Claude, GPT, Gemini via Venice's proxy.\n\nChange your default model anytime:\n\n```bash\nopenclaw models set venice/claude-opus-45\nopenclaw models set venice/llama-3.3-70b\n```\n\nList all available models:\n\n```bash\nopenclaw models list | grep venice\n```",
    "## Configure via `openclaw configure`\n\n1. Run `openclaw configure`\n2. Select **Model/auth**\n3. Choose **Venice AI**",
    "## Which Model Should I Use?",
    "| Use Case                     | Recommended Model                | Why                                       |\n| ---------------------------- | -------------------------------- | ----------------------------------------- |\n| **General chat**             | `llama-3.3-70b`                  | Good all-around, fully private            |\n| **Best overall quality**     | `claude-opus-45`                 | Opus remains the strongest for hard tasks |\n| **Privacy + Claude quality** | `claude-opus-45`                 | Best reasoning via anonymized proxy       |\n| **Coding**                   | `qwen3-coder-480b-a35b-instruct` | Code-optimized, 262k context              |\n| **Vision tasks**             | `qwen3-vl-235b-a22b`             | Best private vision model                 |\n| **Uncensored**               | `venice-uncensored`              | No content restrictions                   |\n| **Fast + cheap**             | `qwen3-4b`                       | Lightweight, still capable                |\n| **Complex reasoning**        | `deepseek-v3.2`                  | Strong reasoning, private                 |",
    "## Available Models (25 Total)\n\n### Private Models (15) â€” Fully Private, No Logging",
    "| Model ID                         | Name                    | Context (tokens) | Features                |\n| -------------------------------- | ----------------------- | ---------------- | ----------------------- |\n| `llama-3.3-70b`                  | Llama 3.3 70B           | 131k             | General                 |\n| `llama-3.2-3b`                   | Llama 3.2 3B            | 131k             | Fast, lightweight       |\n| `hermes-3-llama-3.1-405b`        | Hermes 3 Llama 3.1 405B | 131k             | Complex tasks           |\n| `qwen3-235b-a22b-thinking-2507`  | Qwen3 235B Thinking     | 131k             | Reasoning               |\n| `qwen3-235b-a22b-instruct-2507`  | Qwen3 235B Instruct     | 131k             | General                 |\n| `qwen3-coder-480b-a35b-instruct` | Qwen3 Coder 480B        | 262k             | Code                    |\n| `qwen3-next-80b`                 | Qwen3 Next 80B          | 262k             | General                 |\n| `qwen3-vl-235b-a22b`             | Qwen3 VL 235B           | 262k             | Vision                  |\n| `qwen3-4b`                       | Venice Small (Qwen3 4B) | 32k              | Fast, reasoning         |\n| `deepseek-v3.2`                  | DeepSeek V3.2           | 163k             | Reasoning               |\n| `venice-uncensored`              | Venice Uncensored       | 32k              | Uncensored              |\n| `mistral-31-24b`                 | Venice Medium (Mistral) | 131k             | Vision                  |\n| `google-gemma-3-27b-it`          | Gemma 3 27B Instruct    | 202k             | Vision                  |\n| `openai-gpt-oss-120b`            | OpenAI GPT OSS 120B     | 131k             | General                 |\n| `zai-org-glm-4.7`                | GLM 4.7                 | 202k             | Reasoning, multilingual |",
    "### Anonymized Models (10) â€” Via Venice Proxy",
    "| Model ID                 | Original          | Context (tokens) | Features          |\n| ------------------------ | ----------------- | ---------------- | ----------------- |\n| `claude-opus-45`         | Claude Opus 4.5   | 202k             | Reasoning, vision |\n| `claude-sonnet-45`       | Claude Sonnet 4.5 | 202k             | Reasoning, vision |\n| `openai-gpt-52`          | GPT-5.2           | 262k             | Reasoning         |\n| `openai-gpt-52-codex`    | GPT-5.2 Codex     | 262k             | Reasoning, vision |\n| `gemini-3-pro-preview`   | Gemini 3 Pro      | 202k             | Reasoning, vision |\n| `gemini-3-flash-preview` | Gemini 3 Flash    | 262k             | Reasoning, vision |\n| `grok-41-fast`           | Grok 4.1 Fast     | 262k             | Reasoning, vision |\n| `grok-code-fast-1`       | Grok Code Fast 1  | 262k             | Reasoning, code   |\n| `kimi-k2-thinking`       | Kimi K2 Thinking  | 262k             | Reasoning         |\n| `minimax-m21`            | MiniMax M2.1      | 202k             | Reasoning         |",
    "## Model Discovery\n\nOpenClaw automatically discovers models from the Venice API when `VENICE_API_KEY` is set. If the API is unreachable, it falls back to a static catalog.\n\nThe `/models` endpoint is public (no auth needed for listing), but inference requires a valid API key.",
    "## Streaming & Tool Support\n\n| Feature              | Support                                                 |\n| -------------------- | ------------------------------------------------------- |\n| **Streaming**        | âœ… All models                                           |\n| **Function calling** | âœ… Most models (check `supportsFunctionCalling` in API) |\n| **Vision/Images**    | âœ… Models marked with \"Vision\" feature                  |\n| **JSON mode**        | âœ… Supported via `response_format`                      |",
    "## Pricing\n\nVenice uses a credit-based system. Check [venice.ai/pricing](https://venice.ai/pricing) for current rates:\n\n- **Private models**: Generally lower cost\n- **Anonymized models**: Similar to direct API pricing + small Venice fee",
    "## Comparison: Venice vs Direct API\n\n| Aspect       | Venice (Anonymized)           | Direct API          |\n| ------------ | ----------------------------- | ------------------- |\n| **Privacy**  | Metadata stripped, anonymized | Your account linked |\n| **Latency**  | +10-50ms (proxy)              | Direct              |\n| **Features** | Most features supported       | Full features       |\n| **Billing**  | Venice credits                | Provider billing    |",
    "## Usage Examples\n\n```bash\n# Use default private model\nopenclaw chat --model venice/llama-3.3-70b\n\n# Use Claude via Venice (anonymized)\nopenclaw chat --model venice/claude-opus-45\n\n# Use uncensored model\nopenclaw chat --model venice/venice-uncensored\n\n# Use vision model with image\nopenclaw chat --model venice/qwen3-vl-235b-a22b\n\n# Use coding model\nopenclaw chat --model venice/qwen3-coder-480b-a35b-instruct\n```",
    "## Troubleshooting\n\n### API key not recognized\n\n```bash\necho $VENICE_API_KEY\nopenclaw models list | grep venice\n```\n\nEnsure the key starts with `vapi_`.\n\n### Model not available\n\nThe Venice model catalog updates dynamically. Run `openclaw models list` to see currently available models. Some models may be temporarily offline.\n\n### Connection issues\n\nVenice API is at `https://api.venice.ai/api/v1`. Ensure your network allows HTTPS connections.",
    "## Config file example\n\n```json5\n{\n  env: { VENICE_API_KEY: \"vapi_...\" },\n  agents: { defaults: { model: { primary: \"venice/llama-3.3-70b\" } } },\n  models: {\n    mode: \"merge\",\n    providers: {\n      venice: {\n        baseUrl: \"https://api.venice.ai/api/v1\",\n        apiKey: \"${VENICE_API_KEY}\",\n        api: \"openai-completions\",\n        models: [\n          {\n            id: \"llama-3.3-70b\",\n            name: \"Llama 3.3 70B\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 131072,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "## Links\n\n- [Venice AI](https://venice.ai)\n- [API Documentation](https://docs.venice.ai)\n- [Pricing](https://venice.ai/pricing)\n- [Status](https://status.venice.ai)",
    "---\ntitle: \"Vercel AI Gateway\"\nsummary: \"Vercel AI Gateway setup (auth + model selection)\"\nread_when:\n  - You want to use Vercel AI Gateway with OpenClaw\n  - You need the API key env var or CLI auth choice\n---\n\n# Vercel AI Gateway\n\nThe [Vercel AI Gateway](https://vercel.com/ai-gateway) provides a unified API to access hundreds of models through a single endpoint.\n\n- Provider: `vercel-ai-gateway`\n- Auth: `AI_GATEWAY_API_KEY`\n- API: Anthropic Messages compatible",
    "## Quick start\n\n1. Set the API key (recommended: store it for the Gateway):\n\n```bash\nopenclaw onboard --auth-choice ai-gateway-api-key\n```\n\n2. Set a default model:\n\n```json5\n{\n  agents: {\n    defaults: {\n      model: { primary: \"vercel-ai-gateway/anthropic/claude-opus-4.6\" },\n    },\n  },\n}\n```",
    "## Non-interactive example\n\n```bash\nopenclaw onboard --non-interactive \\\n  --mode local \\\n  --auth-choice ai-gateway-api-key \\\n  --ai-gateway-api-key \"$AI_GATEWAY_API_KEY\"\n```",
    "## Environment note\n\nIf the Gateway runs as a daemon (launchd/systemd), make sure `AI_GATEWAY_API_KEY`\nis available to that process (for example, in `~/.openclaw/.env` or via\n`env.shellEnv`).",
    "---\nread_when:\n  - ä½ æƒ³ä» OpenClaw å‘èµ·å‡ºç«™è¯­éŸ³é€šè¯\n  - ä½ æ­£åœ¨é…ç½®æˆ–å¼€å‘ voice-call æ’ä»¶\nsummary: Voice Call æ’ä»¶ï¼šé€šè¿‡ Twilio/Telnyx/Plivo è¿›è¡Œå‡ºç«™ + å…¥ç«™é€šè¯ï¼ˆæ’ä»¶å®‰è£… + é…ç½® + CLIï¼‰\ntitle: Voice Call æ’ä»¶\nx-i18n:\n  generated_at: \"2026-02-03T07:53:40Z\"\n  model: claude-opus-4-5\n  provider: pi\n  source_hash: d731c63bf52781cc49262db550d0507d7fc33e5e7ce5d87efaf5d44aedcafef7\n  source_path: plugins/voice-call.md\n  workflow: 15\n---\n\n# Voice Callï¼ˆæ’ä»¶ï¼‰\n\né€šè¿‡æ’ä»¶ä¸º OpenClaw æä¾›è¯­éŸ³é€šè¯ã€‚æ”¯æŒå‡ºç«™é€šçŸ¥å’Œå¸¦æœ‰å…¥ç«™ç­–ç•¥çš„å¤šè½®å¯¹è¯ã€‚\n\nå½“å‰æä¾›å•†ï¼š\n\n- `twilio`ï¼ˆProgrammable Voice + Media Streamsï¼‰\n- `telnyx`ï¼ˆCall Control v2ï¼‰\n- `plivo`ï¼ˆVoice API + XML transfer + GetInput speechï¼‰\n- `mock`ï¼ˆå¼€å‘/æ— ç½‘ç»œï¼‰\n\nå¿«é€Ÿå¿ƒæ™ºæ¨¡å‹ï¼š\n\n- å®‰è£…æ’ä»¶\n- é‡å¯ Gateway ç½‘å…³\n- åœ¨ `plugins.entries.voice-call.config` ä¸‹é…ç½®\n- ä½¿ç”¨ `openclaw voicecall ...` æˆ– `voice_call` å·¥å…·",
    "## è¿è¡Œä½ç½®ï¼ˆæœ¬åœ° vs è¿œç¨‹ï¼‰\n\nVoice Call æ’ä»¶è¿è¡Œåœ¨ **Gateway ç½‘å…³è¿›ç¨‹å†…éƒ¨**ã€‚\n\nå¦‚æœä½ ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³ï¼Œåœ¨**è¿è¡Œ Gateway ç½‘å…³çš„æœºå™¨**ä¸Šå®‰è£…/é…ç½®æ’ä»¶ï¼Œç„¶åé‡å¯ Gateway ç½‘å…³ä»¥åŠ è½½å®ƒã€‚",
    "## å®‰è£…\n\n### é€‰é¡¹ Aï¼šä» npm å®‰è£…ï¼ˆæ¨èï¼‰\n\n```bash\nopenclaw plugins install @openclaw/voice-call\n```\n\nä¹‹åé‡å¯ Gateway ç½‘å…³ã€‚\n\n### é€‰é¡¹ Bï¼šä»æœ¬åœ°æ–‡ä»¶å¤¹å®‰è£…ï¼ˆå¼€å‘ï¼Œä¸å¤åˆ¶ï¼‰\n\n```bash\nopenclaw plugins install ./extensions/voice-call\ncd ./extensions/voice-call && pnpm install\n```\n\nä¹‹åé‡å¯ Gateway ç½‘å…³ã€‚",
    "## é…ç½®\n\nåœ¨ `plugins.entries.voice-call.config` ä¸‹è®¾ç½®é…ç½®ï¼š\n\n```json5\n{\n  plugins: {\n    entries: {\n      \"voice-call\": {\n        enabled: true,\n        config: {\n          provider: \"twilio\", // æˆ– \"telnyx\" | \"plivo\" | \"mock\"\n          fromNumber: \"+15550001234\",\n          toNumber: \"+15550005678\",\n\n          twilio: {\n            accountSid: \"ACxxxxxxxx\",\n            authToken: \"...\",\n          },\n\n          plivo: {\n            authId: \"MAxxxxxxxxxxxxxxxxxxxx\",\n            authToken: \"...\",\n          },\n\n          // Webhook æœåŠ¡å™¨\n          serve: {\n            port: 3334,\n            path: \"/voice/webhook\",\n          },\n\n          // å…¬å¼€æš´éœ²ï¼ˆé€‰ä¸€ä¸ªï¼‰\n          // publicUrl: \"https://example.ngrok.app/voice/webhook\",\n          // tunnel: { provider: \"ngrok\" },\n          // tailscale: { mode: \"funnel\", path: \"/voice/webhook\" }\n\n          outbound: {\n            defaultMode: \"notify\", // notify | conversation\n          },",
    "streaming: {\n            enabled: true,\n            streamPath: \"/voice/stream\",\n          },\n        },\n      },\n    },\n  },\n}\n```\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- Twilio/Telnyx éœ€è¦**å¯å…¬å¼€è®¿é—®**çš„ webhook URLã€‚\n- Plivo éœ€è¦**å¯å…¬å¼€è®¿é—®**çš„ webhook URLã€‚\n- `mock` æ˜¯æœ¬åœ°å¼€å‘æä¾›å•†ï¼ˆæ— ç½‘ç»œè°ƒç”¨ï¼‰ã€‚\n- `skipSignatureVerification` ä»…ç”¨äºæœ¬åœ°æµ‹è¯•ã€‚\n- å¦‚æœä½ ä½¿ç”¨ ngrok å…è´¹ç‰ˆï¼Œå°† `publicUrl` è®¾ç½®ä¸ºç¡®åˆ‡çš„ ngrok URLï¼›ç­¾åéªŒè¯å§‹ç»ˆå¼ºåˆ¶æ‰§è¡Œã€‚\n- `tunnel.allowNgrokFreeTierLoopbackBypass: true` å…è®¸å¸¦æœ‰æ— æ•ˆç­¾åçš„ Twilio webhooksï¼Œ**ä»…å½“** `tunnel.provider=\"ngrok\"` ä¸” `serve.bind` æ˜¯ loopbackï¼ˆngrok æœ¬åœ°ä»£ç†ï¼‰æ—¶ã€‚ä»…ç”¨äºæœ¬åœ°å¼€å‘ã€‚\n- Ngrok å…è´¹ç‰ˆ URL å¯èƒ½ä¼šæ›´æ”¹æˆ–æ·»åŠ ä¸­é—´é¡µé¢è¡Œä¸ºï¼›å¦‚æœ `publicUrl` æ¼‚ç§»ï¼ŒTwilio ç­¾åå°†å¤±è´¥ã€‚å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œä¼˜å…ˆä½¿ç”¨ç¨³å®šåŸŸåæˆ– Tailscale funnelã€‚",
    "## é€šè¯çš„ TTS\n\nVoice Call ä½¿ç”¨æ ¸å¿ƒ `messages.tts` é…ç½®ï¼ˆOpenAI æˆ– ElevenLabsï¼‰è¿›è¡Œé€šè¯ä¸­çš„æµå¼è¯­éŸ³ã€‚ä½ å¯ä»¥åœ¨æ’ä»¶é…ç½®ä¸‹ä½¿ç”¨**ç›¸åŒçš„ç»“æ„**è¦†ç›–å®ƒâ€”â€”å®ƒä¼šä¸ `messages.tts` æ·±åº¦åˆå¹¶ã€‚\n\n```json5\n{\n  tts: {\n    provider: \"elevenlabs\",\n    elevenlabs: {\n      voiceId: \"pMsXgVXv3BLzUgSXRplE\",\n      modelId: \"eleven_multilingual_v2\",\n    },\n  },\n}\n```\n\næ³¨æ„äº‹é¡¹ï¼š\n\n- **è¯­éŸ³é€šè¯å¿½ç•¥ Edge TTS**ï¼ˆç”µè¯éŸ³é¢‘éœ€è¦ PCMï¼›Edge è¾“å‡ºä¸å¯é ï¼‰ã€‚\n- å½“å¯ç”¨ Twilio åª’ä½“æµæ—¶ä½¿ç”¨æ ¸å¿ƒ TTSï¼›å¦åˆ™é€šè¯å›é€€åˆ°æä¾›å•†åŸç”Ÿè¯­éŸ³ã€‚\n\n### æ›´å¤šç¤ºä¾‹\n\nä»…ä½¿ç”¨æ ¸å¿ƒ TTSï¼ˆæ— è¦†ç›–ï¼‰ï¼š\n\n```json5\n{\n  messages: {\n    tts: {\n      provider: \"openai\",\n      openai: { voice: \"alloy\" },\n    },\n  },\n}\n```\n\nä»…ä¸ºé€šè¯è¦†ç›–ä¸º ElevenLabsï¼ˆå…¶ä»–åœ°æ–¹ä¿æŒæ ¸å¿ƒé»˜è®¤ï¼‰ï¼š\n\n```json5\n{\n  plugins: {\n    entries: {\n      \"voice-call\": {\n        config: {\n          tts: {\n            provider: \"elevenlabs\",\n            elevenlabs: {\n              apiKey: \"elevenlabs_key\",\n              voiceId: \"pMsXgVXv3BLzUgSXRplE\",\n              modelId: \"eleven_multilingual_v2\",\n            },\n          },\n        },\n      },\n    },\n  },\n}\n```\n\nä»…ä¸ºé€šè¯è¦†ç›– OpenAI æ¨¡å‹ï¼ˆæ·±åº¦åˆå¹¶ç¤ºä¾‹ï¼‰ï¼š",
    "```json5\n{\n  plugins: {\n    entries: {\n      \"voice-call\": {\n        config: {\n          tts: {\n            openai: {\n              model: \"gpt-4o-mini-tts\",\n              voice: \"marin\",\n            },\n          },\n        },\n      },\n    },\n  },\n}\n```",
    "## å…¥ç«™é€šè¯\n\nå…¥ç«™ç­–ç•¥é»˜è®¤ä¸º `disabled`ã€‚è¦å¯ç”¨å…¥ç«™é€šè¯ï¼Œè®¾ç½®ï¼š\n\n```json5\n{\n  inboundPolicy: \"allowlist\",\n  allowFrom: [\"+15550001234\"],\n  inboundGreeting: \"Hello! How can I help?\",\n}\n```\n\nè‡ªåŠ¨å“åº”ä½¿ç”¨æ™ºèƒ½ä½“ç³»ç»Ÿã€‚é€šè¿‡ä»¥ä¸‹æ–¹å¼è°ƒæ•´ï¼š\n\n- `responseModel`\n- `responseSystemPrompt`\n- `responseTimeoutMs`",
    "## CLI\n\n```bash\nopenclaw voicecall call --to \"+15555550123\" --message \"Hello from OpenClaw\"\nopenclaw voicecall continue --call-id <id> --message \"Any questions?\"\nopenclaw voicecall speak --call-id <id> --message \"One moment\"\nopenclaw voicecall end --call-id <id>\nopenclaw voicecall status --call-id <id>\nopenclaw voicecall tail\nopenclaw voicecall expose --mode funnel\n```",
    "## æ™ºèƒ½ä½“å·¥å…·\n\nå·¥å…·åç§°ï¼š`voice_call`\n\næ“ä½œï¼š\n\n- `initiate_call`ï¼ˆmessageã€to?ã€mode?ï¼‰\n- `continue_call`ï¼ˆcallIdã€messageï¼‰\n- `speak_to_user`ï¼ˆcallIdã€messageï¼‰\n- `end_call`ï¼ˆcallIdï¼‰\n- `get_status`ï¼ˆcallIdï¼‰\n\næ­¤ä»“åº“åœ¨ `skills/voice-call/SKILL.md` æä¾›äº†é…å¥—çš„ skill æ–‡æ¡£ã€‚",
    "## Gateway ç½‘å…³ RPC\n\n- `voicecall.initiate`ï¼ˆ`to?`ã€`message`ã€`mode?`ï¼‰\n- `voicecall.continue`ï¼ˆ`callId`ã€`message`ï¼‰\n- `voicecall.speak`ï¼ˆ`callId`ã€`message`ï¼‰\n- `voicecall.end`ï¼ˆ`callId`ï¼‰\n- `voicecall.status`ï¼ˆ`callId`ï¼‰",
    "---\nsummary: \"Voice overlay lifecycle when wake-word and push-to-talk overlap\"\nread_when:\n  - Adjusting voice overlay behavior\ntitle: \"Voice Overlay\"\n---\n\n# Voice Overlay Lifecycle (macOS)\n\nAudience: macOS app contributors. Goal: keep the voice overlay predictable when wake-word and push-to-talk overlap.",
    "## Current intent\n\n- If the overlay is already visible from wake-word and the user presses the hotkey, the hotkey session _adopts_ the existing text instead of resetting it. The overlay stays up while the hotkey is held. When the user releases: send if there is trimmed text, otherwise dismiss.\n- Wake-word alone still auto-sends on silence; push-to-talk sends immediately on release.",
    "## Implemented (Dec 9, 2025)\n\n- Overlay sessions now carry a token per capture (wake-word or push-to-talk). Partial/final/send/dismiss/level updates are dropped when the token doesnâ€™t match, avoiding stale callbacks.\n- Push-to-talk adopts any visible overlay text as a prefix (so pressing the hotkey while the wake overlay is up keeps the text and appends new speech). It waits up to 1.5s for a final transcript before falling back to the current text.\n- Chime/overlay logging is emitted at `info` in categories `voicewake.overlay`, `voicewake.ptt`, and `voicewake.chime` (session start, partial, final, send, dismiss, chime reason).",
    "## Next steps",
    "1. **VoiceSessionCoordinator (actor)**\n   - Owns exactly one `VoiceSession` at a time.\n   - API (token-based): `beginWakeCapture`, `beginPushToTalk`, `updatePartial`, `endCapture`, `cancel`, `applyCooldown`.\n   - Drops callbacks that carry stale tokens (prevents old recognizers from reopening the overlay).\n2. **VoiceSession (model)**\n   - Fields: `token`, `source` (wakeWord|pushToTalk), committed/volatile text, chime flags, timers (auto-send, idle), `overlayMode` (display|editing|sending), cooldown deadline.\n3. **Overlay binding**\n   - `VoiceSessionPublisher` (`ObservableObject`) mirrors the active session into SwiftUI.\n   - `VoiceWakeOverlayView` renders only via the publisher; it never mutates global singletons directly.\n   - Overlay user actions (`sendNow`, `dismiss`, `edit`) call back into the coordinator with the session token.\n4. **Unified send path**\n   - On `endCapture`: if trimmed text is empty â†’ dismiss; else `performSend(session:)` (plays send chime once, forwards, dismisses).\n   - Push-to-talk: no delay; wake-word: optional delay for auto-send.\n   - Apply a short cooldown to the wake runtime after push-to-talk finishes so wake-word doesnâ€™t immediately retrigger.\n5. **Logging**\n   - Coordinator emits `.info` logs in subsystem `bot.molt`, categories `voicewake.overlay` and `voicewake.chime`.\n   - Key events: `session_started`, `adopted_by_push_to_talk`, `partial`, `finalized`, `send`, `dismiss`, `cancel`, `cooldown`.",
    "## Debugging checklist\n\n- Stream logs while reproducing a sticky overlay:\n\n  ```bash\n  sudo log stream --predicate 'subsystem == \"bot.molt\" AND category CONTAINS \"voicewake\"' --level info --style compact\n  ```\n\n- Verify only one active session token; stale callbacks should be dropped by the coordinator.\n- Ensure push-to-talk release always calls `endCapture` with the active token; if text is empty, expect `dismiss` without chime or send.",
    "## Migration steps (suggested)\n\n1. Add `VoiceSessionCoordinator`, `VoiceSession`, and `VoiceSessionPublisher`.\n2. Refactor `VoiceWakeRuntime` to create/update/end sessions instead of touching `VoiceWakeOverlayController` directly.\n3. Refactor `VoicePushToTalk` to adopt existing sessions and call `endCapture` on release; apply runtime cooldown.\n4. Wire `VoiceWakeOverlayController` to the publisher; remove direct calls from runtime/PTT.\n5. Add integration tests for session adoption, cooldown, and empty-text dismissal.",
    "---\nsummary: \"CLI reference for `openclaw voicecall` (voice-call plugin command surface)\"\nread_when:\n  - You use the voice-call plugin and want the CLI entry points\n  - You want quick examples for `voicecall call|continue|status|tail|expose`\ntitle: \"voicecall\"\n---\n\n# `openclaw voicecall`\n\n`voicecall` is a plugin-provided command. It only appears if the voice-call plugin is installed and enabled.\n\nPrimary doc:\n\n- Voice-call plugin: [Voice Call](/plugins/voice-call)",
    "## Common commands\n\n```bash\nopenclaw voicecall status --call-id <id>\nopenclaw voicecall call --to \"+15555550123\" --message \"Hello\" --mode notify\nopenclaw voicecall continue --call-id <id> --message \"Any questions?\"\nopenclaw voicecall end --call-id <id>\n```",
    "## Exposing webhooks (Tailscale)\n\n```bash\nopenclaw voicecall expose --mode serve\nopenclaw voicecall expose --mode funnel\nopenclaw voicecall unexpose\n```\n\nSecurity note: only expose the webhook endpoint to networks you trust. Prefer Tailscale Serve over Funnel when possible.",
    "---\nsummary: \"Global voice wake words (Gateway-owned) and how they sync across nodes\"\nread_when:\n  - Changing voice wake words behavior or defaults\n  - Adding new node platforms that need wake word sync\ntitle: \"Voice Wake\"\n---\n\n# Voice Wake (Global Wake Words)\n\nOpenClaw treats **wake words as a single global list** owned by the **Gateway**.\n\n- There are **no per-node custom wake words**.\n- **Any node/app UI may edit** the list; changes are persisted by the Gateway and broadcast to everyone.\n- Each device still keeps its own **Voice Wake enabled/disabled** toggle (local UX + permissions differ).",
    "## Storage (Gateway host)\n\nWake words are stored on the gateway machine at:\n\n- `~/.openclaw/settings/voicewake.json`\n\nShape:\n\n```json\n{ \"triggers\": [\"openclaw\", \"claude\", \"computer\"], \"updatedAtMs\": 1730000000000 }\n```",
    "## Protocol\n\n### Methods\n\n- `voicewake.get` â†’ `{ triggers: string[] }`\n- `voicewake.set` with params `{ triggers: string[] }` â†’ `{ triggers: string[] }`\n\nNotes:\n\n- Triggers are normalized (trimmed, empties dropped). Empty lists fall back to defaults.\n- Limits are enforced for safety (count/length caps).\n\n### Events\n\n- `voicewake.changed` payload `{ triggers: string[] }`\n\nWho receives it:\n\n- All WebSocket clients (macOS app, WebChat, etc.)\n- All connected nodes (iOS/Android), and also on node connect as an initial â€œcurrent stateâ€ push.",
    "## Client behavior\n\n### macOS app\n\n- Uses the global list to gate `VoiceWakeRuntime` triggers.\n- Editing â€œTrigger wordsâ€ in Voice Wake settings calls `voicewake.set` and then relies on the broadcast to keep other clients in sync.\n\n### iOS node\n\n- Uses the global list for `VoiceWakeManager` trigger detection.\n- Editing Wake Words in Settings calls `voicewake.set` (over the Gateway WS) and also keeps local wake-word detection responsive.\n\n### Android node\n\n- Exposes a Wake Words editor in Settings.\n- Calls `voicewake.set` over the Gateway WS so edits sync everywhere.",
    "---\nsummary: \"VPS hosting hub for OpenClaw (Oracle/Fly/Hetzner/GCP/exe.dev)\"\nread_when:\n  - You want to run the Gateway in the cloud\n  - You need a quick map of VPS/hosting guides\ntitle: \"VPS Hosting\"\n---\n\n# VPS hosting\n\nThis hub links to the supported VPS/hosting guides and explains how cloud\ndeployments work at a high level.",
    "## Pick a provider\n\n- **Railway** (oneâ€‘click + browser setup): [Railway](/install/railway)\n- **Northflank** (oneâ€‘click + browser setup): [Northflank](/install/northflank)\n- **Oracle Cloud (Always Free)**: [Oracle](/platforms/oracle) â€” $0/month (Always Free, ARM; capacity/signup can be finicky)\n- **Fly.io**: [Fly.io](/install/fly)\n- **Hetzner (Docker)**: [Hetzner](/install/hetzner)\n- **GCP (Compute Engine)**: [GCP](/install/gcp)\n- **exe.dev** (VM + HTTPS proxy): [exe.dev](/install/exe-dev)\n- **AWS (EC2/Lightsail/free tier)**: works well too. Video guide:\n  [https://x.com/techfrenAJ/status/2014934471095812547](https://x.com/techfrenAJ/status/2014934471095812547)",
    "## How cloud setups work\n\n- The **Gateway runs on the VPS** and owns state + workspace.\n- You connect from your laptop/phone via the **Control UI** or **Tailscale/SSH**.\n- Treat the VPS as the source of truth and **back up** the state + workspace.\n- Secure default: keep the Gateway on loopback and access it via SSH tunnel or Tailscale Serve.\n  If you bind to `lan`/`tailnet`, require `gateway.auth.token` or `gateway.auth.password`.\n\nRemote access: [Gateway remote](/gateway/remote)  \nPlatforms hub: [Platforms](/platforms)",
    "## Using nodes with a VPS\n\nYou can keep the Gateway in the cloud and pair **nodes** on your local devices\n(Mac/iOS/Android/headless). Nodes provide local screen/camera/canvas and `system.run`\ncapabilities while the Gateway stays in the cloud.\n\nDocs: [Nodes](/nodes), [Nodes CLI](/cli/nodes)",
    "---\nsummary: \"Web search + fetch tools (Brave Search API, Perplexity direct/OpenRouter)\"\nread_when:\n  - You want to enable web_search or web_fetch\n  - You need Brave Search API key setup\n  - You want to use Perplexity Sonar for web search\ntitle: \"Web Tools\"\n---\n\n# Web tools\n\nOpenClaw ships two lightweight web tools:\n\n- `web_search` â€” Search the web via Brave Search API (default) or Perplexity Sonar (direct or via OpenRouter).\n- `web_fetch` â€” HTTP fetch + readable extraction (HTML â†’ markdown/text).\n\nThese are **not** browser automation. For JS-heavy sites or logins, use the\n[Browser tool](/tools/browser).",
    "## How it works\n\n- `web_search` calls your configured provider and returns results.\n  - **Brave** (default): returns structured results (title, URL, snippet).\n  - **Perplexity**: returns AI-synthesized answers with citations from real-time web search.\n- Results are cached by query for 15 minutes (configurable).\n- `web_fetch` does a plain HTTP GET and extracts readable content\n  (HTML â†’ markdown/text). It does **not** execute JavaScript.\n- `web_fetch` is enabled by default (unless explicitly disabled).",
    "## Choosing a search provider\n\n| Provider            | Pros                                         | Cons                                     | API Key                                      |\n| ------------------- | -------------------------------------------- | ---------------------------------------- | -------------------------------------------- |\n| **Brave** (default) | Fast, structured results, free tier          | Traditional search results               | `BRAVE_API_KEY`                              |\n| **Perplexity**      | AI-synthesized answers, citations, real-time | Requires Perplexity or OpenRouter access | `OPENROUTER_API_KEY` or `PERPLEXITY_API_KEY` |\n\nSee [Brave Search setup](/brave-search) and [Perplexity Sonar](/perplexity) for provider-specific details.\n\nSet the provider in config:\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        provider: \"brave\", // or \"perplexity\"\n      },\n    },\n  },\n}\n```\n\nExample: switch to Perplexity Sonar (direct API):",
    "```json5\n{\n  tools: {\n    web: {\n      search: {\n        provider: \"perplexity\",\n        perplexity: {\n          apiKey: \"pplx-...\",\n          baseUrl: \"https://api.perplexity.ai\",\n          model: \"perplexity/sonar-pro\",\n        },\n      },\n    },\n  },\n}\n```",
    "## Getting a Brave API key\n\n1. Create a Brave Search API account at [https://brave.com/search/api/](https://brave.com/search/api/)\n2. In the dashboard, choose the **Data for Search** plan (not â€œData for AIâ€) and generate an API key.\n3. Run `openclaw configure --section web` to store the key in config (recommended), or set `BRAVE_API_KEY` in your environment.\n\nBrave provides a free tier plus paid plans; check the Brave API portal for the\ncurrent limits and pricing.\n\n### Where to set the key (recommended)\n\n**Recommended:** run `openclaw configure --section web`. It stores the key in\n`~/.openclaw/openclaw.json` under `tools.web.search.apiKey`.\n\n**Environment alternative:** set `BRAVE_API_KEY` in the Gateway process\nenvironment. For a gateway install, put it in `~/.openclaw/.env` (or your\nservice environment). See [Env vars](/help/faq#how-does-openclaw-load-environment-variables).",
    "## Using Perplexity (direct or via OpenRouter)\n\nPerplexity Sonar models have built-in web search capabilities and return AI-synthesized\nanswers with citations. You can use them via OpenRouter (no credit card required - supports\ncrypto/prepaid).\n\n### Getting an OpenRouter API key\n\n1. Create an account at [https://openrouter.ai/](https://openrouter.ai/)\n2. Add credits (supports crypto, prepaid, or credit card)\n3. Generate an API key in your account settings\n\n### Setting up Perplexity search\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        enabled: true,\n        provider: \"perplexity\",\n        perplexity: {\n          // API key (optional if OPENROUTER_API_KEY or PERPLEXITY_API_KEY is set)\n          apiKey: \"sk-or-v1-...\",\n          // Base URL (key-aware default if omitted)\n          baseUrl: \"https://openrouter.ai/api/v1\",\n          // Model (defaults to perplexity/sonar-pro)\n          model: \"perplexity/sonar-pro\",\n        },\n      },\n    },\n  },\n}\n```",
    "**Environment alternative:** set `OPENROUTER_API_KEY` or `PERPLEXITY_API_KEY` in the Gateway\nenvironment. For a gateway install, put it in `~/.openclaw/.env`.\n\nIf no base URL is set, OpenClaw chooses a default based on the API key source:\n\n- `PERPLEXITY_API_KEY` or `pplx-...` â†’ `https://api.perplexity.ai`\n- `OPENROUTER_API_KEY` or `sk-or-...` â†’ `https://openrouter.ai/api/v1`\n- Unknown key formats â†’ OpenRouter (safe fallback)\n\n### Available Perplexity models\n\n| Model                            | Description                          | Best for          |\n| -------------------------------- | ------------------------------------ | ----------------- |\n| `perplexity/sonar`               | Fast Q&A with web search             | Quick lookups     |\n| `perplexity/sonar-pro` (default) | Multi-step reasoning with web search | Complex questions |\n| `perplexity/sonar-reasoning-pro` | Chain-of-thought analysis            | Deep research     |",
    "## web_search\n\nSearch the web using your configured provider.\n\n### Requirements\n\n- `tools.web.search.enabled` must not be `false` (default: enabled)\n- API key for your chosen provider:\n  - **Brave**: `BRAVE_API_KEY` or `tools.web.search.apiKey`\n  - **Perplexity**: `OPENROUTER_API_KEY`, `PERPLEXITY_API_KEY`, or `tools.web.search.perplexity.apiKey`\n\n### Config\n\n```json5\n{\n  tools: {\n    web: {\n      search: {\n        enabled: true,\n        apiKey: \"BRAVE_API_KEY_HERE\", // optional if BRAVE_API_KEY is set\n        maxResults: 5,\n        timeoutSeconds: 30,\n        cacheTtlMinutes: 15,\n      },\n    },\n  },\n}\n```\n\n### Tool parameters",
    "- `query` (required)\n- `count` (1â€“10; default from config)\n- `country` (optional): 2-letter country code for region-specific results (e.g., \"DE\", \"US\", \"ALL\"). If omitted, Brave chooses its default region.\n- `search_lang` (optional): ISO language code for search results (e.g., \"de\", \"en\", \"fr\")\n- `ui_lang` (optional): ISO language code for UI elements\n- `freshness` (optional, Brave only): filter by discovery time (`pd`, `pw`, `pm`, `py`, or `YYYY-MM-DDtoYYYY-MM-DD`)\n\n**Examples:**\n\n```javascript\n// German-specific search\nawait web_search({\n  query: \"TV online schauen\",\n  count: 10,\n  country: \"DE\",\n  search_lang: \"de\",\n});\n\n// French search with French UI\nawait web_search({\n  query: \"actualitÃ©s\",\n  country: \"FR\",\n  search_lang: \"fr\",\n  ui_lang: \"fr\",\n});\n\n// Recent results (past week)\nawait web_search({\n  query: \"TMBG interview\",\n  freshness: \"pw\",\n});\n```",
    "## web_fetch\n\nFetch a URL and extract readable content.\n\n### web_fetch requirements\n\n- `tools.web.fetch.enabled` must not be `false` (default: enabled)\n- Optional Firecrawl fallback: set `tools.web.fetch.firecrawl.apiKey` or `FIRECRAWL_API_KEY`.\n\n### web_fetch config\n\n```json5\n{\n  tools: {\n    web: {\n      fetch: {\n        enabled: true,\n        maxChars: 50000,\n        maxCharsCap: 50000,\n        timeoutSeconds: 30,\n        cacheTtlMinutes: 15,\n        maxRedirects: 3,\n        userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 14_7_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36\",\n        readability: true,\n        firecrawl: {\n          enabled: true,\n          apiKey: \"FIRECRAWL_API_KEY_HERE\", // optional if FIRECRAWL_API_KEY is set\n          baseUrl: \"https://api.firecrawl.dev\",\n          onlyMainContent: true,\n          maxAgeMs: 86400000, // ms (1 day)\n          timeoutSeconds: 60,\n        },\n      },\n    },\n  },\n}\n```\n\n### web_fetch tool parameters",
    "- `url` (required, http/https only)\n- `extractMode` (`markdown` | `text`)\n- `maxChars` (truncate long pages)\n\nNotes:\n\n- `web_fetch` uses Readability (main-content extraction) first, then Firecrawl (if configured). If both fail, the tool returns an error.\n- Firecrawl requests use bot-circumvention mode and cache results by default.\n- `web_fetch` sends a Chrome-like User-Agent and `Accept-Language` by default; override `userAgent` if needed.\n- `web_fetch` blocks private/internal hostnames and re-checks redirects (limit with `maxRedirects`).\n- `maxChars` is clamped to `tools.web.fetch.maxCharsCap`.\n- `web_fetch` is best-effort extraction; some sites will need the browser tool.\n- See [Firecrawl](/tools/firecrawl) for key setup and service details.\n- Responses are cached (default 15 minutes) to reduce repeated fetches.\n- If you use tool profiles/allowlists, add `web_search`/`web_fetch` or `group:web`.\n- If the Brave key is missing, `web_search` returns a short setup hint with a docs link.",
    "---\nsummary: \"How the mac app embeds the gateway WebChat and how to debug it\"\nread_when:\n  - Debugging mac WebChat view or loopback port\ntitle: \"WebChat\"\n---\n\n# WebChat (macOS app)\n\nThe macOS menu bar app embeds the WebChat UI as a native SwiftUI view. It\nconnects to the Gateway and defaults to the **main session** for the selected\nagent (with a session switcher for other sessions).\n\n- **Local mode**: connects directly to the local Gateway WebSocket.\n- **Remote mode**: forwards the Gateway control port over SSH and uses that\n  tunnel as the data plane.",
    "## Launch & debugging\n\n- Manual: Lobster menu â†’ â€œOpen Chatâ€.\n- Autoâ€‘open for testing:\n\n  ```bash\n  dist/OpenClaw.app/Contents/MacOS/OpenClaw --webchat\n  ```\n\n- Logs: `./scripts/clawlog.sh` (subsystem `bot.molt`, category `WebChatSwiftUI`).",
    "## How itâ€™s wired\n\n- Data plane: Gateway WS methods `chat.history`, `chat.send`, `chat.abort`,\n  `chat.inject` and events `chat`, `agent`, `presence`, `tick`, `health`.\n- Session: defaults to the primary session (`main`, or `global` when scope is\n  global). The UI can switch between sessions.\n- Onboarding uses a dedicated session to keep firstâ€‘run setup separate.",
    "## Security surface\n\n- Remote mode forwards only the Gateway WebSocket control port over SSH.",
    "## Known limitations\n\n- The UI is optimized for chat sessions (not a full browser sandbox).",
    "---\nsummary: \"Webhook ingress for wake and isolated agent runs\"\nread_when:\n  - Adding or changing webhook endpoints\n  - Wiring external systems into OpenClaw\ntitle: \"Webhooks\"\n---\n\n# Webhooks\n\nGateway can expose a small HTTP webhook endpoint for external triggers.",
    "## Enable\n\n```json5\n{\n  hooks: {\n    enabled: true,\n    token: \"shared-secret\",\n    path: \"/hooks\",\n  },\n}\n```\n\nNotes:\n\n- `hooks.token` is required when `hooks.enabled=true`.\n- `hooks.path` defaults to `/hooks`.",
    "## Auth\n\nEvery request must include the hook token. Prefer headers:\n\n- `Authorization: Bearer <token>` (recommended)\n- `x-openclaw-token: <token>`\n- `?token=<token>` (deprecated; logs a warning and will be removed in a future major release)",
    "## Endpoints\n\n### `POST /hooks/wake`\n\nPayload:\n\n```json\n{ \"text\": \"System line\", \"mode\": \"now\" }\n```\n\n- `text` **required** (string): The description of the event (e.g., \"New email received\").\n- `mode` optional (`now` | `next-heartbeat`): Whether to trigger an immediate heartbeat (default `now`) or wait for the next periodic check.\n\nEffect:\n\n- Enqueues a system event for the **main** session\n- If `mode=now`, triggers an immediate heartbeat\n\n### `POST /hooks/agent`\n\nPayload:\n\n```json\n{\n  \"message\": \"Run this\",\n  \"name\": \"Email\",\n  \"sessionKey\": \"hook:email:msg-123\",\n  \"wakeMode\": \"now\",\n  \"deliver\": true,\n  \"channel\": \"last\",\n  \"to\": \"+15551234567\",\n  \"model\": \"openai/gpt-5.2-mini\",\n  \"thinking\": \"low\",\n  \"timeoutSeconds\": 120\n}\n```",
    "- `message` **required** (string): The prompt or message for the agent to process.\n- `name` optional (string): Human-readable name for the hook (e.g., \"GitHub\"), used as a prefix in session summaries.\n- `sessionKey` optional (string): The key used to identify the agent's session. Defaults to a random `hook:<uuid>`. Using a consistent key allows for a multi-turn conversation within the hook context.\n- `wakeMode` optional (`now` | `next-heartbeat`): Whether to trigger an immediate heartbeat (default `now`) or wait for the next periodic check.\n- `deliver` optional (boolean): If `true`, the agent's response will be sent to the messaging channel. Defaults to `true`. Responses that are only heartbeat acknowledgments are automatically skipped.\n- `channel` optional (string): The messaging channel for delivery. One of: `last`, `whatsapp`, `telegram`, `discord`, `slack`, `mattermost` (plugin), `signal`, `imessage`, `msteams`. Defaults to `last`.\n- `to` optional (string): The recipient identifier for the channel (e.g., phone number for WhatsApp/Signal, chat ID for Telegram, channel ID for Discord/Slack/Mattermost (plugin), conversation ID for MS Teams). Defaults to the last recipient in the main session.\n- `model` optional (string): Model override (e.g., `anthropic/claude-3-5-sonnet` or an alias). Must be in the allowed model list if restricted.\n- `thinking` optional (string): Thinking level override (e.g., `low`, `medium`, `high`).\n- `timeoutSeconds` optional (number): Maximum duration for the agent run in seconds.",
    "Effect:\n\n- Runs an **isolated** agent turn (own session key)\n- Always posts a summary into the **main** session\n- If `wakeMode=now`, triggers an immediate heartbeat\n\n### `POST /hooks/<name>` (mapped)\n\nCustom hook names are resolved via `hooks.mappings` (see configuration). A mapping can\nturn arbitrary payloads into `wake` or `agent` actions, with optional templates or\ncode transforms.\n\nMapping options (summary):",
    "- `hooks.presets: [\"gmail\"]` enables the built-in Gmail mapping.\n- `hooks.mappings` lets you define `match`, `action`, and templates in config.\n- `hooks.transformsDir` + `transform.module` loads a JS/TS module for custom logic.\n- Use `match.source` to keep a generic ingest endpoint (payload-driven routing).\n- TS transforms require a TS loader (e.g. `bun` or `tsx`) or precompiled `.js` at runtime.\n- Set `deliver: true` + `channel`/`to` on mappings to route replies to a chat surface\n  (`channel` defaults to `last` and falls back to WhatsApp).\n- `allowUnsafeExternalContent: true` disables the external content safety wrapper for that hook\n  (dangerous; only for trusted internal sources).\n- `openclaw webhooks gmail setup` writes `hooks.gmail` config for `openclaw webhooks gmail run`.\n  See [Gmail Pub/Sub](/automation/gmail-pubsub) for the full Gmail watch flow.",
    "## Responses\n\n- `200` for `/hooks/wake`\n- `202` for `/hooks/agent` (async run started)\n- `401` on auth failure\n- `400` on invalid payload\n- `413` on oversized payloads",
    "## Examples\n\n```bash\ncurl -X POST http://127.0.0.1:18789/hooks/wake \\\n  -H 'Authorization: Bearer SECRET' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"text\":\"New email received\",\"mode\":\"now\"}'\n```\n\n```bash\ncurl -X POST http://127.0.0.1:18789/hooks/agent \\\n  -H 'x-openclaw-token: SECRET' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"message\":\"Summarize inbox\",\"name\":\"Email\",\"wakeMode\":\"next-heartbeat\"}'\n```\n\n### Use a different model\n\nAdd `model` to the agent payload (or mapping) to override the model for that run:\n\n```bash\ncurl -X POST http://127.0.0.1:18789/hooks/agent \\\n  -H 'x-openclaw-token: SECRET' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"message\":\"Summarize inbox\",\"name\":\"Email\",\"model\":\"openai/gpt-5.2-mini\"}'\n```\n\nIf you enforce `agents.defaults.models`, make sure the override model is included there.",
    "```bash\ncurl -X POST http://127.0.0.1:18789/hooks/gmail \\\n  -H 'Authorization: Bearer SECRET' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"source\":\"gmail\",\"messages\":[{\"from\":\"Ada\",\"subject\":\"Hello\",\"snippet\":\"Hi\"}]}'\n```",
    "## Security\n\n- Keep hook endpoints behind loopback, tailnet, or trusted reverse proxy.\n- Use a dedicated hook token; do not reuse gateway auth tokens.\n- Avoid including sensitive raw payloads in webhook logs.\n- Hook payloads are treated as untrusted and wrapped with safety boundaries by default.\n  If you must disable this for a specific hook, set `allowUnsafeExternalContent: true`\n  in that hook's mapping (dangerous).",
    "---\nsummary: \"CLI reference for `openclaw webhooks` (webhook helpers + Gmail Pub/Sub)\"\nread_when:\n  - You want to wire Gmail Pub/Sub events into OpenClaw\n  - You want webhook helper commands\ntitle: \"webhooks\"\n---\n\n# `openclaw webhooks`\n\nWebhook helpers and integrations (Gmail Pub/Sub, webhook helpers).\n\nRelated:\n\n- Webhooks: [Webhook](/automation/webhook)\n- Gmail Pub/Sub: [Gmail Pub/Sub](/automation/gmail-pubsub)",
    "## Gmail\n\n```bash\nopenclaw webhooks gmail setup --account you@example.com\nopenclaw webhooks gmail run\n```\n\nSee [Gmail Pub/Sub documentation](/automation/gmail-pubsub) for details.",
    "---\nsummary: \"WhatsApp (web channel) integration: login, inbox, replies, media, and ops\"\nread_when:\n  - Working on WhatsApp/web channel behavior or inbox routing\ntitle: \"WhatsApp\"\n---\n\n# WhatsApp (web channel)\n\nStatus: WhatsApp Web via Baileys only. Gateway owns the session(s).",
    "## Quick setup (beginner)\n\n1. Use a **separate phone number** if possible (recommended).\n2. Configure WhatsApp in `~/.openclaw/openclaw.json`.\n3. Run `openclaw channels login` to scan the QR code (Linked Devices).\n4. Start the gateway.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      dmPolicy: \"allowlist\",\n      allowFrom: [\"+15551234567\"],\n    },\n  },\n}\n```",
    "## Goals\n\n- Multiple WhatsApp accounts (multi-account) in one Gateway process.\n- Deterministic routing: replies return to WhatsApp, no model routing.\n- Model sees enough context to understand quoted replies.",
    "## Config writes\n\nBy default, WhatsApp is allowed to write config updates triggered by `/config set|unset` (requires `commands.config: true`).\n\nDisable with:\n\n```json5\n{\n  channels: { whatsapp: { configWrites: false } },\n}\n```",
    "## Architecture (who owns what)\n\n- **Gateway** owns the Baileys socket and inbox loop.\n- **CLI / macOS app** talk to the gateway; no direct Baileys use.\n- **Active listener** is required for outbound sends; otherwise send fails fast.",
    "## Getting a phone number (two modes)\n\nWhatsApp requires a real mobile number for verification. VoIP and virtual numbers are usually blocked. There are two supported ways to run OpenClaw on WhatsApp:\n\n### Dedicated number (recommended)\n\nUse a **separate phone number** for OpenClaw. Best UX, clean routing, no self-chat quirks. Ideal setup: **spare/old Android phone + eSIM**. Leave it on Wiâ€‘Fi and power, and link it via QR.\n\n**WhatsApp Business:** You can use WhatsApp Business on the same device with a different number. Great for keeping your personal WhatsApp separate â€” install WhatsApp Business and register the OpenClaw number there.\n\n**Sample config (dedicated number, single-user allowlist):**\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      dmPolicy: \"allowlist\",\n      allowFrom: [\"+15551234567\"],\n    },\n  },\n}\n```",
    "**Pairing mode (optional):**\nIf you want pairing instead of allowlist, set `channels.whatsapp.dmPolicy` to `pairing`. Unknown senders get a pairing code; approve with:\n`openclaw pairing approve whatsapp <code>`\n\n### Personal number (fallback)\n\nQuick fallback: run OpenClaw on **your own number**. Message yourself (WhatsApp â€œMessage yourselfâ€) for testing so you donâ€™t spam contacts. Expect to read verification codes on your main phone during setup and experiments. **Must enable self-chat mode.**\nWhen the wizard asks for your personal WhatsApp number, enter the phone you will message from (the owner/sender), not the assistant number.\n\n**Sample config (personal number, self-chat):**\n\n```json\n{\n  \"whatsapp\": {\n    \"selfChatMode\": true,\n    \"dmPolicy\": \"allowlist\",\n    \"allowFrom\": [\"+15551234567\"]\n  }\n}\n```",
    "Self-chat replies default to `[{identity.name}]` when set (otherwise `[openclaw]`)\nif `messages.responsePrefix` is unset. Set it explicitly to customize or disable\nthe prefix (use `\"\"` to remove it).\n\n### Number sourcing tips\n\n- **Local eSIM** from your country's mobile carrier (most reliable)\n  - Austria: [hot.at](https://www.hot.at)\n  - UK: [giffgaff](https://www.giffgaff.com) â€” free SIM, no contract\n- **Prepaid SIM** â€” cheap, just needs to receive one SMS for verification\n\n**Avoid:** TextNow, Google Voice, most \"free SMS\" services â€” WhatsApp blocks these aggressively.\n\n**Tip:** The number only needs to receive one verification SMS. After that, WhatsApp Web sessions persist via `creds.json`.",
    "## Why Not Twilio?\n\n- Early OpenClaw builds supported Twilioâ€™s WhatsApp Business integration.\n- WhatsApp Business numbers are a poor fit for a personal assistant.\n- Meta enforces a 24â€‘hour reply window; if you havenâ€™t responded in the last 24 hours, the business number canâ€™t initiate new messages.\n- High-volume or â€œchattyâ€ usage triggers aggressive blocking, because business accounts arenâ€™t meant to send dozens of personal assistant messages.\n- Result: unreliable delivery and frequent blocks, so support was removed.",
    "## Login + credentials\n\n- Login command: `openclaw channels login` (QR via Linked Devices).\n- Multi-account login: `openclaw channels login --account <id>` (`<id>` = `accountId`).\n- Default account (when `--account` is omitted): `default` if present, otherwise the first configured account id (sorted).\n- Credentials stored in `~/.openclaw/credentials/whatsapp/<accountId>/creds.json`.\n- Backup copy at `creds.json.bak` (restored on corruption).\n- Legacy compatibility: older installs stored Baileys files directly in `~/.openclaw/credentials/`.\n- Logout: `openclaw channels logout` (or `--account <id>`) deletes WhatsApp auth state (but keeps shared `oauth.json`).\n- Logged-out socket => error instructs re-link.",
    "## Inbound flow (DM + group)\n\n- WhatsApp events come from `messages.upsert` (Baileys).\n- Inbox listeners are detached on shutdown to avoid accumulating event handlers in tests/restarts.\n- Status/broadcast chats are ignored.\n- Direct chats use E.164; groups use group JID.\n- **DM policy**: `channels.whatsapp.dmPolicy` controls direct chat access (default: `pairing`).\n  - Pairing: unknown senders get a pairing code (approve via `openclaw pairing approve whatsapp <code>`; codes expire after 1 hour).\n  - Open: requires `channels.whatsapp.allowFrom` to include `\"*\"`.\n  - Your linked WhatsApp number is implicitly trusted, so self messages skip â `channels.whatsapp.dmPolicy` and `channels.whatsapp.allowFrom` checks.\n\n### Personal-number mode (fallback)\n\nIf you run OpenClaw on your **personal WhatsApp number**, enable `channels.whatsapp.selfChatMode` (see sample above).\n\nBehavior:",
    "- Outbound DMs never trigger pairing replies (prevents spamming contacts).\n- Inbound unknown senders still follow `channels.whatsapp.dmPolicy`.\n- Self-chat mode (allowFrom includes your number) avoids auto read receipts and ignores mention JIDs.\n- Read receipts sent for non-self-chat DMs.",
    "## Read receipts\n\nBy default, the gateway marks inbound WhatsApp messages as read (blue ticks) once they are accepted.\n\nDisable globally:\n\n```json5\n{\n  channels: { whatsapp: { sendReadReceipts: false } },\n}\n```\n\nDisable per account:\n\n```json5\n{\n  channels: {\n    whatsapp: {\n      accounts: {\n        personal: { sendReadReceipts: false },\n      },\n    },\n  },\n}\n```\n\nNotes:\n\n- Self-chat mode always skips read receipts.",
    "## WhatsApp FAQ: sending messages + pairing\n\n**Will OpenClaw message random contacts when I link WhatsApp?**  \nNo. Default DM policy is **pairing**, so unknown senders only get a pairing code and their message is **not processed**. OpenClaw only replies to chats it receives, or to sends you explicitly trigger (agent/CLI).\n\n**How does pairing work on WhatsApp?**  \nPairing is a DM gate for unknown senders:\n\n- First DM from a new sender returns a short code (message is not processed).\n- Approve with: `openclaw pairing approve whatsapp <code>` (list with `openclaw pairing list whatsapp`).\n- Codes expire after 1 hour; pending requests are capped at 3 per channel.",
    "**Can multiple people use different OpenClaw instances on one WhatsApp number?**  \nYes, by routing each sender to a different agent via `bindings` (peer `kind: \"dm\"`, sender E.164 like `+15551234567`). Replies still come from the **same WhatsApp account**, and direct chats collapse to each agentâ€™s main session, so use **one agent per person**. DM access control (`dmPolicy`/`allowFrom`) is global per WhatsApp account. See [Multi-Agent Routing](/concepts/multi-agent).\n\n**Why do you ask for my phone number in the wizard?**  \nThe wizard uses it to set your **allowlist/owner** so your own DMs are permitted. Itâ€™s not used for auto-sending. If you run on your personal WhatsApp number, use that same number and enable `channels.whatsapp.selfChatMode`.",
    "## Message normalization (what the model sees)\n\n- `Body` is the current message body with envelope.\n- Quoted reply context is **always appended**:\n\n  ```\n  [Replying to +1555 id:ABC123]\n  <quoted text or <media:...>>\n  [/Replying]\n  ```\n\n- Reply metadata also set:\n  - `ReplyToId` = stanzaId\n  - `ReplyToBody` = quoted body or media placeholder\n  - `ReplyToSender` = E.164 when known\n- Media-only inbound messages use placeholders:\n  - `<media:image|video|audio|document|sticker>`",
    "## Groups\n\n- Groups map to `agent:<agentId>:whatsapp:group:<jid>` sessions.\n- Group policy: `channels.whatsapp.groupPolicy = open|disabled|allowlist` (default `allowlist`).\n- Activation modes:\n  - `mention` (default): requires @mention or regex match.\n  - `always`: always triggers.\n- `/activation mention|always` is owner-only and must be sent as a standalone message.\n- Owner = `channels.whatsapp.allowFrom` (or self E.164 if unset).\n- **History injection** (pending-only):\n  - Recent _unprocessed_ messages (default 50) inserted under:\n    `[Chat messages since your last reply - for context]` (messages already in the session are not re-injected)\n  - Current message under:\n    `[Current message - respond to this]`\n  - Sender suffix appended: `[from: Name (+E164)]`\n- Group metadata cached 5 min (subject + participants).",
    "## Reply delivery (threading)\n\n- WhatsApp Web sends standard messages (no quoted reply threading in the current gateway).\n- Reply tags are ignored on this channel.",
    "## Acknowledgment reactions (auto-react on receipt)\n\nWhatsApp can automatically send emoji reactions to incoming messages immediately upon receipt, before the bot generates a reply. This provides instant feedback to users that their message was received.\n\n**Configuration:**\n\n```json\n{\n  \"whatsapp\": {\n    \"ackReaction\": {\n      \"emoji\": \"ğŸ‘€\",\n      \"direct\": true,\n      \"group\": \"mentions\"\n    }\n  }\n}\n```\n\n**Options:**\n\n- `emoji` (string): Emoji to use for acknowledgment (e.g., \"ğŸ‘€\", \"âœ…\", \"ğŸ“¨\"). Empty or omitted = feature disabled.\n- `direct` (boolean, default: `true`): Send reactions in direct/DM chats.\n- `group` (string, default: `\"mentions\"`): Group chat behavior:\n  - `\"always\"`: React to all group messages (even without @mention)\n  - `\"mentions\"`: React only when bot is @mentioned\n  - `\"never\"`: Never react in groups\n\n**Per-account override:**",
    "```json\n{\n  \"whatsapp\": {\n    \"accounts\": {\n      \"work\": {\n        \"ackReaction\": {\n          \"emoji\": \"âœ…\",\n          \"direct\": false,\n          \"group\": \"always\"\n        }\n      }\n    }\n  }\n}\n```\n\n**Behavior notes:**\n\n- Reactions are sent **immediately** upon message receipt, before typing indicators or bot replies.\n- In groups with `requireMention: false` (activation: always), `group: \"mentions\"` will react to all messages (not just @mentions).\n- Fire-and-forget: reaction failures are logged but don't prevent the bot from replying.\n- Participant JID is automatically included for group reactions.\n- WhatsApp ignores `messages.ackReaction`; use `channels.whatsapp.ackReaction` instead.",
    "## Agent tool (reactions)\n\n- Tool: `whatsapp` with `react` action (`chatJid`, `messageId`, `emoji`, optional `remove`).\n- Optional: `participant` (group sender), `fromMe` (reacting to your own message), `accountId` (multi-account).\n- Reaction removal semantics: see [/tools/reactions](/tools/reactions).\n- Tool gating: `channels.whatsapp.actions.reactions` (default: enabled).",
    "## Limits\n\n- Outbound text is chunked to `channels.whatsapp.textChunkLimit` (default 4000).\n- Optional newline chunking: set `channels.whatsapp.chunkMode=\"newline\"` to split on blank lines (paragraph boundaries) before length chunking.\n- Inbound media saves are capped by `channels.whatsapp.mediaMaxMb` (default 50 MB).\n- Outbound media items are capped by `agents.defaults.mediaMaxMb` (default 5 MB).",
    "## Outbound send (text + media)\n\n- Uses active web listener; error if gateway not running.\n- Text chunking: 4k max per message (configurable via `channels.whatsapp.textChunkLimit`, optional `channels.whatsapp.chunkMode`).\n- Media:\n  - Image/video/audio/document supported.\n  - Audio sent as PTT; `audio/ogg` => `audio/ogg; codecs=opus`.\n  - Caption only on first media item.\n  - Media fetch supports HTTP(S) and local paths.\n  - Animated GIFs: WhatsApp expects MP4 with `gifPlayback: true` for inline looping.\n    - CLI: `openclaw message send --media <mp4> --gif-playback`\n    - Gateway: `send` params include `gifPlayback: true`",
    "## Voice notes (PTT audio)\n\nWhatsApp sends audio as **voice notes** (PTT bubble).\n\n- Best results: OGG/Opus. OpenClaw rewrites `audio/ogg` to `audio/ogg; codecs=opus`.\n- `[[audio_as_voice]]` is ignored for WhatsApp (audio already ships as voice note).",
    "## Media limits + optimization\n\n- Default outbound cap: 5 MB (per media item).\n- Override: `agents.defaults.mediaMaxMb`.\n- Images are auto-optimized to JPEG under cap (resize + quality sweep).\n- Oversize media => error; media reply falls back to text warning.",
    "## Heartbeats\n\n- **Gateway heartbeat** logs connection health (`web.heartbeatSeconds`, default 60s).\n- **Agent heartbeat** can be configured per agent (`agents.list[].heartbeat`) or globally\n  via `agents.defaults.heartbeat` (fallback when no per-agent entries are set).\n  - Uses the configured heartbeat prompt (default: `Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.`) + `HEARTBEAT_OK` skip behavior.\n  - Delivery defaults to the last used channel (or configured target).",
    "## Reconnect behavior\n\n- Backoff policy: `web.reconnect`:\n  - `initialMs`, `maxMs`, `factor`, `jitter`, `maxAttempts`.\n- If maxAttempts reached, web monitoring stops (degraded).\n- Logged-out => stop and require re-link.",
    "## Config quick map",
    "- `channels.whatsapp.dmPolicy` (DM policy: pairing/allowlist/open/disabled).\n- `channels.whatsapp.selfChatMode` (same-phone setup; bot uses your personal WhatsApp number).\n- `channels.whatsapp.allowFrom` (DM allowlist). WhatsApp uses E.164 phone numbers (no usernames).\n- `channels.whatsapp.mediaMaxMb` (inbound media save cap).\n- `channels.whatsapp.ackReaction` (auto-reaction on message receipt: `{emoji, direct, group}`).\n- `channels.whatsapp.accounts.<accountId>.*` (per-account settings + optional `authDir`).\n- `channels.whatsapp.accounts.<accountId>.mediaMaxMb` (per-account inbound media cap).\n- `channels.whatsapp.accounts.<accountId>.ackReaction` (per-account ack reaction override).\n- `channels.whatsapp.groupAllowFrom` (group sender allowlist).\n- `channels.whatsapp.groupPolicy` (group policy).\n- `channels.whatsapp.historyLimit` / `channels.whatsapp.accounts.<accountId>.historyLimit` (group history context; `0` disables).\n- `channels.whatsapp.dmHistoryLimit` (DM history limit in user turns). Per-user overrides: `channels.whatsapp.dms[\"<phone>\"].historyLimit`.\n- `channels.whatsapp.groups` (group allowlist + mention gating defaults; use `\"*\"` to allow all)\n- `channels.whatsapp.actions.reactions` (gate WhatsApp tool reactions).\n- `agents.list[].groupChat.mentionPatterns` (or `messages.groupChat.mentionPatterns`)\n- `messages.groupChat.historyLimit`\n- `channels.whatsapp.messagePrefix` (inbound prefix; per-account: `channels.whatsapp.accounts.<accountId>.messagePrefix`; deprecated: `messages.messagePrefix`)\n- `messages.responsePrefix` (outbound prefix)\n- `agents.defaults.mediaMaxMb`\n- `agents.defaults.heartbeat.every`\n- `agents.defaults.heartbeat.model` (optional override)\n- `agents.defaults.heartbeat.target`\n- `agents.defaults.heartbeat.to`\n- `agents.defaults.heartbeat.session`\n- `agents.list[].heartbeat.*` (per-agent overrides)\n- `session.*` (scope, idle, store, mainKey)\n- `web.enabled` (disable channel startup when false)\n- `web.heartbeatSeconds`\n- `web.reconnect.*`",
    "## Logs + troubleshooting\n\n- Subsystems: `whatsapp/inbound`, `whatsapp/outbound`, `web-heartbeat`, `web-reconnect`.\n- Log file: `/tmp/openclaw/openclaw-YYYY-MM-DD.log` (configurable).\n- Troubleshooting guide: [Gateway troubleshooting](/gateway/troubleshooting).",
    "## Troubleshooting (quick)\n\n**Not linked / QR login required**\n\n- Symptom: `channels status` shows `linked: false` or warns â€œNot linkedâ€.\n- Fix: run `openclaw channels login` on the gateway host and scan the QR (WhatsApp â†’ Settings â†’ Linked Devices).\n\n**Linked but disconnected / reconnect loop**\n\n- Symptom: `channels status` shows `running, disconnected` or warns â€œLinked but disconnectedâ€.\n- Fix: `openclaw doctor` (or restart the gateway). If it persists, relink via `channels login` and inspect `openclaw logs --follow`.\n\n**Bun runtime**\n\n- Bun is **not recommended**. WhatsApp (Baileys) and Telegram are unreliable on Bun.\n  Run the gateway with **Node**. (See Getting Started runtime note.)",
    "---\nsummary: \"Windows (WSL2) support + companion app status\"\nread_when:\n  - Installing OpenClaw on Windows\n  - Looking for Windows companion app status\ntitle: \"Windows (WSL2)\"\n---\n\n# Windows (WSL2)\n\nOpenClaw on Windows is recommended **via WSL2** (Ubuntu recommended). The\nCLI + Gateway run inside Linux, which keeps the runtime consistent and makes\ntooling far more compatible (Node/Bun/pnpm, Linux binaries, skills). Native\nWindows might be trickier. WSL2 gives you the full Linux experience â€” one command\nto install: `wsl --install`.\n\nNative Windows companion apps are planned.",
    "## Install (WSL2)\n\n- [Getting Started](/start/getting-started) (use inside WSL)\n- [Install & updates](/install/updating)\n- Official WSL2 guide (Microsoft): [https://learn.microsoft.com/windows/wsl/install](https://learn.microsoft.com/windows/wsl/install)",
    "## Gateway\n\n- [Gateway runbook](/gateway)\n- [Configuration](/gateway/configuration)",
    "## Gateway service install (CLI)\n\nInside WSL2:\n\n```\nopenclaw onboard --install-daemon\n```\n\nOr:\n\n```\nopenclaw gateway install\n```\n\nOr:\n\n```\nopenclaw configure\n```\n\nSelect **Gateway service** when prompted.\n\nRepair/migrate:\n\n```\nopenclaw doctor\n```",
    "## Advanced: expose WSL services over LAN (portproxy)\n\nWSL has its own virtual network. If another machine needs to reach a service\nrunning **inside WSL** (SSH, a local TTS server, or the Gateway), you must\nforward a Windows port to the current WSL IP. The WSL IP changes after restarts,\nso you may need to refresh the forwarding rule.\n\nExample (PowerShell **as Administrator**):\n\n```powershell\n$Distro = \"Ubuntu-24.04\"\n$ListenPort = 2222\n$TargetPort = 22\n\n$WslIp = (wsl -d $Distro -- hostname -I).Trim().Split(\" \")[0]\nif (-not $WslIp) { throw \"WSL IP not found.\" }\n\nnetsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=$ListenPort `\n  connectaddress=$WslIp connectport=$TargetPort\n```\n\nAllow the port through Windows Firewall (one-time):\n\n```powershell\nNew-NetFirewallRule -DisplayName \"WSL SSH $ListenPort\" -Direction Inbound `\n  -Protocol TCP -LocalPort $ListenPort -Action Allow\n```\n\nRefresh the portproxy after WSL restarts:",
    "```powershell\nnetsh interface portproxy delete v4tov4 listenport=$ListenPort listenaddress=0.0.0.0 | Out-Null\nnetsh interface portproxy add v4tov4 listenport=$ListenPort listenaddress=0.0.0.0 `\n  connectaddress=$WslIp connectport=$TargetPort | Out-Null\n```\n\nNotes:\n\n- SSH from another machine targets the **Windows host IP** (example: `ssh user@windows-host -p 2222`).\n- Remote nodes must point at a **reachable** Gateway URL (not `127.0.0.1`); use\n  `openclaw status --all` to confirm.\n- Use `listenaddress=0.0.0.0` for LAN access; `127.0.0.1` keeps it local only.\n- If you want this automatic, register a Scheduled Task to run the refresh\n  step at login.",
    "## Step-by-step WSL2 install\n\n### 1) Install WSL2 + Ubuntu\n\nOpen PowerShell (Admin):\n\n```powershell\nwsl --install\n# Or pick a distro explicitly:\nwsl --list --online\nwsl --install -d Ubuntu-24.04\n```\n\nReboot if Windows asks.\n\n### 2) Enable systemd (required for gateway install)\n\nIn your WSL terminal:\n\n```bash\nsudo tee /etc/wsl.conf >/dev/null <<'EOF'\n[boot]\nsystemd=true\nEOF\n```\n\nThen from PowerShell:\n\n```powershell\nwsl --shutdown\n```\n\nRe-open Ubuntu, then verify:\n\n```bash\nsystemctl --user status\n```\n\n### 3) Install OpenClaw (inside WSL)\n\nFollow the Linux Getting Started flow inside WSL:\n\n```bash\ngit clone https://github.com/openclaw/openclaw.git\ncd openclaw\npnpm install\npnpm ui:build # auto-installs UI deps on first run\npnpm build\nopenclaw onboard\n```\n\nFull guide: [Getting Started](/start/getting-started)",
    "## Windows companion app\n\nWe do not have a Windows companion app yet. Contributions are welcome if you want\ncontributions to make it happen.",
    "---\nsummary: \"Scripted onboarding and agent setup for the OpenClaw CLI\"\nread_when:\n  - You are automating onboarding in scripts or CI\n  - You need non-interactive examples for specific providers\ntitle: \"CLI Automation\"\nsidebarTitle: \"CLI automation\"\n---\n\n# CLI Automation\n\nUse `--non-interactive` to automate `openclaw onboard`.\n\n<Note>\n`--json` does not imply non-interactive mode. Use `--non-interactive` (and `--workspace`) for scripts.\n</Note>",
    "## Baseline non-interactive example\n\n```bash\nopenclaw onboard --non-interactive \\\n  --mode local \\\n  --auth-choice apiKey \\\n  --anthropic-api-key \"$ANTHROPIC_API_KEY\" \\\n  --gateway-port 18789 \\\n  --gateway-bind loopback \\\n  --install-daemon \\\n  --daemon-runtime node \\\n  --skip-skills\n```\n\nAdd `--json` for a machine-readable summary.",
    "## Provider-specific examples",
    "<AccordionGroup>\n  <Accordion title=\"Gemini example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice gemini-api-key \\\n      --gemini-api-key \"$GEMINI_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"Z.AI example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice zai-api-key \\\n      --zai-api-key \"$ZAI_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"Vercel AI Gateway example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice ai-gateway-api-key \\\n      --ai-gateway-api-key \"$AI_GATEWAY_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"Cloudflare AI Gateway example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice cloudflare-ai-gateway-api-key \\\n      --cloudflare-ai-gateway-account-id \"your-account-id\" \\\n      --cloudflare-ai-gateway-gateway-id \"your-gateway-id\" \\\n      --cloudflare-ai-gateway-api-key \"$CLOUDFLARE_AI_GATEWAY_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"Moonshot example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice moonshot-api-key \\\n      --moonshot-api-key \"$MOONSHOT_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"Synthetic example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice synthetic-api-key \\\n      --synthetic-api-key \"$SYNTHETIC_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n  <Accordion title=\"OpenCode Zen example\">\n    ```bash\n    openclaw onboard --non-interactive \\\n      --mode local \\\n      --auth-choice opencode-zen \\\n      --opencode-zen-api-key \"$OPENCODE_API_KEY\" \\\n      --gateway-port 18789 \\\n      --gateway-bind loopback\n    ```\n  </Accordion>\n</AccordionGroup>",
    "## Add another agent\n\nUse `openclaw agents add <name>` to create a separate agent with its own workspace,\nsessions, and auth profiles. Running without `--workspace` launches the wizard.\n\n```bash\nopenclaw agents add work \\\n  --workspace ~/.openclaw/workspace-work \\\n  --model openai/gpt-5.2 \\\n  --bind whatsapp:biz \\\n  --non-interactive \\\n  --json\n```\n\nWhat it sets:\n\n- `agents.list[].name`\n- `agents.list[].workspace`\n- `agents.list[].agentDir`\n\nNotes:\n\n- Default workspaces follow `~/.openclaw/workspace-<agentId>`.\n- Add `bindings` to route inbound messages (the wizard can do this).\n- Non-interactive flags: `--model`, `--agent-dir`, `--bind`, `--non-interactive`.",
    "## Related docs\n\n- Onboarding hub: [Onboarding Wizard (CLI)](/start/wizard)\n- Full reference: [CLI Onboarding Reference](/start/wizard-cli-reference)\n- Command reference: [`openclaw onboard`](/cli/onboard)",
    "---\nsummary: \"Complete reference for CLI onboarding flow, auth/model setup, outputs, and internals\"\nread_when:\n  - You need detailed behavior for openclaw onboard\n  - You are debugging onboarding results or integrating onboarding clients\ntitle: \"CLI Onboarding Reference\"\nsidebarTitle: \"CLI reference\"\n---\n\n# CLI Onboarding Reference\n\nThis page is the full reference for `openclaw onboard`.\nFor the short guide, see [Onboarding Wizard (CLI)](/start/wizard).",
    "## What the wizard does\n\nLocal mode (default) walks you through:\n\n- Model and auth setup (OpenAI Code subscription OAuth, Anthropic API key or setup token, plus MiniMax, GLM, Moonshot, and AI Gateway options)\n- Workspace location and bootstrap files\n- Gateway settings (port, bind, auth, tailscale)\n- Channels and providers (Telegram, WhatsApp, Discord, Google Chat, Mattermost plugin, Signal)\n- Daemon install (LaunchAgent or systemd user unit)\n- Health check\n- Skills setup\n\nRemote mode configures this machine to connect to a gateway elsewhere.\nIt does not install or modify anything on the remote host.",
    "## Local flow details",
    "<Steps>\n  <Step title=\"Existing config detection\">\n    - If `~/.openclaw/openclaw.json` exists, choose Keep, Modify, or Reset.\n    - Re-running the wizard does not wipe anything unless you explicitly choose Reset (or pass `--reset`).\n    - If config is invalid or contains legacy keys, the wizard stops and asks you to run `openclaw doctor` before continuing.\n    - Reset uses `trash` and offers scopes:\n      - Config only\n      - Config + credentials + sessions\n      - Full reset (also removes workspace)\n  </Step>\n  <Step title=\"Model and auth\">\n    - Full option matrix is in [Auth and model options](#auth-and-model-options).\n  </Step>\n  <Step title=\"Workspace\">\n    - Default `~/.openclaw/workspace` (configurable).\n    - Seeds workspace files needed for first-run bootstrap ritual.\n    - Workspace layout: [Agent workspace](/concepts/agent-workspace).\n  </Step>\n  <Step title=\"Gateway\">\n    - Prompts for port, bind, auth mode, and tailscale exposure.\n    - Recommended: keep token auth enabled even for loopback so local WS clients must authenticate.\n    - Disable auth only if you fully trust every local process.\n    - Non-loopback binds still require auth.\n  </Step>\n  <Step title=\"Channels\">\n    - [WhatsApp](/channels/whatsapp): optional QR login\n    - [Telegram](/channels/telegram): bot token\n    - [Discord](/channels/discord): bot token\n    - [Google Chat](/channels/googlechat): service account JSON + webhook audience\n    - [Mattermost](/channels/mattermost) plugin: bot token + base URL\n    - [Signal](/channels/signal): optional `signal-cli` install + account config\n    - [BlueBubbles](/channels/bluebubbles): recommended for iMessage; server URL + password + webhook\n    - [iMessage](/channels/imessage): legacy `imsg` CLI path + DB access\n    - DM security: default is pairing. First DM sends a code; approve via\n      `openclaw pairing approve <channel> <code>` or use allowlists.\n  </Step>\n  <Step title=\"Daemon install\">\n    - macOS: LaunchAgent\n      - Requires logged-in user session; for headless, use a custom LaunchDaemon (not shipped).\n    - Linux and Windows via WSL2: systemd user unit\n      - Wizard attempts `loginctl enable-linger <user>` so gateway stays up after logout.\n      - May prompt for sudo (writes `/var/lib/systemd/linger`); it tries without sudo first.\n    - Runtime selection: Node (recommended; required for WhatsApp and Telegram). Bun is not recommended.\n  </Step>\n  <Step title=\"Health check\">\n    - Starts gateway (if needed) and runs `openclaw health`.\n    - `openclaw status --deep` adds gateway health probes to status output.\n  </Step>\n  <Step title=\"Skills\">\n    - Reads available skills and checks requirements.\n    - Lets you choose node manager: npm or pnpm (bun not recommended).\n    - Installs optional dependencies (some use Homebrew on macOS).\n  </Step>\n  <Step title=\"Finish\">\n    - Summary and next steps, including iOS, Android, and macOS app options.\n  </Step>\n</Steps>",
    "<Note>\nIf no GUI is detected, the wizard prints SSH port-forward instructions for the Control UI instead of opening a browser.\nIf Control UI assets are missing, the wizard attempts to build them; fallback is `pnpm ui:build` (auto-installs UI deps).\n</Note>",
    "## Remote mode details\n\nRemote mode configures this machine to connect to a gateway elsewhere.\n\n<Info>\nRemote mode does not install or modify anything on the remote host.\n</Info>\n\nWhat you set:\n\n- Remote gateway URL (`ws://...`)\n- Token if remote gateway auth is required (recommended)\n\n<Note>\n- If gateway is loopback-only, use SSH tunneling or a tailnet.\n- Discovery hints:\n  - macOS: Bonjour (`dns-sd`)\n  - Linux: Avahi (`avahi-browse`)\n</Note>",
    "## Auth and model options\n\n<AccordionGroup>\n  <Accordion title=\"Anthropic API key (recommended)\">\n    Uses `ANTHROPIC_API_KEY` if present or prompts for a key, then saves it for daemon use.\n  </Accordion>\n  <Accordion title=\"Anthropic OAuth (Claude Code CLI)\">\n    - macOS: checks Keychain item \"Claude Code-credentials\"\n    - Linux and Windows: reuses `~/.claude/.credentials.json` if present\n\n    On macOS, choose \"Always Allow\" so launchd starts do not block.\n\n  </Accordion>\n  <Accordion title=\"Anthropic token (setup-token paste)\">\n    Run `claude setup-token` on any machine, then paste the token.\n    You can name it; blank uses default.\n  </Accordion>\n  <Accordion title=\"OpenAI Code subscription (Codex CLI reuse)\">\n    If `~/.codex/auth.json` exists, the wizard can reuse it.\n  </Accordion>\n  <Accordion title=\"OpenAI Code subscription (OAuth)\">\n    Browser flow; paste `code#state`.\n\n    Sets `agents.defaults.model` to `openai-codex/gpt-5.3-codex` when model is unset or `openai/*`.",
    "</Accordion>\n  <Accordion title=\"OpenAI API key\">\n    Uses `OPENAI_API_KEY` if present or prompts for a key, then saves it to\n    `~/.openclaw/.env` so launchd can read it.\n\n    Sets `agents.defaults.model` to `openai/gpt-5.1-codex` when model is unset, `openai/*`, or `openai-codex/*`.",
    "</Accordion>\n  <Accordion title=\"OpenCode Zen\">\n    Prompts for `OPENCODE_API_KEY` (or `OPENCODE_ZEN_API_KEY`).\n    Setup URL: [opencode.ai/auth](https://opencode.ai/auth).\n  </Accordion>\n  <Accordion title=\"API key (generic)\">\n    Stores the key for you.\n  </Accordion>\n  <Accordion title=\"Vercel AI Gateway\">\n    Prompts for `AI_GATEWAY_API_KEY`.\n    More detail: [Vercel AI Gateway](/providers/vercel-ai-gateway).\n  </Accordion>\n  <Accordion title=\"Cloudflare AI Gateway\">\n    Prompts for account ID, gateway ID, and `CLOUDFLARE_AI_GATEWAY_API_KEY`.\n    More detail: [Cloudflare AI Gateway](/providers/cloudflare-ai-gateway).\n  </Accordion>\n  <Accordion title=\"MiniMax M2.1\">\n    Config is auto-written.\n    More detail: [MiniMax](/providers/minimax).\n  </Accordion>\n  <Accordion title=\"Synthetic (Anthropic-compatible)\">\n    Prompts for `SYNTHETIC_API_KEY`.\n    More detail: [Synthetic](/providers/synthetic).\n  </Accordion>\n  <Accordion title=\"Moonshot and Kimi Coding\">\n    Moonshot (Kimi K2) and Kimi Coding configs are auto-written.\n    More detail: [Moonshot AI (Kimi + Kimi Coding)](/providers/moonshot).\n  </Accordion>\n  <Accordion title=\"Skip\">\n    Leaves auth unconfigured.\n  </Accordion>\n</AccordionGroup>",
    "Model behavior:\n\n- Pick default model from detected options, or enter provider and model manually.\n- Wizard runs a model check and warns if the configured model is unknown or missing auth.\n\nCredential and profile paths:\n\n- OAuth credentials: `~/.openclaw/credentials/oauth.json`\n- Auth profiles (API keys + OAuth): `~/.openclaw/agents/<agentId>/agent/auth-profiles.json`\n\n<Note>\nHeadless and server tip: complete OAuth on a machine with a browser, then copy\n`~/.openclaw/credentials/oauth.json` (or `$OPENCLAW_STATE_DIR/credentials/oauth.json`)\nto the gateway host.\n</Note>",
    "## Outputs and internals\n\nTypical fields in `~/.openclaw/openclaw.json`:\n\n- `agents.defaults.workspace`\n- `agents.defaults.model` / `models.providers` (if Minimax chosen)\n- `gateway.*` (mode, bind, auth, tailscale)\n- `channels.telegram.botToken`, `channels.discord.token`, `channels.signal.*`, `channels.imessage.*`\n- Channel allowlists (Slack, Discord, Matrix, Microsoft Teams) when you opt in during prompts (names resolve to IDs when possible)\n- `skills.install.nodeManager`\n- `wizard.lastRunAt`\n- `wizard.lastRunVersion`\n- `wizard.lastRunCommit`\n- `wizard.lastRunCommand`\n- `wizard.lastRunMode`\n\n`openclaw agents add` writes `agents.list[]` and optional `bindings`.\n\nWhatsApp credentials go under `~/.openclaw/credentials/whatsapp/<accountId>/`.\nSessions are stored under `~/.openclaw/agents/<agentId>/sessions/`.\n\n<Note>\nSome channels are delivered as plugins. When selected during onboarding, the wizard\nprompts to install the plugin (npm or local path) before channel configuration.\n</Note>",
    "Gateway wizard RPC:\n\n- `wizard.start`\n- `wizard.next`\n- `wizard.cancel`\n- `wizard.status`\n\nClients (macOS app and Control UI) can render steps without re-implementing onboarding logic.\n\nSignal setup behavior:\n\n- Downloads the appropriate release asset\n- Stores it under `~/.openclaw/tools/signal-cli/<version>/`\n- Writes `channels.signal.cliPath` in config\n- JVM builds require Java 21\n- Native builds are used when available\n- Windows uses WSL2 and follows Linux signal-cli flow inside WSL",
    "## Related docs\n\n- Onboarding hub: [Onboarding Wizard (CLI)](/start/wizard)\n- Automation and scripts: [CLI Automation](/start/wizard-cli-automation)\n- Command reference: [`openclaw onboard`](/cli/onboard)",
    "---\nsummary: \"CLI onboarding wizard: guided setup for gateway, workspace, channels, and skills\"\nread_when:\n  - Running or configuring the onboarding wizard\n  - Setting up a new machine\ntitle: \"Onboarding Wizard (CLI)\"\nsidebarTitle: \"Onboarding: CLI\"\n---\n\n# Onboarding Wizard (CLI)\n\nThe onboarding wizard is the **recommended** way to set up OpenClaw on macOS,\nLinux, or Windows (via WSL2; strongly recommended).\nIt configures a local Gateway or a remote Gateway connection, plus channels, skills,\nand workspace defaults in one guided flow.\n\n```bash\nopenclaw onboard\n```\n\n<Info>\nFastest first chat: open the Control UI (no channel setup needed). Run\n`openclaw dashboard` and chat in the browser. Docs: [Dashboard](/web/dashboard).\n</Info>\n\nTo reconfigure later:\n\n```bash\nopenclaw configure\nopenclaw agents add <name>\n```\n\n<Note>\n`--json` does not imply non-interactive mode. For scripts, use `--non-interactive`.\n</Note>",
    "<Tip>\nRecommended: set up a Brave Search API key so the agent can use `web_search`\n(`web_fetch` works without a key). Easiest path: `openclaw configure --section web`\nwhich stores `tools.web.search.apiKey`. Docs: [Web tools](/tools/web).\n</Tip>",
    "## QuickStart vs Advanced\n\nThe wizard starts with **QuickStart** (defaults) vs **Advanced** (full control).\n\n<Tabs>\n  <Tab title=\"QuickStart (defaults)\">\n    - Local gateway (loopback)\n    - Workspace default (or existing workspace)\n    - Gateway port **18789**\n    - Gateway auth **Token** (autoâ€‘generated, even on loopback)\n    - Tailscale exposure **Off**\n    - Telegram + WhatsApp DMs default to **allowlist** (you'll be prompted for your phone number)\n  </Tab>\n  <Tab title=\"Advanced (full control)\">\n    - Exposes every step (mode, workspace, gateway, channels, daemon, skills).\n  </Tab>\n</Tabs>",
    "## What the wizard configures\n\n**Local mode (default)** walks you through these steps:\n\n1. **Model/Auth** â€” Anthropic API key (recommended), OAuth, OpenAI, or other providers. Pick a default model.\n2. **Workspace** â€” Location for agent files (default `~/.openclaw/workspace`). Seeds bootstrap files.\n3. **Gateway** â€” Port, bind address, auth mode, Tailscale exposure.\n4. **Channels** â€” WhatsApp, Telegram, Discord, Google Chat, Mattermost, Signal, BlueBubbles, or iMessage.\n5. **Daemon** â€” Installs a LaunchAgent (macOS) or systemd user unit (Linux/WSL2).\n6. **Health check** â€” Starts the Gateway and verifies it's running.\n7. **Skills** â€” Installs recommended skills and optional dependencies.\n\n<Note>\nRe-running the wizard does **not** wipe anything unless you explicitly choose **Reset** (or pass `--reset`).\nIf the config is invalid or contains legacy keys, the wizard asks you to run `openclaw doctor` first.\n</Note>",
    "**Remote mode** only configures the local client to connect to a Gateway elsewhere.\nIt does **not** install or change anything on the remote host.",
    "## Add another agent\n\nUse `openclaw agents add <name>` to create a separate agent with its own workspace,\nsessions, and auth profiles. Running without `--workspace` launches the wizard.\n\nWhat it sets:\n\n- `agents.list[].name`\n- `agents.list[].workspace`\n- `agents.list[].agentDir`\n\nNotes:\n\n- Default workspaces follow `~/.openclaw/workspace-<agentId>`.\n- Add `bindings` to route inbound messages (the wizard can do this).\n- Non-interactive flags: `--model`, `--agent-dir`, `--bind`, `--non-interactive`.",
    "## Full reference\n\nFor detailed step-by-step breakdowns, non-interactive scripting, Signal setup,\nRPC API, and a full list of config fields the wizard writes, see the\n[Wizard Reference](/reference/wizard).",
    "## Related docs\n\n- CLI command reference: [`openclaw onboard`](/cli/onboard)\n- macOS app onboarding: [Onboarding](/start/onboarding)\n- Agent first-run ritual: [Agent Bootstrapping](/start/bootstrapping)",
    "---\nsummary: \"Use Xiaomi MiMo (mimo-v2-flash) with OpenClaw\"\nread_when:\n  - You want Xiaomi MiMo models in OpenClaw\n  - You need XIAOMI_API_KEY setup\ntitle: \"Xiaomi MiMo\"\n---\n\n# Xiaomi MiMo\n\nXiaomi MiMo is the API platform for **MiMo** models. It provides REST APIs compatible with\nOpenAI and Anthropic formats and uses API keys for authentication. Create your API key in\nthe [Xiaomi MiMo console](https://platform.xiaomimimo.com/#/console/api-keys). OpenClaw uses\nthe `xiaomi` provider with a Xiaomi MiMo API key.",
    "## Model overview\n\n- **mimo-v2-flash**: 262144-token context window, Anthropic Messages API compatible.\n- Base URL: `https://api.xiaomimimo.com/anthropic`\n- Authorization: `Bearer $XIAOMI_API_KEY`",
    "## CLI setup\n\n```bash\nopenclaw onboard --auth-choice xiaomi-api-key\n# or non-interactive\nopenclaw onboard --auth-choice xiaomi-api-key --xiaomi-api-key \"$XIAOMI_API_KEY\"\n```",
    "## Config snippet\n\n```json5\n{\n  env: { XIAOMI_API_KEY: \"your-key\" },\n  agents: { defaults: { model: { primary: \"xiaomi/mimo-v2-flash\" } } },\n  models: {\n    mode: \"merge\",\n    providers: {\n      xiaomi: {\n        baseUrl: \"https://api.xiaomimimo.com/anthropic\",\n        api: \"anthropic-messages\",\n        apiKey: \"XIAOMI_API_KEY\",\n        models: [\n          {\n            id: \"mimo-v2-flash\",\n            name: \"Xiaomi MiMo V2 Flash\",\n            reasoning: false,\n            input: [\"text\"],\n            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n            contextWindow: 262144,\n            maxTokens: 8192,\n          },\n        ],\n      },\n    },\n  },\n}\n```",
    "## Notes\n\n- Model ref: `xiaomi/mimo-v2-flash`.\n- The provider is injected automatically when `XIAOMI_API_KEY` is set (or an auth profile exists).\n- See [/concepts/model-providers](/concepts/model-providers) for provider rules.",
    "---\nsummary: \"macOS IPC architecture for OpenClaw app, gateway node transport, and PeekabooBridge\"\nread_when:\n  - Editing IPC contracts or menu bar app IPC\ntitle: \"macOS IPC\"\n---\n\n# OpenClaw macOS IPC architecture\n\n**Current model:** a local Unix socket connects the **node host service** to the **macOS app** for exec approvals + `system.run`. A `openclaw-mac` debug CLI exists for discovery/connect checks; agent actions still flow through the Gateway WebSocket and `node.invoke`. UI automation uses PeekabooBridge.",
    "## Goals\n\n- Single GUI app instance that owns all TCC-facing work (notifications, screen recording, mic, speech, AppleScript).\n- A small surface for automation: Gateway + node commands, plus PeekabooBridge for UI automation.\n- Predictable permissions: always the same signed bundle ID, launched by launchd, so TCC grants stick.",
    "## How it works\n\n### Gateway + node transport\n\n- The app runs the Gateway (local mode) and connects to it as a node.\n- Agent actions are performed via `node.invoke` (e.g. `system.run`, `system.notify`, `canvas.*`).\n\n### Node service + app IPC\n\n- A headless node host service connects to the Gateway WebSocket.\n- `system.run` requests are forwarded to the macOS app over a local Unix socket.\n- The app performs the exec in UI context, prompts if needed, and returns output.\n\nDiagram (SCI):\n\n```\nAgent -> Gateway -> Node Service (WS)\n                      |  IPC (UDS + token + HMAC + TTL)\n                      v\n                  Mac App (UI + TCC + system.run)\n```\n\n### PeekabooBridge (UI automation)",
    "- UI automation uses a separate UNIX socket named `bridge.sock` and the PeekabooBridge JSON protocol.\n- Host preference order (client-side): Peekaboo.app â†’ Claude.app â†’ OpenClaw.app â†’ local execution.\n- Security: bridge hosts require an allowed TeamID; DEBUG-only same-UID escape hatch is guarded by `PEEKABOO_ALLOW_UNSIGNED_SOCKET_CLIENTS=1` (Peekaboo convention).\n- See: [PeekabooBridge usage](/platforms/mac/peekaboo) for details.",
    "## Operational flows\n\n- Restart/rebuild: `SIGN_IDENTITY=\"Apple Development: <Developer Name> (<TEAMID>)\" scripts/restart-mac.sh`\n  - Kills existing instances\n  - Swift build + package\n  - Writes/bootstraps/kickstarts the LaunchAgent\n- Single instance: app exits early if another instance with the same bundle ID is running.",
    "## Hardening notes\n\n- Prefer requiring a TeamID match for all privileged surfaces.\n- PeekabooBridge: `PEEKABOO_ALLOW_UNSIGNED_SOCKET_CLIENTS=1` (DEBUG-only) may allow same-UID callers for local development.\n- All communication remains local-only; no network sockets are exposed.\n- TCC prompts originate only from the GUI app bundle; keep the signed bundle ID stable across rebuilds.\n- IPC hardening: socket mode `0600`, token, peer-UID checks, HMAC challenge/response, short TTL.",
    "---\nsummary: \"Use Z.AI (GLM models) with OpenClaw\"\nread_when:\n  - You want Z.AI / GLM models in OpenClaw\n  - You need a simple ZAI_API_KEY setup\ntitle: \"Z.AI\"\n---\n\n# Z.AI\n\nZ.AI is the API platform for **GLM** models. It provides REST APIs for GLM and uses API keys\nfor authentication. Create your API key in the Z.AI console. OpenClaw uses the `zai` provider\nwith a Z.AI API key.",
    "## CLI setup\n\n```bash\nopenclaw onboard --auth-choice zai-api-key\n# or non-interactive\nopenclaw onboard --zai-api-key \"$ZAI_API_KEY\"\n```",
    "## Config snippet\n\n```json5\n{\n  env: { ZAI_API_KEY: \"sk-...\" },\n  agents: { defaults: { model: { primary: \"zai/glm-4.7\" } } },\n}\n```",
    "## Notes\n\n- GLM models are available as `zai/<model>` (example: `zai/glm-4.7`).\n- See [/providers/glm](/providers/glm) for the model family overview.\n- Z.AI uses Bearer auth with your API key.",
    "---\nsummary: \"Zalo bot support status, capabilities, and configuration\"\nread_when:\n  - Working on Zalo features or webhooks\ntitle: \"Zalo\"\n---\n\n# Zalo (Bot API)\n\nStatus: experimental. Direct messages only; groups coming soon per Zalo docs.",
    "## Plugin required\n\nZalo ships as a plugin and is not bundled with the core install.\n\n- Install via CLI: `openclaw plugins install @openclaw/zalo`\n- Or select **Zalo** during onboarding and confirm the install prompt\n- Details: [Plugins](/plugin)",
    "## Quick setup (beginner)\n\n1. Install the Zalo plugin:\n   - From a source checkout: `openclaw plugins install ./extensions/zalo`\n   - From npm (if published): `openclaw plugins install @openclaw/zalo`\n   - Or pick **Zalo** in onboarding and confirm the install prompt\n2. Set the token:\n   - Env: `ZALO_BOT_TOKEN=...`\n   - Or config: `channels.zalo.botToken: \"...\"`.\n3. Restart the gateway (or finish onboarding).\n4. DM access is pairing by default; approve the pairing code on first contact.\n\nMinimal config:\n\n```json5\n{\n  channels: {\n    zalo: {\n      enabled: true,\n      botToken: \"12345689:abc-xyz\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```",
    "## What it is\n\nZalo is a Vietnam-focused messaging app; its Bot API lets the Gateway run a bot for 1:1 conversations.\nIt is a good fit for support or notifications where you want deterministic routing back to Zalo.\n\n- A Zalo Bot API channel owned by the Gateway.\n- Deterministic routing: replies go back to Zalo; the model never chooses channels.\n- DMs share the agent's main session.\n- Groups are not yet supported (Zalo docs state \"coming soon\").",
    "## Setup (fast path)\n\n### 1) Create a bot token (Zalo Bot Platform)\n\n1. Go to [https://bot.zaloplatforms.com](https://bot.zaloplatforms.com) and sign in.\n2. Create a new bot and configure its settings.\n3. Copy the bot token (format: `12345689:abc-xyz`).\n\n### 2) Configure the token (env or config)\n\nExample:\n\n```json5\n{\n  channels: {\n    zalo: {\n      enabled: true,\n      botToken: \"12345689:abc-xyz\",\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```\n\nEnv option: `ZALO_BOT_TOKEN=...` (works for the default account only).\n\nMulti-account support: use `channels.zalo.accounts` with per-account tokens and optional `name`.\n\n3. Restart the gateway. Zalo starts when a token is resolved (env or config).\n4. DM access defaults to pairing. Approve the code when the bot is first contacted.",
    "## How it works (behavior)\n\n- Inbound messages are normalized into the shared channel envelope with media placeholders.\n- Replies always route back to the same Zalo chat.\n- Long-polling by default; webhook mode available with `channels.zalo.webhookUrl`.",
    "## Limits\n\n- Outbound text is chunked to 2000 characters (Zalo API limit).\n- Media downloads/uploads are capped by `channels.zalo.mediaMaxMb` (default 5).\n- Streaming is blocked by default due to the 2000 char limit making streaming less useful.",
    "## Access control (DMs)\n\n### DM access\n\n- Default: `channels.zalo.dmPolicy = \"pairing\"`. Unknown senders receive a pairing code; messages are ignored until approved (codes expire after 1 hour).\n- Approve via:\n  - `openclaw pairing list zalo`\n  - `openclaw pairing approve zalo <CODE>`\n- Pairing is the default token exchange. Details: [Pairing](/start/pairing)\n- `channels.zalo.allowFrom` accepts numeric user IDs (no username lookup available).",
    "## Long-polling vs webhook\n\n- Default: long-polling (no public URL required).\n- Webhook mode: set `channels.zalo.webhookUrl` and `channels.zalo.webhookSecret`.\n  - The webhook secret must be 8-256 characters.\n  - Webhook URL must use HTTPS.\n  - Zalo sends events with `X-Bot-Api-Secret-Token` header for verification.\n  - Gateway HTTP handles webhook requests at `channels.zalo.webhookPath` (defaults to the webhook URL path).\n\n**Note:** getUpdates (polling) and webhook are mutually exclusive per Zalo API docs.",
    "## Supported message types\n\n- **Text messages**: Full support with 2000 character chunking.\n- **Image messages**: Download and process inbound images; send images via `sendPhoto`.\n- **Stickers**: Logged but not fully processed (no agent response).\n- **Unsupported types**: Logged (e.g., messages from protected users).",
    "## Capabilities\n\n| Feature         | Status                         |\n| --------------- | ------------------------------ |\n| Direct messages | âœ… Supported                   |\n| Groups          | âŒ Coming soon (per Zalo docs) |\n| Media (images)  | âœ… Supported                   |\n| Reactions       | âŒ Not supported               |\n| Threads         | âŒ Not supported               |\n| Polls           | âŒ Not supported               |\n| Native commands | âŒ Not supported               |\n| Streaming       | âš ï¸ Blocked (2000 char limit)   |",
    "## Delivery targets (CLI/cron)\n\n- Use a chat id as the target.\n- Example: `openclaw message send --channel zalo --target 123456789 --message \"hi\"`.",
    "## Troubleshooting\n\n**Bot doesn't respond:**\n\n- Check that the token is valid: `openclaw channels status --probe`\n- Verify the sender is approved (pairing or allowFrom)\n- Check gateway logs: `openclaw logs --follow`\n\n**Webhook not receiving events:**\n\n- Ensure webhook URL uses HTTPS\n- Verify secret token is 8-256 characters\n- Confirm the gateway HTTP endpoint is reachable on the configured path\n- Check that getUpdates polling is not running (they're mutually exclusive)",
    "## Configuration reference (Zalo)\n\nFull configuration: [Configuration](/gateway/configuration)\n\nProvider options:\n\n- `channels.zalo.enabled`: enable/disable channel startup.\n- `channels.zalo.botToken`: bot token from Zalo Bot Platform.\n- `channels.zalo.tokenFile`: read token from file path.\n- `channels.zalo.dmPolicy`: `pairing | allowlist | open | disabled` (default: pairing).\n- `channels.zalo.allowFrom`: DM allowlist (user IDs). `open` requires `\"*\"`. The wizard will ask for numeric IDs.\n- `channels.zalo.mediaMaxMb`: inbound/outbound media cap (MB, default 5).\n- `channels.zalo.webhookUrl`: enable webhook mode (HTTPS required).\n- `channels.zalo.webhookSecret`: webhook secret (8-256 chars).\n- `channels.zalo.webhookPath`: webhook path on the gateway HTTP server.\n- `channels.zalo.proxy`: proxy URL for API requests.\n\nMulti-account options:",
    "- `channels.zalo.accounts.<id>.botToken`: per-account token.\n- `channels.zalo.accounts.<id>.tokenFile`: per-account token file.\n- `channels.zalo.accounts.<id>.name`: display name.\n- `channels.zalo.accounts.<id>.enabled`: enable/disable account.\n- `channels.zalo.accounts.<id>.dmPolicy`: per-account DM policy.\n- `channels.zalo.accounts.<id>.allowFrom`: per-account allowlist.\n- `channels.zalo.accounts.<id>.webhookUrl`: per-account webhook URL.\n- `channels.zalo.accounts.<id>.webhookSecret`: per-account webhook secret.\n- `channels.zalo.accounts.<id>.webhookPath`: per-account webhook path.\n- `channels.zalo.accounts.<id>.proxy`: per-account proxy URL.",
    "---\nsummary: \"Zalo personal account support via zca-cli (QR login), capabilities, and configuration\"\nread_when:\n  - Setting up Zalo Personal for OpenClaw\n  - Debugging Zalo Personal login or message flow\ntitle: \"Zalo Personal\"\n---\n\n# Zalo Personal (unofficial)\n\nStatus: experimental. This integration automates a **personal Zalo account** via `zca-cli`.\n\n> **Warning:** This is an unofficial integration and may result in account suspension/ban. Use at your own risk.",
    "## Plugin required\n\nZalo Personal ships as a plugin and is not bundled with the core install.\n\n- Install via CLI: `openclaw plugins install @openclaw/zalouser`\n- Or from a source checkout: `openclaw plugins install ./extensions/zalouser`\n- Details: [Plugins](/plugin)",
    "## Prerequisite: zca-cli\n\nThe Gateway machine must have the `zca` binary available in `PATH`.\n\n- Verify: `zca --version`\n- If missing, install zca-cli (see `extensions/zalouser/README.md` or the upstream zca-cli docs).",
    "## Quick setup (beginner)\n\n1. Install the plugin (see above).\n2. Login (QR, on the Gateway machine):\n   - `openclaw channels login --channel zalouser`\n   - Scan the QR code in the terminal with the Zalo mobile app.\n3. Enable the channel:\n\n```json5\n{\n  channels: {\n    zalouser: {\n      enabled: true,\n      dmPolicy: \"pairing\",\n    },\n  },\n}\n```\n\n4. Restart the Gateway (or finish onboarding).\n5. DM access defaults to pairing; approve the pairing code on first contact.",
    "## What it is\n\n- Uses `zca listen` to receive inbound messages.\n- Uses `zca msg ...` to send replies (text/media/link).\n- Designed for â€œpersonal accountâ€ use cases where Zalo Bot API is not available.",
    "## Naming\n\nChannel id is `zalouser` to make it explicit this automates a **personal Zalo user account** (unofficial). We keep `zalo` reserved for a potential future official Zalo API integration.",
    "## Finding IDs (directory)\n\nUse the directory CLI to discover peers/groups and their IDs:\n\n```bash\nopenclaw directory self --channel zalouser\nopenclaw directory peers list --channel zalouser --query \"name\"\nopenclaw directory groups list --channel zalouser --query \"work\"\n```",
    "## Limits\n\n- Outbound text is chunked to ~2000 characters (Zalo client limits).\n- Streaming is blocked by default.",
    "## Access control (DMs)\n\n`channels.zalouser.dmPolicy` supports: `pairing | allowlist | open | disabled` (default: `pairing`).\n`channels.zalouser.allowFrom` accepts user IDs or names. The wizard resolves names to IDs via `zca friend find` when available.\n\nApprove via:\n\n- `openclaw pairing list zalouser`\n- `openclaw pairing approve zalouser <code>`",
    "## Group access (optional)\n\n- Default: `channels.zalouser.groupPolicy = \"open\"` (groups allowed). Use `channels.defaults.groupPolicy` to override the default when unset.\n- Restrict to an allowlist with:\n  - `channels.zalouser.groupPolicy = \"allowlist\"`\n  - `channels.zalouser.groups` (keys are group IDs or names)\n- Block all groups: `channels.zalouser.groupPolicy = \"disabled\"`.\n- The configure wizard can prompt for group allowlists.\n- On startup, OpenClaw resolves group/user names in allowlists to IDs and logs the mapping; unresolved entries are kept as typed.\n\nExample:\n\n```json5\n{\n  channels: {\n    zalouser: {\n      groupPolicy: \"allowlist\",\n      groups: {\n        \"123456789\": { allow: true },\n        \"Work Chat\": { allow: true },\n      },\n    },\n  },\n}\n```",
    "## Multi-account\n\nAccounts map to zca profiles. Example:\n\n```json5\n{\n  channels: {\n    zalouser: {\n      enabled: true,\n      defaultAccount: \"default\",\n      accounts: {\n        work: { enabled: true, profile: \"work\" },\n      },\n    },\n  },\n}\n```",
    "## Troubleshooting\n\n**`zca` not found:**\n\n- Install zca-cli and ensure itâ€™s on `PATH` for the Gateway process.\n\n**Login doesnâ€™t stick:**\n\n- `openclaw channels status --probe`\n- Re-login: `openclaw channels logout --channel zalouser && openclaw channels login --channel zalouser`"
  ],
  "metadata": [
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "acp.md",
      "title": "acp"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-loop.md",
      "title": "Agent Loop (OpenClaw)"
    },
    {
      "source": "agent-send.md",
      "title": "`openclaw agent` (direct agent runs)"
    },
    {
      "source": "agent-send.md",
      "title": "`openclaw agent` (direct agent runs)"
    },
    {
      "source": "agent-send.md",
      "title": "`openclaw agent` (direct agent runs)"
    },
    {
      "source": "agent-send.md",
      "title": "`openclaw agent` (direct agent runs)"
    },
    {
      "source": "agent-tools.md",
      "title": "æ’ä»¶æ™ºèƒ½ä½“å·¥å…·"
    },
    {
      "source": "agent-tools.md",
      "title": "æ’ä»¶æ™ºèƒ½ä½“å·¥å…·"
    },
    {
      "source": "agent-tools.md",
      "title": "æ’ä»¶æ™ºèƒ½ä½“å·¥å…·"
    },
    {
      "source": "agent-tools.md",
      "title": "æ’ä»¶æ™ºèƒ½ä½“å·¥å…·"
    },
    {
      "source": "agent-tools.md",
      "title": "æ’ä»¶æ™ºèƒ½ä½“å·¥å…·"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent-workspace.md",
      "title": "Agent workspace"
    },
    {
      "source": "agent.md",
      "title": "`openclaw agent`"
    },
    {
      "source": "agent.md",
      "title": "`openclaw agent`"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.default.md",
      "title": "AGENTS.md â€” OpenClaw ä¸ªäººåŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "AGENTS.dev.md",
      "title": "AGENTS.md - OpenClaw å·¥ä½œåŒº"
    },
    {
      "source": "agents.md",
      "title": "`openclaw agents`"
    },
    {
      "source": "agents.md",
      "title": "`openclaw agents`"
    },
    {
      "source": "agents.md",
      "title": "`openclaw agents`"
    },
    {
      "source": "agents.md",
      "title": "`openclaw agents`"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "android.md",
      "title": "Android App (Node)"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "ansible.md",
      "title": "Ansible å®‰è£…"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "anthropic.md",
      "title": "Anthropic (Claude)"
    },
    {
      "source": "api-usage-costs.md",
      "title": "API ç”¨é‡ä¸è´¹ç”¨"
    },
    {
      "source": "api-usage-costs.md",
      "title": "API ç”¨é‡ä¸è´¹ç”¨"
    },
    {
      "source": "api-usage-costs.md",
      "title": "API ç”¨é‡ä¸è´¹ç”¨"
    },
    {
      "source": "api-usage-costs.md",
      "title": "API ç”¨é‡ä¸è´¹ç”¨"
    },
    {
      "source": "api-usage-costs.md",
      "title": "API ç”¨é‡ä¸è´¹ç”¨"
    },
    {
      "source": "apply-patch.md",
      "title": "apply_patch tool"
    },
    {
      "source": "apply-patch.md",
      "title": "apply_patch tool"
    },
    {
      "source": "apply-patch.md",
      "title": "apply_patch tool"
    },
    {
      "source": "apply-patch.md",
      "title": "apply_patch tool"
    },
    {
      "source": "approvals.md",
      "title": "`openclaw approvals`"
    },
    {
      "source": "approvals.md",
      "title": "`openclaw approvals`"
    },
    {
      "source": "approvals.md",
      "title": "`openclaw approvals`"
    },
    {
      "source": "approvals.md",
      "title": "`openclaw approvals`"
    },
    {
      "source": "approvals.md",
      "title": "`openclaw approvals`"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "architecture.md",
      "title": "Gateway architecture"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "audio.md",
      "title": "Audio / Voice Notes â€” 2026-01-17"
    },
    {
      "source": "auth-monitoring.md",
      "title": "Auth monitoring"
    },
    {
      "source": "auth-monitoring.md",
      "title": "Auth monitoring"
    },
    {
      "source": "auth-monitoring.md",
      "title": "Auth monitoring"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "authentication.md",
      "title": "è®¤è¯"
    },
    {
      "source": "background-process.md",
      "title": "åå° Exec + Process å·¥å…·"
    },
    {
      "source": "background-process.md",
      "title": "åå° Exec + Process å·¥å…·"
    },
    {
      "source": "background-process.md",
      "title": "åå° Exec + Process å·¥å…·"
    },
    {
      "source": "background-process.md",
      "title": "åå° Exec + Process å·¥å…·"
    },
    {
      "source": "background-process.md",
      "title": "åå° Exec + Process å·¥å…·"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bedrock.md",
      "title": "Amazon Bedrock"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bluebubbles.md",
      "title": "BlueBubbles (macOS REST)"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "bonjour.md",
      "title": "Bonjour / mDNS è®¾å¤‡å‘ç°"
    },
    {
      "source": "BOOT.md",
      "title": "BOOT.md"
    },
    {
      "source": "BOOTSTRAP.md",
      "title": "BOOTSTRAP.md - Hello, World"
    },
    {
      "source": "BOOTSTRAP.md",
      "title": "BOOTSTRAP.md - Hello, World"
    },
    {
      "source": "BOOTSTRAP.md",
      "title": "BOOTSTRAP.md - Hello, World"
    },
    {
      "source": "BOOTSTRAP.md",
      "title": "BOOTSTRAP.md - Hello, World"
    },
    {
      "source": "BOOTSTRAP.md",
      "title": "BOOTSTRAP.md - Hello, World"
    },
    {
      "source": "bootstrapping.md",
      "title": "Agent Bootstrapping"
    },
    {
      "source": "bootstrapping.md",
      "title": "Agent Bootstrapping"
    },
    {
      "source": "bootstrapping.md",
      "title": "Agent Bootstrapping"
    },
    {
      "source": "bootstrapping.md",
      "title": "Agent Bootstrapping"
    },
    {
      "source": "brave-search.md",
      "title": "Brave Search API"
    },
    {
      "source": "brave-search.md",
      "title": "Brave Search API"
    },
    {
      "source": "brave-search.md",
      "title": "Brave Search API"
    },
    {
      "source": "brave-search.md",
      "title": "Brave Search API"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "bridge-protocol.md",
      "title": "Bridge åè®®ï¼ˆæ—§ç‰ˆèŠ‚ç‚¹ä¼ è¾“ï¼‰"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "broadcast-groups.md",
      "title": "Broadcast Groups"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-linux-troubleshooting.md",
      "title": "Browser Troubleshooting (Linux)"
    },
    {
      "source": "browser-login.md",
      "title": "Browser login + X/Twitter posting"
    },
    {
      "source": "browser-login.md",
      "title": "Browser login + X/Twitter posting"
    },
    {
      "source": "browser-login.md",
      "title": "Browser login + X/Twitter posting"
    },
    {
      "source": "browser-login.md",
      "title": "Browser login + X/Twitter posting"
    },
    {
      "source": "browser-login.md",
      "title": "Browser login + X/Twitter posting"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "browser.md",
      "title": "Browser (openclaw-managed)"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bun.md",
      "title": "Bunï¼ˆå®éªŒæ€§ï¼‰"
    },
    {
      "source": "bundled-gateway.md",
      "title": "Gateway on macOS (external launchd)"
    },
    {
      "source": "bundled-gateway.md",
      "title": "Gateway on macOS (external launchd)"
    },
    {
      "source": "bundled-gateway.md",
      "title": "Gateway on macOS (external launchd)"
    },
    {
      "source": "bundled-gateway.md",
      "title": "Gateway on macOS (external launchd)"
    },
    {
      "source": "bundled-gateway.md",
      "title": "Gateway on macOS (external launchd)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "camera.md",
      "title": "Camera capture (agent)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "canvas.md",
      "title": "Canvas (macOS app)"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channel-routing.md",
      "title": "Channels & routing"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "channels.md",
      "title": "`openclaw channels`"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "child-process.md",
      "title": "Gateway lifecycle on macOS"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "chrome-extension.md",
      "title": "Chrome extension (browser relay)"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "claude-max-api-proxy.md",
      "title": "Claude Max API Proxy"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawhub.md",
      "title": "ClawHub"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "clawnet.md",
      "title": "Clawnet refactor (protocol + auth unification)"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cli-backends.md",
      "title": "CLI åç«¯ï¼ˆå›é€€è¿è¡Œæ—¶ï¼‰"
    },
    {
      "source": "cloudflare-ai-gateway.md",
      "title": "Cloudflare AI Gateway"
    },
    {
      "source": "cloudflare-ai-gateway.md",
      "title": "Cloudflare AI Gateway"
    },
    {
      "source": "cloudflare-ai-gateway.md",
      "title": "Cloudflare AI Gateway"
    },
    {
      "source": "cloudflare-ai-gateway.md",
      "title": "Cloudflare AI Gateway"
    },
    {
      "source": "cloudflare-ai-gateway.md",
      "title": "Cloudflare AI Gateway"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "compaction.md",
      "title": "Context Window & Compaction"
    },
    {
      "source": "config.md",
      "title": "`openclaw config`"
    },
    {
      "source": "config.md",
      "title": "`openclaw config`"
    },
    {
      "source": "config.md",
      "title": "`openclaw config`"
    },
    {
      "source": "config.md",
      "title": "`openclaw config`"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration-examples.md",
      "title": "é…ç½®ç¤ºä¾‹"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configuration.md",
      "title": "é…ç½® ğŸ”§"
    },
    {
      "source": "configure.md",
      "title": "`openclaw configure`"
    },
    {
      "source": "configure.md",
      "title": "`openclaw configure`"
    },
    {
      "source": "configure.md",
      "title": "`openclaw configure`"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "context.md",
      "title": "Context"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "control-ui.md",
      "title": "æ§åˆ¶ UIï¼ˆæµè§ˆå™¨ï¼‰"
    },
    {
      "source": "creating-skills.md",
      "title": "Creating Custom Skills ğŸ› "
    },
    {
      "source": "creating-skills.md",
      "title": "Creating Custom Skills ğŸ› "
    },
    {
      "source": "creating-skills.md",
      "title": "Creating Custom Skills ğŸ› "
    },
    {
      "source": "creating-skills.md",
      "title": "Creating Custom Skills ğŸ› "
    },
    {
      "source": "creating-skills.md",
      "title": "Creating Custom Skills ğŸ› "
    },
    {
      "source": "credits.md",
      "title": "credits"
    },
    {
      "source": "credits.md",
      "title": "credits"
    },
    {
      "source": "credits.md",
      "title": "credits"
    },
    {
      "source": "credits.md",
      "title": "credits"
    },
    {
      "source": "credits.md",
      "title": "credits"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-add-hardening.md",
      "title": "Cron Add Hardening & Schema Alignment"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-jobs.md",
      "title": "Cron jobs (Gateway scheduler)"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron-vs-heartbeat.md",
      "title": "Cron vs Heartbeat: When to Use Each"
    },
    {
      "source": "cron.md",
      "title": "`openclaw cron`"
    },
    {
      "source": "cron.md",
      "title": "`openclaw cron`"
    },
    {
      "source": "dashboard.md",
      "title": "`openclaw dashboard`"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "date-time.md",
      "title": "Date & Time"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "debugging.md",
      "title": "Debugging"
    },
    {
      "source": "deepgram.md",
      "title": "Deepgram (Audio Transcription)"
    },
    {
      "source": "deepgram.md",
      "title": "Deepgram (Audio Transcription)"
    },
    {
      "source": "deepgram.md",
      "title": "Deepgram (Audio Transcription)"
    },
    {
      "source": "deepgram.md",
      "title": "Deepgram (Audio Transcription)"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "dev-setup.md",
      "title": "macOS Developer Setup"
    },
    {
      "source": "development-channels.md",
      "title": "å¼€å‘æ¸ é“"
    },
    {
      "source": "development-channels.md",
      "title": "å¼€å‘æ¸ é“"
    },
    {
      "source": "development-channels.md",
      "title": "å¼€å‘æ¸ é“"
    },
    {
      "source": "development-channels.md",
      "title": "å¼€å‘æ¸ é“"
    },
    {
      "source": "development-channels.md",
      "title": "å¼€å‘æ¸ é“"
    },
    {
      "source": "device-models.md",
      "title": "è®¾å¤‡å‹å·æ•°æ®åº“ï¼ˆå‹å¥½åç§°ï¼‰"
    },
    {
      "source": "device-models.md",
      "title": "è®¾å¤‡å‹å·æ•°æ®åº“ï¼ˆå‹å¥½åç§°ï¼‰"
    },
    {
      "source": "device-models.md",
      "title": "è®¾å¤‡å‹å·æ•°æ®åº“ï¼ˆå‹å¥½åç§°ï¼‰"
    },
    {
      "source": "devices.md",
      "title": "`openclaw devices`"
    },
    {
      "source": "devices.md",
      "title": "`openclaw devices`"
    },
    {
      "source": "devices.md",
      "title": "`openclaw devices`"
    },
    {
      "source": "devices.md",
      "title": "`openclaw devices`"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "digitalocean.md",
      "title": "OpenClaw on DigitalOcean"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "directory.md",
      "title": "`openclaw directory`"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discord.md",
      "title": "Discord (Bot API)"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "discovery.md",
      "title": "è®¾å¤‡å‘ç° & ä¼ è¾“åè®®"
    },
    {
      "source": "dns.md",
      "title": "`openclaw dns`"
    },
    {
      "source": "dns.md",
      "title": "`openclaw dns`"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docker.md",
      "title": "Dockerï¼ˆå¯é€‰ï¼‰"
    },
    {
      "source": "docs-directory.md",
      "title": "docs-directory"
    },
    {
      "source": "docs-directory.md",
      "title": "docs-directory"
    },
    {
      "source": "docs-directory.md",
      "title": "docs-directory"
    },
    {
      "source": "docs-directory.md",
      "title": "docs-directory"
    },
    {
      "source": "docs-directory.md",
      "title": "docs-directory"
    },
    {
      "source": "docs.md",
      "title": "`openclaw docs`"
    },
    {
      "source": "doctor.md",
      "title": "`openclaw doctor`"
    },
    {
      "source": "doctor.md",
      "title": "`openclaw doctor`"
    },
    {
      "source": "doctor.md",
      "title": "`openclaw doctor`"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "elevated.md",
      "title": "Elevated Mode (/elevated directives)"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "environment.md",
      "title": "Environment variables"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exe-dev.md",
      "title": "exe.dev"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-approvals.md",
      "title": "Exec approvals"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec-host.md",
      "title": "Exec host refactor plan"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "exec.md",
      "title": "Exec tool"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "faq.md",
      "title": "å¸¸è§é—®é¢˜"
    },
    {
      "source": "features.md",
      "title": "features"
    },
    {
      "source": "features.md",
      "title": "features"
    },
    {
      "source": "features.md",
      "title": "features"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "feishu.md",
      "title": "Feishu bot"
    },
    {
      "source": "firecrawl.md",
      "title": "Firecrawl"
    },
    {
      "source": "firecrawl.md",
      "title": "Firecrawl"
    },
    {
      "source": "firecrawl.md",
      "title": "Firecrawl"
    },
    {
      "source": "firecrawl.md",
      "title": "Firecrawl"
    },
    {
      "source": "firecrawl.md",
      "title": "Firecrawl"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "flags.md",
      "title": "Diagnostics Flags"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "fly.md",
      "title": "Fly.io éƒ¨ç½²"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "formal-verification.md",
      "title": "Formal Verification (Security Models)"
    },
    {
      "source": "gateway-lock.md",
      "title": "Gateway ç½‘å…³é”"
    },
    {
      "source": "gateway-lock.md",
      "title": "Gateway ç½‘å…³é”"
    },
    {
      "source": "gateway-lock.md",
      "title": "Gateway ç½‘å…³é”"
    },
    {
      "source": "gateway-lock.md",
      "title": "Gateway ç½‘å…³é”"
    },
    {
      "source": "gateway-lock.md",
      "title": "Gateway ç½‘å…³é”"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gateway.md",
      "title": "Gateway CLI"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "gcp.md",
      "title": "åœ¨ GCP Compute Engine ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "getting-started.md",
      "title": "Getting Started"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "github-copilot.md",
      "title": "GitHub Copilot"
    },
    {
      "source": "glm.md",
      "title": "GLM models"
    },
    {
      "source": "glm.md",
      "title": "GLM models"
    },
    {
      "source": "glm.md",
      "title": "GLM models"
    },
    {
      "source": "glm.md",
      "title": "GLM models"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "gmail-pubsub.md",
      "title": "Gmail Pub/Sub -> OpenClaw"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "googlechat.md",
      "title": "Google Chat (Chat API)"
    },
    {
      "source": "grammy.md",
      "title": "grammY Integration (Telegram Bot API)"
    },
    {
      "source": "grammy.md",
      "title": "grammY Integration (Telegram Bot API)"
    },
    {
      "source": "grammy.md",
      "title": "grammY Integration (Telegram Bot API)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-messages.md",
      "title": "Group messages (WhatsApp web channel)"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "group-policy-hardening.md",
      "title": "Telegram Allowlist Hardening"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "groups.md",
      "title": "Groups"
    },
    {
      "source": "health.md",
      "title": "`openclaw health`"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "heartbeat.md",
      "title": "å¿ƒè·³ï¼ˆGateway ç½‘å…³ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hetzner.md",
      "title": "åœ¨ Hetzner ä¸Šè¿è¡Œ OpenClawï¼ˆDockerï¼Œç”Ÿäº§ VPS æŒ‡å—ï¼‰"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hooks.md",
      "title": "`openclaw hooks`"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "hubs.md",
      "title": "Docs hubs"
    },
    {
      "source": "icon.md",
      "title": "Menu Bar Icon States"
    },
    {
      "source": "icon.md",
      "title": "Menu Bar Icon States"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.dev.md",
      "title": "IDENTITY.md - æ™ºèƒ½ä½“èº«ä»½"
    },
    {
      "source": "IDENTITY.md",
      "title": "IDENTITY.md - æˆ‘æ˜¯è°ï¼Ÿ"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "images.md",
      "title": "Image & Media Support â€” 2025-12-05"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "imessage.md",
      "title": "iMessage (legacy: imsg)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "index.md",
      "title": "Tools (OpenClaw)"
    },
    {
      "source": "installer.md",
      "title": "å®‰è£…å™¨å†…éƒ¨æœºåˆ¶"
    },
    {
      "source": "installer.md",
      "title": "å®‰è£…å™¨å†…éƒ¨æœºåˆ¶"
    },
    {
      "source": "installer.md",
      "title": "å®‰è£…å™¨å†…éƒ¨æœºåˆ¶"
    },
    {
      "source": "installer.md",
      "title": "å®‰è£…å™¨å†…éƒ¨æœºåˆ¶"
    },
    {
      "source": "installer.md",
      "title": "å®‰è£…å™¨å†…éƒ¨æœºåˆ¶"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "ios.md",
      "title": "iOS App (Node)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "line.md",
      "title": "LINE (plugin)"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "linux.md",
      "title": "Linux App"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "llm-task.md",
      "title": "LLM Task"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "lobster.md",
      "title": "Lobster"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "local-models.md",
      "title": "æœ¬åœ°æ¨¡å‹"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location-command.md",
      "title": "Location command (nodes)"
    },
    {
      "source": "location.md",
      "title": "Channel location parsing"
    },
    {
      "source": "location.md",
      "title": "Channel location parsing"
    },
    {
      "source": "location.md",
      "title": "Channel location parsing"
    },
    {
      "source": "location.md",
      "title": "Channel location parsing"
    },
    {
      "source": "logging.md",
      "title": "Logging (macOS)"
    },
    {
      "source": "logging.md",
      "title": "Logging (macOS)"
    },
    {
      "source": "logging.md",
      "title": "Logging (macOS)"
    },
    {
      "source": "logging.md",
      "title": "Logging (macOS)"
    },
    {
      "source": "logging.md",
      "title": "Logging (macOS)"
    },
    {
      "source": "logs.md",
      "title": "`openclaw logs`"
    },
    {
      "source": "logs.md",
      "title": "`openclaw logs`"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "lore.md",
      "title": "The Lore of OpenClaw ğŸ¦ğŸ“–"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos-vm.md",
      "title": "åœ¨ macOS è™šæ‹Ÿæœºä¸Šè¿è¡Œ OpenClawï¼ˆæ²™ç®±éš”ç¦»ï¼‰"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "macos.md",
      "title": "OpenClaw macOS Companion (menu bar + gateway broker)"
    },
    {
      "source": "manifest.md",
      "title": "æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰"
    },
    {
      "source": "manifest.md",
      "title": "æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰"
    },
    {
      "source": "manifest.md",
      "title": "æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰"
    },
    {
      "source": "manifest.md",
      "title": "æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰"
    },
    {
      "source": "manifest.md",
      "title": "æ’ä»¶æ¸…å•ï¼ˆopenclaw.plugin.jsonï¼‰"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "markdown-formatting.md",
      "title": "Markdown formatting"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "matrix.md",
      "title": "Matrix (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "mattermost.md",
      "title": "Mattermost (plugin)"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "media-understanding.md",
      "title": "Media Understanding (Inbound) â€” 2026-01-17"
    },
    {
      "source": "memory.md",
      "title": "`openclaw memory`"
    },
    {
      "source": "memory.md",
      "title": "`openclaw memory`"
    },
    {
      "source": "memory.md",
      "title": "`openclaw memory`"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "menu-bar.md",
      "title": "Menu Bar Status Logic"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "message.md",
      "title": "`openclaw message`"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "messages.md",
      "title": "Messages"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "migrating.md",
      "title": "å°† OpenClaw è¿ç§»åˆ°æ–°æœºå™¨"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "minimax.md",
      "title": "MiniMax"
    },
    {
      "source": "model-config.md",
      "title": "Model Config (Exploration)"
    },
    {
      "source": "model-config.md",
      "title": "Model Config (Exploration)"
    },
    {
      "source": "model-config.md",
      "title": "Model Config (Exploration)"
    },
    {
      "source": "model-config.md",
      "title": "Model Config (Exploration)"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-failover.md",
      "title": "Model failover"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "model-providers.md",
      "title": "Model providers"
    },
    {
      "source": "models.md",
      "title": "`openclaw models`"
    },
    {
      "source": "models.md",
      "title": "`openclaw models`"
    },
    {
      "source": "models.md",
      "title": "`openclaw models`"
    },
    {
      "source": "models.md",
      "title": "`openclaw models`"
    },
    {
      "source": "models.md",
      "title": "`openclaw models`"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "moonshot.md",
      "title": "Moonshot AI (Kimi)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "msteams.md",
      "title": "Microsoft Teams (plugin)"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent-sandbox-tools.md",
      "title": "Multi-Agent Sandbox & Tools Configuration"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multi-agent.md",
      "title": "Multi-Agent Routing"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "multiple-gateways.md",
      "title": "å¤š Gateway ç½‘å…³ï¼ˆåŒä¸€ä¸»æœºï¼‰"
    },
    {
      "source": "network-model.md",
      "title": "network-model"
    },
    {
      "source": "network-model.md",
      "title": "network-model"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "network.md",
      "title": "ç½‘ç»œä¸­å¿ƒ"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nextcloud-talk.md",
      "title": "Nextcloud Talk (plugin)"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "nix.md",
      "title": "Nix å®‰è£…"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node-issue.md",
      "title": "Node + tsx \"\\_\\_name is not a function\" crash"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "node.md",
      "title": "`openclaw node`"
    },
    {
      "source": "nodes.md",
      "title": "`openclaw nodes`"
    },
    {
      "source": "nodes.md",
      "title": "`openclaw nodes`"
    },
    {
      "source": "nodes.md",
      "title": "`openclaw nodes`"
    },
    {
      "source": "nodes.md",
      "title": "`openclaw nodes`"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "nostr.md",
      "title": "Nostr"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "oauth.md",
      "title": "OAuth"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "ollama.md",
      "title": "Ollama"
    },
    {
      "source": "onboard.md",
      "title": "`openclaw onboard`"
    },
    {
      "source": "onboard.md",
      "title": "`openclaw onboard`"
    },
    {
      "source": "onboard.md",
      "title": "`openclaw onboard`"
    },
    {
      "source": "onboard.md",
      "title": "`openclaw onboard`"
    },
    {
      "source": "onboarding-config-protocol.md",
      "title": "Onboarding + Config Protocol"
    },
    {
      "source": "onboarding-config-protocol.md",
      "title": "Onboarding + Config Protocol"
    },
    {
      "source": "onboarding-config-protocol.md",
      "title": "Onboarding + Config Protocol"
    },
    {
      "source": "onboarding-config-protocol.md",
      "title": "Onboarding + Config Protocol"
    },
    {
      "source": "onboarding-config-protocol.md",
      "title": "Onboarding + Config Protocol"
    },
    {
      "source": "onboarding.md",
      "title": "Onboarding (macOS App)"
    },
    {
      "source": "onboarding.md",
      "title": "Onboarding (macOS App)"
    },
    {
      "source": "onboarding.md",
      "title": "Onboarding (macOS App)"
    },
    {
      "source": "onboarding.md",
      "title": "Onboarding (macOS App)"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai-http-api.md",
      "title": "OpenAI Chat Completionsï¼ˆHTTPï¼‰"
    },
    {
      "source": "openai.md",
      "title": "OpenAI"
    },
    {
      "source": "openai.md",
      "title": "OpenAI"
    },
    {
      "source": "openai.md",
      "title": "OpenAI"
    },
    {
      "source": "openai.md",
      "title": "OpenAI"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "openclaw.md",
      "title": "Building a personal assistant with OpenClaw"
    },
    {
      "source": "opencode.md",
      "title": "OpenCode Zen"
    },
    {
      "source": "opencode.md",
      "title": "OpenCode Zen"
    },
    {
      "source": "opencode.md",
      "title": "OpenCode Zen"
    },
    {
      "source": "opencode.md",
      "title": "OpenCode Zen"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-gateway.md",
      "title": "OpenResponses Gateway Integration Plan"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openresponses-http-api.md",
      "title": "OpenResponses APIï¼ˆHTTPï¼‰"
    },
    {
      "source": "openrouter.md",
      "title": "OpenRouter"
    },
    {
      "source": "openrouter.md",
      "title": "OpenRouter"
    },
    {
      "source": "openrouter.md",
      "title": "OpenRouter"
    },
    {
      "source": "openrouter.md",
      "title": "OpenRouter"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "oracle.md",
      "title": "OpenClaw on Oracle Cloud (OCI)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "outbound-session-mirroring.md",
      "title": "Outbound Session Mirroring Refactor (Issue #1520)"
    },
    {
      "source": "pairing.md",
      "title": "`openclaw pairing`"
    },
    {
      "source": "pairing.md",
      "title": "`openclaw pairing`"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "peekaboo.md",
      "title": "Peekaboo Bridge (macOS UI automation)"
    },
    {
      "source": "permissions.md",
      "title": "macOS permissions (TCC)"
    },
    {
      "source": "permissions.md",
      "title": "macOS permissions (TCC)"
    },
    {
      "source": "permissions.md",
      "title": "macOS permissions (TCC)"
    },
    {
      "source": "permissions.md",
      "title": "macOS permissions (TCC)"
    },
    {
      "source": "perplexity.md",
      "title": "Perplexity Sonar"
    },
    {
      "source": "perplexity.md",
      "title": "Perplexity Sonar"
    },
    {
      "source": "perplexity.md",
      "title": "Perplexity Sonar"
    },
    {
      "source": "perplexity.md",
      "title": "Perplexity Sonar"
    },
    {
      "source": "perplexity.md",
      "title": "Perplexity Sonar"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi-dev.md",
      "title": "Pi å¼€å‘å·¥ä½œæµç¨‹"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "pi.md",
      "title": "Pi Integration Architecture"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin-sdk.md",
      "title": "Plugin SDK + Runtime Refactor Plan"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugin.md",
      "title": "Plugins (Extensions)"
    },
    {
      "source": "plugins.md",
      "title": "`openclaw plugins`"
    },
    {
      "source": "plugins.md",
      "title": "`openclaw plugins`"
    },
    {
      "source": "plugins.md",
      "title": "`openclaw plugins`"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "poll.md",
      "title": "Polls"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "presence.md",
      "title": "Presence"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "prose.md",
      "title": "OpenProse"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "protocol.md",
      "title": "Gateway ç½‘å…³åè®®ï¼ˆWebSocketï¼‰"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "queue.md",
      "title": "Command Queue (2026-01-16)"
    },
    {
      "source": "quickstart.md",
      "title": "Quick start"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "qwen.md",
      "title": "Qwen"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "raspberry-pi.md",
      "title": "OpenClaw on Raspberry Pi"
    },
    {
      "source": "reactions.md",
      "title": "Reaction tooling"
    },
    {
      "source": "reactions.md",
      "title": "Reaction tooling"
    },
    {
      "source": "README.md",
      "title": "OpenClaw docs i18n assets"
    },
    {
      "source": "README.md",
      "title": "OpenClaw docs i18n assets"
    },
    {
      "source": "README.md",
      "title": "OpenClaw docs i18n assets"
    },
    {
      "source": "README.md",
      "title": "OpenClaw docs i18n assets"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "release.md",
      "title": "OpenClaw macOS release (Sparkle)"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "RELEASING.md",
      "title": "å‘å¸ƒæ¸…å•ï¼ˆnpm + macOSï¼‰"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote-gateway-readme.md",
      "title": "ä½¿ç”¨è¿œç¨‹ Gateway ç½‘å…³è¿è¡Œ OpenClaw.app"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "remote.md",
      "title": "Remote OpenClaw (macOS â‡„ remote host)"
    },
    {
      "source": "reset.md",
      "title": "`openclaw reset`"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "retry.md",
      "title": "Retry policy"
    },
    {
      "source": "rpc.md",
      "title": "RPC é€‚é…å™¨"
    },
    {
      "source": "rpc.md",
      "title": "RPC é€‚é…å™¨"
    },
    {
      "source": "rpc.md",
      "title": "RPC é€‚é…å™¨"
    },
    {
      "source": "rpc.md",
      "title": "RPC é€‚é…å™¨"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox-vs-tool-policy-vs-elevated.md",
      "title": "æ²™ç®± vs å·¥å…·ç­–ç•¥ vs ææƒ"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandbox.md",
      "title": "Sandbox CLI"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "sandboxing.md",
      "title": "æ²™ç®±éš”ç¦»"
    },
    {
      "source": "scripts.md",
      "title": "è„šæœ¬"
    },
    {
      "source": "scripts.md",
      "title": "è„šæœ¬"
    },
    {
      "source": "scripts.md",
      "title": "è„šæœ¬"
    },
    {
      "source": "scripts.md",
      "title": "è„šæœ¬"
    },
    {
      "source": "security.md",
      "title": "`openclaw security`"
    },
    {
      "source": "security.md",
      "title": "`openclaw security`"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-management-compaction.md",
      "title": "ä¼šè¯ç®¡ç†ä¸å‹ç¼©ï¼ˆæ·±å…¥äº†è§£ï¼‰"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-pruning.md",
      "title": "Session Pruning"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session-tool.md",
      "title": "Session Tools"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "session.md",
      "title": "Session Management"
    },
    {
      "source": "sessions.md",
      "title": "`openclaw sessions`"
    },
    {
      "source": "setup.md",
      "title": "`openclaw setup`"
    },
    {
      "source": "setup.md",
      "title": "`openclaw setup`"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "showcase.md",
      "title": "Showcase"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signal.md",
      "title": "Signal (signal-cli)"
    },
    {
      "source": "signing.md",
      "title": "mac signing (debug builds)"
    },
    {
      "source": "signing.md",
      "title": "mac signing (debug builds)"
    },
    {
      "source": "signing.md",
      "title": "mac signing (debug builds)"
    },
    {
      "source": "signing.md",
      "title": "mac signing (debug builds)"
    },
    {
      "source": "signing.md",
      "title": "mac signing (debug builds)"
    },
    {
      "source": "skills-config.md",
      "title": "Skills Config"
    },
    {
      "source": "skills-config.md",
      "title": "Skills Config"
    },
    {
      "source": "skills-config.md",
      "title": "Skills Config"
    },
    {
      "source": "skills-config.md",
      "title": "Skills Config"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "skills.md",
      "title": "Skills (OpenClaw)"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slack.md",
      "title": "Slack"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "slash-commands.md",
      "title": "Slash commands"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "soul-evil.md",
      "title": "SOUL Evil Hook"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.dev.md",
      "title": "SOUL.md - C-3PO çš„çµé­‚"
    },
    {
      "source": "SOUL.md",
      "title": "SOUL.md - ä½ æ˜¯è°"
    },
    {
      "source": "SOUL.md",
      "title": "SOUL.md - ä½ æ˜¯è°"
    },
    {
      "source": "SOUL.md",
      "title": "SOUL.md - ä½ æ˜¯è°"
    },
    {
      "source": "SOUL.md",
      "title": "SOUL.md - ä½ æ˜¯è°"
    },
    {
      "source": "SOUL.md",
      "title": "SOUL.md - ä½ æ˜¯è°"
    },
    {
      "source": "status.md",
      "title": "`openclaw status`"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "streaming.md",
      "title": "Streaming + chunking"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "strict-config.md",
      "title": "Strict config validation (doctor-only migrations)"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "subagents.md",
      "title": "Sub-agents"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-a-pr.md",
      "title": "submitting-a-pr"
    },
    {
      "source": "submitting-an-issue.md",
      "title": "submitting-an-issue"
    },
    {
      "source": "submitting-an-issue.md",
      "title": "submitting-an-issue"
    },
    {
      "source": "submitting-an-issue.md",
      "title": "submitting-an-issue"
    },
    {
      "source": "submitting-an-issue.md",
      "title": "submitting-an-issue"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "synthetic.md",
      "title": "Synthetic"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system-prompt.md",
      "title": "System Prompt"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "system.md",
      "title": "`openclaw system`"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "tailscale.md",
      "title": "Tailscaleï¼ˆGateway ç½‘å…³ä»ªè¡¨ç›˜ï¼‰"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "talk.md",
      "title": "Talk Mode"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "telegram.md",
      "title": "Telegram (Bot API)"
    },
    {
      "source": "test.md",
      "title": "æµ‹è¯•"
    },
    {
      "source": "test.md",
      "title": "æµ‹è¯•"
    },
    {
      "source": "test.md",
      "title": "æµ‹è¯•"
    },
    {
      "source": "test.md",
      "title": "æµ‹è¯•"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "testing.md",
      "title": "Testing"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "thinking.md",
      "title": "Thinking Levels (/think directives)"
    },
    {
      "source": "timezone.md",
      "title": "Timezones"
    },
    {
      "source": "timezone.md",
      "title": "Timezones"
    },
    {
      "source": "timezone.md",
      "title": "Timezones"
    },
    {
      "source": "timezone.md",
      "title": "Timezones"
    },
    {
      "source": "timezone.md",
      "title": "Timezones"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "tlon.md",
      "title": "Tlon (plugin)"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "token-use.md",
      "title": "Token ä½¿ç”¨ä¸æˆæœ¬"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "tools-invoke-http-api.md",
      "title": "å·¥å…·è°ƒç”¨ï¼ˆHTTPï¼‰"
    },
    {
      "source": "TOOLS.dev.md",
      "title": "TOOLS.md - ç”¨æˆ·å·¥å…·å¤‡æ³¨ï¼ˆå¯ç¼–è¾‘ï¼‰"
    },
    {
      "source": "TOOLS.dev.md",
      "title": "TOOLS.md - ç”¨æˆ·å·¥å…·å¤‡æ³¨ï¼ˆå¯ç¼–è¾‘ï¼‰"
    },
    {
      "source": "TOOLS.md",
      "title": "TOOLS.md - æœ¬åœ°å¤‡æ³¨"
    },
    {
      "source": "TOOLS.md",
      "title": "TOOLS.md - æœ¬åœ°å¤‡æ³¨"
    },
    {
      "source": "TOOLS.md",
      "title": "TOOLS.md - æœ¬åœ°å¤‡æ³¨"
    },
    {
      "source": "TOOLS.md",
      "title": "TOOLS.md - æœ¬åœ°å¤‡æ³¨"
    },
    {
      "source": "transcript-hygiene.md",
      "title": "å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰"
    },
    {
      "source": "transcript-hygiene.md",
      "title": "å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰"
    },
    {
      "source": "transcript-hygiene.md",
      "title": "å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰"
    },
    {
      "source": "transcript-hygiene.md",
      "title": "å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰"
    },
    {
      "source": "transcript-hygiene.md",
      "title": "å¯¹è¯è®°å½•æ¸…ç†ï¼ˆæä¾›å•†ä¿®æ­£ï¼‰"
    },
    {
      "source": "troubleshooting.md",
      "title": "Channel troubleshooting"
    },
    {
      "source": "troubleshooting.md",
      "title": "Channel troubleshooting"
    },
    {
      "source": "troubleshooting.md",
      "title": "Channel troubleshooting"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tts.md",
      "title": "Text-to-speech (TTS)"
    },
    {
      "source": "tui.md",
      "title": "`openclaw tui`"
    },
    {
      "source": "tui.md",
      "title": "`openclaw tui`"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "twitch.md",
      "title": "Twitch (plugin)"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typebox.md",
      "title": "TypeBox as protocol source of truth"
    },
    {
      "source": "typing-indicators.md",
      "title": "Typing indicators"
    },
    {
      "source": "typing-indicators.md",
      "title": "Typing indicators"
    },
    {
      "source": "typing-indicators.md",
      "title": "Typing indicators"
    },
    {
      "source": "typing-indicators.md",
      "title": "Typing indicators"
    },
    {
      "source": "typing-indicators.md",
      "title": "Typing indicators"
    },
    {
      "source": "uninstall.md",
      "title": "`openclaw uninstall`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "update.md",
      "title": "`openclaw update`"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "updating.md",
      "title": "æ›´æ–°"
    },
    {
      "source": "usage-tracking.md",
      "title": "Usage tracking"
    },
    {
      "source": "usage-tracking.md",
      "title": "Usage tracking"
    },
    {
      "source": "usage-tracking.md",
      "title": "Usage tracking"
    },
    {
      "source": "usage-tracking.md",
      "title": "Usage tracking"
    },
    {
      "source": "USER.dev.md",
      "title": "USER.md - ç”¨æˆ·æ¡£æ¡ˆ"
    },
    {
      "source": "USER.md",
      "title": "USER.md - å…³äºä½ çš„ç”¨æˆ·"
    },
    {
      "source": "USER.md",
      "title": "USER.md - å…³äºä½ çš„ç”¨æˆ·"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "venice.md",
      "title": "Venice AI (Venice highlight)"
    },
    {
      "source": "vercel-ai-gateway.md",
      "title": "Vercel AI Gateway"
    },
    {
      "source": "vercel-ai-gateway.md",
      "title": "Vercel AI Gateway"
    },
    {
      "source": "vercel-ai-gateway.md",
      "title": "Vercel AI Gateway"
    },
    {
      "source": "vercel-ai-gateway.md",
      "title": "Vercel AI Gateway"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-call.md",
      "title": "Voice Callï¼ˆæ’ä»¶ï¼‰"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voice-overlay.md",
      "title": "Voice Overlay Lifecycle (macOS)"
    },
    {
      "source": "voicecall.md",
      "title": "`openclaw voicecall`"
    },
    {
      "source": "voicecall.md",
      "title": "`openclaw voicecall`"
    },
    {
      "source": "voicecall.md",
      "title": "`openclaw voicecall`"
    },
    {
      "source": "voicewake.md",
      "title": "Voice Wake (Global Wake Words)"
    },
    {
      "source": "voicewake.md",
      "title": "Voice Wake (Global Wake Words)"
    },
    {
      "source": "voicewake.md",
      "title": "Voice Wake (Global Wake Words)"
    },
    {
      "source": "voicewake.md",
      "title": "Voice Wake (Global Wake Words)"
    },
    {
      "source": "vps.md",
      "title": "VPS hosting"
    },
    {
      "source": "vps.md",
      "title": "VPS hosting"
    },
    {
      "source": "vps.md",
      "title": "VPS hosting"
    },
    {
      "source": "vps.md",
      "title": "VPS hosting"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "web.md",
      "title": "Web tools"
    },
    {
      "source": "webchat.md",
      "title": "WebChat (macOS app)"
    },
    {
      "source": "webchat.md",
      "title": "WebChat (macOS app)"
    },
    {
      "source": "webchat.md",
      "title": "WebChat (macOS app)"
    },
    {
      "source": "webchat.md",
      "title": "WebChat (macOS app)"
    },
    {
      "source": "webchat.md",
      "title": "WebChat (macOS app)"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhook.md",
      "title": "Webhooks"
    },
    {
      "source": "webhooks.md",
      "title": "`openclaw webhooks`"
    },
    {
      "source": "webhooks.md",
      "title": "`openclaw webhooks`"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "whatsapp.md",
      "title": "WhatsApp (web channel)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "windows.md",
      "title": "Windows (WSL2)"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-automation.md",
      "title": "CLI Automation"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard-cli-reference.md",
      "title": "CLI Onboarding Reference"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "wizard.md",
      "title": "Onboarding Wizard (CLI)"
    },
    {
      "source": "xiaomi.md",
      "title": "Xiaomi MiMo"
    },
    {
      "source": "xiaomi.md",
      "title": "Xiaomi MiMo"
    },
    {
      "source": "xiaomi.md",
      "title": "Xiaomi MiMo"
    },
    {
      "source": "xiaomi.md",
      "title": "Xiaomi MiMo"
    },
    {
      "source": "xiaomi.md",
      "title": "Xiaomi MiMo"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "xpc.md",
      "title": "OpenClaw macOS IPC architecture"
    },
    {
      "source": "zai.md",
      "title": "Z.AI"
    },
    {
      "source": "zai.md",
      "title": "Z.AI"
    },
    {
      "source": "zai.md",
      "title": "Z.AI"
    },
    {
      "source": "zai.md",
      "title": "Z.AI"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalo.md",
      "title": "Zalo (Bot API)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    },
    {
      "source": "zalouser.md",
      "title": "Zalo Personal (unofficial)"
    }
  ]
}